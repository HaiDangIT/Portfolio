(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(a){if(a.ep)return;a.ep=!0;const r=t(a);fetch(a.href,r)}})();function Mb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hx={exports:{}},ep={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mM;function W9(){if(mM)return ep;mM=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,r){var l=null;if(r!==void 0&&(l=""+r),a.key!==void 0&&(l=""+a.key),"key"in a){r={};for(var u in a)u!=="key"&&(r[u]=a[u])}else r=a;return a=r.ref,{$$typeof:n,type:i,key:l,ref:a!==void 0?a:null,props:r}}return ep.Fragment=e,ep.jsx=t,ep.jsxs=t,ep}var pM;function Z9(){return pM||(pM=1,Hx.exports=W9()),Hx.exports}var _=Z9(),jx={exports:{}},Wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gM;function X9(){if(gM)return Wt;gM=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),d=Symbol.for("react.activity"),p=Symbol.iterator;function b(X){return X===null||typeof X!="object"?null:(X=p&&X[p]||X["@@iterator"],typeof X=="function"?X:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function M(X,ae,Ce){this.props=X,this.context=ae,this.refs=E,this.updater=Ce||C}M.prototype.isReactComponent={},M.prototype.setState=function(X,ae){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,ae,"setState")},M.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function I(){}I.prototype=M.prototype;function B(X,ae,Ce){this.props=X,this.context=ae,this.refs=E,this.updater=Ce||C}var N=B.prototype=new I;N.constructor=B,w(N,M.prototype),N.isPureReactComponent=!0;var P=Array.isArray;function U(){}var F={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function O(X,ae,Ce){var Re=Ce.ref;return{$$typeof:n,type:X,key:ae,ref:Re!==void 0?Re:null,props:Ce}}function H(X,ae){return O(X.type,ae,X.props)}function J(X){return typeof X=="object"&&X!==null&&X.$$typeof===n}function ie(X){var ae={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(Ce){return ae[Ce]})}var oe=/\/+/g;function ge(X,ae){return typeof X=="object"&&X!==null&&X.key!=null?ie(""+X.key):ae.toString(36)}function ce(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(U,U):(X.status="pending",X.then(function(ae){X.status==="pending"&&(X.status="fulfilled",X.value=ae)},function(ae){X.status==="pending"&&(X.status="rejected",X.reason=ae)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function G(X,ae,Ce,Re,Ze){var ve=typeof X;(ve==="undefined"||ve==="boolean")&&(X=null);var we=!1;if(X===null)we=!0;else switch(ve){case"bigint":case"string":case"number":we=!0;break;case"object":switch(X.$$typeof){case n:case e:we=!0;break;case v:return we=X._init,G(we(X._payload),ae,Ce,Re,Ze)}}if(we)return Ze=Ze(X),we=Re===""?"."+ge(X,0):Re,P(Ze)?(Ce="",we!=null&&(Ce=we.replace(oe,"$&/")+"/"),G(Ze,ae,Ce,"",function(at){return at})):Ze!=null&&(J(Ze)&&(Ze=H(Ze,Ce+(Ze.key==null||X&&X.key===Ze.key?"":(""+Ze.key).replace(oe,"$&/")+"/")+we)),ae.push(Ze)),1;we=0;var Ke=Re===""?".":Re+":";if(P(X))for(var it=0;it<X.length;it++)Re=X[it],ve=Ke+ge(Re,it),we+=G(Re,ae,Ce,ve,Ze);else if(it=b(X),typeof it=="function")for(X=it.call(X),it=0;!(Re=X.next()).done;)Re=Re.value,ve=Ke+ge(Re,it++),we+=G(Re,ae,Ce,ve,Ze);else if(ve==="object"){if(typeof X.then=="function")return G(ce(X),ae,Ce,Re,Ze);throw ae=String(X),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return we}function Z(X,ae,Ce){if(X==null)return X;var Re=[],Ze=0;return G(X,Re,"","",function(ve){return ae.call(Ce,ve,Ze++)}),Re}function Q(X){if(X._status===-1){var ae=X._result;ae=ae(),ae.then(function(Ce){(X._status===0||X._status===-1)&&(X._status=1,X._result=Ce)},function(Ce){(X._status===0||X._status===-1)&&(X._status=2,X._result=Ce)}),X._status===-1&&(X._status=0,X._result=ae)}if(X._status===1)return X._result.default;throw X._result}var le=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},ye={map:Z,forEach:function(X,ae,Ce){Z(X,function(){ae.apply(this,arguments)},Ce)},count:function(X){var ae=0;return Z(X,function(){ae++}),ae},toArray:function(X){return Z(X,function(ae){return ae})||[]},only:function(X){if(!J(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return Wt.Activity=d,Wt.Children=ye,Wt.Component=M,Wt.Fragment=t,Wt.Profiler=a,Wt.PureComponent=B,Wt.StrictMode=i,Wt.Suspense=m,Wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Wt.__COMPILER_RUNTIME={__proto__:null,c:function(X){return F.H.useMemoCache(X)}},Wt.cache=function(X){return function(){return X.apply(null,arguments)}},Wt.cacheSignal=function(){return null},Wt.cloneElement=function(X,ae,Ce){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var Re=w({},X.props),Ze=X.key;if(ae!=null)for(ve in ae.key!==void 0&&(Ze=""+ae.key),ae)!j.call(ae,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&ae.ref===void 0||(Re[ve]=ae[ve]);var ve=arguments.length-2;if(ve===1)Re.children=Ce;else if(1<ve){for(var we=Array(ve),Ke=0;Ke<ve;Ke++)we[Ke]=arguments[Ke+2];Re.children=we}return O(X.type,Ze,Re)},Wt.createContext=function(X){return X={$$typeof:l,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:r,_context:X},X},Wt.createElement=function(X,ae,Ce){var Re,Ze={},ve=null;if(ae!=null)for(Re in ae.key!==void 0&&(ve=""+ae.key),ae)j.call(ae,Re)&&Re!=="key"&&Re!=="__self"&&Re!=="__source"&&(Ze[Re]=ae[Re]);var we=arguments.length-2;if(we===1)Ze.children=Ce;else if(1<we){for(var Ke=Array(we),it=0;it<we;it++)Ke[it]=arguments[it+2];Ze.children=Ke}if(X&&X.defaultProps)for(Re in we=X.defaultProps,we)Ze[Re]===void 0&&(Ze[Re]=we[Re]);return O(X,ve,Ze)},Wt.createRef=function(){return{current:null}},Wt.forwardRef=function(X){return{$$typeof:u,render:X}},Wt.isValidElement=J,Wt.lazy=function(X){return{$$typeof:v,_payload:{_status:-1,_result:X},_init:Q}},Wt.memo=function(X,ae){return{$$typeof:g,type:X,compare:ae===void 0?null:ae}},Wt.startTransition=function(X){var ae=F.T,Ce={};F.T=Ce;try{var Re=X(),Ze=F.S;Ze!==null&&Ze(Ce,Re),typeof Re=="object"&&Re!==null&&typeof Re.then=="function"&&Re.then(U,le)}catch(ve){le(ve)}finally{ae!==null&&Ce.types!==null&&(ae.types=Ce.types),F.T=ae}},Wt.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Wt.use=function(X){return F.H.use(X)},Wt.useActionState=function(X,ae,Ce){return F.H.useActionState(X,ae,Ce)},Wt.useCallback=function(X,ae){return F.H.useCallback(X,ae)},Wt.useContext=function(X){return F.H.useContext(X)},Wt.useDebugValue=function(){},Wt.useDeferredValue=function(X,ae){return F.H.useDeferredValue(X,ae)},Wt.useEffect=function(X,ae){return F.H.useEffect(X,ae)},Wt.useEffectEvent=function(X){return F.H.useEffectEvent(X)},Wt.useId=function(){return F.H.useId()},Wt.useImperativeHandle=function(X,ae,Ce){return F.H.useImperativeHandle(X,ae,Ce)},Wt.useInsertionEffect=function(X,ae){return F.H.useInsertionEffect(X,ae)},Wt.useLayoutEffect=function(X,ae){return F.H.useLayoutEffect(X,ae)},Wt.useMemo=function(X,ae){return F.H.useMemo(X,ae)},Wt.useOptimistic=function(X,ae){return F.H.useOptimistic(X,ae)},Wt.useReducer=function(X,ae,Ce){return F.H.useReducer(X,ae,Ce)},Wt.useRef=function(X){return F.H.useRef(X)},Wt.useState=function(X){return F.H.useState(X)},Wt.useSyncExternalStore=function(X,ae,Ce){return F.H.useSyncExternalStore(X,ae,Ce)},Wt.useTransition=function(){return F.H.useTransition()},Wt.version="19.2.0",Wt}var yM;function p0(){return yM||(yM=1,jx.exports=X9()),jx.exports}var Y=p0();const J9=Mb(Y);var Fx={exports:{}},tp={},Gx={exports:{}},zx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vM;function Y9(){return vM||(vM=1,(function(n){function e(G,Z){var Q=G.length;G.push(Z);e:for(;0<Q;){var le=Q-1>>>1,ye=G[le];if(0<a(ye,Z))G[le]=Z,G[Q]=ye,Q=le;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var Z=G[0],Q=G.pop();if(Q!==Z){G[0]=Q;e:for(var le=0,ye=G.length,X=ye>>>1;le<X;){var ae=2*(le+1)-1,Ce=G[ae],Re=ae+1,Ze=G[Re];if(0>a(Ce,Q))Re<ye&&0>a(Ze,Ce)?(G[le]=Ze,G[Re]=Q,le=Re):(G[le]=Ce,G[ae]=Q,le=ae);else if(Re<ye&&0>a(Ze,Q))G[le]=Ze,G[Re]=Q,le=Re;else break e}}return Z}function a(G,Z){var Q=G.sortIndex-Z.sortIndex;return Q!==0?Q:G.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var m=[],g=[],v=1,d=null,p=3,b=!1,C=!1,w=!1,E=!1,M=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function N(G){for(var Z=t(g);Z!==null;){if(Z.callback===null)i(g);else if(Z.startTime<=G)i(g),Z.sortIndex=Z.expirationTime,e(m,Z);else break;Z=t(g)}}function P(G){if(w=!1,N(G),!C)if(t(m)!==null)C=!0,U||(U=!0,ie());else{var Z=t(g);Z!==null&&ce(P,Z.startTime-G)}}var U=!1,F=-1,j=5,O=-1;function H(){return E?!0:!(n.unstable_now()-O<j)}function J(){if(E=!1,U){var G=n.unstable_now();O=G;var Z=!0;try{e:{C=!1,w&&(w=!1,I(F),F=-1),b=!0;var Q=p;try{t:{for(N(G),d=t(m);d!==null&&!(d.expirationTime>G&&H());){var le=d.callback;if(typeof le=="function"){d.callback=null,p=d.priorityLevel;var ye=le(d.expirationTime<=G);if(G=n.unstable_now(),typeof ye=="function"){d.callback=ye,N(G),Z=!0;break t}d===t(m)&&i(m),N(G)}else i(m);d=t(m)}if(d!==null)Z=!0;else{var X=t(g);X!==null&&ce(P,X.startTime-G),Z=!1}}break e}finally{d=null,p=Q,b=!1}Z=void 0}}finally{Z?ie():U=!1}}}var ie;if(typeof B=="function")ie=function(){B(J)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ge=oe.port2;oe.port1.onmessage=J,ie=function(){ge.postMessage(null)}}else ie=function(){M(J,0)};function ce(G,Z){F=M(function(){G(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_next=function(G){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var Q=p;p=Z;try{return G()}finally{p=Q}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(G,Z){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Q=p;p=G;try{return Z()}finally{p=Q}},n.unstable_scheduleCallback=function(G,Z,Q){var le=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?le+Q:le):Q=le,G){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=Q+ye,G={id:v++,callback:Z,priorityLevel:G,startTime:Q,expirationTime:ye,sortIndex:-1},Q>le?(G.sortIndex=Q,e(g,G),t(m)===null&&G===t(g)&&(w?(I(F),F=-1):w=!0,ce(P,Q-le))):(G.sortIndex=ye,e(m,G),C||b||(C=!0,U||(U=!0,ie()))),G},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(G){var Z=p;return function(){var Q=p;p=Z;try{return G.apply(this,arguments)}finally{p=Q}}}})(zx)),zx}var xM;function K9(){return xM||(xM=1,Gx.exports=Y9()),Gx.exports}var Vx={exports:{}},Ua={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _M;function q9(){if(_M)return Ua;_M=1;var n=p0();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function r(m,g,v){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:d==null?null:""+d,children:m,containerInfo:g,implementation:v}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ua.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ua.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return r(m,g,null,v)},Ua.flushSync=function(m){var g=l.T,v=i.p;try{if(l.T=null,i.p=2,m)return m()}finally{l.T=g,i.p=v,i.d.f()}},Ua.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},Ua.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Ua.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,d=u(v,g.crossOrigin),p=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:d,integrity:p,fetchPriority:b}):v==="script"&&i.d.X(m,{crossOrigin:d,integrity:p,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ua.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=u(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},Ua.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,d=u(v,g.crossOrigin);i.d.L(m,v,{crossOrigin:d,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ua.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=u(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},Ua.requestFormReset=function(m){i.d.r(m)},Ua.unstable_batchedUpdates=function(m,g){return m(g)},Ua.useFormState=function(m,g,v){return l.H.useFormState(m,g,v)},Ua.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ua.version="19.2.0",Ua}var bM;function Q9(){if(bM)return Vx.exports;bM=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vx.exports=q9(),Vx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AM;function $9(){if(AM)return tp;AM=1;var n=K9(),e=p0(),t=Q9();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)o+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function r(s){var o=s,f=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(f=o.return),s=o.return;while(s)}return o.tag===3?f:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function m(s){if(r(s)!==s)throw Error(i(188))}function g(s){var o=s.alternate;if(!o){if(o=r(s),o===null)throw Error(i(188));return o!==s?null:s}for(var f=s,y=o;;){var A=f.return;if(A===null)break;var T=A.alternate;if(T===null){if(y=A.return,y!==null){f=y;continue}break}if(A.child===T.child){for(T=A.child;T;){if(T===f)return m(A),s;if(T===y)return m(A),o;T=T.sibling}throw Error(i(188))}if(f.return!==y.return)f=A,y=T;else{for(var L=!1,V=A.child;V;){if(V===f){L=!0,f=A,y=T;break}if(V===y){L=!0,y=A,f=T;break}V=V.sibling}if(!L){for(V=T.child;V;){if(V===f){L=!0,f=T,y=A;break}if(V===y){L=!0,y=T,f=A;break}V=V.sibling}if(!L)throw Error(i(189))}}if(f.alternate!==y)throw Error(i(190))}if(f.tag!==3)throw Error(i(188));return f.stateNode.current===f?s:o}function v(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=v(s),o!==null)return o;s=s.sibling}return null}var d=Object.assign,p=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),B=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function ie(s){return s===null||typeof s!="object"?null:(s=J&&s[J]||s["@@iterator"],typeof s=="function"?s:null)}var oe=Symbol.for("react.client.reference");function ge(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===oe?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case M:return"Profiler";case E:return"StrictMode";case P:return"Suspense";case U:return"SuspenseList";case O:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case C:return"Portal";case B:return s.displayName||"Context";case I:return(s._context.displayName||"Context")+".Consumer";case N:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case F:return o=s.displayName||null,o!==null?o:ge(s.type)||"Memo";case j:o=s._payload,s=s._init;try{return ge(s(o))}catch{}}return null}var ce=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},le=[],ye=-1;function X(s){return{current:s}}function ae(s){0>ye||(s.current=le[ye],le[ye]=null,ye--)}function Ce(s,o){ye++,le[ye]=s.current,s.current=o}var Re=X(null),Ze=X(null),ve=X(null),we=X(null);function Ke(s,o){switch(Ce(ve,o),Ce(Ze,s),Ce(Re,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?US(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=US(o),s=HS(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ae(Re),Ce(Re,s)}function it(){ae(Re),ae(Ze),ae(ve)}function at(s){s.memoizedState!==null&&Ce(we,s);var o=Re.current,f=HS(o,s.type);o!==f&&(Ce(Ze,s),Ce(Re,f))}function ht(s){Ze.current===s&&(ae(Re),ae(Ze)),we.current===s&&(ae(we),Km._currentValue=Q)}var kt,$;function Pe(s){if(kt===void 0)try{throw Error()}catch(f){var o=f.stack.trim().match(/\n( *(at )?)/);kt=o&&o[1]||"",$=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kt+s+$}var Ne=!1;function Le(s,o){if(!s||Ne)return"";Ne=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(o){var Fe=function(){throw Error()};if(Object.defineProperty(Fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Fe,[])}catch(Ee){var Ae=Ee}Reflect.construct(s,[],Fe)}else{try{Fe.call()}catch(Ee){Ae=Ee}s.call(Fe.prototype)}}else{try{throw Error()}catch(Ee){Ae=Ee}(Fe=s())&&typeof Fe.catch=="function"&&Fe.catch(function(){})}}catch(Ee){if(Ee&&Ae&&typeof Ee.stack=="string")return[Ee.stack,Ae.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=y.DetermineComponentFrameRoot(),L=T[0],V=T[1];if(L&&V){var te=L.split(`
`),_e=V.split(`
`);for(A=y=0;y<te.length&&!te[y].includes("DetermineComponentFrameRoot");)y++;for(;A<_e.length&&!_e[A].includes("DetermineComponentFrameRoot");)A++;if(y===te.length||A===_e.length)for(y=te.length-1,A=_e.length-1;1<=y&&0<=A&&te[y]!==_e[A];)A--;for(;1<=y&&0<=A;y--,A--)if(te[y]!==_e[A]){if(y!==1||A!==1)do if(y--,A--,0>A||te[y]!==_e[A]){var De=`
`+te[y].replace(" at new "," at ");return s.displayName&&De.includes("<anonymous>")&&(De=De.replace("<anonymous>",s.displayName)),De}while(1<=y&&0<=A);break}}}finally{Ne=!1,Error.prepareStackTrace=f}return(f=s?s.displayName||s.name:"")?Pe(f):""}function Be(s,o){switch(s.tag){case 26:case 27:case 5:return Pe(s.type);case 16:return Pe("Lazy");case 13:return s.child!==o&&o!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return Le(s.type,!1);case 11:return Le(s.type.render,!1);case 1:return Le(s.type,!0);case 31:return Pe("Activity");default:return""}}function $e(s){try{var o="",f=null;do o+=Be(s,f),f=s,s=s.return;while(s);return o}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var ke=Object.prototype.hasOwnProperty,Je=n.unstable_scheduleCallback,Rt=n.unstable_cancelCallback,Lt=n.unstable_shouldYield,q=n.unstable_requestPaint,z=n.unstable_now,me=n.unstable_getCurrentPriorityLevel,Te=n.unstable_ImmediatePriority,He=n.unstable_UserBlockingPriority,Ie=n.unstable_NormalPriority,_t=n.unstable_LowPriority,et=n.unstable_IdlePriority,yt=n.log,vt=n.unstable_setDisableYieldValue,Ve=null,qe=null;function At(s){if(typeof yt=="function"&&vt(s),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Ve,s)}catch{}}var ut=Math.clz32?Math.clz32:se,st=Math.log,jt=Math.LN2;function se(s){return s>>>=0,s===0?32:31-(st(s)/jt|0)|0}var Ye=256,tt=262144,dt=4194304;function We(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function je(s,o,f){var y=s.pendingLanes;if(y===0)return 0;var A=0,T=s.suspendedLanes,L=s.pingedLanes;s=s.warmLanes;var V=y&134217727;return V!==0?(y=V&~T,y!==0?A=We(y):(L&=V,L!==0?A=We(L):f||(f=V&~s,f!==0&&(A=We(f))))):(V=y&~T,V!==0?A=We(V):L!==0?A=We(L):f||(f=y&~s,f!==0&&(A=We(f)))),A===0?0:o!==0&&o!==A&&(o&T)===0&&(T=A&-A,f=o&-o,T>=f||T===32&&(f&4194048)!==0)?o:A}function mt(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Pt(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yn(){var s=dt;return dt<<=1,(dt&62914560)===0&&(dt=4194304),s}function sn(s){for(var o=[],f=0;31>f;f++)o.push(s);return o}function $i(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Xa(s,o,f,y,A,T){var L=s.pendingLanes;s.pendingLanes=f,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=f,s.entangledLanes&=f,s.errorRecoveryDisabledLanes&=f,s.shellSuspendCounter=0;var V=s.entanglements,te=s.expirationTimes,_e=s.hiddenUpdates;for(f=L&~f;0<f;){var De=31-ut(f),Fe=1<<De;V[De]=0,te[De]=-1;var Ae=_e[De];if(Ae!==null)for(_e[De]=null,De=0;De<Ae.length;De++){var Ee=Ae[De];Ee!==null&&(Ee.lane&=-536870913)}f&=~Fe}y!==0&&rc(s,y,0),T!==0&&A===0&&s.tag!==0&&(s.suspendedLanes|=T&~(L&~o))}function rc(s,o,f){s.pendingLanes|=o,s.suspendedLanes&=~o;var y=31-ut(o);s.entangledLanes|=o,s.entanglements[y]=s.entanglements[y]|1073741824|f&261930}function xs(s,o){var f=s.entangledLanes|=o;for(s=s.entanglements;f;){var y=31-ut(f),A=1<<y;A&o|s[y]&o&&(s[y]|=o),f&=~A}}function mo(s,o){var f=o&-o;return f=(f&42)!==0?1:Ja(f),(f&(s.suspendedLanes|o))!==0?0:f}function Ja(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function sl(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ca(){var s=Z.p;return s!==0?s:(s=window.event,s===void 0?32:oM(s.type))}function Ya(s,o){var f=Z.p;try{return Z.p=s,o()}finally{Z.p=f}}var ea=Math.random().toString(36).slice(2),Kt="__reactFiber$"+ea,Mi="__reactProps$"+ea,Qs="__reactContainer$"+ea,oc="__reactEvents$"+ea,of="__reactListeners$"+ea,R0="__reactHandles$"+ea,lc="__reactResources$"+ea,Dr="__reactMarker$"+ea;function W(s){delete s[Kt],delete s[Mi],delete s[oc],delete s[of],delete s[R0]}function re(s){var o=s[Kt];if(o)return o;for(var f=s.parentNode;f;){if(o=f[Qs]||f[Kt]){if(f=o.alternate,o.child!==null||f!==null&&f.child!==null)for(s=WS(s);s!==null;){if(f=s[Kt])return f;s=WS(s)}return o}s=f,f=s.parentNode}return null}function pe(s){if(s=s[Kt]||s[Qs]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function Se(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function ue(s){var o=s[lc];return o||(o=s[lc]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ge(s){s[Dr]=!0}var nt=new Set,pt={};function rt(s,o){Mt(s,o),Mt(s+"Capture",o)}function Mt(s,o){for(pt[s]=o,s=0;s<o.length;s++)nt.add(o[s])}var Dt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Et={},qt={};function Cn(s){return ke.call(qt,s)?!0:ke.call(Et,s)?!1:Dt.test(s)?qt[s]=!0:(Et[s]=!0,!1)}function Pn(s,o,f){if(Cn(o))if(f===null)s.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var y=o.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+f)}}function En(s,o,f){if(f===null)s.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+f)}}function $t(s,o,f,y){if(y===null)s.removeAttribute(f);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(f);return}s.setAttributeNS(o,f,""+y)}}function gt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Gn(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function cn(s,o,f){var y=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var A=y.get,T=y.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return A.call(this)},set:function(L){f=""+L,T.call(this,L)}}),Object.defineProperty(s,o,{enumerable:y.enumerable}),{getValue:function(){return f},setValue:function(L){f=""+L},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Ni(s){if(!s._valueTracker){var o=Gn(s)?"checked":"value";s._valueTracker=cn(s,o,""+s[o])}}function $s(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var f=o.getValue(),y="";return s&&(y=Gn(s)?s.checked?"true":"false":s.value),s=y,s!==f?(o.setValue(s),!0):!1}function gi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var po=/[\n"\\]/g;function rn(s){return s.replace(po,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Gi(s,o,f,y,A,T,L,V){s.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?s.type=L:s.removeAttribute("type"),o!=null?L==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+gt(o)):s.value!==""+gt(o)&&(s.value=""+gt(o)):L!=="submit"&&L!=="reset"||s.removeAttribute("value"),o!=null?yi(s,L,gt(o)):f!=null?yi(s,L,gt(f)):y!=null&&s.removeAttribute("value"),A==null&&T!=null&&(s.defaultChecked=!!T),A!=null&&(s.checked=A&&typeof A!="function"&&typeof A!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?s.name=""+gt(V):s.removeAttribute("name")}function ta(s,o,f,y,A,T,L,V){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.type=T),o!=null||f!=null){if(!(T!=="submit"&&T!=="reset"||o!=null)){Ni(s);return}f=f!=null?""+gt(f):"",o=o!=null?""+gt(o):f,V||o===s.value||(s.value=o),s.defaultValue=o}y=y??A,y=typeof y!="function"&&typeof y!="symbol"&&!!y,s.checked=V?s.checked:!!y,s.defaultChecked=!!y,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(s.name=L),Ni(s)}function yi(s,o,f){o==="number"&&gi(s.ownerDocument)===s||s.defaultValue===""+f||(s.defaultValue=""+f)}function li(s,o,f,y){if(s=s.options,o){o={};for(var A=0;A<f.length;A++)o["$"+f[A]]=!0;for(f=0;f<s.length;f++)A=o.hasOwnProperty("$"+s[f].value),s[f].selected!==A&&(s[f].selected=A),A&&y&&(s[f].defaultSelected=!0)}else{for(f=""+gt(f),o=null,A=0;A<s.length;A++){if(s[A].value===f){s[A].selected=!0,y&&(s[A].defaultSelected=!0);return}o!==null||s[A].disabled||(o=s[A])}o!==null&&(o.selected=!0)}}function rl(s,o,f){if(o!=null&&(o=""+gt(o),o!==s.value&&(s.value=o),f==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=f!=null?""+gt(f):""}function ma(s,o,f,y){if(o==null){if(y!=null){if(f!=null)throw Error(i(92));if(ce(y)){if(1<y.length)throw Error(i(93));y=y[0]}f=y}f==null&&(f=""),o=f}f=gt(o),s.defaultValue=f,y=s.textContent,y===f&&y!==""&&y!==null&&(s.value=y),Ni(s)}function ol(s,o){if(o){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=o;return}}s.textContent=o}var lf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Au(s,o,f){var y=o.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?y?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":y?s.setProperty(o,f):typeof f!="number"||f===0||lf.has(o)?o==="float"?s.cssFloat=f:s[o]=(""+f).trim():s[o]=f+"px"}function I0(s,o,f){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,f!=null){for(var y in f)!f.hasOwnProperty(y)||o!=null&&o.hasOwnProperty(y)||(y.indexOf("--")===0?s.setProperty(y,""):y==="float"?s.cssFloat="":s[y]="");for(var A in o)y=o[A],o.hasOwnProperty(A)&&f[A]!==y&&Au(s,A,y)}else for(var T in o)o.hasOwnProperty(T)&&Au(s,T,o[T])}function Su(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ig=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mu(s){return Ig.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function er(){}var Cu=null;function cf(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ll=null,go=null;function B0(s){var o=pe(s);if(o&&(s=o.stateNode)){var f=s[Mi]||null;e:switch(s=o.stateNode,o.type){case"input":if(Gi(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),o=f.name,f.type==="radio"&&o!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+rn(""+o)+'"][type="radio"]'),o=0;o<f.length;o++){var y=f[o];if(y!==s&&y.form===s.form){var A=y[Mi]||null;if(!A)throw Error(i(90));Gi(y,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(o=0;o<f.length;o++)y=f[o],y.form===s.form&&$s(y)}break e;case"textarea":rl(s,f.value,f.defaultValue);break e;case"select":o=f.value,o!=null&&li(s,!!f.multiple,o,!1)}}}var uf=!1;function D0(s,o,f){if(uf)return s(o,f);uf=!0;try{var y=s(o);return y}finally{if(uf=!1,(ll!==null||go!==null)&&(k(),ll&&(o=ll,s=go,go=ll=null,B0(o),s)))for(o=0;o<s.length;o++)B0(s[o])}}function cl(s,o){var f=s.stateNode;if(f===null)return null;var y=f[Mi]||null;if(y===null)return null;f=y[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(s=s.type,y=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!y;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(i(231,o,typeof f));return f}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hf=!1;if(tr)try{var Eu={};Object.defineProperty(Eu,"passive",{get:function(){hf=!0}}),window.addEventListener("test",Eu,Eu),window.removeEventListener("test",Eu,Eu)}catch{hf=!1}var yo=null,ff=null,vo=null;function df(){if(vo)return vo;var s,o=ff,f=o.length,y,A="value"in yo?yo.value:yo.textContent,T=A.length;for(s=0;s<f&&o[s]===A[s];s++);var L=f-s;for(y=1;y<=L&&o[f-y]===A[T-y];y++);return vo=A.slice(s,1<y?1-y:void 0)}function ul(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Tu(){return!0}function N0(){return!1}function na(s){function o(f,y,A,T,L){this._reactName=f,this._targetInst=A,this.type=y,this.nativeEvent=T,this.target=L,this.currentTarget=null;for(var V in s)s.hasOwnProperty(V)&&(f=s[V],this[V]=f?f(T):T[V]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Tu:N0,this.isPropagationStopped=N0,this}return d(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Tu)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Tu)},persist:function(){},isPersistent:Tu}),o}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wu=na(xo),Ns=d({},xo,{view:0,detail:0}),mf=na(Ns),pf,Ru,cc,Iu=d({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Du,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==cc&&(cc&&s.type==="mousemove"?(pf=s.screenX-cc.screenX,Ru=s.screenY-cc.screenY):Ru=pf=0,cc=s),pf)},movementY:function(s){return"movementY"in s?s.movementY:Ru}}),Bg=na(Iu),zi=d({},Iu,{dataTransfer:0}),Dg=na(zi),Ng=d({},Ns,{relatedTarget:0}),gf=na(Ng),Lg=d({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),Og=na(Lg),Bu=d({},xo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),L0=na(Bu),Pg=d({},xo,{data:0}),O0=na(Pg),Ug={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hg(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=U0[s])?!!o[s]:!1}function Du(){return Hg}var H0=d({},Ns,{key:function(s){if(s.key){var o=Ug[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ul(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?P0[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Du,charCode:function(s){return s.type==="keypress"?ul(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ul(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),j0=na(H0),jg=d({},Iu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yf=na(jg),Fg=d({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Du}),Nr=na(Fg),F0=d({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ix=na(F0),Gg=d({},Iu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),_o=na(Gg),Lr=d({},xo,{newState:0,oldState:0}),G0=na(Lr),z0=[9,13,27,32],hl=tr&&"CompositionEvent"in window,bo=null;tr&&"documentMode"in document&&(bo=document.documentMode);var fl=tr&&"TextEvent"in window&&!bo,Vi=tr&&(!hl||bo&&8<bo&&11>=bo),Nu=" ",V0=!1;function vf(s,o){switch(s){case"keyup":return z0.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uc(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ao=!1;function xf(s,o){switch(s){case"compositionend":return uc(o);case"keypress":return o.which!==32?null:(V0=!0,Nu);case"textInput":return s=o.data,s===Nu&&V0?null:s;default:return null}}function zg(s,o){if(Ao)return s==="compositionend"||!hl&&vf(s,o)?(s=df(),vo=ff=yo=null,Ao=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Vi&&o.locale!=="ko"?null:o.data;default:return null}}var Ka={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k0(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Ka[s.type]:o==="textarea"}function _f(s,o,f,y){ll?go?go.push(y):go=[y]:ll=y,o=N1(o,"onChange"),0<o.length&&(f=new wu("onChange","change",null,f,y),s.push({event:f,listeners:o}))}var hc=null,fc=null;function W0(s){BS(s,0)}function dc(s){var o=Se(s);if($s(o))return s}function Z0(s,o){if(s==="change")return o}var Lu=!1;if(tr){var dl;if(tr){var Zn="oninput"in document;if(!Zn){var Vg=document.createElement("div");Vg.setAttribute("oninput","return;"),Zn=typeof Vg.oninput=="function"}dl=Zn}else dl=!1;Lu=dl&&(!document.documentMode||9<document.documentMode)}function kg(){hc&&(hc.detachEvent("onpropertychange",X0),fc=hc=null)}function X0(s){if(s.propertyName==="value"&&dc(fc)){var o=[];_f(o,fc,s,cf(s)),D0(W0,o)}}function Ou(s,o,f){s==="focusin"?(kg(),hc=o,fc=f,hc.attachEvent("onpropertychange",X0)):s==="focusout"&&kg()}function So(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return dc(fc)}function Wg(s,o){if(s==="click")return dc(o)}function Zg(s,o){if(s==="input"||s==="change")return dc(o)}function ml(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Xn=typeof Object.is=="function"?Object.is:ml;function mc(s,o){if(Xn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var f=Object.keys(s),y=Object.keys(o);if(f.length!==y.length)return!1;for(y=0;y<f.length;y++){var A=f[y];if(!ke.call(o,A)||!Xn(s[A],o[A]))return!1}return!0}function J0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Y0(s,o){var f=J0(s);s=0;for(var y;f;){if(f.nodeType===3){if(y=s+f.textContent.length,s<=o&&y>=o)return{node:f,offset:o-s};s=y}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=J0(f)}}function bf(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?bf(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Af(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=gi(s.document);o instanceof s.HTMLIFrameElement;){try{var f=typeof o.contentWindow.location.href=="string"}catch{f=!1}if(f)s=o.contentWindow;else break;o=gi(s.document)}return o}function pc(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var Xg=tr&&"documentMode"in document&&11>=document.documentMode,gc=null,Sf=null,yc=null,qa=!1;function Mf(s,o,f){var y=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;qa||gc==null||gc!==gi(y)||(y=gc,"selectionStart"in y&&pc(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),yc&&mc(yc,y)||(yc=y,y=N1(Sf,"onSelect"),0<y.length&&(o=new wu("onSelect","select",null,o,f),s.push({event:o,listeners:y}),o.target=gc)))}function Mo(s,o){var f={};return f[s.toLowerCase()]=o.toLowerCase(),f["Webkit"+s]="webkit"+o,f["Moz"+s]="moz"+o,f}var vc={animationend:Mo("Animation","AnimationEnd"),animationiteration:Mo("Animation","AnimationIteration"),animationstart:Mo("Animation","AnimationStart"),transitionrun:Mo("Transition","TransitionRun"),transitionstart:Mo("Transition","TransitionStart"),transitioncancel:Mo("Transition","TransitionCancel"),transitionend:Mo("Transition","TransitionEnd")},Pu={},pa={};tr&&(pa=document.createElement("div").style,"AnimationEvent"in window||(delete vc.animationend.animation,delete vc.animationiteration.animation,delete vc.animationstart.animation),"TransitionEvent"in window||delete vc.transitionend.transition);function Co(s){if(Pu[s])return Pu[s];if(!vc[s])return s;var o=vc[s],f;for(f in o)if(o.hasOwnProperty(f)&&f in pa)return Pu[s]=o[f];return s}var Ea=Co("animationend"),K0=Co("animationiteration"),nr=Co("animationstart"),xc=Co("transitionrun"),Eo=Co("transitionstart"),q0=Co("transitioncancel"),Cf=Co("transitionend"),Or=new Map,Ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ef.push("scrollEnd");function ia(s,o){Or.set(s,o),rt(o,[s])}var To=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Li=[],pl=0,Tf=0;function wo(){for(var s=pl,o=Tf=pl=0;o<s;){var f=Li[o];Li[o++]=null;var y=Li[o];Li[o++]=null;var A=Li[o];Li[o++]=null;var T=Li[o];if(Li[o++]=null,y!==null&&A!==null){var L=y.pending;L===null?A.next=A:(A.next=L.next,L.next=A),y.pending=A}T!==0&&wf(f,A,T)}}function Uu(s,o,f,y){Li[pl++]=s,Li[pl++]=o,Li[pl++]=f,Li[pl++]=y,Tf|=y,s.lanes|=y,s=s.alternate,s!==null&&(s.lanes|=y)}function _c(s,o,f,y){return Uu(s,o,f,y),bc(s)}function Ro(s,o){return Uu(s,null,null,o),bc(s)}function wf(s,o,f){s.lanes|=f;var y=s.alternate;y!==null&&(y.lanes|=f);for(var A=!1,T=s.return;T!==null;)T.childLanes|=f,y=T.alternate,y!==null&&(y.childLanes|=f),T.tag===22&&(s=T.stateNode,s===null||s._visibility&1||(A=!0)),s=T,T=T.return;return s.tag===3?(T=s.stateNode,A&&o!==null&&(A=31-ut(f),s=T.hiddenUpdates,y=s[A],y===null?s[A]=[o]:y.push(o),o.lane=f|536870912),T):null}function bc(s){if(50<Dl)throw Dl=0,Nl=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var Io={};function Jg(s,o,f,y){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ga(s,o,f,y){return new Jg(s,o,f,y)}function ya(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ir(s,o){var f=s.alternate;return f===null?(f=ga(s.tag,o,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=o,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&65011712,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,o=s.dependencies,f.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f.refCleanup=s.refCleanup,f}function aa(s,o){s.flags&=65011714;var f=s.alternate;return f===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=f.childLanes,s.lanes=f.lanes,s.child=f.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=f.memoizedProps,s.memoizedState=f.memoizedState,s.updateQueue=f.updateQueue,s.type=f.type,o=f.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Hu(s,o,f,y,A,T){var L=0;if(y=s,typeof s=="function")ya(s)&&(L=1);else if(typeof s=="string")L=N9(s,f,Re.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case O:return s=ga(31,f,o,A),s.elementType=O,s.lanes=T,s;case w:return Pr(f.children,A,T,o);case E:L=8,A|=24;break;case M:return s=ga(12,f,o,A|2),s.elementType=M,s.lanes=T,s;case P:return s=ga(13,f,o,A),s.elementType=P,s.lanes=T,s;case U:return s=ga(19,f,o,A),s.elementType=U,s.lanes=T,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case B:L=10;break e;case I:L=9;break e;case N:L=11;break e;case F:L=14;break e;case j:L=16,y=null;break e}L=29,f=Error(i(130,s===null?"null":typeof s,"")),y=null}return o=ga(L,f,o,A),o.elementType=s,o.type=y,o.lanes=T,o}function Pr(s,o,f,y){return s=ga(7,s,y,o),s.lanes=f,s}function Rf(s,o,f){return s=ga(6,s,null,o),s.lanes=f,s}function Yg(s){var o=ga(18,null,null,0);return o.stateNode=s,o}function Ls(s,o,f){return o=ga(4,s.children!==null?s.children:[],s.key,o),o.lanes=f,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var Q0=new WeakMap;function Ta(s,o){if(typeof s=="object"&&s!==null){var f=Q0.get(s);return f!==void 0?f:(o={value:s,source:o,stack:$e(o)},Q0.set(s,o),o)}return{value:s,source:o,stack:$e(o)}}var Os=[],gl=0,ju=null,Ac=0,Qa=[],wa=0,ar=null,sr=1,rr="";function Ur(s,o){Os[gl++]=Ac,Os[gl++]=ju,ju=s,Ac=o}function $0(s,o,f){Qa[wa++]=sr,Qa[wa++]=rr,Qa[wa++]=ar,ar=s;var y=sr;s=rr;var A=32-ut(y)-1;y&=~(1<<A),f+=1;var T=32-ut(o)+A;if(30<T){var L=A-A%5;T=(y&(1<<L)-1).toString(32),y>>=L,A-=L,sr=1<<32-ut(o)+A|f<<A|y,rr=T+s}else sr=1<<T|f<<A|y,rr=s}function If(s){s.return!==null&&(Ur(s,1),$0(s,1,0))}function Bo(s){for(;s===ju;)ju=Os[--gl],Os[gl]=null,Ac=Os[--gl],Os[gl]=null;for(;s===ar;)ar=Qa[--wa],Qa[wa]=null,rr=Qa[--wa],Qa[wa]=null,sr=Qa[--wa],Qa[wa]=null}function Fu(s,o){Qa[wa++]=sr,Qa[wa++]=rr,Qa[wa++]=ar,sr=o.id,rr=o.overflow,ar=s}var Oi=null,zn=null,un=!1,Hr=null,Pi=!1,Bf=Error(i(519));function on(s){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gu(Ta(o,s)),Bf}function Df(s){var o=s.stateNode,f=s.type,y=s.memoizedProps;switch(o[Kt]=s,o[Mi]=y,f){case"dialog":hn("cancel",o),hn("close",o);break;case"iframe":case"object":case"embed":hn("load",o);break;case"video":case"audio":for(f=0;f<Wm.length;f++)hn(Wm[f],o);break;case"source":hn("error",o);break;case"img":case"image":case"link":hn("error",o),hn("load",o);break;case"details":hn("toggle",o);break;case"input":hn("invalid",o),ta(o,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":hn("invalid",o);break;case"textarea":hn("invalid",o),ma(o,y.value,y.defaultValue,y.children)}f=y.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||o.textContent===""+f||y.suppressHydrationWarning===!0||OS(o.textContent,f)?(y.popover!=null&&(hn("beforetoggle",o),hn("toggle",o)),y.onScroll!=null&&hn("scroll",o),y.onScrollEnd!=null&&hn("scrollend",o),y.onClick!=null&&(o.onclick=er),o=!0):o=!1,o||on(s,!0)}function Kg(s){for(Oi=s.return;Oi;)switch(Oi.tag){case 5:case 31:case 13:Pi=!1;return;case 27:case 3:Pi=!0;return;default:Oi=Oi.return}}function yl(s){if(s!==Oi)return!1;if(!un)return Kg(s),un=!0,!1;var o=s.tag,f;if((f=o!==3&&o!==27)&&((f=o===5)&&(f=s.type,f=!(f!=="form"&&f!=="button")||Sx(s.type,s.memoizedProps)),f=!f),f&&zn&&on(s),Kg(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));zn=kS(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));zn=kS(s)}else o===27?(o=zn,Gc(s.type)?(s=wx,wx=null,zn=s):zn=o):zn=Oi?yr(s.stateNode.nextSibling):null;return!0}function vl(){zn=Oi=null,un=!1}function em(){var s=Hr;return s!==null&&(ua===null?ua=s:ua.push.apply(ua,s),Hr=null),s}function Gu(s){Hr===null?Hr=[s]:Hr.push(s)}var tm=X(null),jr=null,sa=null;function Fr(s,o,f){Ce(tm,o._currentValue),o._currentValue=f}function _s(s){s._currentValue=tm.current,ae(tm)}function Gr(s,o,f){for(;s!==null;){var y=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,y!==null&&(y.childLanes|=o)):y!==null&&(y.childLanes&o)!==o&&(y.childLanes|=o),s===f)break;s=s.return}}function Nf(s,o,f,y){var A=s.child;for(A!==null&&(A.return=s);A!==null;){var T=A.dependencies;if(T!==null){var L=A.child;T=T.firstContext;e:for(;T!==null;){var V=T;T=A;for(var te=0;te<o.length;te++)if(V.context===o[te]){T.lanes|=f,V=T.alternate,V!==null&&(V.lanes|=f),Gr(T.return,f,s),y||(L=null);break e}T=V.next}}else if(A.tag===18){if(L=A.return,L===null)throw Error(i(341));L.lanes|=f,T=L.alternate,T!==null&&(T.lanes|=f),Gr(L,f,s),L=null}else L=A.child;if(L!==null)L.return=A;else for(L=A;L!==null;){if(L===s){L=null;break}if(A=L.sibling,A!==null){A.return=L.return,L=A;break}L=L.return}A=L}}function Do(s,o,f,y){s=null;for(var A=o,T=!1;A!==null;){if(!T){if((A.flags&524288)!==0)T=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var L=A.alternate;if(L===null)throw Error(i(387));if(L=L.memoizedProps,L!==null){var V=A.type;Xn(A.pendingProps.value,L.value)||(s!==null?s.push(V):s=[V])}}else if(A===we.current){if(L=A.alternate,L===null)throw Error(i(387));L.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(s!==null?s.push(Km):s=[Km])}A=A.return}s!==null&&Nf(o,s,f,y),o.flags|=262144}function Sc(s){for(s=s.firstContext;s!==null;){if(!Xn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function xl(s){jr=s,sa=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ui(s){return nm(jr,s)}function zu(s,o){return jr===null&&xl(s),nm(s,o)}function nm(s,o){var f=o._currentValue;if(o={context:o,memoizedValue:f,next:null},sa===null){if(s===null)throw Error(i(308));sa=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else sa=sa.next=o;return f}var qg=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(f,y){s.push(y)}};this.abort=function(){o.aborted=!0,s.forEach(function(f){return f()})}},Qg=n.unstable_scheduleCallback,im=n.unstable_NormalPriority,Tt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function am(){return{controller:new qg,data:new Map,refCount:0}}function ki(s){s.refCount--,s.refCount===0&&Qg(im,function(){s.controller.abort()})}var _l=null,sm=0,zr=0,Ps=null;function Mc(s,o){if(_l===null){var f=_l=[];sm=0,zr=mx(),Ps={status:"pending",value:void 0,then:function(y){f.push(y)}}}return sm++,o.then(rm,rm),o}function rm(){if(--sm===0&&_l!==null){Ps!==null&&(Ps.status="fulfilled");var s=_l;_l=null,zr=0,Ps=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function om(s,o){var f=[],y={status:"pending",value:null,reason:null,then:function(A){f.push(A)}};return s.then(function(){y.status="fulfilled",y.value=o;for(var A=0;A<f.length;A++)(0,f[A])(o)},function(A){for(y.status="rejected",y.reason=A,A=0;A<f.length;A++)(0,f[A])(void 0)}),y}var $g=G.S;G.S=function(s,o){Hc=z(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&Mc(s,o),$g!==null&&$g(s,o)};var No=X(null);function or(){var s=No.current;return s!==null?s:Bn.pooledCache}function Cc(s,o){o===null?Ce(No,No.current):Ce(No,o.pool)}function Lf(){var s=or();return s===null?null:{parent:Tt._currentValue,pool:s}}var Lo=Error(i(460)),Vu=Error(i(474)),Us=Error(i(542)),ku={then:function(){}};function e1(s){return s=s.status,s==="fulfilled"||s==="rejected"}function lm(s,o,f){switch(f=s[f],f===void 0?s.push(o):f!==o&&(o.then(er,er),o=f),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,cm(s),s;default:if(typeof o.status=="string")o.then(er,er);else{if(s=Bn,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(y){if(o.status==="pending"){var A=o;A.status="fulfilled",A.value=y}},function(y){if(o.status==="pending"){var A=o;A.status="rejected",A.reason=y}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,cm(s),s}throw Bt=o,Lo}}function bl(s){try{var o=s._init;return o(s._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(Bt=f,Lo):f}}var Bt=null;function Of(){if(Bt===null)throw Error(i(459));var s=Bt;return Bt=null,s}function cm(s){if(s===Lo||s===Us)throw Error(i(483))}var Oo=null,Po=0;function Pf(s){var o=Po;return Po+=1,Oo===null&&(Oo=[]),lm(Oo,s,o)}function Wu(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Zu(s,o){throw o.$$typeof===p?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function Ec(s){function o(fe,ne){if(s){var xe=fe.deletions;xe===null?(fe.deletions=[ne],fe.flags|=16):xe.push(ne)}}function f(fe,ne){if(!s)return null;for(;ne!==null;)o(fe,ne),ne=ne.sibling;return null}function y(fe){for(var ne=new Map;fe!==null;)fe.key!==null?ne.set(fe.key,fe):ne.set(fe.index,fe),fe=fe.sibling;return ne}function A(fe,ne){return fe=ir(fe,ne),fe.index=0,fe.sibling=null,fe}function T(fe,ne,xe){return fe.index=xe,s?(xe=fe.alternate,xe!==null?(xe=xe.index,xe<ne?(fe.flags|=67108866,ne):xe):(fe.flags|=67108866,ne)):(fe.flags|=1048576,ne)}function L(fe){return s&&fe.alternate===null&&(fe.flags|=67108866),fe}function V(fe,ne,xe,Ue){return ne===null||ne.tag!==6?(ne=Rf(xe,fe.mode,Ue),ne.return=fe,ne):(ne=A(ne,xe),ne.return=fe,ne)}function te(fe,ne,xe,Ue){var It=xe.type;return It===w?De(fe,ne,xe.props.children,Ue,xe.key):ne!==null&&(ne.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===j&&bl(It)===ne.type)?(ne=A(ne,xe.props),Wu(ne,xe),ne.return=fe,ne):(ne=Hu(xe.type,xe.key,xe.props,null,fe.mode,Ue),Wu(ne,xe),ne.return=fe,ne)}function _e(fe,ne,xe,Ue){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==xe.containerInfo||ne.stateNode.implementation!==xe.implementation?(ne=Ls(xe,fe.mode,Ue),ne.return=fe,ne):(ne=A(ne,xe.children||[]),ne.return=fe,ne)}function De(fe,ne,xe,Ue,It){return ne===null||ne.tag!==7?(ne=Pr(xe,fe.mode,Ue,It),ne.return=fe,ne):(ne=A(ne,xe),ne.return=fe,ne)}function Fe(fe,ne,xe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=Rf(""+ne,fe.mode,xe),ne.return=fe,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case b:return xe=Hu(ne.type,ne.key,ne.props,null,fe.mode,xe),Wu(xe,ne),xe.return=fe,xe;case C:return ne=Ls(ne,fe.mode,xe),ne.return=fe,ne;case j:return ne=bl(ne),Fe(fe,ne,xe)}if(ce(ne)||ie(ne))return ne=Pr(ne,fe.mode,xe,null),ne.return=fe,ne;if(typeof ne.then=="function")return Fe(fe,Pf(ne),xe);if(ne.$$typeof===B)return Fe(fe,zu(fe,ne),xe);Zu(fe,ne)}return null}function Ae(fe,ne,xe,Ue){var It=ne!==null?ne.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return It!==null?null:V(fe,ne,""+xe,Ue);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case b:return xe.key===It?te(fe,ne,xe,Ue):null;case C:return xe.key===It?_e(fe,ne,xe,Ue):null;case j:return xe=bl(xe),Ae(fe,ne,xe,Ue)}if(ce(xe)||ie(xe))return It!==null?null:De(fe,ne,xe,Ue,null);if(typeof xe.then=="function")return Ae(fe,ne,Pf(xe),Ue);if(xe.$$typeof===B)return Ae(fe,ne,zu(fe,xe),Ue);Zu(fe,xe)}return null}function Ee(fe,ne,xe,Ue,It){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return fe=fe.get(xe)||null,V(ne,fe,""+Ue,It);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case b:return fe=fe.get(Ue.key===null?xe:Ue.key)||null,te(ne,fe,Ue,It);case C:return fe=fe.get(Ue.key===null?xe:Ue.key)||null,_e(ne,fe,Ue,It);case j:return Ue=bl(Ue),Ee(fe,ne,xe,Ue,It)}if(ce(Ue)||ie(Ue))return fe=fe.get(xe)||null,De(ne,fe,Ue,It,null);if(typeof Ue.then=="function")return Ee(fe,ne,xe,Pf(Ue),It);if(Ue.$$typeof===B)return Ee(fe,ne,xe,zu(ne,Ue),It);Zu(ne,Ue)}return null}function xt(fe,ne,xe,Ue){for(var It=null,Nn=null,St=ne,tn=ne=0,gn=null;St!==null&&tn<xe.length;tn++){St.index>tn?(gn=St,St=null):gn=St.sibling;var Ln=Ae(fe,St,xe[tn],Ue);if(Ln===null){St===null&&(St=gn);break}s&&St&&Ln.alternate===null&&o(fe,St),ne=T(Ln,ne,tn),Nn===null?It=Ln:Nn.sibling=Ln,Nn=Ln,St=gn}if(tn===xe.length)return f(fe,St),un&&Ur(fe,tn),It;if(St===null){for(;tn<xe.length;tn++)St=Fe(fe,xe[tn],Ue),St!==null&&(ne=T(St,ne,tn),Nn===null?It=St:Nn.sibling=St,Nn=St);return un&&Ur(fe,tn),It}for(St=y(St);tn<xe.length;tn++)gn=Ee(St,fe,tn,xe[tn],Ue),gn!==null&&(s&&gn.alternate!==null&&St.delete(gn.key===null?tn:gn.key),ne=T(gn,ne,tn),Nn===null?It=gn:Nn.sibling=gn,Nn=gn);return s&&St.forEach(function(Zc){return o(fe,Zc)}),un&&Ur(fe,tn),It}function Ot(fe,ne,xe,Ue){if(xe==null)throw Error(i(151));for(var It=null,Nn=null,St=ne,tn=ne=0,gn=null,Ln=xe.next();St!==null&&!Ln.done;tn++,Ln=xe.next()){St.index>tn?(gn=St,St=null):gn=St.sibling;var Zc=Ae(fe,St,Ln.value,Ue);if(Zc===null){St===null&&(St=gn);break}s&&St&&Zc.alternate===null&&o(fe,St),ne=T(Zc,ne,tn),Nn===null?It=Zc:Nn.sibling=Zc,Nn=Zc,St=gn}if(Ln.done)return f(fe,St),un&&Ur(fe,tn),It;if(St===null){for(;!Ln.done;tn++,Ln=xe.next())Ln=Fe(fe,Ln.value,Ue),Ln!==null&&(ne=T(Ln,ne,tn),Nn===null?It=Ln:Nn.sibling=Ln,Nn=Ln);return un&&Ur(fe,tn),It}for(St=y(St);!Ln.done;tn++,Ln=xe.next())Ln=Ee(St,fe,tn,Ln.value,Ue),Ln!==null&&(s&&Ln.alternate!==null&&St.delete(Ln.key===null?tn:Ln.key),ne=T(Ln,ne,tn),Nn===null?It=Ln:Nn.sibling=Ln,Nn=Ln);return s&&St.forEach(function(k9){return o(fe,k9)}),un&&Ur(fe,tn),It}function Wn(fe,ne,xe,Ue){if(typeof xe=="object"&&xe!==null&&xe.type===w&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case b:e:{for(var It=xe.key;ne!==null;){if(ne.key===It){if(It=xe.type,It===w){if(ne.tag===7){f(fe,ne.sibling),Ue=A(ne,xe.props.children),Ue.return=fe,fe=Ue;break e}}else if(ne.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===j&&bl(It)===ne.type){f(fe,ne.sibling),Ue=A(ne,xe.props),Wu(Ue,xe),Ue.return=fe,fe=Ue;break e}f(fe,ne);break}else o(fe,ne);ne=ne.sibling}xe.type===w?(Ue=Pr(xe.props.children,fe.mode,Ue,xe.key),Ue.return=fe,fe=Ue):(Ue=Hu(xe.type,xe.key,xe.props,null,fe.mode,Ue),Wu(Ue,xe),Ue.return=fe,fe=Ue)}return L(fe);case C:e:{for(It=xe.key;ne!==null;){if(ne.key===It)if(ne.tag===4&&ne.stateNode.containerInfo===xe.containerInfo&&ne.stateNode.implementation===xe.implementation){f(fe,ne.sibling),Ue=A(ne,xe.children||[]),Ue.return=fe,fe=Ue;break e}else{f(fe,ne);break}else o(fe,ne);ne=ne.sibling}Ue=Ls(xe,fe.mode,Ue),Ue.return=fe,fe=Ue}return L(fe);case j:return xe=bl(xe),Wn(fe,ne,xe,Ue)}if(ce(xe))return xt(fe,ne,xe,Ue);if(ie(xe)){if(It=ie(xe),typeof It!="function")throw Error(i(150));return xe=It.call(xe),Ot(fe,ne,xe,Ue)}if(typeof xe.then=="function")return Wn(fe,ne,Pf(xe),Ue);if(xe.$$typeof===B)return Wn(fe,ne,zu(fe,xe),Ue);Zu(fe,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint"?(xe=""+xe,ne!==null&&ne.tag===6?(f(fe,ne.sibling),Ue=A(ne,xe),Ue.return=fe,fe=Ue):(f(fe,ne),Ue=Rf(xe,fe.mode,Ue),Ue.return=fe,fe=Ue),L(fe)):f(fe,ne)}return function(fe,ne,xe,Ue){try{Po=0;var It=Wn(fe,ne,xe,Ue);return Oo=null,It}catch(St){if(St===Lo||St===Us)throw St;var Nn=ga(29,St,null,fe.mode);return Nn.lanes=Ue,Nn.return=fe,Nn}finally{}}}var Al=Ec(!0),t1=Ec(!1),Uo=!1;function um(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hm(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function lr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Vr(s,o,f){var y=s.updateQueue;if(y===null)return null;if(y=y.shared,(mn&2)!==0){var A=y.pending;return A===null?o.next=o:(o.next=A.next,A.next=o),y.pending=o,o=bc(s),wf(s,null,f),o}return Uu(s,y,o,f),bc(s)}function Ho(s,o,f){if(o=o.updateQueue,o!==null&&(o=o.shared,(f&4194048)!==0)){var y=o.lanes;y&=s.pendingLanes,f|=y,o.lanes=f,xs(s,f)}}function Uf(s,o){var f=s.updateQueue,y=s.alternate;if(y!==null&&(y=y.updateQueue,f===y)){var A=null,T=null;if(f=f.firstBaseUpdate,f!==null){do{var L={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};T===null?A=T=L:T=T.next=L,f=f.next}while(f!==null);T===null?A=T=o:T=T.next=o}else A=T=o;f={baseState:y.baseState,firstBaseUpdate:A,lastBaseUpdate:T,shared:y.shared,callbacks:y.callbacks},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=o:s.next=o,f.lastBaseUpdate=o}var fm=!1;function Xu(){if(fm){var s=Ps;if(s!==null)throw s}}function Sl(s,o,f,y){fm=!1;var A=s.updateQueue;Uo=!1;var T=A.firstBaseUpdate,L=A.lastBaseUpdate,V=A.shared.pending;if(V!==null){A.shared.pending=null;var te=V,_e=te.next;te.next=null,L===null?T=_e:L.next=_e,L=te;var De=s.alternate;De!==null&&(De=De.updateQueue,V=De.lastBaseUpdate,V!==L&&(V===null?De.firstBaseUpdate=_e:V.next=_e,De.lastBaseUpdate=te))}if(T!==null){var Fe=A.baseState;L=0,De=_e=te=null,V=T;do{var Ae=V.lane&-536870913,Ee=Ae!==V.lane;if(Ee?(ln&Ae)===Ae:(y&Ae)===Ae){Ae!==0&&Ae===zr&&(fm=!0),De!==null&&(De=De.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var xt=s,Ot=V;Ae=o;var Wn=f;switch(Ot.tag){case 1:if(xt=Ot.payload,typeof xt=="function"){Fe=xt.call(Wn,Fe,Ae);break e}Fe=xt;break e;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=Ot.payload,Ae=typeof xt=="function"?xt.call(Wn,Fe,Ae):xt,Ae==null)break e;Fe=d({},Fe,Ae);break e;case 2:Uo=!0}}Ae=V.callback,Ae!==null&&(s.flags|=64,Ee&&(s.flags|=8192),Ee=A.callbacks,Ee===null?A.callbacks=[Ae]:Ee.push(Ae))}else Ee={lane:Ae,tag:V.tag,payload:V.payload,callback:V.callback,next:null},De===null?(_e=De=Ee,te=Fe):De=De.next=Ee,L|=Ae;if(V=V.next,V===null){if(V=A.shared.pending,V===null)break;Ee=V,V=Ee.next,Ee.next=null,A.lastBaseUpdate=Ee,A.shared.pending=null}}while(!0);De===null&&(te=Fe),A.baseState=te,A.firstBaseUpdate=_e,A.lastBaseUpdate=De,T===null&&(A.shared.lanes=0),cs|=L,s.lanes=L,s.memoizedState=Fe}}function cr(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function Wi(s,o){var f=s.callbacks;if(f!==null)for(s.callbacks=null,s=0;s<f.length;s++)cr(f[s],o)}var $a=X(null),va=X(0);function dm(s,o){s=di,Ce(va,s),Ce($a,o),di=s|o.baseLanes}function mm(){Ce(va,di),Ce($a,$a.current)}function ra(){di=va.current,ae($a),ae(va)}var Ci=X(null),bs=null;function jo(s){var o=s.alternate;Ce(Qn,Qn.current&1),Ce(Ci,s),bs===null&&(o===null||$a.current!==null||o.memoizedState!==null)&&(bs=s)}function pm(s){Ce(Qn,Qn.current),Ce(Ci,s),bs===null&&(bs=s)}function n1(s){s.tag===22?(Ce(Qn,Qn.current),Ce(Ci,s),bs===null&&(bs=s)):kr()}function kr(){Ce(Qn,Qn.current),Ce(Ci,Ci.current)}function es(s){ae(Ci),bs===s&&(bs=null),ae(Qn)}var Qn=X(0);function Hf(s){for(var o=s;o!==null;){if(o.tag===13){var f=o.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||Ex(f)||Tx(f)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ra=0,Ut=null,Un=null,vi=null,jf=!1,ur=!1,Ml=!1,Ff=0,Ju=0,hr=null,ax=0;function $n(){throw Error(i(321))}function gm(s,o){if(o===null)return!1;for(var f=0;f<o.length&&f<s.length;f++)if(!Xn(s[f],o[f]))return!1;return!0}function ym(s,o,f,y,A,T){return Ra=T,Ut=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,G.H=s===null||s.memoizedState===null?A1:Rc,Ml=!1,T=f(y,A),Ml=!1,ur&&(T=a1(o,f,y,A)),i1(s),T}function i1(s){G.H=$u;var o=Un!==null&&Un.next!==null;if(Ra=0,vi=Un=Ut=null,jf=!1,Ju=0,hr=null,o)throw Error(i(300));s===null||Jn||(s=s.dependencies,s!==null&&Sc(s)&&(Jn=!0))}function a1(s,o,f,y){Ut=s;var A=0;do{if(ur&&(hr=null),Ju=0,ur=!1,25<=A)throw Error(i(301));if(A+=1,vi=Un=null,s.updateQueue!=null){var T=s.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}G.H=eh,T=o(f,y)}while(ur);return T}function sx(){var s=G.H,o=s.useState()[0];return o=typeof o.then=="function"?Ku(o):o,s=s.useState()[0],(Un!==null?Un.memoizedState:null)!==s&&(Ut.flags|=1024),o}function vm(){var s=Ff!==0;return Ff=0,s}function xm(s,o,f){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~f}function _m(s){if(jf){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}jf=!1}Ra=0,vi=Un=Ut=null,ur=!1,Ju=Ff=0,hr=null}function xa(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vi===null?Ut.memoizedState=vi=s:vi=vi.next=s,vi}function ci(){if(Un===null){var s=Ut.alternate;s=s!==null?s.memoizedState:null}else s=Un.next;var o=vi===null?Ut.memoizedState:vi.next;if(o!==null)vi=o,Un=s;else{if(s===null)throw Ut.alternate===null?Error(i(467)):Error(i(310));Un=s,s={memoizedState:Un.memoizedState,baseState:Un.baseState,baseQueue:Un.baseQueue,queue:Un.queue,next:null},vi===null?Ut.memoizedState=vi=s:vi=vi.next=s}return vi}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ku(s){var o=Ju;return Ju+=1,hr===null&&(hr=[]),s=lm(hr,s,o),o=Ut,(vi===null?o.memoizedState:vi.next)===null&&(o=o.alternate,G.H=o===null||o.memoizedState===null?A1:Rc),s}function Gf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ku(s);if(s.$$typeof===B)return Ui(s)}throw Error(i(438,String(s)))}function bm(s){var o=null,f=Ut.updateQueue;if(f!==null&&(o=f.memoCache),o==null){var y=Ut.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(o={data:y.data.map(function(A){return A.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),f===null&&(f=Yu(),Ut.updateQueue=f),f.memoCache=o,f=o.data[o.index],f===void 0)for(f=o.data[o.index]=Array(s),y=0;y<s;y++)f[y]=H;return o.index++,f}function Wr(s,o){return typeof o=="function"?o(s):o}function zf(s){var o=ci();return Am(o,Un,s)}function Am(s,o,f){var y=s.queue;if(y===null)throw Error(i(311));y.lastRenderedReducer=f;var A=s.baseQueue,T=y.pending;if(T!==null){if(A!==null){var L=A.next;A.next=T.next,T.next=L}o.baseQueue=A=T,y.pending=null}if(T=s.baseState,A===null)s.memoizedState=T;else{o=A.next;var V=L=null,te=null,_e=o,De=!1;do{var Fe=_e.lane&-536870913;if(Fe!==_e.lane?(ln&Fe)===Fe:(Ra&Fe)===Fe){var Ae=_e.revertLane;if(Ae===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),Fe===zr&&(De=!0);else if((Ra&Ae)===Ae){_e=_e.next,Ae===zr&&(De=!0);continue}else Fe={lane:0,revertLane:_e.revertLane,gesture:null,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},te===null?(V=te=Fe,L=T):te=te.next=Fe,Ut.lanes|=Ae,cs|=Ae;Fe=_e.action,Ml&&f(T,Fe),T=_e.hasEagerState?_e.eagerState:f(T,Fe)}else Ae={lane:Fe,revertLane:_e.revertLane,gesture:_e.gesture,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},te===null?(V=te=Ae,L=T):te=te.next=Ae,Ut.lanes|=Fe,cs|=Fe;_e=_e.next}while(_e!==null&&_e!==o);if(te===null?L=T:te.next=V,!Xn(T,s.memoizedState)&&(Jn=!0,De&&(f=Ps,f!==null)))throw f;s.memoizedState=T,s.baseState=L,s.baseQueue=te,y.lastRenderedState=T}return A===null&&(y.lanes=0),[s.memoizedState,y.dispatch]}function Vf(s){var o=ci(),f=o.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=s;var y=f.dispatch,A=f.pending,T=o.memoizedState;if(A!==null){f.pending=null;var L=A=A.next;do T=s(T,L.action),L=L.next;while(L!==A);Xn(T,o.memoizedState)||(Jn=!0),o.memoizedState=T,o.baseQueue===null&&(o.baseState=T),f.lastRenderedState=T}return[T,y]}function Sm(s,o,f){var y=Ut,A=ci(),T=un;if(T){if(f===void 0)throw Error(i(407));f=f()}else f=o();var L=!Xn((Un||A).memoizedState,f);if(L&&(A.memoizedState=f,Jn=!0),A=A.queue,wm(Cm.bind(null,y,A,s),[s]),A.getSnapshot!==o||L||vi!==null&&vi.memoizedState.tag&1){if(y.flags|=2048,Tc(9,{destroy:void 0},Mm.bind(null,y,A,f,o),null),Bn===null)throw Error(i(349));T||(Ra&127)!==0||s1(y,o,f)}return f}function s1(s,o,f){s.flags|=16384,s={getSnapshot:o,value:f},o=Ut.updateQueue,o===null?(o=Yu(),Ut.updateQueue=o,o.stores=[s]):(f=o.stores,f===null?o.stores=[s]:f.push(s))}function Mm(s,o,f,y){o.value=f,o.getSnapshot=y,Em(o)&&kf(s)}function Cm(s,o,f){return f(function(){Em(o)&&kf(s)})}function Em(s){var o=s.getSnapshot;s=s.value;try{var f=o();return!Xn(s,f)}catch{return!0}}function kf(s){var o=Ro(s,2);o!==null&&h(o,s,2)}function qu(s){var o=xa();if(typeof s=="function"){var f=s;if(s=f(),Ml){At(!0);try{f()}finally{At(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:s},o}function r1(s,o,f,y){return s.baseState=f,Am(s,Un,typeof y=="function"?y:Wr)}function rx(s,o,f,y,A){if(Zr(s))throw Error(i(485));if(s=o.action,s!==null){var T={payload:A,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){T.listeners.push(L)}};G.T!==null?f(!0):T.isTransition=!1,y(T),f=o.pending,f===null?(T.next=o.pending=T,o1(o,T)):(T.next=f.next,o.pending=f.next=T)}}function o1(s,o){var f=o.action,y=o.payload,A=s.state;if(o.isTransition){var T=G.T,L={};G.T=L;try{var V=f(A,y),te=G.S;te!==null&&te(L,V),l1(s,o,V)}catch(_e){Wf(s,o,_e)}finally{T!==null&&L.types!==null&&(T.types=L.types),G.T=T}}else try{T=f(A,y),l1(s,o,T)}catch(_e){Wf(s,o,_e)}}function l1(s,o,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(y){Tm(s,o,y)},function(y){return Wf(s,o,y)}):Tm(s,o,f)}function Tm(s,o,f){o.status="fulfilled",o.value=f,c1(o),s.state=f,o=s.pending,o!==null&&(f=o.next,f===o?s.pending=null:(f=f.next,o.next=f,o1(s,f)))}function Wf(s,o,f){var y=s.pending;if(s.pending=null,y!==null){y=y.next;do o.status="rejected",o.reason=f,c1(o),o=o.next;while(o!==y)}s.action=null}function c1(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function u1(s,o){return o}function h1(s,o){if(un){var f=Bn.formState;if(f!==null){e:{var y=Ut;if(un){if(zn){t:{for(var A=zn,T=Pi;A.nodeType!==8;){if(!T){A=null;break t}if(A=yr(A.nextSibling),A===null){A=null;break t}}T=A.data,A=T==="F!"||T==="F"?A:null}if(A){zn=yr(A.nextSibling),y=A.data==="F!";break e}}on(y)}y=!1}y&&(o=f[0])}}return f=xa(),f.memoizedState=f.baseState=o,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u1,lastRenderedState:o},f.queue=y,f=b1.bind(null,Ut,y),y.dispatch=f,y=qu(!1),T=Qu.bind(null,Ut,!1,y.queue),y=xa(),A={state:o,dispatch:null,action:s,pending:null},y.queue=A,f=rx.bind(null,Ut,A,T,f),A.dispatch=f,y.memoizedState=s,[o,f,!1]}function f1(s){var o=ci();return d1(o,Un,s)}function d1(s,o,f){if(o=Am(s,o,u1)[0],s=zf(Wr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var y=Ku(o)}catch(L){throw L===Lo?Us:L}else y=o;o=ci();var A=o.queue,T=A.dispatch;return f!==o.memoizedState&&(Ut.flags|=2048,Tc(9,{destroy:void 0},ox.bind(null,A,f),null)),[y,T,s]}function ox(s,o){s.action=o}function m1(s){var o=ci(),f=Un;if(f!==null)return d1(o,f,s);ci(),o=o.memoizedState,f=ci();var y=f.queue.dispatch;return f.memoizedState=s,[o,y,!1]}function Tc(s,o,f,y){return s={tag:s,create:f,deps:y,inst:o,next:null},o=Ut.updateQueue,o===null&&(o=Yu(),Ut.updateQueue=o),f=o.lastEffect,f===null?o.lastEffect=s.next=s:(y=f.next,f.next=s,s.next=y,o.lastEffect=s),s}function p1(){return ci().memoizedState}function Zf(s,o,f,y){var A=xa();Ut.flags|=s,A.memoizedState=Tc(1|o,{destroy:void 0},f,y===void 0?null:y)}function Xf(s,o,f,y){var A=ci();y=y===void 0?null:y;var T=A.memoizedState.inst;Un!==null&&y!==null&&gm(y,Un.memoizedState.deps)?A.memoizedState=Tc(o,T,f,y):(Ut.flags|=s,A.memoizedState=Tc(1|o,T,f,y))}function g1(s,o){Zf(8390656,8,s,o)}function wm(s,o){Xf(2048,8,s,o)}function y1(s){Ut.flags|=4;var o=Ut.updateQueue;if(o===null)o=Yu(),Ut.updateQueue=o,o.events=[s];else{var f=o.events;f===null?o.events=[s]:f.push(s)}}function v1(s){var o=ci().memoizedState;return y1({ref:o,nextImpl:s}),function(){if((mn&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function x1(s,o){return Xf(4,2,s,o)}function ts(s,o){return Xf(4,4,s,o)}function Rm(s,o){if(typeof o=="function"){s=s();var f=o(s);return function(){typeof f=="function"?f():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Jf(s,o,f){f=f!=null?f.concat([s]):null,Xf(4,4,Rm.bind(null,o,s),f)}function Yf(){}function Im(s,o){var f=ci();o=o===void 0?null:o;var y=f.memoizedState;return o!==null&&gm(o,y[1])?y[0]:(f.memoizedState=[s,o],s)}function Bm(s,o){var f=ci();o=o===void 0?null:o;var y=f.memoizedState;if(o!==null&&gm(o,y[1]))return y[0];if(y=s(),Ml){At(!0);try{s()}finally{At(!1)}}return f.memoizedState=[y,o],y}function Dm(s,o,f){return f===void 0||(Ra&1073741824)!==0&&(ln&261930)===0?s.memoizedState=o:(s.memoizedState=f,s=c(),Ut.lanes|=s,cs|=s,f)}function Nm(s,o,f,y){return Xn(f,o)?f:$a.current!==null?(s=Dm(s,f,y),Xn(s,o)||(Jn=!0),s):(Ra&42)===0||(Ra&1073741824)!==0&&(ln&261930)===0?(Jn=!0,s.memoizedState=f):(s=c(),Ut.lanes|=s,cs|=s,o)}function Lm(s,o,f,y,A){var T=Z.p;Z.p=T!==0&&8>T?T:8;var L=G.T,V={};G.T=V,Qu(s,!1,o,f);try{var te=A(),_e=G.S;if(_e!==null&&_e(V,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var De=om(te,y);wc(s,o,De,ba(s))}else wc(s,o,y,ba(s))}catch(Fe){wc(s,o,{then:function(){},status:"rejected",reason:Fe},ba())}finally{Z.p=T,L!==null&&V.types!==null&&(L.types=V.types),G.T=L}}function lx(){}function Om(s,o,f,y){if(s.tag!==5)throw Error(i(476));var A=_1(s).queue;Lm(s,A,o,Q,f===null?lx:function(){return Pm(s),f(y)})}function _1(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:Q},next:null};var f={};return o.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:f},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function Pm(s){var o=_1(s);o.next===null&&(o=s.alternate.memoizedState),wc(s,o.next.queue,{},ba())}function Um(){return Ui(Km)}function Zi(){return ci().memoizedState}function Hm(){return ci().memoizedState}function cx(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var f=ba();s=lr(f);var y=Vr(o,s,f);y!==null&&(h(y,o,f),Ho(y,o,f)),o={cache:am()},s.payload=o;return}o=o.return}}function ux(s,o,f){var y=ba();f={lane:y,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Zr(s)?Cl(o,f):(f=_c(s,o,f,y),f!==null&&(h(f,s,y),Ia(f,o,y)))}function b1(s,o,f){var y=ba();wc(s,o,f,y)}function wc(s,o,f,y){var A={lane:y,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(Zr(s))Cl(o,A);else{var T=s.alternate;if(s.lanes===0&&(T===null||T.lanes===0)&&(T=o.lastRenderedReducer,T!==null))try{var L=o.lastRenderedState,V=T(L,f);if(A.hasEagerState=!0,A.eagerState=V,Xn(V,L))return Uu(s,o,A,0),Bn===null&&wo(),!1}catch{}finally{}if(f=_c(s,o,A,y),f!==null)return h(f,s,y),Ia(f,o,y),!0}return!1}function Qu(s,o,f,y){if(y={lane:2,revertLane:mx(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},Zr(s)){if(o)throw Error(i(479))}else o=_c(s,f,y,2),o!==null&&h(o,s,2)}function Zr(s){var o=s.alternate;return s===Ut||o!==null&&o===Ut}function Cl(s,o){ur=jf=!0;var f=s.pending;f===null?o.next=o:(o.next=f.next,f.next=o),s.pending=o}function Ia(s,o,f){if((f&4194048)!==0){var y=o.lanes;y&=s.pendingLanes,f|=y,o.lanes=f,xs(s,f)}}var $u={readContext:Ui,use:Gf,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useLayoutEffect:$n,useInsertionEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useSyncExternalStore:$n,useId:$n,useHostTransitionStatus:$n,useFormState:$n,useActionState:$n,useOptimistic:$n,useMemoCache:$n,useCacheRefresh:$n};$u.useEffectEvent=$n;var A1={readContext:Ui,use:Gf,useCallback:function(s,o){return xa().memoizedState=[s,o===void 0?null:o],s},useContext:Ui,useEffect:g1,useImperativeHandle:function(s,o,f){f=f!=null?f.concat([s]):null,Zf(4194308,4,Rm.bind(null,o,s),f)},useLayoutEffect:function(s,o){return Zf(4194308,4,s,o)},useInsertionEffect:function(s,o){Zf(4,2,s,o)},useMemo:function(s,o){var f=xa();o=o===void 0?null:o;var y=s();if(Ml){At(!0);try{s()}finally{At(!1)}}return f.memoizedState=[y,o],y},useReducer:function(s,o,f){var y=xa();if(f!==void 0){var A=f(o);if(Ml){At(!0);try{f(o)}finally{At(!1)}}}else A=o;return y.memoizedState=y.baseState=A,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:A},y.queue=s,s=s.dispatch=ux.bind(null,Ut,s),[y.memoizedState,s]},useRef:function(s){var o=xa();return s={current:s},o.memoizedState=s},useState:function(s){s=qu(s);var o=s.queue,f=b1.bind(null,Ut,o);return o.dispatch=f,[s.memoizedState,f]},useDebugValue:Yf,useDeferredValue:function(s,o){var f=xa();return Dm(f,s,o)},useTransition:function(){var s=qu(!1);return s=Lm.bind(null,Ut,s.queue,!0,!1),xa().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,f){var y=Ut,A=xa();if(un){if(f===void 0)throw Error(i(407));f=f()}else{if(f=o(),Bn===null)throw Error(i(349));(ln&127)!==0||s1(y,o,f)}A.memoizedState=f;var T={value:f,getSnapshot:o};return A.queue=T,g1(Cm.bind(null,y,T,s),[s]),y.flags|=2048,Tc(9,{destroy:void 0},Mm.bind(null,y,T,f,o),null),f},useId:function(){var s=xa(),o=Bn.identifierPrefix;if(un){var f=rr,y=sr;f=(y&~(1<<32-ut(y)-1)).toString(32)+f,o="_"+o+"R_"+f,f=Ff++,0<f&&(o+="H"+f.toString(32)),o+="_"}else f=ax++,o="_"+o+"r_"+f.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:Um,useFormState:h1,useActionState:h1,useOptimistic:function(s){var o=xa();o.memoizedState=o.baseState=s;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=f,o=Qu.bind(null,Ut,!0,f),f.dispatch=o,[s,o]},useMemoCache:bm,useCacheRefresh:function(){return xa().memoizedState=cx.bind(null,Ut)},useEffectEvent:function(s){var o=xa(),f={impl:s};return o.memoizedState=f,function(){if((mn&2)!==0)throw Error(i(440));return f.impl.apply(void 0,arguments)}}},Rc={readContext:Ui,use:Gf,useCallback:Im,useContext:Ui,useEffect:wm,useImperativeHandle:Jf,useInsertionEffect:x1,useLayoutEffect:ts,useMemo:Bm,useReducer:zf,useRef:p1,useState:function(){return zf(Wr)},useDebugValue:Yf,useDeferredValue:function(s,o){var f=ci();return Nm(f,Un.memoizedState,s,o)},useTransition:function(){var s=zf(Wr)[0],o=ci().memoizedState;return[typeof s=="boolean"?s:Ku(s),o]},useSyncExternalStore:Sm,useId:Zi,useHostTransitionStatus:Um,useFormState:f1,useActionState:f1,useOptimistic:function(s,o){var f=ci();return r1(f,Un,s,o)},useMemoCache:bm,useCacheRefresh:Hm};Rc.useEffectEvent=v1;var eh={readContext:Ui,use:Gf,useCallback:Im,useContext:Ui,useEffect:wm,useImperativeHandle:Jf,useInsertionEffect:x1,useLayoutEffect:ts,useMemo:Bm,useReducer:Vf,useRef:p1,useState:function(){return Vf(Wr)},useDebugValue:Yf,useDeferredValue:function(s,o){var f=ci();return Un===null?Dm(f,s,o):Nm(f,Un.memoizedState,s,o)},useTransition:function(){var s=Vf(Wr)[0],o=ci().memoizedState;return[typeof s=="boolean"?s:Ku(s),o]},useSyncExternalStore:Sm,useId:Zi,useHostTransitionStatus:Um,useFormState:m1,useActionState:m1,useOptimistic:function(s,o){var f=ci();return Un!==null?r1(f,Un,s,o):(f.baseState=s,[s,f.queue.dispatch])},useMemoCache:bm,useCacheRefresh:Hm};eh.useEffectEvent=v1;function Ic(s,o,f,y){o=s.memoizedState,f=f(y,o),f=f==null?o:d({},o,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var th={enqueueSetState:function(s,o,f){s=s._reactInternals;var y=ba(),A=lr(y);A.payload=o,f!=null&&(A.callback=f),o=Vr(s,A,y),o!==null&&(h(o,s,y),Ho(o,s,y))},enqueueReplaceState:function(s,o,f){s=s._reactInternals;var y=ba(),A=lr(y);A.tag=1,A.payload=o,f!=null&&(A.callback=f),o=Vr(s,A,y),o!==null&&(h(o,s,y),Ho(o,s,y))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var f=ba(),y=lr(f);y.tag=2,o!=null&&(y.callback=o),o=Vr(s,y,f),o!==null&&(h(o,s,f),Ho(o,s,f))}};function S1(s,o,f,y,A,T,L){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(y,T,L):o.prototype&&o.prototype.isPureReactComponent?!mc(f,y)||!mc(A,T):!0}function M1(s,o,f,y){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(f,y),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(f,y),o.state!==s&&th.enqueueReplaceState(o,o.state,null)}function Xi(s,o){var f=o;if("ref"in o){f={};for(var y in o)y!=="ref"&&(f[y]=o[y])}if(s=s.defaultProps){f===o&&(f=d({},f));for(var A in s)f[A]===void 0&&(f[A]=s[A])}return f}function jm(s){To(s)}function C1(s){console.error(s)}function Kf(s){To(s)}function qf(s,o){try{var f=s.onUncaughtError;f(o.value,{componentStack:o.stack})}catch(y){setTimeout(function(){throw y})}}function E1(s,o,f){try{var y=s.onCaughtError;y(f.value,{componentStack:f.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function Fm(s,o,f){return f=lr(f),f.tag=3,f.payload={element:null},f.callback=function(){qf(s,o)},f}function Bc(s){return s=lr(s),s.tag=3,s}function Ba(s,o,f,y){var A=f.type.getDerivedStateFromError;if(typeof A=="function"){var T=y.value;s.payload=function(){return A(T)},s.callback=function(){E1(o,f,y)}}var L=f.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(s.callback=function(){E1(o,f,y),typeof A!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var V=y.stack;this.componentDidCatch(y.value,{componentStack:V!==null?V:""})})}function ns(s,o,f,y,A){if(f.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(o=f.alternate,o!==null&&Do(o,f,A,!0),f=Ci.current,f!==null){switch(f.tag){case 31:case 13:return bs===null?zt():f.alternate===null&&Dn===0&&(Dn=3),f.flags&=-257,f.flags|=65536,f.lanes=A,y===ku?f.flags|=16384:(o=f.updateQueue,o===null?f.updateQueue=new Set([y]):o.add(y),hx(s,y,A)),!1;case 22:return f.flags|=65536,y===ku?f.flags|=16384:(o=f.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([y])},f.updateQueue=o):(f=o.retryQueue,f===null?o.retryQueue=new Set([y]):f.add(y)),hx(s,y,A)),!1}throw Error(i(435,f.tag))}return hx(s,y,A),zt(),!1}if(un)return o=Ci.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=A,y!==Bf&&(s=Error(i(422),{cause:y}),Gu(Ta(s,f)))):(y!==Bf&&(o=Error(i(423),{cause:y}),Gu(Ta(o,f))),s=s.current.alternate,s.flags|=65536,A&=-A,s.lanes|=A,y=Ta(y,f),A=Fm(s.stateNode,y,A),Uf(s,A),Dn!==4&&(Dn=2)),!1;var T=Error(i(520),{cause:y});if(T=Ta(T,f),zs===null?zs=[T]:zs.push(T),Dn!==4&&(Dn=2),o===null)return!0;y=Ta(y,f),f=o;do{switch(f.tag){case 3:return f.flags|=65536,s=A&-A,f.lanes|=s,s=Fm(f.stateNode,y,s),Uf(f,s),!1;case 1:if(o=f.type,T=f.stateNode,(f.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(gr===null||!gr.has(T))))return f.flags|=65536,A&=-A,f.lanes|=A,A=Bc(A),Ba(A,s,f,y),Uf(f,A),!1}f=f.return}while(f!==null);return!1}var Qf=Error(i(461)),Jn=!1;function ei(s,o,f,y){o.child=s===null?t1(o,null,f,y):Al(o,s.child,f,y)}function nh(s,o,f,y,A){f=f.render;var T=o.ref;if("ref"in y){var L={};for(var V in y)V!=="ref"&&(L[V]=y[V])}else L=y;return xl(o),y=ym(s,o,f,L,T,A),V=vm(),s!==null&&!Jn?(xm(s,o,A),Fs(s,o,A)):(un&&V&&If(o),o.flags|=1,ei(s,o,y,A),o.child)}function ih(s,o,f,y,A){if(s===null){var T=f.type;return typeof T=="function"&&!ya(T)&&T.defaultProps===void 0&&f.compare===null?(o.tag=15,o.type=T,is(s,o,T,y,A)):(s=Hu(f.type,null,y,o,o.mode,A),s.ref=o.ref,s.return=o,o.child=s)}if(T=s.child,!Go(s,A)){var L=T.memoizedProps;if(f=f.compare,f=f!==null?f:mc,f(L,y)&&s.ref===o.ref)return Fs(s,o,A)}return o.flags|=1,s=ir(T,y),s.ref=o.ref,s.return=o,o.child=s}function is(s,o,f,y,A){if(s!==null){var T=s.memoizedProps;if(mc(T,y)&&s.ref===o.ref)if(Jn=!1,o.pendingProps=y=T,Go(s,A))(s.flags&131072)!==0&&(Jn=!0);else return o.lanes=s.lanes,Fs(s,o,A)}return Dc(s,o,f,y,A)}function as(s,o,f,y){var A=y.children,T=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((o.flags&128)!==0){if(T=T!==null?T.baseLanes|f:f,s!==null){for(y=o.child=s.child,A=0;y!==null;)A=A|y.lanes|y.childLanes,y=y.sibling;y=A&~T}else y=0,o.child=null;return fr(s,o,T,f,y)}if((f&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Cc(o,T!==null?T.cachePool:null),T!==null?dm(o,T):mm(),n1(o);else return y=o.lanes=536870912,fr(s,o,T!==null?T.baseLanes|f:f,f,y)}else T!==null?(Cc(o,T.cachePool),dm(o,T),kr(),o.memoizedState=null):(s!==null&&Cc(o,null),mm(),kr());return ei(s,o,A,f),o.child}function Hs(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function fr(s,o,f,y,A){var T=or();return T=T===null?null:{parent:Tt._currentValue,pool:T},o.memoizedState={baseLanes:f,cachePool:T},s!==null&&Cc(o,null),mm(),n1(o),s!==null&&Do(s,o,y,!0),o.childLanes=A,null}function As(s,o){return o=Nc({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function Hi(s,o,f){return Al(o,s.child,null,f),s=As(o,o.pendingProps),s.flags|=2,es(o),o.memoizedState=null,s}function ah(s,o,f){var y=o.pendingProps,A=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(un){if(y.mode==="hidden")return s=As(o,y),o.lanes=536870912,Hs(null,s);if(pm(o),(s=zn)?(s=VS(s,Pi),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:ar!==null?{id:sr,overflow:rr}:null,retryLane:536870912,hydrationErrors:null},f=Yg(s),f.return=o,o.child=f,Oi=o,zn=null)):s=null,s===null)throw on(o);return o.lanes=536870912,null}return As(o,y)}var T=s.memoizedState;if(T!==null){var L=T.dehydrated;if(pm(o),A)if(o.flags&256)o.flags&=-257,o=Hi(s,o,f);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(i(558));else if(Jn||Do(s,o,f,!1),A=(f&s.childLanes)!==0,Jn||A){if(y=Bn,y!==null&&(L=mo(y,f),L!==0&&L!==T.retryLane))throw T.retryLane=L,Ro(s,L),h(y,s,L),Qf;zt(),o=Hi(s,o,f)}else s=T.treeContext,zn=yr(L.nextSibling),Oi=o,un=!0,Hr=null,Pi=!1,s!==null&&Fu(o,s),o=As(o,y),o.flags|=4096;return o}return s=ir(s.child,{mode:y.mode,children:y.children}),s.ref=o.ref,o.child=s,s.return=o,s}function js(s,o){var f=o.ref;if(f===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(i(284));(s===null||s.ref!==f)&&(o.flags|=4194816)}}function Dc(s,o,f,y,A){return xl(o),f=ym(s,o,f,y,void 0,A),y=vm(),s!==null&&!Jn?(xm(s,o,A),Fs(s,o,A)):(un&&y&&If(o),o.flags|=1,ei(s,o,f,A),o.child)}function oa(s,o,f,y,A,T){return xl(o),o.updateQueue=null,f=a1(o,y,f,A),i1(s),y=vm(),s!==null&&!Jn?(xm(s,o,T),Fs(s,o,T)):(un&&y&&If(o),o.flags|=1,ei(s,o,f,T),o.child)}function Ji(s,o,f,y,A){if(xl(o),o.stateNode===null){var T=Io,L=f.contextType;typeof L=="object"&&L!==null&&(T=Ui(L)),T=new f(y,T),o.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=th,o.stateNode=T,T._reactInternals=o,T=o.stateNode,T.props=y,T.state=o.memoizedState,T.refs={},um(o),L=f.contextType,T.context=typeof L=="object"&&L!==null?Ui(L):Io,T.state=o.memoizedState,L=f.getDerivedStateFromProps,typeof L=="function"&&(Ic(o,f,L,y),T.state=o.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(L=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),L!==T.state&&th.enqueueReplaceState(T,T.state,null),Sl(o,y,T,A),Xu(),T.state=o.memoizedState),typeof T.componentDidMount=="function"&&(o.flags|=4194308),y=!0}else if(s===null){T=o.stateNode;var V=o.memoizedProps,te=Xi(f,V);T.props=te;var _e=T.context,De=f.contextType;L=Io,typeof De=="object"&&De!==null&&(L=Ui(De));var Fe=f.getDerivedStateFromProps;De=typeof Fe=="function"||typeof T.getSnapshotBeforeUpdate=="function",V=o.pendingProps!==V,De||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(V||_e!==L)&&M1(o,T,y,L),Uo=!1;var Ae=o.memoizedState;T.state=Ae,Sl(o,y,T,A),Xu(),_e=o.memoizedState,V||Ae!==_e||Uo?(typeof Fe=="function"&&(Ic(o,f,Fe,y),_e=o.memoizedState),(te=Uo||S1(o,f,te,y,Ae,_e,L))?(De||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=y,o.memoizedState=_e),T.props=y,T.state=_e,T.context=L,y=te):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),y=!1)}else{T=o.stateNode,hm(s,o),L=o.memoizedProps,De=Xi(f,L),T.props=De,Fe=o.pendingProps,Ae=T.context,_e=f.contextType,te=Io,typeof _e=="object"&&_e!==null&&(te=Ui(_e)),V=f.getDerivedStateFromProps,(_e=typeof V=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(L!==Fe||Ae!==te)&&M1(o,T,y,te),Uo=!1,Ae=o.memoizedState,T.state=Ae,Sl(o,y,T,A),Xu();var Ee=o.memoizedState;L!==Fe||Ae!==Ee||Uo||s!==null&&s.dependencies!==null&&Sc(s.dependencies)?(typeof V=="function"&&(Ic(o,f,V,y),Ee=o.memoizedState),(De=Uo||S1(o,f,De,y,Ae,Ee,te)||s!==null&&s.dependencies!==null&&Sc(s.dependencies))?(_e||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(y,Ee,te),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(y,Ee,te)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||L===s.memoizedProps&&Ae===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&Ae===s.memoizedState||(o.flags|=1024),o.memoizedProps=y,o.memoizedState=Ee),T.props=y,T.state=Ee,T.context=te,y=De):(typeof T.componentDidUpdate!="function"||L===s.memoizedProps&&Ae===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&Ae===s.memoizedState||(o.flags|=1024),y=!1)}return T=y,js(s,o),y=(o.flags&128)!==0,T||y?(T=o.stateNode,f=y&&typeof f.getDerivedStateFromError!="function"?null:T.render(),o.flags|=1,s!==null&&y?(o.child=Al(o,s.child,null,A),o.child=Al(o,null,f,A)):ei(s,o,f,A),o.memoizedState=T.state,s=o.child):s=Fs(s,o,A),s}function vn(s,o,f,y){return vl(),o.flags|=256,ei(s,o,f,y),o.child}var ss={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ss(s){return{baseLanes:s,cachePool:Lf()}}function sh(s,o,f){return s=s!==null?s.childLanes&~f:0,o&&(s|=pn),s}function rs(s,o,f){var y=o.pendingProps,A=!1,T=(o.flags&128)!==0,L;if((L=T)||(L=s!==null&&s.memoizedState===null?!1:(Qn.current&2)!==0),L&&(A=!0,o.flags&=-129),L=(o.flags&32)!==0,o.flags&=-33,s===null){if(un){if(A?jo(o):kr(),(s=zn)?(s=VS(s,Pi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:ar!==null?{id:sr,overflow:rr}:null,retryLane:536870912,hydrationErrors:null},f=Yg(s),f.return=o,o.child=f,Oi=o,zn=null)):s=null,s===null)throw on(o);return Tx(s)?o.lanes=32:o.lanes=536870912,null}var V=y.children;return y=y.fallback,A?(kr(),A=o.mode,V=Nc({mode:"hidden",children:V},A),y=Pr(y,A,f,null),V.return=o,y.return=o,V.sibling=y,o.child=V,y=o.child,y.memoizedState=Ss(f),y.childLanes=sh(s,L,f),o.memoizedState=ss,Hs(null,y)):(jo(o),Fo(o,V))}var te=s.memoizedState;if(te!==null&&(V=te.dehydrated,V!==null)){if(T)o.flags&256?(jo(o),o.flags&=-257,o=Lc(s,o,f)):o.memoizedState!==null?(kr(),o.child=s.child,o.flags|=128,o=null):(kr(),V=y.fallback,A=o.mode,y=Nc({mode:"visible",children:y.children},A),V=Pr(V,A,f,null),V.flags|=2,y.return=o,V.return=o,y.sibling=V,o.child=y,Al(o,s.child,null,f),y=o.child,y.memoizedState=Ss(f),y.childLanes=sh(s,L,f),o.memoizedState=ss,o=Hs(null,y));else if(jo(o),Tx(V)){if(L=V.nextSibling&&V.nextSibling.dataset,L)var _e=L.dgst;L=_e,y=Error(i(419)),y.stack="",y.digest=L,Gu({value:y,source:null,stack:null}),o=Lc(s,o,f)}else if(Jn||Do(s,o,f,!1),L=(f&s.childLanes)!==0,Jn||L){if(L=Bn,L!==null&&(y=mo(L,f),y!==0&&y!==te.retryLane))throw te.retryLane=y,Ro(s,y),h(L,s,y),Qf;Ex(V)||zt(),o=Lc(s,o,f)}else Ex(V)?(o.flags|=192,o.child=s.child,o=null):(s=te.treeContext,zn=yr(V.nextSibling),Oi=o,un=!0,Hr=null,Pi=!1,s!==null&&Fu(o,s),o=Fo(o,y.children),o.flags|=4096);return o}return A?(kr(),V=y.fallback,A=o.mode,te=s.child,_e=te.sibling,y=ir(te,{mode:"hidden",children:y.children}),y.subtreeFlags=te.subtreeFlags&65011712,_e!==null?V=ir(_e,V):(V=Pr(V,A,f,null),V.flags|=2),V.return=o,y.return=o,y.sibling=V,o.child=y,Hs(null,y),y=o.child,V=s.child.memoizedState,V===null?V=Ss(f):(A=V.cachePool,A!==null?(te=Tt._currentValue,A=A.parent!==te?{parent:te,pool:te}:A):A=Lf(),V={baseLanes:V.baseLanes|f,cachePool:A}),y.memoizedState=V,y.childLanes=sh(s,L,f),o.memoizedState=ss,Hs(s.child,y)):(jo(o),f=s.child,s=f.sibling,f=ir(f,{mode:"visible",children:y.children}),f.return=o,f.sibling=null,s!==null&&(L=o.deletions,L===null?(o.deletions=[s],o.flags|=16):L.push(s)),o.child=f,o.memoizedState=null,f)}function Fo(s,o){return o=Nc({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Nc(s,o){return s=ga(22,s,null,o),s.lanes=0,s}function Lc(s,o,f){return Al(o,s.child,null,f),s=Fo(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function El(s,o,f){s.lanes|=o;var y=s.alternate;y!==null&&(y.lanes|=o),Gr(s.return,o,f)}function rh(s,o,f,y,A,T){var L=s.memoizedState;L===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:y,tail:f,tailMode:A,treeForkCount:T}:(L.isBackwards=o,L.rendering=null,L.renderingStartTime=0,L.last=y,L.tail=f,L.tailMode=A,L.treeForkCount=T)}function oh(s,o,f){var y=o.pendingProps,A=y.revealOrder,T=y.tail;y=y.children;var L=Qn.current,V=(L&2)!==0;if(V?(L=L&1|2,o.flags|=128):L&=1,Ce(Qn,L),ei(s,o,y,f),y=un?Ac:0,!V&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&El(s,f,o);else if(s.tag===19)El(s,f,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(A){case"forwards":for(f=o.child,A=null;f!==null;)s=f.alternate,s!==null&&Hf(s)===null&&(A=f),f=f.sibling;f=A,f===null?(A=o.child,o.child=null):(A=f.sibling,f.sibling=null),rh(o,!1,A,f,T,y);break;case"backwards":case"unstable_legacy-backwards":for(f=null,A=o.child,o.child=null;A!==null;){if(s=A.alternate,s!==null&&Hf(s)===null){o.child=A;break}s=A.sibling,A.sibling=f,f=A,A=s}rh(o,!0,f,null,T,y);break;case"together":rh(o,!1,null,null,void 0,y);break;default:o.memoizedState=null}return o.child}function Fs(s,o,f){if(s!==null&&(o.dependencies=s.dependencies),cs|=o.lanes,(f&o.childLanes)===0)if(s!==null){if(Do(s,o,f,!1),(f&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,f=ir(s,s.pendingProps),o.child=f,f.return=o;s.sibling!==null;)s=s.sibling,f=f.sibling=ir(s,s.pendingProps),f.return=o;f.sibling=null}return o.child}function Go(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Sc(s)))}function lh(s,o,f){switch(o.tag){case 3:Ke(o,o.stateNode.containerInfo),Fr(o,Tt,s.memoizedState.cache),vl();break;case 27:case 5:at(o);break;case 4:Ke(o,o.stateNode.containerInfo);break;case 10:Fr(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,pm(o),null;break;case 13:var y=o.memoizedState;if(y!==null)return y.dehydrated!==null?(jo(o),o.flags|=128,null):(f&o.child.childLanes)!==0?rs(s,o,f):(jo(o),s=Fs(s,o,f),s!==null?s.sibling:null);jo(o);break;case 19:var A=(s.flags&128)!==0;if(y=(f&o.childLanes)!==0,y||(Do(s,o,f,!1),y=(f&o.childLanes)!==0),A){if(y)return oh(s,o,f);o.flags|=128}if(A=o.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Ce(Qn,Qn.current),y)break;return null;case 22:return o.lanes=0,as(s,o,f,o.pendingProps);case 24:Fr(o,Tt,s.memoizedState.cache)}return Fs(s,o,f)}function $f(s,o,f){if(s!==null)if(s.memoizedProps!==o.pendingProps)Jn=!0;else{if(!Go(s,f)&&(o.flags&128)===0)return Jn=!1,lh(s,o,f);Jn=(s.flags&131072)!==0}else Jn=!1,un&&(o.flags&1048576)!==0&&$0(o,Ac,o.index);switch(o.lanes=0,o.tag){case 16:e:{var y=o.pendingProps;if(s=bl(o.elementType),o.type=s,typeof s=="function")ya(s)?(y=Xi(s,y),o.tag=1,o=Ji(null,o,s,y,f)):(o.tag=0,o=Dc(null,o,s,y,f));else{if(s!=null){var A=s.$$typeof;if(A===N){o.tag=11,o=nh(null,o,s,y,f);break e}else if(A===F){o.tag=14,o=ih(null,o,s,y,f);break e}}throw o=ge(s)||s,Error(i(306,o,""))}}return o;case 0:return Dc(s,o,o.type,o.pendingProps,f);case 1:return y=o.type,A=Xi(y,o.pendingProps),Ji(s,o,y,A,f);case 3:e:{if(Ke(o,o.stateNode.containerInfo),s===null)throw Error(i(387));y=o.pendingProps;var T=o.memoizedState;A=T.element,hm(s,o),Sl(o,y,null,f);var L=o.memoizedState;if(y=L.cache,Fr(o,Tt,y),y!==T.cache&&Nf(o,[Tt],f,!0),Xu(),y=L.element,T.isDehydrated)if(T={element:y,isDehydrated:!1,cache:L.cache},o.updateQueue.baseState=T,o.memoizedState=T,o.flags&256){o=vn(s,o,y,f);break e}else if(y!==A){A=Ta(Error(i(424)),o),Gu(A),o=vn(s,o,y,f);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(zn=yr(s.firstChild),Oi=o,un=!0,Hr=null,Pi=!0,f=t1(o,null,y,f),o.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(vl(),y===A){o=Fs(s,o,f);break e}ei(s,o,y,f)}o=o.child}return o;case 26:return js(s,o),s===null?(f=YS(o.type,null,o.pendingProps,null))?o.memoizedState=f:un||(f=o.type,s=o.pendingProps,y=L1(ve.current).createElement(f),y[Kt]=o,y[Mi]=s,Aa(y,f,s),Ge(y),o.stateNode=y):o.memoizedState=YS(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return at(o),s===null&&un&&(y=o.stateNode=ZS(o.type,o.pendingProps,ve.current),Oi=o,Pi=!0,A=zn,Gc(o.type)?(wx=A,zn=yr(y.firstChild)):zn=A),ei(s,o,o.pendingProps.children,f),js(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&un&&((A=y=zn)&&(y=_9(y,o.type,o.pendingProps,Pi),y!==null?(o.stateNode=y,Oi=o,zn=yr(y.firstChild),Pi=!1,A=!0):A=!1),A||on(o)),at(o),A=o.type,T=o.pendingProps,L=s!==null?s.memoizedProps:null,y=T.children,Sx(A,T)?y=null:L!==null&&Sx(A,L)&&(o.flags|=32),o.memoizedState!==null&&(A=ym(s,o,sx,null,null,f),Km._currentValue=A),js(s,o),ei(s,o,y,f),o.child;case 6:return s===null&&un&&((s=f=zn)&&(f=b9(f,o.pendingProps,Pi),f!==null?(o.stateNode=f,Oi=o,zn=null,s=!0):s=!1),s||on(o)),null;case 13:return rs(s,o,f);case 4:return Ke(o,o.stateNode.containerInfo),y=o.pendingProps,s===null?o.child=Al(o,null,y,f):ei(s,o,y,f),o.child;case 11:return nh(s,o,o.type,o.pendingProps,f);case 7:return ei(s,o,o.pendingProps,f),o.child;case 8:return ei(s,o,o.pendingProps.children,f),o.child;case 12:return ei(s,o,o.pendingProps.children,f),o.child;case 10:return y=o.pendingProps,Fr(o,o.type,y.value),ei(s,o,y.children,f),o.child;case 9:return A=o.type._context,y=o.pendingProps.children,xl(o),A=Ui(A),y=y(A),o.flags|=1,ei(s,o,y,f),o.child;case 14:return ih(s,o,o.type,o.pendingProps,f);case 15:return is(s,o,o.type,o.pendingProps,f);case 19:return oh(s,o,f);case 31:return ah(s,o,f);case 22:return as(s,o,f,o.pendingProps);case 24:return xl(o),y=Ui(Tt),s===null?(A=or(),A===null&&(A=Bn,T=am(),A.pooledCache=T,T.refCount++,T!==null&&(A.pooledCacheLanes|=f),A=T),o.memoizedState={parent:y,cache:A},um(o),Fr(o,Tt,A)):((s.lanes&f)!==0&&(hm(s,o),Sl(o,null,null,f),Xu()),A=s.memoizedState,T=o.memoizedState,A.parent!==y?(A={parent:y,cache:y},o.memoizedState=A,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=A),Fr(o,Tt,y)):(y=T.cache,Fr(o,Tt,y),y!==A.cache&&Nf(o,[Tt],f,!0))),ei(s,o,o.pendingProps.children,f),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Da(s){s.flags|=4}function zo(s,o,f,y,A){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(A&335544128)===A)if(s.stateNode.complete)s.flags|=8192;else if(Qe())s.flags|=8192;else throw Bt=ku,Vu}else s.flags&=-16777217}function Xr(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!eM(o))if(Qe())s.flags|=8192;else throw Bt=ku,Vu}function Oc(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?yn():536870912,s.lanes|=o,us|=o)}function ch(s,o){if(!un)switch(s.tailMode){case"hidden":o=s.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:y.sibling=null}}function On(s){var o=s.alternate!==null&&s.alternate.child===s.child,f=0,y=0;if(o)for(var A=s.child;A!==null;)f|=A.lanes|A.childLanes,y|=A.subtreeFlags&65011712,y|=A.flags&65011712,A.return=s,A=A.sibling;else for(A=s.child;A!==null;)f|=A.lanes|A.childLanes,y|=A.subtreeFlags,y|=A.flags,A.return=s,A=A.sibling;return s.subtreeFlags|=y,s.childLanes=f,o}function Gm(s,o,f){var y=o.pendingProps;switch(Bo(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(o),null;case 1:return On(o),null;case 3:return f=o.stateNode,y=null,s!==null&&(y=s.memoizedState.cache),o.memoizedState.cache!==y&&(o.flags|=2048),_s(Tt),it(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(yl(o)?Da(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,em())),On(o),null;case 26:var A=o.type,T=o.memoizedState;return s===null?(Da(o),T!==null?(On(o),Xr(o,T)):(On(o),zo(o,A,null,y,f))):T?T!==s.memoizedState?(Da(o),On(o),Xr(o,T)):(On(o),o.flags&=-16777217):(s=s.memoizedProps,s!==y&&Da(o),On(o),zo(o,A,s,y,f)),null;case 27:if(ht(o),f=ve.current,A=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==y&&Da(o);else{if(!y){if(o.stateNode===null)throw Error(i(166));return On(o),null}s=Re.current,yl(o)?Df(o):(s=ZS(A,y,f),o.stateNode=s,Da(o))}return On(o),null;case 5:if(ht(o),A=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==y&&Da(o);else{if(!y){if(o.stateNode===null)throw Error(i(166));return On(o),null}if(T=Re.current,yl(o))Df(o);else{var L=L1(ve.current);switch(T){case 1:T=L.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:T=L.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":T=L.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":T=L.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":T=L.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof y.is=="string"?L.createElement("select",{is:y.is}):L.createElement("select"),y.multiple?T.multiple=!0:y.size&&(T.size=y.size);break;default:T=typeof y.is=="string"?L.createElement(A,{is:y.is}):L.createElement(A)}}T[Kt]=o,T[Mi]=y;e:for(L=o.child;L!==null;){if(L.tag===5||L.tag===6)T.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===o)break e;for(;L.sibling===null;){if(L.return===null||L.return===o)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}o.stateNode=T;e:switch(Aa(T,A,y),A){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&Da(o)}}return On(o),zo(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,f),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==y&&Da(o);else{if(typeof y!="string"&&o.stateNode===null)throw Error(i(166));if(s=ve.current,yl(o)){if(s=o.stateNode,f=o.memoizedProps,y=null,A=Oi,A!==null)switch(A.tag){case 27:case 5:y=A.memoizedProps}s[Kt]=o,s=!!(s.nodeValue===f||y!==null&&y.suppressHydrationWarning===!0||OS(s.nodeValue,f)),s||on(o,!0)}else s=L1(s).createTextNode(y),s[Kt]=o,o.stateNode=s}return On(o),null;case 31:if(f=o.memoizedState,s===null||s.memoizedState!==null){if(y=yl(o),f!==null){if(s===null){if(!y)throw Error(i(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Kt]=o}else vl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;On(o),s=!1}else f=em(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=f),s=!0;if(!s)return o.flags&256?(es(o),o):(es(o),null);if((o.flags&128)!==0)throw Error(i(558))}return On(o),null;case 13:if(y=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(A=yl(o),y!==null&&y.dehydrated!==null){if(s===null){if(!A)throw Error(i(318));if(A=o.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(317));A[Kt]=o}else vl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;On(o),A=!1}else A=em(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=A),A=!0;if(!A)return o.flags&256?(es(o),o):(es(o),null)}return es(o),(o.flags&128)!==0?(o.lanes=f,o):(f=y!==null,s=s!==null&&s.memoizedState!==null,f&&(y=o.child,A=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(A=y.alternate.memoizedState.cachePool.pool),T=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(T=y.memoizedState.cachePool.pool),T!==A&&(y.flags|=2048)),f!==s&&f&&(o.child.flags|=8192),Oc(o,o.updateQueue),On(o),null);case 4:return it(),s===null&&vx(o.stateNode.containerInfo),On(o),null;case 10:return _s(o.type),On(o),null;case 19:if(ae(Qn),y=o.memoizedState,y===null)return On(o),null;if(A=(o.flags&128)!==0,T=y.rendering,T===null)if(A)ch(y,!1);else{if(Dn!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(T=Hf(s),T!==null){for(o.flags|=128,ch(y,!1),s=T.updateQueue,o.updateQueue=s,Oc(o,s),o.subtreeFlags=0,s=f,f=o.child;f!==null;)aa(f,s),f=f.sibling;return Ce(Qn,Qn.current&1|2),un&&Ur(o,y.treeForkCount),o.child}s=s.sibling}y.tail!==null&&z()>hs&&(o.flags|=128,A=!0,ch(y,!1),o.lanes=4194304)}else{if(!A)if(s=Hf(T),s!==null){if(o.flags|=128,A=!0,s=s.updateQueue,o.updateQueue=s,Oc(o,s),ch(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!un)return On(o),null}else 2*z()-y.renderingStartTime>hs&&f!==536870912&&(o.flags|=128,A=!0,ch(y,!1),o.lanes=4194304);y.isBackwards?(T.sibling=o.child,o.child=T):(s=y.last,s!==null?s.sibling=T:o.child=T,y.last=T)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=z(),s.sibling=null,f=Qn.current,Ce(Qn,A?f&1|2:f&1),un&&Ur(o,y.treeForkCount),s):(On(o),null);case 22:case 23:return es(o),ra(),y=o.memoizedState!==null,s!==null?s.memoizedState!==null!==y&&(o.flags|=8192):y&&(o.flags|=8192),y?(f&536870912)!==0&&(o.flags&128)===0&&(On(o),o.subtreeFlags&6&&(o.flags|=8192)):On(o),f=o.updateQueue,f!==null&&Oc(o,f.retryQueue),f=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),y=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(y=o.memoizedState.cachePool.pool),y!==f&&(o.flags|=2048),s!==null&&ae(No),null;case 24:return f=null,s!==null&&(f=s.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),_s(Tt),On(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function ed(s,o){switch(Bo(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return _s(Tt),it(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return ht(o),null;case 31:if(o.memoizedState!==null){if(es(o),o.alternate===null)throw Error(i(340));vl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(es(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));vl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ae(Qn),null;case 4:return it(),null;case 10:return _s(o.type),null;case 22:case 23:return es(o),ra(),s!==null&&ae(No),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return _s(Tt),null;case 25:return null;default:return null}}function Tl(s,o){switch(Bo(o),o.tag){case 3:_s(Tt),it();break;case 26:case 27:case 5:ht(o);break;case 4:it();break;case 31:o.memoizedState!==null&&es(o);break;case 13:es(o);break;case 19:ae(Qn);break;case 10:_s(o.type);break;case 22:case 23:es(o),ra(),s!==null&&ae(No);break;case 24:_s(Tt)}}function dr(s,o){try{var f=o.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var A=y.next;f=A;do{if((f.tag&s)===s){y=void 0;var T=f.create,L=f.inst;y=T(),L.destroy=y}f=f.next}while(f!==A)}}catch(V){jn(o,o.return,V)}}function Ms(s,o,f){try{var y=o.updateQueue,A=y!==null?y.lastEffect:null;if(A!==null){var T=A.next;y=T;do{if((y.tag&s)===s){var L=y.inst,V=L.destroy;if(V!==void 0){L.destroy=void 0,A=o;var te=f,_e=V;try{_e()}catch(De){jn(A,te,De)}}}y=y.next}while(y!==T)}}catch(De){jn(o,o.return,De)}}function Vo(s){var o=s.updateQueue;if(o!==null){var f=s.stateNode;try{Wi(o,f)}catch(y){jn(s,s.return,y)}}}function zm(s,o,f){f.props=Xi(s.type,s.memoizedProps),f.state=s.memoizedState;try{f.componentWillUnmount()}catch(y){jn(s,o,y)}}function mr(s,o){try{var f=s.ref;if(f!==null){switch(s.tag){case 26:case 27:case 5:var y=s.stateNode;break;case 30:y=s.stateNode;break;default:y=s.stateNode}typeof f=="function"?s.refCleanup=f(y):f.current=y}}catch(A){jn(s,o,A)}}function os(s,o){var f=s.ref,y=s.refCleanup;if(f!==null)if(typeof y=="function")try{y()}catch(A){jn(s,o,A)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(A){jn(s,o,A)}else f.current=null}function ls(s){var o=s.type,f=s.memoizedProps,y=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":f.autoFocus&&y.focus();break e;case"img":f.src?y.src=f.src:f.srcSet&&(y.srcset=f.srcSet)}}catch(A){jn(s,s.return,A)}}function Cs(s,o,f){try{var y=s.stateNode;m9(y,s.type,f,o),y[Mi]=o}catch(A){jn(s,s.return,A)}}function xi(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Gc(s.type)||s.tag===4}function pr(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||xi(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Gc(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Xt(s,o,f){var y=s.tag;if(y===5||y===6)s=s.stateNode,o?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(s,o):(o=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,o.appendChild(s),f=f._reactRootContainer,f!=null||o.onclick!==null||(o.onclick=er));else if(y!==4&&(y===27&&Gc(s.type)&&(f=s.stateNode,o=null),s=s.child,s!==null))for(Xt(s,o,f),s=s.sibling;s!==null;)Xt(s,o,f),s=s.sibling}function Tn(s,o,f){var y=s.tag;if(y===5||y===6)s=s.stateNode,o?f.insertBefore(s,o):f.appendChild(s);else if(y!==4&&(y===27&&Gc(s.type)&&(f=s.stateNode),s=s.child,s!==null))for(Tn(s,o,f),s=s.sibling;s!==null;)Tn(s,o,f),s=s.sibling}function ui(s){var o=s.stateNode,f=s.memoizedProps;try{for(var y=s.type,A=o.attributes;A.length;)o.removeAttributeNode(A[0]);Aa(o,y,f),o[Kt]=s,o[Mi]=f}catch(T){jn(s,s.return,T)}}var Es=!1,Yn=!1,Jr=!1,uh=typeof WeakSet=="function"?WeakSet:Set,ti=null;function Pc(s,o){if(s=s.containerInfo,bx=G1,s=Af(s),pc(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var y=f.getSelection&&f.getSelection();if(y&&y.rangeCount!==0){f=y.anchorNode;var A=y.anchorOffset,T=y.focusNode;y=y.focusOffset;try{f.nodeType,T.nodeType}catch{f=null;break e}var L=0,V=-1,te=-1,_e=0,De=0,Fe=s,Ae=null;t:for(;;){for(var Ee;Fe!==f||A!==0&&Fe.nodeType!==3||(V=L+A),Fe!==T||y!==0&&Fe.nodeType!==3||(te=L+y),Fe.nodeType===3&&(L+=Fe.nodeValue.length),(Ee=Fe.firstChild)!==null;)Ae=Fe,Fe=Ee;for(;;){if(Fe===s)break t;if(Ae===f&&++_e===A&&(V=L),Ae===T&&++De===y&&(te=L),(Ee=Fe.nextSibling)!==null)break;Fe=Ae,Ae=Fe.parentNode}Fe=Ee}f=V===-1||te===-1?null:{start:V,end:te}}else f=null}f=f||{start:0,end:0}}else f=null;for(Ax={focusedElem:s,selectionRange:f},G1=!1,ti=o;ti!==null;)if(o=ti,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ti=s;else for(;ti!==null;){switch(o=ti,T=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(f=0;f<s.length;f++)A=s[f],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&T!==null){s=void 0,f=o,A=T.memoizedProps,T=T.memoizedState,y=f.stateNode;try{var xt=Xi(f.type,A);s=y.getSnapshotBeforeUpdate(xt,T),y.__reactInternalSnapshotBeforeUpdate=s}catch(Ot){jn(f,f.return,Ot)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,f=s.nodeType,f===9)Cx(s);else if(f===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Cx(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,ti=s;break}ti=o.return}}function T1(s,o,f){var y=f.flags;switch(f.tag){case 0:case 11:case 15:Yr(s,f),y&4&&dr(5,f);break;case 1:if(Yr(s,f),y&4)if(s=f.stateNode,o===null)try{s.componentDidMount()}catch(L){jn(f,f.return,L)}else{var A=Xi(f.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(A,o,s.__reactInternalSnapshotBeforeUpdate)}catch(L){jn(f,f.return,L)}}y&64&&Vo(f),y&512&&mr(f,f.return);break;case 3:if(Yr(s,f),y&64&&(s=f.updateQueue,s!==null)){if(o=null,f.child!==null)switch(f.child.tag){case 27:case 5:o=f.child.stateNode;break;case 1:o=f.child.stateNode}try{Wi(s,o)}catch(L){jn(f,f.return,L)}}break;case 27:o===null&&y&4&&ui(f);case 26:case 5:Yr(s,f),o===null&&y&4&&ls(f),y&512&&mr(f,f.return);break;case 12:Yr(s,f);break;case 31:Yr(s,f),y&4&&nd(s,f);break;case 13:Yr(s,f),y&4&&Vm(s,f),y&64&&(s=f.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(f=n9.bind(null,f),A9(s,f))));break;case 22:if(y=f.memoizedState!==null||Es,!y){o=o!==null&&o.memoizedState!==null||Yn,A=Es;var T=Yn;Es=y,(Yn=o)&&!T?In(s,f,(f.subtreeFlags&8772)!==0):Yr(s,f),Es=A,Yn=T}break;case 30:break;default:Yr(s,f)}}function td(s){var o=s.alternate;o!==null&&(s.alternate=null,td(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&W(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var xn=null,_i=!1;function la(s,o,f){for(f=f.child;f!==null;)ko(s,o,f),f=f.sibling}function ko(s,o,f){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Ve,f)}catch{}switch(f.tag){case 26:Yn||os(f,o),la(s,o,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Yn||os(f,o);var y=xn,A=_i;Gc(f.type)&&(xn=f.stateNode,_i=!1),la(s,o,f),Xm(f.stateNode),xn=y,_i=A;break;case 5:Yn||os(f,o);case 6:if(y=xn,A=_i,xn=null,la(s,o,f),xn=y,_i=A,xn!==null)if(_i)try{(xn.nodeType===9?xn.body:xn.nodeName==="HTML"?xn.ownerDocument.body:xn).removeChild(f.stateNode)}catch(T){jn(f,o,T)}else try{xn.removeChild(f.stateNode)}catch(T){jn(f,o,T)}break;case 18:xn!==null&&(_i?(s=xn,GS(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,f.stateNode),dd(s)):GS(xn,f.stateNode));break;case 4:y=xn,A=_i,xn=f.stateNode.containerInfo,_i=!0,la(s,o,f),xn=y,_i=A;break;case 0:case 11:case 14:case 15:Ms(2,f,o),Yn||Ms(4,f,o),la(s,o,f);break;case 1:Yn||(os(f,o),y=f.stateNode,typeof y.componentWillUnmount=="function"&&zm(f,o,y)),la(s,o,f);break;case 21:la(s,o,f);break;case 22:Yn=(y=Yn)||f.memoizedState!==null,la(s,o,f),Yn=y;break;default:la(s,o,f)}}function nd(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{dd(s)}catch(f){jn(o,o.return,f)}}}function Vm(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{dd(s)}catch(f){jn(o,o.return,f)}}function w1(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new uh),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new uh),o;default:throw Error(i(435,s.tag))}}function hi(s,o){var f=w1(s);o.forEach(function(y){if(!f.has(y)){f.add(y);var A=i9.bind(null,s,y);y.then(A,A)}})}function ca(s,o){var f=o.deletions;if(f!==null)for(var y=0;y<f.length;y++){var A=f[y],T=s,L=o,V=L;e:for(;V!==null;){switch(V.tag){case 27:if(Gc(V.type)){xn=V.stateNode,_i=!1;break e}break;case 5:xn=V.stateNode,_i=!1;break e;case 3:case 4:xn=V.stateNode.containerInfo,_i=!0;break e}V=V.return}if(xn===null)throw Error(i(160));ko(T,L,A),xn=null,_i=!1,T=A.alternate,T!==null&&(T.return=null),A.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Wo(o,s),o=o.sibling}var Na=null;function Wo(s,o){var f=s.alternate,y=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ca(o,s),ni(s),y&4&&(Ms(3,s,s.return),dr(3,s),Ms(5,s,s.return));break;case 1:ca(o,s),ni(s),y&512&&(Yn||f===null||os(f,f.return)),y&64&&Es&&(s=s.updateQueue,s!==null&&(y=s.callbacks,y!==null&&(f=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=f===null?y:f.concat(y))));break;case 26:var A=Na;if(ca(o,s),ni(s),y&512&&(Yn||f===null||os(f,f.return)),y&4){var T=f!==null?f.memoizedState:null;if(y=s.memoizedState,f===null)if(y===null)if(s.stateNode===null){e:{y=s.type,f=s.memoizedProps,A=A.ownerDocument||A;t:switch(y){case"title":T=A.getElementsByTagName("title")[0],(!T||T[Dr]||T[Kt]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=A.createElement(y),A.head.insertBefore(T,A.querySelector("head > title"))),Aa(T,y,f),T[Kt]=s,Ge(T),y=T;break e;case"link":var L=QS("link","href",A).get(y+(f.href||""));if(L){for(var V=0;V<L.length;V++)if(T=L[V],T.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&T.getAttribute("rel")===(f.rel==null?null:f.rel)&&T.getAttribute("title")===(f.title==null?null:f.title)&&T.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){L.splice(V,1);break t}}T=A.createElement(y),Aa(T,y,f),A.head.appendChild(T);break;case"meta":if(L=QS("meta","content",A).get(y+(f.content||""))){for(V=0;V<L.length;V++)if(T=L[V],T.getAttribute("content")===(f.content==null?null:""+f.content)&&T.getAttribute("name")===(f.name==null?null:f.name)&&T.getAttribute("property")===(f.property==null?null:f.property)&&T.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&T.getAttribute("charset")===(f.charSet==null?null:f.charSet)){L.splice(V,1);break t}}T=A.createElement(y),Aa(T,y,f),A.head.appendChild(T);break;default:throw Error(i(468,y))}T[Kt]=s,Ge(T),y=T}s.stateNode=y}else $S(A,s.type,s.stateNode);else s.stateNode=qS(A,y,s.memoizedProps);else T!==y?(T===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):T.count--,y===null?$S(A,s.type,s.stateNode):qS(A,y,s.memoizedProps)):y===null&&s.stateNode!==null&&Cs(s,s.memoizedProps,f.memoizedProps)}break;case 27:ca(o,s),ni(s),y&512&&(Yn||f===null||os(f,f.return)),f!==null&&y&4&&Cs(s,s.memoizedProps,f.memoizedProps);break;case 5:if(ca(o,s),ni(s),y&512&&(Yn||f===null||os(f,f.return)),s.flags&32){A=s.stateNode;try{ol(A,"")}catch(xt){jn(s,s.return,xt)}}y&4&&s.stateNode!=null&&(A=s.memoizedProps,Cs(s,A,f!==null?f.memoizedProps:A)),y&1024&&(Jr=!0);break;case 6:if(ca(o,s),ni(s),y&4){if(s.stateNode===null)throw Error(i(162));y=s.memoizedProps,f=s.stateNode;try{f.nodeValue=y}catch(xt){jn(s,s.return,xt)}}break;case 3:if(U1=null,A=Na,Na=O1(o.containerInfo),ca(o,s),Na=A,ni(s),y&4&&f!==null&&f.memoizedState.isDehydrated)try{dd(o.containerInfo)}catch(xt){jn(s,s.return,xt)}Jr&&(Jr=!1,R1(s));break;case 4:y=Na,Na=O1(s.stateNode.containerInfo),ca(o,s),ni(s),Na=y;break;case 12:ca(o,s),ni(s);break;case 31:ca(o,s),ni(s),y&4&&(y=s.updateQueue,y!==null&&(s.updateQueue=null,hi(s,y)));break;case 13:ca(o,s),ni(s),s.child.flags&8192&&s.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Qr=z()),y&4&&(y=s.updateQueue,y!==null&&(s.updateQueue=null,hi(s,y)));break;case 22:A=s.memoizedState!==null;var te=f!==null&&f.memoizedState!==null,_e=Es,De=Yn;if(Es=_e||A,Yn=De||te,ca(o,s),Yn=De,Es=_e,ni(s),y&8192)e:for(o=s.stateNode,o._visibility=A?o._visibility&-2:o._visibility|1,A&&(f===null||te||Es||Yn||wl(s)),f=null,o=s;;){if(o.tag===5||o.tag===26){if(f===null){te=f=o;try{if(T=te.stateNode,A)L=T.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{V=te.stateNode;var Fe=te.memoizedProps.style,Ae=Fe!=null&&Fe.hasOwnProperty("display")?Fe.display:null;V.style.display=Ae==null||typeof Ae=="boolean"?"":(""+Ae).trim()}}catch(xt){jn(te,te.return,xt)}}}else if(o.tag===6){if(f===null){te=o;try{te.stateNode.nodeValue=A?"":te.memoizedProps}catch(xt){jn(te,te.return,xt)}}}else if(o.tag===18){if(f===null){te=o;try{var Ee=te.stateNode;A?zS(Ee,!0):zS(te.stateNode,!1)}catch(xt){jn(te,te.return,xt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;f===o&&(f=null),o=o.return}f===o&&(f=null),o.sibling.return=o.return,o=o.sibling}y&4&&(y=s.updateQueue,y!==null&&(f=y.retryQueue,f!==null&&(y.retryQueue=null,hi(s,f))));break;case 19:ca(o,s),ni(s),y&4&&(y=s.updateQueue,y!==null&&(s.updateQueue=null,hi(s,y)));break;case 30:break;case 21:break;default:ca(o,s),ni(s)}}function ni(s){var o=s.flags;if(o&2){try{for(var f,y=s.return;y!==null;){if(xi(y)){f=y;break}y=y.return}if(f==null)throw Error(i(160));switch(f.tag){case 27:var A=f.stateNode,T=pr(s);Tn(s,T,A);break;case 5:var L=f.stateNode;f.flags&32&&(ol(L,""),f.flags&=-33);var V=pr(s);Tn(s,V,L);break;case 3:case 4:var te=f.stateNode.containerInfo,_e=pr(s);Xt(s,_e,te);break;default:throw Error(i(161))}}catch(De){jn(s,s.return,De)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function R1(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;R1(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Yr(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)T1(s,o.alternate,o),o=o.sibling}function wl(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Ms(4,o,o.return),wl(o);break;case 1:os(o,o.return);var f=o.stateNode;typeof f.componentWillUnmount=="function"&&zm(o,o.return,f),wl(o);break;case 27:Xm(o.stateNode);case 26:case 5:os(o,o.return),wl(o);break;case 22:o.memoizedState===null&&wl(o);break;case 30:wl(o);break;default:wl(o)}s=s.sibling}}function In(s,o,f){for(f=f&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var y=o.alternate,A=s,T=o,L=T.flags;switch(T.tag){case 0:case 11:case 15:In(A,T,f),dr(4,T);break;case 1:if(In(A,T,f),y=T,A=y.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(_e){jn(y,y.return,_e)}if(y=T,A=y.updateQueue,A!==null){var V=y.stateNode;try{var te=A.shared.hiddenCallbacks;if(te!==null)for(A.shared.hiddenCallbacks=null,A=0;A<te.length;A++)cr(te[A],V)}catch(_e){jn(y,y.return,_e)}}f&&L&64&&Vo(T),mr(T,T.return);break;case 27:ui(T);case 26:case 5:In(A,T,f),f&&y===null&&L&4&&ls(T),mr(T,T.return);break;case 12:In(A,T,f);break;case 31:In(A,T,f),f&&L&4&&nd(A,T);break;case 13:In(A,T,f),f&&L&4&&Vm(A,T);break;case 22:T.memoizedState===null&&In(A,T,f),mr(T,T.return);break;case 30:break;default:In(A,T,f)}o=o.sibling}}function id(s,o){var f=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==f&&(s!=null&&s.refCount++,f!=null&&ki(f))}function Kr(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&ki(s))}function Ei(s,o,f,y){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Kn(s,o,f,y),o=o.sibling}function Kn(s,o,f,y){var A=o.flags;switch(o.tag){case 0:case 11:case 15:Ei(s,o,f,y),A&2048&&dr(9,o);break;case 1:Ei(s,o,f,y);break;case 3:Ei(s,o,f,y),A&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&ki(s)));break;case 12:if(A&2048){Ei(s,o,f,y),s=o.stateNode;try{var T=o.memoizedProps,L=T.id,V=T.onPostCommit;typeof V=="function"&&V(L,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(te){jn(o,o.return,te)}}else Ei(s,o,f,y);break;case 31:Ei(s,o,f,y);break;case 13:Ei(s,o,f,y);break;case 23:break;case 22:T=o.stateNode,L=o.alternate,o.memoizedState!==null?T._visibility&2?Ei(s,o,f,y):Uc(s,o):T._visibility&2?Ei(s,o,f,y):(T._visibility|=2,Zo(s,o,f,y,(o.subtreeFlags&10256)!==0||!1)),A&2048&&id(L,o);break;case 24:Ei(s,o,f,y),A&2048&&Kr(o.alternate,o);break;default:Ei(s,o,f,y)}}function Zo(s,o,f,y,A){for(A=A&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var T=s,L=o,V=f,te=y,_e=L.flags;switch(L.tag){case 0:case 11:case 15:Zo(T,L,V,te,A),dr(8,L);break;case 23:break;case 22:var De=L.stateNode;L.memoizedState!==null?De._visibility&2?Zo(T,L,V,te,A):Uc(T,L):(De._visibility|=2,Zo(T,L,V,te,A)),A&&_e&2048&&id(L.alternate,L);break;case 24:Zo(T,L,V,te,A),A&&_e&2048&&Kr(L.alternate,L);break;default:Zo(T,L,V,te,A)}o=o.sibling}}function Uc(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var f=s,y=o,A=y.flags;switch(y.tag){case 22:Uc(f,y),A&2048&&id(y.alternate,y);break;case 24:Uc(f,y),A&2048&&Kr(y.alternate,y);break;default:Uc(f,y)}o=o.sibling}}var ii=8192;function Rl(s,o,f){if(s.subtreeFlags&ii)for(s=s.child;s!==null;)fi(s,o,f),s=s.sibling}function fi(s,o,f){switch(s.tag){case 26:Rl(s,o,f),s.flags&ii&&s.memoizedState!==null&&L9(f,Na,s.memoizedState,s.memoizedProps);break;case 5:Rl(s,o,f);break;case 3:case 4:var y=Na;Na=O1(s.stateNode.containerInfo),Rl(s,o,f),Na=y;break;case 22:s.memoizedState===null&&(y=s.alternate,y!==null&&y.memoizedState!==null?(y=ii,ii=16777216,Rl(s,o,f),ii=y):Rl(s,o,f));break;default:Rl(s,o,f)}}function La(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function _a(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var f=0;f<o.length;f++){var y=o[f];ti=y,hh(y,s)}La(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Il(s),s=s.sibling}function Il(s){switch(s.tag){case 0:case 11:case 15:_a(s),s.flags&2048&&Ms(9,s,s.return);break;case 3:_a(s);break;case 12:_a(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,ad(s)):_a(s);break;default:_a(s)}}function ad(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var f=0;f<o.length;f++){var y=o[f];ti=y,hh(y,s)}La(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Ms(8,o,o.return),ad(o);break;case 22:f=o.stateNode,f._visibility&2&&(f._visibility&=-3,ad(o));break;default:ad(o)}s=s.sibling}}function hh(s,o){for(;ti!==null;){var f=ti;switch(f.tag){case 0:case 11:case 15:Ms(8,f,o);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var y=f.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:ki(f.memoizedState.cache)}if(y=f.child,y!==null)y.return=f,ti=y;else e:for(f=s;ti!==null;){y=ti;var A=y.sibling,T=y.return;if(td(y),y===f){ti=null;break e}if(A!==null){A.return=T,ti=A;break e}ti=T}}}var sd={getCacheForType:function(s){var o=Ui(Tt),f=o.data.get(s);return f===void 0&&(f=s(),o.data.set(s,f)),f},cacheSignal:function(){return Ui(Tt).controller.signal}},rd=typeof WeakMap=="function"?WeakMap:Map,mn=0,Bn=null,Jt=null,ln=0,wt=0,an=null,Vt=!1,en=!1,Hn=!1,di=0,Dn=0,cs=0,qr=0,Gs=0,pn=0,us=0,zs=null,ua=null,Oa=!1,Qr=0,Hc=0,hs=1/0,jc=null,gr=null,qn=0,Vs=null,fs=null,Ts=0,$r=0,Bl=null,od=null,Dl=0,Nl=null;function ba(){return(mn&2)!==0&&ln!==0?ln&-ln:G.T!==null?mx():Ca()}function c(){if(pn===0)if((ln&536870912)===0||un){var s=tt;tt<<=1,(tt&3932160)===0&&(tt=262144),pn=s}else pn=536870912;return s=Ci.current,s!==null&&(s.flags|=32),pn}function h(s,o,f){(s===Bn&&(wt===2||wt===9)||s.cancelPendingCommit!==null)&&(de(s,0),D(s,ln,pn,!1)),$i(s,f),((mn&2)===0||s!==Bn)&&(s===Bn&&((mn&2)===0&&(qr|=f),Dn===4&&D(s,ln,pn,!1)),Xo(s))}function x(s,o,f){if((mn&6)!==0)throw Error(i(327));var y=!f&&(o&127)===0&&(o&s.expiredLanes)===0||mt(s,o),A=y?Ll(s,o):Pa(s,o,!0),T=y;do{if(A===0){en&&!y&&D(s,o,0,!1);break}else{if(f=s.current.alternate,T&&!R(f)){A=Pa(s,o,!1),T=!1;continue}if(A===2){if(T=o,s.errorRecoveryDisabledLanes&T)var L=0;else L=s.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){o=L;e:{var V=s;A=zs;var te=V.current.memoizedState.isDehydrated;if(te&&(de(V,L).flags|=256),L=Pa(V,L,!1),L!==2){if(Hn&&!te){V.errorRecoveryDisabledLanes|=T,qr|=T,A=4;break e}T=ua,ua=A,T!==null&&(ua===null?ua=T:ua.push.apply(ua,T))}A=L}if(T=!1,A!==2)continue}}if(A===1){de(s,0),D(s,o,0,!0);break}e:{switch(y=s,T=A,T){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:D(y,o,pn,!Vt);break e;case 2:ua=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(A=Qr+300-z(),10<A)){if(D(y,o,pn,!Vt),je(y,0,!0)!==0)break e;Ts=o,y.timeoutHandle=jS(S.bind(null,y,f,ua,jc,Oa,o,pn,qr,us,Vt,T,"Throttled",-0,0),A);break e}S(y,f,ua,jc,Oa,o,pn,qr,us,Vt,T,null,-0,0)}}break}while(!0);Xo(s)}function S(s,o,f,y,A,T,L,V,te,_e,De,Fe,Ae,Ee){if(s.timeoutHandle=-1,Fe=o.subtreeFlags,Fe&8192||(Fe&16785408)===16785408){Fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:er},fi(o,T,Fe);var xt=(T&62914560)===T?Qr-z():(T&4194048)===T?Hc-z():0;if(xt=O9(Fe,xt),xt!==null){Ts=T,s.cancelPendingCommit=xt(Ht.bind(null,s,o,T,f,y,A,L,V,te,De,Fe,null,Ae,Ee)),D(s,T,L,!_e);return}}Ht(s,o,T,f,y,A,L,V,te)}function R(s){for(var o=s;;){var f=o.tag;if((f===0||f===11||f===15)&&o.flags&16384&&(f=o.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var y=0;y<f.length;y++){var A=f[y],T=A.getSnapshot;A=A.value;try{if(!Xn(T(),A))return!1}catch{return!1}}if(f=o.child,o.subtreeFlags&16384&&f!==null)f.return=o,o=f;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function D(s,o,f,y){o&=~Gs,o&=~qr,s.suspendedLanes|=o,s.pingedLanes&=~o,y&&(s.warmLanes|=o),y=s.expirationTimes;for(var A=o;0<A;){var T=31-ut(A),L=1<<T;y[T]=-1,A&=~L}f!==0&&rc(s,f,o)}function k(){return(mn&6)===0?(km(0),!1):!0}function ee(){if(Jt!==null){if(wt===0)var s=Jt.return;else s=Jt,sa=jr=null,_m(s),Oo=null,Po=0,s=Jt;for(;s!==null;)Tl(s.alternate,s),s=s.return;Jt=null}}function de(s,o){var f=s.timeoutHandle;f!==-1&&(s.timeoutHandle=-1,y9(f)),f=s.cancelPendingCommit,f!==null&&(s.cancelPendingCommit=null,f()),Ts=0,ee(),Bn=s,Jt=f=ir(s.current,null),ln=o,wt=0,an=null,Vt=!1,en=mt(s,o),Hn=!1,us=pn=Gs=qr=cs=Dn=0,ua=zs=null,Oa=!1,(o&8)!==0&&(o|=o&32);var y=s.entangledLanes;if(y!==0)for(s=s.entanglements,y&=o;0<y;){var A=31-ut(y),T=1<<A;o|=s[A],y&=~T}return di=o,wo(),f}function Oe(s,o){Ut=null,G.H=$u,o===Lo||o===Us?(o=Of(),wt=3):o===Vu?(o=Of(),wt=4):wt=o===Qf?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,an=o,Jt===null&&(Dn=1,qf(s,Ta(o,s.current)))}function Qe(){var s=Ci.current;return s===null?!0:(ln&4194048)===ln?bs===null:(ln&62914560)===ln||(ln&536870912)!==0?s===bs:!1}function lt(){var s=G.H;return G.H=$u,s===null?$u:s}function ft(){var s=G.A;return G.A=sd,s}function zt(){Dn=4,Vt||(ln&4194048)!==ln&&Ci.current!==null||(en=!0),(cs&134217727)===0&&(qr&134217727)===0||Bn===null||D(Bn,ln,pn,!1)}function Pa(s,o,f){var y=mn;mn|=2;var A=lt(),T=ft();(Bn!==s||ln!==o)&&(jc=null,de(s,o)),o=!1;var L=Dn;e:do try{if(wt!==0&&Jt!==null){var V=Jt,te=an;switch(wt){case 8:ee(),L=6;break e;case 3:case 2:case 9:case 6:Ci.current===null&&(o=!0);var _e=wt;if(wt=0,an=null,Xe(s,V,te,_e),f&&en){L=0;break e}break;default:_e=wt,wt=0,an=null,Xe(s,V,te,_e)}}fh(),L=Dn;break}catch(De){Oe(s,De)}while(!0);return o&&s.shellSuspendCounter++,sa=jr=null,mn=y,G.H=A,G.A=T,Jt===null&&(Bn=null,ln=0,wo()),L}function fh(){for(;Jt!==null;)he(Jt)}function Ll(s,o){var f=mn;mn|=2;var y=lt(),A=ft();Bn!==s||ln!==o?(jc=null,hs=z()+500,de(s,o)):en=mt(s,o);e:do try{if(wt!==0&&Jt!==null){o=Jt;var T=an;t:switch(wt){case 1:wt=0,an=null,Xe(s,o,T,1);break;case 2:case 9:if(e1(T)){wt=0,an=null,Me(o);break}o=function(){wt!==2&&wt!==9||Bn!==s||(wt=7),Xo(s)},T.then(o,o);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:e1(T)?(wt=0,an=null,Me(o)):(wt=0,an=null,Xe(s,o,T,7));break;case 5:var L=null;switch(Jt.tag){case 26:L=Jt.memoizedState;case 5:case 27:var V=Jt;if(L?eM(L):V.stateNode.complete){wt=0,an=null;var te=V.sibling;if(te!==null)Jt=te;else{var _e=V.return;_e!==null?(Jt=_e,Ct(_e)):Jt=null}break t}}wt=0,an=null,Xe(s,o,T,5);break;case 6:wt=0,an=null,Xe(s,o,T,6);break;case 8:ee(),Dn=6;break e;default:throw Error(i(462))}}be();break}catch(De){Oe(s,De)}while(!0);return sa=jr=null,G.H=y,G.A=A,mn=f,Jt!==null?0:(Bn=null,ln=0,wo(),Dn)}function be(){for(;Jt!==null&&!Lt();)he(Jt)}function he(s){var o=$f(s.alternate,s,di);s.memoizedProps=s.pendingProps,o===null?Ct(s):Jt=o}function Me(s){var o=s,f=o.alternate;switch(o.tag){case 15:case 0:o=oa(f,o,o.pendingProps,o.type,void 0,ln);break;case 11:o=oa(f,o,o.pendingProps,o.type.render,o.ref,ln);break;case 5:_m(o);default:Tl(f,o),o=Jt=aa(o,di),o=$f(f,o,di)}s.memoizedProps=s.pendingProps,o===null?Ct(s):Jt=o}function Xe(s,o,f,y){sa=jr=null,_m(o),Oo=null,Po=0;var A=o.return;try{if(ns(s,A,o,f,ln)){Dn=1,qf(s,Ta(f,s.current)),Jt=null;return}}catch(T){if(A!==null)throw Jt=A,T;Dn=1,qf(s,Ta(f,s.current)),Jt=null;return}o.flags&32768?(un||y===1?s=!0:en||(ln&536870912)!==0?s=!1:(Vt=s=!0,(y===2||y===9||y===3||y===6)&&(y=Ci.current,y!==null&&y.tag===13&&(y.flags|=16384))),Vn(o,s)):Ct(o)}function Ct(s){var o=s;do{if((o.flags&32768)!==0){Vn(o,Vt);return}s=o.return;var f=Gm(o.alternate,o,di);if(f!==null){Jt=f;return}if(o=o.sibling,o!==null){Jt=o;return}Jt=o=s}while(o!==null);Dn===0&&(Dn=5)}function Vn(s,o){do{var f=ed(s.alternate,s);if(f!==null){f.flags&=32767,Jt=f;return}if(f=s.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!o&&(s=s.sibling,s!==null)){Jt=s;return}Jt=s=f}while(s!==null);Dn=6,Jt=null}function Ht(s,o,f,y,A,T,L,V,te){s.cancelPendingCommit=null;do ld();while(qn!==0);if((mn&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(T=o.lanes|o.childLanes,T|=Tf,Xa(s,f,T,L,V,te),s===Bn&&(Jt=Bn=null,ln=0),fs=o,Vs=s,Ts=f,$r=T,Bl=A,od=y,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,a9(Ie,function(){return AS(),null})):(s.callbackNode=null,s.callbackPriority=0),y=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||y){y=G.T,G.T=null,A=Z.p,Z.p=2,L=mn,mn|=4;try{Pc(s,o,f)}finally{mn=L,Z.p=A,G.T=y}}qn=1,_n(),Ti(),bn()}}function _n(){if(qn===1){qn=0;var s=Vs,o=fs,f=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||f){f=G.T,G.T=null;var y=Z.p;Z.p=2;var A=mn;mn|=4;try{Wo(o,s);var T=Ax,L=Af(s.containerInfo),V=T.focusedElem,te=T.selectionRange;if(L!==V&&V&&V.ownerDocument&&bf(V.ownerDocument.documentElement,V)){if(te!==null&&pc(V)){var _e=te.start,De=te.end;if(De===void 0&&(De=_e),"selectionStart"in V)V.selectionStart=_e,V.selectionEnd=Math.min(De,V.value.length);else{var Fe=V.ownerDocument||document,Ae=Fe&&Fe.defaultView||window;if(Ae.getSelection){var Ee=Ae.getSelection(),xt=V.textContent.length,Ot=Math.min(te.start,xt),Wn=te.end===void 0?Ot:Math.min(te.end,xt);!Ee.extend&&Ot>Wn&&(L=Wn,Wn=Ot,Ot=L);var fe=Y0(V,Ot),ne=Y0(V,Wn);if(fe&&ne&&(Ee.rangeCount!==1||Ee.anchorNode!==fe.node||Ee.anchorOffset!==fe.offset||Ee.focusNode!==ne.node||Ee.focusOffset!==ne.offset)){var xe=Fe.createRange();xe.setStart(fe.node,fe.offset),Ee.removeAllRanges(),Ot>Wn?(Ee.addRange(xe),Ee.extend(ne.node,ne.offset)):(xe.setEnd(ne.node,ne.offset),Ee.addRange(xe))}}}}for(Fe=[],Ee=V;Ee=Ee.parentNode;)Ee.nodeType===1&&Fe.push({element:Ee,left:Ee.scrollLeft,top:Ee.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<Fe.length;V++){var Ue=Fe[V];Ue.element.scrollLeft=Ue.left,Ue.element.scrollTop=Ue.top}}G1=!!bx,Ax=bx=null}finally{mn=A,Z.p=y,G.T=f}}s.current=o,qn=2}}function Ti(){if(qn===2){qn=0;var s=Vs,o=fs,f=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||f){f=G.T,G.T=null;var y=Z.p;Z.p=2;var A=mn;mn|=4;try{T1(s,o.alternate,o)}finally{mn=A,Z.p=y,G.T=f}}qn=3}}function bn(){if(qn===4||qn===3){qn=0,q();var s=Vs,o=fs,f=Ts,y=od;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?qn=5:(qn=0,fs=Vs=null,eo(s,s.pendingLanes));var A=s.pendingLanes;if(A===0&&(gr=null),sl(f),o=o.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Ve,o,void 0,(o.current.flags&128)===128)}catch{}if(y!==null){o=G.T,A=Z.p,Z.p=2,G.T=null;try{for(var T=s.onRecoverableError,L=0;L<y.length;L++){var V=y[L];T(V.value,{componentStack:V.stack})}}finally{G.T=o,Z.p=A}}(Ts&3)!==0&&ld(),Xo(s),A=s.pendingLanes,(f&261930)!==0&&(A&42)!==0?s===Nl?Dl++:(Dl=0,Nl=s):Dl=0,km(0)}}function eo(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,ki(o)))}function ld(){return _n(),Ti(),bn(),AS()}function AS(){if(qn!==5)return!1;var s=Vs,o=$r;$r=0;var f=sl(Ts),y=G.T,A=Z.p;try{Z.p=32>f?32:f,G.T=null,f=Bl,Bl=null;var T=Vs,L=Ts;if(qn=0,fs=Vs=null,Ts=0,(mn&6)!==0)throw Error(i(331));var V=mn;if(mn|=4,Il(T.current),Kn(T,T.current,L,f),mn=V,km(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Ve,T)}catch{}return!0}finally{Z.p=A,G.T=y,eo(s,o)}}function SS(s,o,f){o=Ta(f,o),o=Fm(s.stateNode,o,2),s=Vr(s,o,2),s!==null&&($i(s,2),Xo(s))}function jn(s,o,f){if(s.tag===3)SS(s,s,f);else for(;o!==null;){if(o.tag===3){SS(o,s,f);break}else if(o.tag===1){var y=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(gr===null||!gr.has(y))){s=Ta(f,s),f=Bc(2),y=Vr(o,f,2),y!==null&&(Ba(f,y,o,s),$i(y,2),Xo(y));break}}o=o.return}}function hx(s,o,f){var y=s.pingCache;if(y===null){y=s.pingCache=new rd;var A=new Set;y.set(o,A)}else A=y.get(o),A===void 0&&(A=new Set,y.set(o,A));A.has(f)||(Hn=!0,A.add(f),s=t9.bind(null,s,o,f),o.then(s,s))}function t9(s,o,f){var y=s.pingCache;y!==null&&y.delete(o),s.pingedLanes|=s.suspendedLanes&f,s.warmLanes&=~f,Bn===s&&(ln&f)===f&&(Dn===4||Dn===3&&(ln&62914560)===ln&&300>z()-Qr?(mn&2)===0&&de(s,0):Gs|=f,us===ln&&(us=0)),Xo(s)}function MS(s,o){o===0&&(o=yn()),s=Ro(s,o),s!==null&&($i(s,o),Xo(s))}function n9(s){var o=s.memoizedState,f=0;o!==null&&(f=o.retryLane),MS(s,f)}function i9(s,o){var f=0;switch(s.tag){case 31:case 13:var y=s.stateNode,A=s.memoizedState;A!==null&&(f=A.retryLane);break;case 19:y=s.stateNode;break;case 22:y=s.stateNode._retryCache;break;default:throw Error(i(314))}y!==null&&y.delete(o),MS(s,f)}function a9(s,o){return Je(s,o)}var I1=null,cd=null,fx=!1,B1=!1,dx=!1,Fc=0;function Xo(s){s!==cd&&s.next===null&&(cd===null?I1=cd=s:cd=cd.next=s),B1=!0,fx||(fx=!0,r9())}function km(s,o){if(!dx&&B1){dx=!0;do for(var f=!1,y=I1;y!==null;){if(s!==0){var A=y.pendingLanes;if(A===0)var T=0;else{var L=y.suspendedLanes,V=y.pingedLanes;T=(1<<31-ut(42|s)+1)-1,T&=A&~(L&~V),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(f=!0,wS(y,T))}else T=ln,T=je(y,y===Bn?T:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(T&3)===0||mt(y,T)||(f=!0,wS(y,T));y=y.next}while(f);dx=!1}}function s9(){CS()}function CS(){B1=fx=!1;var s=0;Fc!==0&&g9()&&(s=Fc);for(var o=z(),f=null,y=I1;y!==null;){var A=y.next,T=ES(y,o);T===0?(y.next=null,f===null?I1=A:f.next=A,A===null&&(cd=f)):(f=y,(s!==0||(T&3)!==0)&&(B1=!0)),y=A}qn!==0&&qn!==5||km(s),Fc!==0&&(Fc=0)}function ES(s,o){for(var f=s.suspendedLanes,y=s.pingedLanes,A=s.expirationTimes,T=s.pendingLanes&-62914561;0<T;){var L=31-ut(T),V=1<<L,te=A[L];te===-1?((V&f)===0||(V&y)!==0)&&(A[L]=Pt(V,o)):te<=o&&(s.expiredLanes|=V),T&=~V}if(o=Bn,f=ln,f=je(s,s===o?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),y=s.callbackNode,f===0||s===o&&(wt===2||wt===9)||s.cancelPendingCommit!==null)return y!==null&&y!==null&&Rt(y),s.callbackNode=null,s.callbackPriority=0;if((f&3)===0||mt(s,f)){if(o=f&-f,o===s.callbackPriority)return o;switch(y!==null&&Rt(y),sl(f)){case 2:case 8:f=He;break;case 32:f=Ie;break;case 268435456:f=et;break;default:f=Ie}return y=TS.bind(null,s),f=Je(f,y),s.callbackPriority=o,s.callbackNode=f,o}return y!==null&&y!==null&&Rt(y),s.callbackPriority=2,s.callbackNode=null,2}function TS(s,o){if(qn!==0&&qn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var f=s.callbackNode;if(ld()&&s.callbackNode!==f)return null;var y=ln;return y=je(s,s===Bn?y:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),y===0?null:(x(s,y,o),ES(s,z()),s.callbackNode!=null&&s.callbackNode===f?TS.bind(null,s):null)}function wS(s,o){if(ld())return null;x(s,o,!0)}function r9(){v9(function(){(mn&6)!==0?Je(Te,s9):CS()})}function mx(){if(Fc===0){var s=zr;s===0&&(s=Ye,Ye<<=1,(Ye&261888)===0&&(Ye=256)),Fc=s}return Fc}function RS(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Mu(""+s)}function IS(s,o){var f=o.ownerDocument.createElement("input");return f.name=o.name,f.value=o.value,s.id&&f.setAttribute("form",s.id),o.parentNode.insertBefore(f,o),s=new FormData(s),f.parentNode.removeChild(f),s}function o9(s,o,f,y,A){if(o==="submit"&&f&&f.stateNode===A){var T=RS((A[Mi]||null).action),L=y.submitter;L&&(o=(o=L[Mi]||null)?RS(o.formAction):L.getAttribute("formAction"),o!==null&&(T=o,L=null));var V=new wu("action","action",null,y,A);s.push({event:V,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(Fc!==0){var te=L?IS(A,L):new FormData(A);Om(f,{pending:!0,data:te,method:A.method,action:T},null,te)}}else typeof T=="function"&&(V.preventDefault(),te=L?IS(A,L):new FormData(A),Om(f,{pending:!0,data:te,method:A.method,action:T},T,te))},currentTarget:A}]})}}for(var px=0;px<Ef.length;px++){var gx=Ef[px],l9=gx.toLowerCase(),c9=gx[0].toUpperCase()+gx.slice(1);ia(l9,"on"+c9)}ia(Ea,"onAnimationEnd"),ia(K0,"onAnimationIteration"),ia(nr,"onAnimationStart"),ia("dblclick","onDoubleClick"),ia("focusin","onFocus"),ia("focusout","onBlur"),ia(xc,"onTransitionRun"),ia(Eo,"onTransitionStart"),ia(q0,"onTransitionCancel"),ia(Cf,"onTransitionEnd"),Mt("onMouseEnter",["mouseout","mouseover"]),Mt("onMouseLeave",["mouseout","mouseover"]),Mt("onPointerEnter",["pointerout","pointerover"]),Mt("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wm));function BS(s,o){o=(o&4)!==0;for(var f=0;f<s.length;f++){var y=s[f],A=y.event;y=y.listeners;e:{var T=void 0;if(o)for(var L=y.length-1;0<=L;L--){var V=y[L],te=V.instance,_e=V.currentTarget;if(V=V.listener,te!==T&&A.isPropagationStopped())break e;T=V,A.currentTarget=_e;try{T(A)}catch(De){To(De)}A.currentTarget=null,T=te}else for(L=0;L<y.length;L++){if(V=y[L],te=V.instance,_e=V.currentTarget,V=V.listener,te!==T&&A.isPropagationStopped())break e;T=V,A.currentTarget=_e;try{T(A)}catch(De){To(De)}A.currentTarget=null,T=te}}}}function hn(s,o){var f=o[oc];f===void 0&&(f=o[oc]=new Set);var y=s+"__bubble";f.has(y)||(DS(o,s,2,!1),f.add(y))}function yx(s,o,f){var y=0;o&&(y|=4),DS(f,s,y,o)}var D1="_reactListening"+Math.random().toString(36).slice(2);function vx(s){if(!s[D1]){s[D1]=!0,nt.forEach(function(f){f!=="selectionchange"&&(u9.has(f)||yx(f,!1,s),yx(f,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[D1]||(o[D1]=!0,yx("selectionchange",!1,o))}}function DS(s,o,f,y){switch(oM(o)){case 2:var A=H9;break;case 8:A=j9;break;default:A=Nx}f=A.bind(null,o,f,s),A=void 0,!hf||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(A=!0),y?A!==void 0?s.addEventListener(o,f,{capture:!0,passive:A}):s.addEventListener(o,f,!0):A!==void 0?s.addEventListener(o,f,{passive:A}):s.addEventListener(o,f,!1)}function xx(s,o,f,y,A){var T=y;if((o&1)===0&&(o&2)===0&&y!==null)e:for(;;){if(y===null)return;var L=y.tag;if(L===3||L===4){var V=y.stateNode.containerInfo;if(V===A)break;if(L===4)for(L=y.return;L!==null;){var te=L.tag;if((te===3||te===4)&&L.stateNode.containerInfo===A)return;L=L.return}for(;V!==null;){if(L=re(V),L===null)return;if(te=L.tag,te===5||te===6||te===26||te===27){y=T=L;continue e}V=V.parentNode}}y=y.return}D0(function(){var _e=T,De=cf(f),Fe=[];e:{var Ae=Or.get(s);if(Ae!==void 0){var Ee=wu,xt=s;switch(s){case"keypress":if(ul(f)===0)break e;case"keydown":case"keyup":Ee=j0;break;case"focusin":xt="focus",Ee=gf;break;case"focusout":xt="blur",Ee=gf;break;case"beforeblur":case"afterblur":Ee=gf;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=Bg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=Dg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=Nr;break;case Ea:case K0:case nr:Ee=Og;break;case Cf:Ee=ix;break;case"scroll":case"scrollend":Ee=mf;break;case"wheel":Ee=_o;break;case"copy":case"cut":case"paste":Ee=L0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=yf;break;case"toggle":case"beforetoggle":Ee=G0}var Ot=(o&4)!==0,Wn=!Ot&&(s==="scroll"||s==="scrollend"),fe=Ot?Ae!==null?Ae+"Capture":null:Ae;Ot=[];for(var ne=_e,xe;ne!==null;){var Ue=ne;if(xe=Ue.stateNode,Ue=Ue.tag,Ue!==5&&Ue!==26&&Ue!==27||xe===null||fe===null||(Ue=cl(ne,fe),Ue!=null&&Ot.push(Zm(ne,Ue,xe))),Wn)break;ne=ne.return}0<Ot.length&&(Ae=new Ee(Ae,xt,null,f,De),Fe.push({event:Ae,listeners:Ot}))}}if((o&7)===0){e:{if(Ae=s==="mouseover"||s==="pointerover",Ee=s==="mouseout"||s==="pointerout",Ae&&f!==Cu&&(xt=f.relatedTarget||f.fromElement)&&(re(xt)||xt[Qs]))break e;if((Ee||Ae)&&(Ae=De.window===De?De:(Ae=De.ownerDocument)?Ae.defaultView||Ae.parentWindow:window,Ee?(xt=f.relatedTarget||f.toElement,Ee=_e,xt=xt?re(xt):null,xt!==null&&(Wn=r(xt),Ot=xt.tag,xt!==Wn||Ot!==5&&Ot!==27&&Ot!==6)&&(xt=null)):(Ee=null,xt=_e),Ee!==xt)){if(Ot=Bg,Ue="onMouseLeave",fe="onMouseEnter",ne="mouse",(s==="pointerout"||s==="pointerover")&&(Ot=yf,Ue="onPointerLeave",fe="onPointerEnter",ne="pointer"),Wn=Ee==null?Ae:Se(Ee),xe=xt==null?Ae:Se(xt),Ae=new Ot(Ue,ne+"leave",Ee,f,De),Ae.target=Wn,Ae.relatedTarget=xe,Ue=null,re(De)===_e&&(Ot=new Ot(fe,ne+"enter",xt,f,De),Ot.target=xe,Ot.relatedTarget=Wn,Ue=Ot),Wn=Ue,Ee&&xt)t:{for(Ot=h9,fe=Ee,ne=xt,xe=0,Ue=fe;Ue;Ue=Ot(Ue))xe++;Ue=0;for(var It=ne;It;It=Ot(It))Ue++;for(;0<xe-Ue;)fe=Ot(fe),xe--;for(;0<Ue-xe;)ne=Ot(ne),Ue--;for(;xe--;){if(fe===ne||ne!==null&&fe===ne.alternate){Ot=fe;break t}fe=Ot(fe),ne=Ot(ne)}Ot=null}else Ot=null;Ee!==null&&NS(Fe,Ae,Ee,Ot,!1),xt!==null&&Wn!==null&&NS(Fe,Wn,xt,Ot,!0)}}e:{if(Ae=_e?Se(_e):window,Ee=Ae.nodeName&&Ae.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&Ae.type==="file")var Nn=Z0;else if(k0(Ae))if(Lu)Nn=Zg;else{Nn=So;var St=Ou}else Ee=Ae.nodeName,!Ee||Ee.toLowerCase()!=="input"||Ae.type!=="checkbox"&&Ae.type!=="radio"?_e&&Su(_e.elementType)&&(Nn=Z0):Nn=Wg;if(Nn&&(Nn=Nn(s,_e))){_f(Fe,Nn,f,De);break e}St&&St(s,Ae,_e),s==="focusout"&&_e&&Ae.type==="number"&&_e.memoizedProps.value!=null&&yi(Ae,"number",Ae.value)}switch(St=_e?Se(_e):window,s){case"focusin":(k0(St)||St.contentEditable==="true")&&(gc=St,Sf=_e,yc=null);break;case"focusout":yc=Sf=gc=null;break;case"mousedown":qa=!0;break;case"contextmenu":case"mouseup":case"dragend":qa=!1,Mf(Fe,f,De);break;case"selectionchange":if(Xg)break;case"keydown":case"keyup":Mf(Fe,f,De)}var tn;if(hl)e:{switch(s){case"compositionstart":var gn="onCompositionStart";break e;case"compositionend":gn="onCompositionEnd";break e;case"compositionupdate":gn="onCompositionUpdate";break e}gn=void 0}else Ao?vf(s,f)&&(gn="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(gn="onCompositionStart");gn&&(Vi&&f.locale!=="ko"&&(Ao||gn!=="onCompositionStart"?gn==="onCompositionEnd"&&Ao&&(tn=df()):(yo=De,ff="value"in yo?yo.value:yo.textContent,Ao=!0)),St=N1(_e,gn),0<St.length&&(gn=new O0(gn,s,null,f,De),Fe.push({event:gn,listeners:St}),tn?gn.data=tn:(tn=uc(f),tn!==null&&(gn.data=tn)))),(tn=fl?xf(s,f):zg(s,f))&&(gn=N1(_e,"onBeforeInput"),0<gn.length&&(St=new O0("onBeforeInput","beforeinput",null,f,De),Fe.push({event:St,listeners:gn}),St.data=tn)),o9(Fe,s,_e,f,De)}BS(Fe,o)})}function Zm(s,o,f){return{instance:s,listener:o,currentTarget:f}}function N1(s,o){for(var f=o+"Capture",y=[];s!==null;){var A=s,T=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||T===null||(A=cl(s,f),A!=null&&y.unshift(Zm(s,A,T)),A=cl(s,o),A!=null&&y.push(Zm(s,A,T))),s.tag===3)return y;s=s.return}return[]}function h9(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function NS(s,o,f,y,A){for(var T=o._reactName,L=[];f!==null&&f!==y;){var V=f,te=V.alternate,_e=V.stateNode;if(V=V.tag,te!==null&&te===y)break;V!==5&&V!==26&&V!==27||_e===null||(te=_e,A?(_e=cl(f,T),_e!=null&&L.unshift(Zm(f,_e,te))):A||(_e=cl(f,T),_e!=null&&L.push(Zm(f,_e,te)))),f=f.return}L.length!==0&&s.push({event:o,listeners:L})}var f9=/\r\n?/g,d9=/\u0000|\uFFFD/g;function LS(s){return(typeof s=="string"?s:""+s).replace(f9,`
`).replace(d9,"")}function OS(s,o){return o=LS(o),LS(s)===o}function kn(s,o,f,y,A,T){switch(f){case"children":typeof y=="string"?o==="body"||o==="textarea"&&y===""||ol(s,y):(typeof y=="number"||typeof y=="bigint")&&o!=="body"&&ol(s,""+y);break;case"className":En(s,"class",y);break;case"tabIndex":En(s,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":En(s,f,y);break;case"style":I0(s,y,T);break;case"data":if(o!=="object"){En(s,"data",y);break}case"src":case"href":if(y===""&&(o!=="a"||f!=="href")){s.removeAttribute(f);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){s.removeAttribute(f);break}y=Mu(""+y),s.setAttribute(f,y);break;case"action":case"formAction":if(typeof y=="function"){s.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(f==="formAction"?(o!=="input"&&kn(s,o,"name",A.name,A,null),kn(s,o,"formEncType",A.formEncType,A,null),kn(s,o,"formMethod",A.formMethod,A,null),kn(s,o,"formTarget",A.formTarget,A,null)):(kn(s,o,"encType",A.encType,A,null),kn(s,o,"method",A.method,A,null),kn(s,o,"target",A.target,A,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){s.removeAttribute(f);break}y=Mu(""+y),s.setAttribute(f,y);break;case"onClick":y!=null&&(s.onclick=er);break;case"onScroll":y!=null&&hn("scroll",s);break;case"onScrollEnd":y!=null&&hn("scrollend",s);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(i(61));if(f=y.__html,f!=null){if(A.children!=null)throw Error(i(60));s.innerHTML=f}}break;case"multiple":s.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":s.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){s.removeAttribute("xlink:href");break}f=Mu(""+y),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?s.setAttribute(f,""+y):s.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?s.setAttribute(f,""):s.removeAttribute(f);break;case"capture":case"download":y===!0?s.setAttribute(f,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?s.setAttribute(f,y):s.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?s.setAttribute(f,y):s.removeAttribute(f);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?s.removeAttribute(f):s.setAttribute(f,y);break;case"popover":hn("beforetoggle",s),hn("toggle",s),Pn(s,"popover",y);break;case"xlinkActuate":$t(s,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":$t(s,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":$t(s,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":$t(s,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":$t(s,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":$t(s,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":$t(s,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":$t(s,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":$t(s,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Pn(s,"is",y);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=Rg.get(f)||f,Pn(s,f,y))}}function _x(s,o,f,y,A,T){switch(f){case"style":I0(s,y,T);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(i(61));if(f=y.__html,f!=null){if(A.children!=null)throw Error(i(60));s.innerHTML=f}}break;case"children":typeof y=="string"?ol(s,y):(typeof y=="number"||typeof y=="bigint")&&ol(s,""+y);break;case"onScroll":y!=null&&hn("scroll",s);break;case"onScrollEnd":y!=null&&hn("scrollend",s);break;case"onClick":y!=null&&(s.onclick=er);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pt.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(A=f.endsWith("Capture"),o=f.slice(2,A?f.length-7:void 0),T=s[Mi]||null,T=T!=null?T[f]:null,typeof T=="function"&&s.removeEventListener(o,T,A),typeof y=="function")){typeof T!="function"&&T!==null&&(f in s?s[f]=null:s.hasAttribute(f)&&s.removeAttribute(f)),s.addEventListener(o,y,A);break e}f in s?s[f]=y:y===!0?s.setAttribute(f,""):Pn(s,f,y)}}}function Aa(s,o,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":hn("error",s),hn("load",s);var y=!1,A=!1,T;for(T in f)if(f.hasOwnProperty(T)){var L=f[T];if(L!=null)switch(T){case"src":y=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:kn(s,o,T,L,f,null)}}A&&kn(s,o,"srcSet",f.srcSet,f,null),y&&kn(s,o,"src",f.src,f,null);return;case"input":hn("invalid",s);var V=T=L=A=null,te=null,_e=null;for(y in f)if(f.hasOwnProperty(y)){var De=f[y];if(De!=null)switch(y){case"name":A=De;break;case"type":L=De;break;case"checked":te=De;break;case"defaultChecked":_e=De;break;case"value":T=De;break;case"defaultValue":V=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(i(137,o));break;default:kn(s,o,y,De,f,null)}}ta(s,T,V,te,_e,L,A,!1);return;case"select":hn("invalid",s),y=L=T=null;for(A in f)if(f.hasOwnProperty(A)&&(V=f[A],V!=null))switch(A){case"value":T=V;break;case"defaultValue":L=V;break;case"multiple":y=V;default:kn(s,o,A,V,f,null)}o=T,f=L,s.multiple=!!y,o!=null?li(s,!!y,o,!1):f!=null&&li(s,!!y,f,!0);return;case"textarea":hn("invalid",s),T=A=y=null;for(L in f)if(f.hasOwnProperty(L)&&(V=f[L],V!=null))switch(L){case"value":y=V;break;case"defaultValue":A=V;break;case"children":T=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(91));break;default:kn(s,o,L,V,f,null)}ma(s,y,A,T);return;case"option":for(te in f)if(f.hasOwnProperty(te)&&(y=f[te],y!=null))switch(te){case"selected":s.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:kn(s,o,te,y,f,null)}return;case"dialog":hn("beforetoggle",s),hn("toggle",s),hn("cancel",s),hn("close",s);break;case"iframe":case"object":hn("load",s);break;case"video":case"audio":for(y=0;y<Wm.length;y++)hn(Wm[y],s);break;case"image":hn("error",s),hn("load",s);break;case"details":hn("toggle",s);break;case"embed":case"source":case"link":hn("error",s),hn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_e in f)if(f.hasOwnProperty(_e)&&(y=f[_e],y!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:kn(s,o,_e,y,f,null)}return;default:if(Su(o)){for(De in f)f.hasOwnProperty(De)&&(y=f[De],y!==void 0&&_x(s,o,De,y,f,void 0));return}}for(V in f)f.hasOwnProperty(V)&&(y=f[V],y!=null&&kn(s,o,V,y,f,null))}function m9(s,o,f,y){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,T=null,L=null,V=null,te=null,_e=null,De=null;for(Ee in f){var Fe=f[Ee];if(f.hasOwnProperty(Ee)&&Fe!=null)switch(Ee){case"checked":break;case"value":break;case"defaultValue":te=Fe;default:y.hasOwnProperty(Ee)||kn(s,o,Ee,null,y,Fe)}}for(var Ae in y){var Ee=y[Ae];if(Fe=f[Ae],y.hasOwnProperty(Ae)&&(Ee!=null||Fe!=null))switch(Ae){case"type":T=Ee;break;case"name":A=Ee;break;case"checked":_e=Ee;break;case"defaultChecked":De=Ee;break;case"value":L=Ee;break;case"defaultValue":V=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(i(137,o));break;default:Ee!==Fe&&kn(s,o,Ae,Ee,y,Fe)}}Gi(s,L,V,te,_e,De,T,A);return;case"select":Ee=L=V=Ae=null;for(T in f)if(te=f[T],f.hasOwnProperty(T)&&te!=null)switch(T){case"value":break;case"multiple":Ee=te;default:y.hasOwnProperty(T)||kn(s,o,T,null,y,te)}for(A in y)if(T=y[A],te=f[A],y.hasOwnProperty(A)&&(T!=null||te!=null))switch(A){case"value":Ae=T;break;case"defaultValue":V=T;break;case"multiple":L=T;default:T!==te&&kn(s,o,A,T,y,te)}o=V,f=L,y=Ee,Ae!=null?li(s,!!f,Ae,!1):!!y!=!!f&&(o!=null?li(s,!!f,o,!0):li(s,!!f,f?[]:"",!1));return;case"textarea":Ee=Ae=null;for(V in f)if(A=f[V],f.hasOwnProperty(V)&&A!=null&&!y.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:kn(s,o,V,null,y,A)}for(L in y)if(A=y[L],T=f[L],y.hasOwnProperty(L)&&(A!=null||T!=null))switch(L){case"value":Ae=A;break;case"defaultValue":Ee=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:A!==T&&kn(s,o,L,A,y,T)}rl(s,Ae,Ee);return;case"option":for(var xt in f)if(Ae=f[xt],f.hasOwnProperty(xt)&&Ae!=null&&!y.hasOwnProperty(xt))switch(xt){case"selected":s.selected=!1;break;default:kn(s,o,xt,null,y,Ae)}for(te in y)if(Ae=y[te],Ee=f[te],y.hasOwnProperty(te)&&Ae!==Ee&&(Ae!=null||Ee!=null))switch(te){case"selected":s.selected=Ae&&typeof Ae!="function"&&typeof Ae!="symbol";break;default:kn(s,o,te,Ae,y,Ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ot in f)Ae=f[Ot],f.hasOwnProperty(Ot)&&Ae!=null&&!y.hasOwnProperty(Ot)&&kn(s,o,Ot,null,y,Ae);for(_e in y)if(Ae=y[_e],Ee=f[_e],y.hasOwnProperty(_e)&&Ae!==Ee&&(Ae!=null||Ee!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(i(137,o));break;default:kn(s,o,_e,Ae,y,Ee)}return;default:if(Su(o)){for(var Wn in f)Ae=f[Wn],f.hasOwnProperty(Wn)&&Ae!==void 0&&!y.hasOwnProperty(Wn)&&_x(s,o,Wn,void 0,y,Ae);for(De in y)Ae=y[De],Ee=f[De],!y.hasOwnProperty(De)||Ae===Ee||Ae===void 0&&Ee===void 0||_x(s,o,De,Ae,y,Ee);return}}for(var fe in f)Ae=f[fe],f.hasOwnProperty(fe)&&Ae!=null&&!y.hasOwnProperty(fe)&&kn(s,o,fe,null,y,Ae);for(Fe in y)Ae=y[Fe],Ee=f[Fe],!y.hasOwnProperty(Fe)||Ae===Ee||Ae==null&&Ee==null||kn(s,o,Fe,Ae,y,Ee)}function PS(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function p9(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,f=performance.getEntriesByType("resource"),y=0;y<f.length;y++){var A=f[y],T=A.transferSize,L=A.initiatorType,V=A.duration;if(T&&V&&PS(L)){for(L=0,V=A.responseEnd,y+=1;y<f.length;y++){var te=f[y],_e=te.startTime;if(_e>V)break;var De=te.transferSize,Fe=te.initiatorType;De&&PS(Fe)&&(te=te.responseEnd,L+=De*(te<V?1:(V-_e)/(te-_e)))}if(--y,o+=8*(T+L)/(A.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var bx=null,Ax=null;function L1(s){return s.nodeType===9?s:s.ownerDocument}function US(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function HS(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Sx(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Mx=null;function g9(){var s=window.event;return s&&s.type==="popstate"?s===Mx?!1:(Mx=s,!0):(Mx=null,!1)}var jS=typeof setTimeout=="function"?setTimeout:void 0,y9=typeof clearTimeout=="function"?clearTimeout:void 0,FS=typeof Promise=="function"?Promise:void 0,v9=typeof queueMicrotask=="function"?queueMicrotask:typeof FS<"u"?function(s){return FS.resolve(null).then(s).catch(x9)}:jS;function x9(s){setTimeout(function(){throw s})}function Gc(s){return s==="head"}function GS(s,o){var f=o,y=0;do{var A=f.nextSibling;if(s.removeChild(f),A&&A.nodeType===8)if(f=A.data,f==="/$"||f==="/&"){if(y===0){s.removeChild(A),dd(o);return}y--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")y++;else if(f==="html")Xm(s.ownerDocument.documentElement);else if(f==="head"){f=s.ownerDocument.head,Xm(f);for(var T=f.firstChild;T;){var L=T.nextSibling,V=T.nodeName;T[Dr]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&T.rel.toLowerCase()==="stylesheet"||f.removeChild(T),T=L}}else f==="body"&&Xm(s.ownerDocument.body);f=A}while(f);dd(o)}function zS(s,o){var f=s;s=0;do{var y=f.nextSibling;if(f.nodeType===1?o?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(o?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),y&&y.nodeType===8)if(f=y.data,f==="/$"){if(s===0)break;s--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||s++;f=y}while(f)}function Cx(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var f=o;switch(o=o.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Cx(f),W(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}s.removeChild(f)}}function _9(s,o,f,y){for(;s.nodeType===1;){var A=f;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!y&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(y){if(!s[Dr])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(T=s.getAttribute("rel"),T==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(T!==A.rel||s.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||s.getAttribute("title")!==(A.title==null?null:A.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(T=s.getAttribute("src"),(T!==(A.src==null?null:A.src)||s.getAttribute("type")!==(A.type==null?null:A.type)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&T&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var T=A.name==null?null:""+A.name;if(A.type==="hidden"&&s.getAttribute("name")===T)return s}else return s;if(s=yr(s.nextSibling),s===null)break}return null}function b9(s,o,f){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!f||(s=yr(s.nextSibling),s===null))return null;return s}function VS(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=yr(s.nextSibling),s===null))return null;return s}function Ex(s){return s.data==="$?"||s.data==="$~"}function Tx(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function A9(s,o){var f=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||f.readyState!=="loading")o();else{var y=function(){o(),f.removeEventListener("DOMContentLoaded",y)};f.addEventListener("DOMContentLoaded",y),s._reactRetry=y}}function yr(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var wx=null;function kS(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"||f==="/&"){if(o===0)return yr(s.nextSibling);o--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||o++}s=s.nextSibling}return null}function WS(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(o===0)return s;o--}else f!=="/$"&&f!=="/&"||o++}s=s.previousSibling}return null}function ZS(s,o,f){switch(o=L1(f),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Xm(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);W(s)}var vr=new Map,XS=new Set;function O1(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ol=Z.d;Z.d={f:S9,r:M9,D:C9,C:E9,L:T9,m:w9,X:I9,S:R9,M:B9};function S9(){var s=Ol.f(),o=k();return s||o}function M9(s){var o=pe(s);o!==null&&o.tag===5&&o.type==="form"?Pm(o):Ol.r(s)}var ud=typeof document>"u"?null:document;function JS(s,o,f){var y=ud;if(y&&typeof o=="string"&&o){var A=rn(o);A='link[rel="'+s+'"][href="'+A+'"]',typeof f=="string"&&(A+='[crossorigin="'+f+'"]'),XS.has(A)||(XS.add(A),s={rel:s,crossOrigin:f,href:o},y.querySelector(A)===null&&(o=y.createElement("link"),Aa(o,"link",s),Ge(o),y.head.appendChild(o)))}}function C9(s){Ol.D(s),JS("dns-prefetch",s,null)}function E9(s,o){Ol.C(s,o),JS("preconnect",s,o)}function T9(s,o,f){Ol.L(s,o,f);var y=ud;if(y&&s&&o){var A='link[rel="preload"][as="'+rn(o)+'"]';o==="image"&&f&&f.imageSrcSet?(A+='[imagesrcset="'+rn(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(A+='[imagesizes="'+rn(f.imageSizes)+'"]')):A+='[href="'+rn(s)+'"]';var T=A;switch(o){case"style":T=hd(s);break;case"script":T=fd(s)}vr.has(T)||(s=d({rel:"preload",href:o==="image"&&f&&f.imageSrcSet?void 0:s,as:o},f),vr.set(T,s),y.querySelector(A)!==null||o==="style"&&y.querySelector(Jm(T))||o==="script"&&y.querySelector(Ym(T))||(o=y.createElement("link"),Aa(o,"link",s),Ge(o),y.head.appendChild(o)))}}function w9(s,o){Ol.m(s,o);var f=ud;if(f&&s){var y=o&&typeof o.as=="string"?o.as:"script",A='link[rel="modulepreload"][as="'+rn(y)+'"][href="'+rn(s)+'"]',T=A;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=fd(s)}if(!vr.has(T)&&(s=d({rel:"modulepreload",href:s},o),vr.set(T,s),f.querySelector(A)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Ym(T)))return}y=f.createElement("link"),Aa(y,"link",s),Ge(y),f.head.appendChild(y)}}}function R9(s,o,f){Ol.S(s,o,f);var y=ud;if(y&&s){var A=ue(y).hoistableStyles,T=hd(s);o=o||"default";var L=A.get(T);if(!L){var V={loading:0,preload:null};if(L=y.querySelector(Jm(T)))V.loading=5;else{s=d({rel:"stylesheet",href:s,"data-precedence":o},f),(f=vr.get(T))&&Rx(s,f);var te=L=y.createElement("link");Ge(te),Aa(te,"link",s),te._p=new Promise(function(_e,De){te.onload=_e,te.onerror=De}),te.addEventListener("load",function(){V.loading|=1}),te.addEventListener("error",function(){V.loading|=2}),V.loading|=4,P1(L,o,y)}L={type:"stylesheet",instance:L,count:1,state:V},A.set(T,L)}}}function I9(s,o){Ol.X(s,o);var f=ud;if(f&&s){var y=ue(f).hoistableScripts,A=fd(s),T=y.get(A);T||(T=f.querySelector(Ym(A)),T||(s=d({src:s,async:!0},o),(o=vr.get(A))&&Ix(s,o),T=f.createElement("script"),Ge(T),Aa(T,"link",s),f.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},y.set(A,T))}}function B9(s,o){Ol.M(s,o);var f=ud;if(f&&s){var y=ue(f).hoistableScripts,A=fd(s),T=y.get(A);T||(T=f.querySelector(Ym(A)),T||(s=d({src:s,async:!0,type:"module"},o),(o=vr.get(A))&&Ix(s,o),T=f.createElement("script"),Ge(T),Aa(T,"link",s),f.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},y.set(A,T))}}function YS(s,o,f,y){var A=(A=ve.current)?O1(A):null;if(!A)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(o=hd(f.href),f=ue(A).hoistableStyles,y=f.get(o),y||(y={type:"style",instance:null,count:0,state:null},f.set(o,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){s=hd(f.href);var T=ue(A).hoistableStyles,L=T.get(s);if(L||(A=A.ownerDocument||A,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(s,L),(T=A.querySelector(Jm(s)))&&!T._p&&(L.instance=T,L.state.loading=5),vr.has(s)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},vr.set(s,f),T||D9(A,s,f,L.state))),o&&y===null)throw Error(i(528,""));return L}if(o&&y!==null)throw Error(i(529,""));return null;case"script":return o=f.async,f=f.src,typeof f=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=fd(f),f=ue(A).hoistableScripts,y=f.get(o),y||(y={type:"script",instance:null,count:0,state:null},f.set(o,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function hd(s){return'href="'+rn(s)+'"'}function Jm(s){return'link[rel="stylesheet"]['+s+"]"}function KS(s){return d({},s,{"data-precedence":s.precedence,precedence:null})}function D9(s,o,f,y){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?y.loading=1:(o=s.createElement("link"),y.preload=o,o.addEventListener("load",function(){return y.loading|=1}),o.addEventListener("error",function(){return y.loading|=2}),Aa(o,"link",f),Ge(o),s.head.appendChild(o))}function fd(s){return'[src="'+rn(s)+'"]'}function Ym(s){return"script[async]"+s}function qS(s,o,f){if(o.count++,o.instance===null)switch(o.type){case"style":var y=s.querySelector('style[data-href~="'+rn(f.href)+'"]');if(y)return o.instance=y,Ge(y),y;var A=d({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return y=(s.ownerDocument||s).createElement("style"),Ge(y),Aa(y,"style",A),P1(y,f.precedence,s),o.instance=y;case"stylesheet":A=hd(f.href);var T=s.querySelector(Jm(A));if(T)return o.state.loading|=4,o.instance=T,Ge(T),T;y=KS(f),(A=vr.get(A))&&Rx(y,A),T=(s.ownerDocument||s).createElement("link"),Ge(T);var L=T;return L._p=new Promise(function(V,te){L.onload=V,L.onerror=te}),Aa(T,"link",y),o.state.loading|=4,P1(T,f.precedence,s),o.instance=T;case"script":return T=fd(f.src),(A=s.querySelector(Ym(T)))?(o.instance=A,Ge(A),A):(y=f,(A=vr.get(T))&&(y=d({},f),Ix(y,A)),s=s.ownerDocument||s,A=s.createElement("script"),Ge(A),Aa(A,"link",y),s.head.appendChild(A),o.instance=A);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(y=o.instance,o.state.loading|=4,P1(y,f.precedence,s));return o.instance}function P1(s,o,f){for(var y=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=y.length?y[y.length-1]:null,T=A,L=0;L<y.length;L++){var V=y[L];if(V.dataset.precedence===o)T=V;else if(T!==A)break}T?T.parentNode.insertBefore(s,T.nextSibling):(o=f.nodeType===9?f.head:f,o.insertBefore(s,o.firstChild))}function Rx(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Ix(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var U1=null;function QS(s,o,f){if(U1===null){var y=new Map,A=U1=new Map;A.set(f,y)}else A=U1,y=A.get(f),y||(y=new Map,A.set(f,y));if(y.has(s))return y;for(y.set(s,null),f=f.getElementsByTagName(s),A=0;A<f.length;A++){var T=f[A];if(!(T[Dr]||T[Kt]||s==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var L=T.getAttribute(o)||"";L=s+L;var V=y.get(L);V?V.push(T):y.set(L,[T])}}return y}function $S(s,o,f){s=s.ownerDocument||s,s.head.insertBefore(f,o==="title"?s.querySelector("head > title"):null)}function N9(s,o,f){if(f===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function eM(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function L9(s,o,f,y){if(f.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var A=hd(y.href),T=o.querySelector(Jm(A));if(T){o=T._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=H1.bind(s),o.then(s,s)),f.state.loading|=4,f.instance=T,Ge(T);return}T=o.ownerDocument||o,y=KS(y),(A=vr.get(A))&&Rx(y,A),T=T.createElement("link"),Ge(T);var L=T;L._p=new Promise(function(V,te){L.onload=V,L.onerror=te}),Aa(T,"link",y),f.instance=T}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(f,o),(o=f.state.preload)&&(f.state.loading&3)===0&&(s.count++,f=H1.bind(s),o.addEventListener("load",f),o.addEventListener("error",f))}}var Bx=0;function O9(s,o){return s.stylesheets&&s.count===0&&F1(s,s.stylesheets),0<s.count||0<s.imgCount?function(f){var y=setTimeout(function(){if(s.stylesheets&&F1(s,s.stylesheets),s.unsuspend){var T=s.unsuspend;s.unsuspend=null,T()}},6e4+o);0<s.imgBytes&&Bx===0&&(Bx=62500*p9());var A=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&F1(s,s.stylesheets),s.unsuspend)){var T=s.unsuspend;s.unsuspend=null,T()}},(s.imgBytes>Bx?50:800)+o);return s.unsuspend=f,function(){s.unsuspend=null,clearTimeout(y),clearTimeout(A)}}:null}function H1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)F1(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var j1=null;function F1(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,j1=new Map,o.forEach(P9,s),j1=null,H1.call(s))}function P9(s,o){if(!(o.state.loading&4)){var f=j1.get(s);if(f)var y=f.get(null);else{f=new Map,j1.set(s,f);for(var A=s.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<A.length;T++){var L=A[T];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(f.set(L.dataset.precedence,L),y=L)}y&&f.set(null,y)}A=o.instance,L=A.getAttribute("data-precedence"),T=f.get(L)||y,T===y&&f.set(null,A),f.set(L,A),this.count++,y=H1.bind(this),A.addEventListener("load",y),A.addEventListener("error",y),T?T.parentNode.insertBefore(A,T.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(A,s.firstChild)),o.state.loading|=4}}var Km={$$typeof:B,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function U9(s,o,f,y,A,T,L,V,te){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sn(0),this.hiddenUpdates=sn(null),this.identifierPrefix=y,this.onUncaughtError=A,this.onCaughtError=T,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function tM(s,o,f,y,A,T,L,V,te,_e,De,Fe){return s=new U9(s,o,f,L,te,_e,De,Fe,V),o=1,T===!0&&(o|=24),T=ga(3,null,null,o),s.current=T,T.stateNode=s,o=am(),o.refCount++,s.pooledCache=o,o.refCount++,T.memoizedState={element:y,isDehydrated:f,cache:o},um(T),s}function nM(s){return s?(s=Io,s):Io}function iM(s,o,f,y,A,T){A=nM(A),y.context===null?y.context=A:y.pendingContext=A,y=lr(o),y.payload={element:f},T=T===void 0?null:T,T!==null&&(y.callback=T),f=Vr(s,y,o),f!==null&&(h(f,s,o),Ho(f,s,o))}function aM(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<o?f:o}}function Dx(s,o){aM(s,o),(s=s.alternate)&&aM(s,o)}function sM(s){if(s.tag===13||s.tag===31){var o=Ro(s,67108864);o!==null&&h(o,s,67108864),Dx(s,67108864)}}function rM(s){if(s.tag===13||s.tag===31){var o=ba();o=Ja(o);var f=Ro(s,o);f!==null&&h(f,s,o),Dx(s,o)}}var G1=!0;function H9(s,o,f,y){var A=G.T;G.T=null;var T=Z.p;try{Z.p=2,Nx(s,o,f,y)}finally{Z.p=T,G.T=A}}function j9(s,o,f,y){var A=G.T;G.T=null;var T=Z.p;try{Z.p=8,Nx(s,o,f,y)}finally{Z.p=T,G.T=A}}function Nx(s,o,f,y){if(G1){var A=Lx(y);if(A===null)xx(s,o,y,z1,f),lM(s,y);else if(G9(A,s,o,f,y))y.stopPropagation();else if(lM(s,y),o&4&&-1<F9.indexOf(s)){for(;A!==null;){var T=pe(A);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var L=We(T.pendingLanes);if(L!==0){var V=T;for(V.pendingLanes|=2,V.entangledLanes|=2;L;){var te=1<<31-ut(L);V.entanglements[1]|=te,L&=~te}Xo(T),(mn&6)===0&&(hs=z()+500,km(0))}}break;case 31:case 13:V=Ro(T,2),V!==null&&h(V,T,2),k(),Dx(T,2)}if(T=Lx(y),T===null&&xx(s,o,y,z1,f),T===A)break;A=T}A!==null&&y.stopPropagation()}else xx(s,o,y,null,f)}}function Lx(s){return s=cf(s),Ox(s)}var z1=null;function Ox(s){if(z1=null,s=re(s),s!==null){var o=r(s);if(o===null)s=null;else{var f=o.tag;if(f===13){if(s=l(o),s!==null)return s;s=null}else if(f===31){if(s=u(o),s!==null)return s;s=null}else if(f===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return z1=s,null}function oM(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(me()){case Te:return 2;case He:return 8;case Ie:case _t:return 32;case et:return 268435456;default:return 32}default:return 32}}var Px=!1,zc=null,Vc=null,kc=null,qm=new Map,Qm=new Map,Wc=[],F9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lM(s,o){switch(s){case"focusin":case"focusout":zc=null;break;case"dragenter":case"dragleave":Vc=null;break;case"mouseover":case"mouseout":kc=null;break;case"pointerover":case"pointerout":qm.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qm.delete(o.pointerId)}}function $m(s,o,f,y,A,T){return s===null||s.nativeEvent!==T?(s={blockedOn:o,domEventName:f,eventSystemFlags:y,nativeEvent:T,targetContainers:[A]},o!==null&&(o=pe(o),o!==null&&sM(o)),s):(s.eventSystemFlags|=y,o=s.targetContainers,A!==null&&o.indexOf(A)===-1&&o.push(A),s)}function G9(s,o,f,y,A){switch(o){case"focusin":return zc=$m(zc,s,o,f,y,A),!0;case"dragenter":return Vc=$m(Vc,s,o,f,y,A),!0;case"mouseover":return kc=$m(kc,s,o,f,y,A),!0;case"pointerover":var T=A.pointerId;return qm.set(T,$m(qm.get(T)||null,s,o,f,y,A)),!0;case"gotpointercapture":return T=A.pointerId,Qm.set(T,$m(Qm.get(T)||null,s,o,f,y,A)),!0}return!1}function cM(s){var o=re(s.target);if(o!==null){var f=r(o);if(f!==null){if(o=f.tag,o===13){if(o=l(f),o!==null){s.blockedOn=o,Ya(s.priority,function(){rM(f)});return}}else if(o===31){if(o=u(f),o!==null){s.blockedOn=o,Ya(s.priority,function(){rM(f)});return}}else if(o===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function V1(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var f=Lx(s.nativeEvent);if(f===null){f=s.nativeEvent;var y=new f.constructor(f.type,f);Cu=y,f.target.dispatchEvent(y),Cu=null}else return o=pe(f),o!==null&&sM(o),s.blockedOn=f,!1;o.shift()}return!0}function uM(s,o,f){V1(s)&&f.delete(o)}function z9(){Px=!1,zc!==null&&V1(zc)&&(zc=null),Vc!==null&&V1(Vc)&&(Vc=null),kc!==null&&V1(kc)&&(kc=null),qm.forEach(uM),Qm.forEach(uM)}function k1(s,o){s.blockedOn===o&&(s.blockedOn=null,Px||(Px=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,z9)))}var W1=null;function hM(s){W1!==s&&(W1=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){W1===s&&(W1=null);for(var o=0;o<s.length;o+=3){var f=s[o],y=s[o+1],A=s[o+2];if(typeof y!="function"){if(Ox(y||f)===null)continue;break}var T=pe(f);T!==null&&(s.splice(o,3),o-=3,Om(T,{pending:!0,data:A,method:f.method,action:y},y,A))}}))}function dd(s){function o(te){return k1(te,s)}zc!==null&&k1(zc,s),Vc!==null&&k1(Vc,s),kc!==null&&k1(kc,s),qm.forEach(o),Qm.forEach(o);for(var f=0;f<Wc.length;f++){var y=Wc[f];y.blockedOn===s&&(y.blockedOn=null)}for(;0<Wc.length&&(f=Wc[0],f.blockedOn===null);)cM(f),f.blockedOn===null&&Wc.shift();if(f=(s.ownerDocument||s).$$reactFormReplay,f!=null)for(y=0;y<f.length;y+=3){var A=f[y],T=f[y+1],L=A[Mi]||null;if(typeof T=="function")L||hM(f);else if(L){var V=null;if(T&&T.hasAttribute("formAction")){if(A=T,L=T[Mi]||null)V=L.formAction;else if(Ox(A)!==null)continue}else V=L.action;typeof V=="function"?f[y+1]=V:(f.splice(y,3),y-=3),hM(f)}}}function fM(){function s(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(L){return A=L})},focusReset:"manual",scroll:"manual"})}function o(){A!==null&&(A(),A=null),y||setTimeout(f,20)}function f(){if(!y&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,A=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(f,100),function(){y=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),A!==null&&(A(),A=null)}}}function Ux(s){this._internalRoot=s}Z1.prototype.render=Ux.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var f=o.current,y=ba();iM(f,y,s,o,null,null)},Z1.prototype.unmount=Ux.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;iM(s.current,2,null,s,null,null),k(),o[Qs]=null}};function Z1(s){this._internalRoot=s}Z1.prototype.unstable_scheduleHydration=function(s){if(s){var o=Ca();s={blockedOn:null,target:s,priority:o};for(var f=0;f<Wc.length&&o!==0&&o<Wc[f].priority;f++);Wc.splice(f,0,s),f===0&&cM(s)}};var dM=e.version;if(dM!=="19.2.0")throw Error(i(527,dM,"19.2.0"));Z.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=g(o),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var V9={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var X1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!X1.isDisabled&&X1.supportsFiber)try{Ve=X1.inject(V9),qe=X1}catch{}}return tp.createRoot=function(s,o){if(!a(s))throw Error(i(299));var f=!1,y="",A=jm,T=C1,L=Kf;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(y=o.identifierPrefix),o.onUncaughtError!==void 0&&(A=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(L=o.onRecoverableError)),o=tM(s,1,!1,null,null,f,y,null,A,T,L,fM),s[Qs]=o.current,vx(s),new Ux(o)},tp.hydrateRoot=function(s,o,f){if(!a(s))throw Error(i(299));var y=!1,A="",T=jm,L=C1,V=Kf,te=null;return f!=null&&(f.unstable_strictMode===!0&&(y=!0),f.identifierPrefix!==void 0&&(A=f.identifierPrefix),f.onUncaughtError!==void 0&&(T=f.onUncaughtError),f.onCaughtError!==void 0&&(L=f.onCaughtError),f.onRecoverableError!==void 0&&(V=f.onRecoverableError),f.formState!==void 0&&(te=f.formState)),o=tM(s,1,!0,o,f??null,y,A,te,T,L,V,fM),o.context=nM(null),f=o.current,y=ba(),y=Ja(y),A=lr(y),A.callback=null,Vr(f,A,y),f=y,o.current.lanes=f,$i(o,f),Xo(o),s[Qs]=o.current,vx(s),new Z1(o)},tp.version="19.2.0",tp}var SM;function e6(){if(SM)return Fx.exports;SM=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fx.exports=$9(),Fx.exports}var s4=e6();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var MM="popstate";function t6(n={}){function e(a,r){let{pathname:l="/",search:u="",hash:m=""}=nf(a.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),C3("",{pathname:l,search:u,hash:m},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(a,r){let l=a.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let m=a.location.href,g=m.indexOf("#");u=g===-1?m:m.slice(0,g)}return u+"#"+(typeof r=="string"?r:Up(r))}function i(a,r){wr(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(r)})`)}return i6(e,t,i,n)}function ri(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function wr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function n6(){return Math.random().toString(36).substring(2,10)}function CM(n,e){return{usr:n.state,key:n.key,idx:e}}function C3(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?nf(e):e,state:t,key:e&&e.key||i||n6()}}function Up({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function nf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function i6(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:r=!1}=i,l=a.history,u="POP",m=null,g=v();g==null&&(g=0,l.replaceState({...l.state,idx:g},""));function v(){return(l.state||{idx:null}).idx}function d(){u="POP";let E=v(),M=E==null?null:E-g;g=E,m&&m({action:u,location:w.location,delta:M})}function p(E,M){u="PUSH";let I=C3(w.location,E,M);t&&t(I,E),g=v()+1;let B=CM(I,g),N=w.createHref(I);try{l.pushState(B,"",N)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(N)}r&&m&&m({action:u,location:w.location,delta:1})}function b(E,M){u="REPLACE";let I=C3(w.location,E,M);t&&t(I,E),g=v();let B=CM(I,g),N=w.createHref(I);l.replaceState(B,"",N),r&&m&&m({action:u,location:w.location,delta:0})}function C(E){return a6(E)}let w={get action(){return u},get location(){return n(a,l)},listen(E){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(MM,d),m=E,()=>{a.removeEventListener(MM,d),m=null}},createHref(E){return e(a,E)},createURL:C,encodeLocation(E){let M=C(E);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:p,replace:b,go(E){return l.go(E)}};return w}function a6(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ri(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Up(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function r4(n,e,t="/"){return s6(n,e,t,!1)}function s6(n,e,t,i){let a=typeof e=="string"?nf(e):e,r=$l(a.pathname||"/",t);if(r==null)return null;let l=o4(n);r6(l);let u=null;for(let m=0;u==null&&m<l.length;++m){let g=y6(r);u=p6(l[m],g,i)}return u}function o4(n,e=[],t=[],i="",a=!1){let r=(l,u,m=a,g)=>{let v={relativePath:g===void 0?l.path||"":g,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&m)return;ri(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let d=Jl([i,v.relativePath]),p=t.concat(v);l.children&&l.children.length>0&&(ri(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),o4(l.children,e,p,d,m)),!(l.path==null&&!l.index)&&e.push({path:d,score:d6(d,l.index),routesMeta:p})};return n.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))r(l,u);else for(let m of l4(l.path))r(l,u,!0,m)}),e}function l4(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),r=t.replace(/\?$/,"");if(i.length===0)return a?[r,""]:[r];let l=l4(i.join("/")),u=[];return u.push(...l.map(m=>m===""?r:[r,m].join("/"))),a&&u.push(...l),u.map(m=>n.startsWith("/")&&m===""?"/":m)}function r6(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:m6(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var o6=/^:[\w-]+$/,l6=3,c6=2,u6=1,h6=10,f6=-2,EM=n=>n==="*";function d6(n,e){let t=n.split("/"),i=t.length;return t.some(EM)&&(i+=f6),e&&(i+=c6),t.filter(a=>!EM(a)).reduce((a,r)=>a+(o6.test(r)?l6:r===""?u6:h6),i)}function m6(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function p6(n,e,t=!1){let{routesMeta:i}=n,a={},r="/",l=[];for(let u=0;u<i.length;++u){let m=i[u],g=u===i.length-1,v=r==="/"?e:e.slice(r.length)||"/",d=c2({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),p=m.route;if(!d&&g&&t&&!i[i.length-1].route.index&&(d=c2({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!d)return null;Object.assign(a,d.params),l.push({params:a,pathname:Jl([r,d.pathname]),pathnameBase:b6(Jl([r,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(r=Jl([r,d.pathnameBase]))}return l}function c2(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=g6(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let r=a[0],l=r.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:d},p)=>{if(v==="*"){let C=u[p]||"";l=r.slice(0,r.length-C.length).replace(/(.)\/+$/,"$1")}const b=u[p];return d&&!b?g[v]=void 0:g[v]=(b||"").replace(/%2F/g,"/"),g},{}),pathname:r,pathnameBase:l,pattern:n}}function g6(n,e=!1,t=!0){wr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,m)=>(i.push({paramName:u,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function y6(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function $l(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function v6(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?nf(n):n;return{pathname:t?t.startsWith("/")?t:x6(t,e):e,search:A6(i),hash:S6(a)}}function x6(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function kx(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _6(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Cb(n){let e=_6(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Eb(n,e,t,i=!1){let a;typeof n=="string"?a=nf(n):(a={...n},ri(!a.pathname||!a.pathname.includes("?"),kx("?","pathname","search",a)),ri(!a.pathname||!a.pathname.includes("#"),kx("#","pathname","hash",a)),ri(!a.search||!a.search.includes("#"),kx("#","search","hash",a)));let r=n===""||a.pathname==="",l=r?"/":a.pathname,u;if(l==null)u=t;else{let d=e.length-1;if(!i&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),d-=1;a.pathname=p.join("/")}u=d>=0?e[d]:"/"}let m=v6(a,u),g=l&&l!=="/"&&l.endsWith("/"),v=(r||l===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var Jl=n=>n.join("/").replace(/\/\/+/g,"/"),b6=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),A6=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,S6=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function M6(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var c4=["POST","PUT","PATCH","DELETE"];new Set(c4);var C6=["GET",...c4];new Set(C6);var g0=Y.createContext(null);g0.displayName="DataRouter";var dv=Y.createContext(null);dv.displayName="DataRouterState";Y.createContext(!1);var u4=Y.createContext({isTransitioning:!1});u4.displayName="ViewTransition";var E6=Y.createContext(new Map);E6.displayName="Fetchers";var T6=Y.createContext(null);T6.displayName="Await";var uo=Y.createContext(null);uo.displayName="Navigation";var rg=Y.createContext(null);rg.displayName="Location";var il=Y.createContext({outlet:null,matches:[],isDataRoute:!1});il.displayName="Route";var Tb=Y.createContext(null);Tb.displayName="RouteError";function w6(n,{relative:e}={}){ri(y0(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=Y.useContext(uo),{hash:a,pathname:r,search:l}=og(n,{relative:e}),u=r;return t!=="/"&&(u=r==="/"?t:Jl([t,r])),i.createHref({pathname:u,search:l,hash:a})}function y0(){return Y.useContext(rg)!=null}function sc(){return ri(y0(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(rg).location}var h4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function f4(n){Y.useContext(uo).static||Y.useLayoutEffect(n)}function d4(){let{isDataRoute:n}=Y.useContext(il);return n?G6():R6()}function R6(){ri(y0(),"useNavigate() may be used only in the context of a <Router> component.");let n=Y.useContext(g0),{basename:e,navigator:t}=Y.useContext(uo),{matches:i}=Y.useContext(il),{pathname:a}=sc(),r=JSON.stringify(Cb(i)),l=Y.useRef(!1);return f4(()=>{l.current=!0}),Y.useCallback((m,g={})=>{if(wr(l.current,h4),!l.current)return;if(typeof m=="number"){t.go(m);return}let v=Eb(m,JSON.parse(r),a,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Jl([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,r,a,n])}Y.createContext(null);function og(n,{relative:e}={}){let{matches:t}=Y.useContext(il),{pathname:i}=sc(),a=JSON.stringify(Cb(t));return Y.useMemo(()=>Eb(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function I6(n,e){return m4(n,e)}function m4(n,e,t,i,a){ri(y0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=Y.useContext(uo),{matches:l}=Y.useContext(il),u=l[l.length-1],m=u?u.params:{},g=u?u.pathname:"/",v=u?u.pathnameBase:"/",d=u&&u.route;{let I=d&&d.path||"";p4(g,!d||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let p=sc(),b;if(e){let I=typeof e=="string"?nf(e):e;ri(v==="/"||I.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${I.pathname}" was given in the \`location\` prop.`),b=I}else b=p;let C=b.pathname||"/",w=C;if(v!=="/"){let I=v.replace(/^\//,"").split("/");w="/"+C.replace(/^\//,"").split("/").slice(I.length).join("/")}let E=r4(n,{pathname:w});wr(d||E!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),wr(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=O6(E&&E.map(I=>Object.assign({},I,{params:Object.assign({},m,I.params),pathname:Jl([v,r.encodeLocation?r.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?v:Jl([v,r.encodeLocation?r.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),l,t,i,a);return e&&M?Y.createElement(rg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},M):M}function B6(){let n=F6(),e=M6(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=Y.createElement(Y.Fragment,null,Y.createElement("p",null,"💿 Hey developer 👋"),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:r},"ErrorBoundary")," or"," ",Y.createElement("code",{style:r},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),t?Y.createElement("pre",{style:a},t):null,l)}var D6=Y.createElement(B6,null),N6=class extends Y.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?Y.createElement(il.Provider,{value:this.props.routeContext},Y.createElement(Tb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function L6({routeContext:n,match:e,children:t}){let i=Y.useContext(g0);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),Y.createElement(il.Provider,{value:n},t)}function O6(n,e=[],t=null,i=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,l=t?.errors;if(l!=null){let g=r.findIndex(v=>v.route.id&&l?.[v.route.id]!==void 0);ri(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),r=r.slice(0,Math.min(r.length,g+1))}let u=!1,m=-1;if(t)for(let g=0;g<r.length;g++){let v=r[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:d,errors:p}=t,b=v.route.loader&&!d.hasOwnProperty(v.route.id)&&(!p||p[v.route.id]===void 0);if(v.route.lazy||b){u=!0,m>=0?r=r.slice(0,m+1):r=[r[0]];break}}}return r.reduceRight((g,v,d)=>{let p,b=!1,C=null,w=null;t&&(p=l&&v.route.id?l[v.route.id]:void 0,C=v.route.errorElement||D6,u&&(m<0&&d===0?(p4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):m===d&&(b=!0,w=v.route.hydrateFallbackElement||null)));let E=e.concat(r.slice(0,d+1)),M=()=>{let I;return p?I=C:b?I=w:v.route.Component?I=Y.createElement(v.route.Component,null):v.route.element?I=v.route.element:I=g,Y.createElement(L6,{match:v,routeContext:{outlet:g,matches:E,isDataRoute:t!=null},children:I})};return t&&(v.route.ErrorBoundary||v.route.errorElement||d===0)?Y.createElement(N6,{location:t.location,revalidation:t.revalidation,component:C,error:p,children:M(),routeContext:{outlet:null,matches:E,isDataRoute:!0},unstable_onError:i}):M()},null)}function wb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P6(n){let e=Y.useContext(g0);return ri(e,wb(n)),e}function U6(n){let e=Y.useContext(dv);return ri(e,wb(n)),e}function H6(n){let e=Y.useContext(il);return ri(e,wb(n)),e}function Rb(n){let e=H6(n),t=e.matches[e.matches.length-1];return ri(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function j6(){return Rb("useRouteId")}function F6(){let n=Y.useContext(Tb),e=U6("useRouteError"),t=Rb("useRouteError");return n!==void 0?n:e.errors?.[t]}function G6(){let{router:n}=P6("useNavigate"),e=Rb("useNavigate"),t=Y.useRef(!1);return f4(()=>{t.current=!0}),Y.useCallback(async(a,r={})=>{wr(t.current,h4),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...r}))},[n,e])}var TM={};function p4(n,e,t){!e&&!TM[n]&&(TM[n]=!0,wr(!1,t))}Y.memo(z6);function z6({routes:n,future:e,state:t,unstable_onError:i}){return m4(n,void 0,t,i,e)}function V6({to:n,replace:e,state:t,relative:i}){ri(y0(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=Y.useContext(uo);wr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=Y.useContext(il),{pathname:l}=sc(),u=d4(),m=Eb(n,Cb(r),l,i==="path"),g=JSON.stringify(m);return Y.useEffect(()=>{u(JSON.parse(g),{replace:e,state:t,relative:i})},[u,g,i,e,t]),null}function Bh(n){ri(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function k6({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:r=!1}){ri(!y0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=Y.useMemo(()=>({basename:l,navigator:a,static:r,future:{}}),[l,a,r]);typeof t=="string"&&(t=nf(t));let{pathname:m="/",search:g="",hash:v="",state:d=null,key:p="default"}=t,b=Y.useMemo(()=>{let C=$l(m,l);return C==null?null:{location:{pathname:C,search:g,hash:v,state:d,key:p},navigationType:i}},[l,m,g,v,d,p,i]);return wr(b!=null,`<Router basename="${l}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:Y.createElement(uo.Provider,{value:u},Y.createElement(rg.Provider,{children:e,value:b}))}function W6({children:n,location:e}){return I6(E3(n),e)}function E3(n,e=[]){let t=[];return Y.Children.forEach(n,(i,a)=>{if(!Y.isValidElement(i))return;let r=[...e,a];if(i.type===Y.Fragment){t.push.apply(t,E3(i.props.children,r));return}ri(i.type===Bh,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ri(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=E3(i.props.children,r)),t.push(l)}),t}var qy="get",Qy="application/x-www-form-urlencoded";function mv(n){return n!=null&&typeof n.tagName=="string"}function Z6(n){return mv(n)&&n.tagName.toLowerCase()==="button"}function X6(n){return mv(n)&&n.tagName.toLowerCase()==="form"}function J6(n){return mv(n)&&n.tagName.toLowerCase()==="input"}function Y6(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function K6(n,e){return n.button===0&&(!e||e==="_self")&&!Y6(n)}var J1=null;function q6(){if(J1===null)try{new FormData(document.createElement("form"),0),J1=!1}catch{J1=!0}return J1}var Q6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wx(n){return n!=null&&!Q6.has(n)?(wr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qy}"`),null):n}function $6(n,e){let t,i,a,r,l;if(X6(n)){let u=n.getAttribute("action");i=u?$l(u,e):null,t=n.getAttribute("method")||qy,a=Wx(n.getAttribute("enctype"))||Qy,r=new FormData(n)}else if(Z6(n)||J6(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||u.getAttribute("action");if(i=m?$l(m,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||qy,a=Wx(n.getAttribute("formenctype"))||Wx(u.getAttribute("enctype"))||Qy,r=new FormData(u,n),!q6()){let{name:g,type:v,value:d}=n;if(v==="image"){let p=g?`${g}.`:"";r.append(`${p}x`,"0"),r.append(`${p}y`,"0")}else g&&r.append(g,d)}}else{if(mv(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=qy,i=null,a=Qy,l=n}return r&&a==="text/plain"&&(l=r,r=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:r,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ib(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function eB(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&$l(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function tB(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nB(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function iB(n,e,t){let i=await Promise.all(n.map(async a=>{let r=e.routes[a.route.id];if(r){let l=await tB(r,t);return l.links?l.links():[]}return[]}));return oB(i.flat(1).filter(nB).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function wM(n,e,t,i,a,r){let l=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,u=(m,g)=>t[g].pathname!==m.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==m.params["*"];return r==="assets"?e.filter((m,g)=>l(m,g)||u(m,g)):r==="data"?e.filter((m,g)=>{let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(l(m,g)||u(m,g))return!0;if(m.route.shouldRevalidate){let d=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function aB(n,e,{includeHydrateFallback:t}={}){return sB(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let r=[a.module];return a.clientActionModule&&(r=r.concat(a.clientActionModule)),a.clientLoaderModule&&(r=r.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(r=r.concat(a.hydrateFallbackModule)),a.imports&&(r=r.concat(a.imports)),r}).flat(1))}function sB(n){return[...new Set(n)]}function rB(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function oB(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let r=JSON.stringify(rB(a));return t.has(r)||(t.add(r),i.push({key:r,link:a})),i},[])}function g4(){let n=Y.useContext(g0);return Ib(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function lB(){let n=Y.useContext(dv);return Ib(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Bb=Y.createContext(void 0);Bb.displayName="FrameworkContext";function y4(){let n=Y.useContext(Bb);return Ib(n,"You must render this element inside a <HydratedRouter> element"),n}function cB(n,e){let t=Y.useContext(Bb),[i,a]=Y.useState(!1),[r,l]=Y.useState(!1),{onFocus:u,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:d}=e,p=Y.useRef(null);Y.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let w=M=>{M.forEach(I=>{l(I.isIntersecting)})},E=new IntersectionObserver(w,{threshold:.5});return p.current&&E.observe(p.current),()=>{E.disconnect()}}},[n]),Y.useEffect(()=>{if(i){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[i]);let b=()=>{a(!0)},C=()=>{a(!1),l(!1)};return t?n!=="intent"?[r,p,{}]:[r,p,{onFocus:np(u,b),onBlur:np(m,C),onMouseEnter:np(g,b),onMouseLeave:np(v,C),onTouchStart:np(d,b)}]:[!1,p,{}]}function np(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function uB({page:n,...e}){let{router:t}=g4(),i=Y.useMemo(()=>r4(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?Y.createElement(fB,{page:n,matches:i,...e}):null}function hB(n){let{manifest:e,routeModules:t}=y4(),[i,a]=Y.useState([]);return Y.useEffect(()=>{let r=!1;return iB(n,e,t).then(l=>{r||a(l)}),()=>{r=!0}},[n,e,t]),i}function fB({page:n,matches:e,...t}){let i=sc(),{manifest:a,routeModules:r}=y4(),{basename:l}=g4(),{loaderData:u,matches:m}=lB(),g=Y.useMemo(()=>wM(n,e,m,a,i,"data"),[n,e,m,a,i]),v=Y.useMemo(()=>wM(n,e,m,a,i,"assets"),[n,e,m,a,i]),d=Y.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let C=new Set,w=!1;if(e.forEach(M=>{let I=a.routes[M.route.id];!I||!I.hasLoader||(!g.some(B=>B.route.id===M.route.id)&&M.route.id in u&&r[M.route.id]?.shouldRevalidate||I.hasClientLoader?w=!0:C.add(M.route.id))}),C.size===0)return[];let E=eB(n,l,"data");return w&&C.size>0&&E.searchParams.set("_routes",e.filter(M=>C.has(M.route.id)).map(M=>M.route.id).join(",")),[E.pathname+E.search]},[l,u,i,a,g,e,n,r]),p=Y.useMemo(()=>aB(v,a),[v,a]),b=hB(v);return Y.createElement(Y.Fragment,null,d.map(C=>Y.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),p.map(C=>Y.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),b.map(({key:C,link:w})=>Y.createElement("link",{key:C,nonce:t.nonce,...w})))}function dB(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var v4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{v4&&(window.__reactRouterVersion="7.9.4")}catch{}function mB({basename:n,children:e,window:t}){let i=Y.useRef();i.current==null&&(i.current=t6({window:t,v5Compat:!0}));let a=i.current,[r,l]=Y.useState({action:a.action,location:a.location}),u=Y.useCallback(m=>{Y.startTransition(()=>l(m))},[l]);return Y.useLayoutEffect(()=>a.listen(u),[a,u]),Y.createElement(k6,{basename:n,children:e,location:r.location,navigationType:r.action,navigator:a})}var x4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iu=Y.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:r,replace:l,state:u,target:m,to:g,preventScrollReset:v,viewTransition:d,...p},b){let{basename:C}=Y.useContext(uo),w=typeof g=="string"&&x4.test(g),E,M=!1;if(typeof g=="string"&&w&&(E=g,v4))try{let O=new URL(window.location.href),H=g.startsWith("//")?new URL(O.protocol+g):new URL(g),J=$l(H.pathname,C);H.origin===O.origin&&J!=null?g=J+H.search+H.hash:M=!0}catch{wr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=w6(g,{relative:a}),[B,N,P]=cB(i,p),U=yB(g,{replace:l,state:u,target:m,preventScrollReset:v,relative:a,viewTransition:d});function F(O){e&&e(O),O.defaultPrevented||U(O)}let j=Y.createElement("a",{...p,...P,href:E||I,onClick:M||r?e:F,ref:dB(b,N),target:m,"data-discover":!w&&t==="render"?"true":void 0});return B&&!w?Y.createElement(Y.Fragment,null,j,Y.createElement(uB,{page:I})):j});iu.displayName="Link";var jd=Y.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:r,to:l,viewTransition:u,children:m,...g},v){let d=og(l,{relative:g.relative}),p=sc(),b=Y.useContext(dv),{navigator:C,basename:w}=Y.useContext(uo),E=b!=null&&AB(d)&&u===!0,M=C.encodeLocation?C.encodeLocation(d).pathname:d.pathname,I=p.pathname,B=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(I=I.toLowerCase(),B=B?B.toLowerCase():null,M=M.toLowerCase()),B&&w&&(B=$l(B,w)||B);const N=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let P=I===M||!a&&I.startsWith(M)&&I.charAt(N)==="/",U=B!=null&&(B===M||!a&&B.startsWith(M)&&B.charAt(M.length)==="/"),F={isActive:P,isPending:U,isTransitioning:E},j=P?e:void 0,O;typeof i=="function"?O=i(F):O=[i,P?"active":null,U?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let H=typeof r=="function"?r(F):r;return Y.createElement(iu,{...g,"aria-current":j,className:O,ref:v,style:H,to:l,viewTransition:u},typeof m=="function"?m(F):m)});jd.displayName="NavLink";var pB=Y.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:r,method:l=qy,action:u,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:d,...p},b)=>{let C=_B(),w=bB(u,{relative:g}),E=l.toLowerCase()==="get"?"get":"post",M=typeof u=="string"&&x4.test(u),I=B=>{if(m&&m(B),B.defaultPrevented)return;B.preventDefault();let N=B.nativeEvent.submitter,P=N?.getAttribute("formmethod")||l;C(N||B.currentTarget,{fetcherKey:e,method:P,navigate:t,replace:a,state:r,relative:g,preventScrollReset:v,viewTransition:d})};return Y.createElement("form",{ref:b,method:E,action:w,onSubmit:i?m:I,...p,"data-discover":!M&&n==="render"?"true":void 0})});pB.displayName="Form";function gB(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _4(n){let e=Y.useContext(g0);return ri(e,gB(n)),e}function yB(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:r,viewTransition:l}={}){let u=d4(),m=sc(),g=og(n,{relative:r});return Y.useCallback(v=>{if(K6(v,e)){v.preventDefault();let d=t!==void 0?t:Up(m)===Up(g);u(n,{replace:d,state:i,preventScrollReset:a,relative:r,viewTransition:l})}},[m,u,g,t,i,e,n,a,r,l])}var vB=0,xB=()=>`__${String(++vB)}__`;function _B(){let{router:n}=_4("useSubmit"),{basename:e}=Y.useContext(uo),t=j6();return Y.useCallback(async(i,a={})=>{let{action:r,method:l,encType:u,formData:m,body:g}=$6(i,e);if(a.navigate===!1){let v=a.fetcherKey||xB();await n.fetch(v,t,a.action||r,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await n.navigate(a.action||r,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function bB(n,{relative:e}={}){let{basename:t}=Y.useContext(uo),i=Y.useContext(il);ri(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),r={...og(n||".",{relative:e})},l=sc();if(n==null){r.search=l.search;let u=new URLSearchParams(r.search),m=u.getAll("index");if(m.some(v=>v==="")){u.delete("index"),m.filter(d=>d).forEach(d=>u.append("index",d));let v=u.toString();r.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(r.pathname=r.pathname==="/"?t:Jl([t,r.pathname])),Up(r)}function AB(n,{relative:e}={}){let t=Y.useContext(u4);ri(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=_4("useViewTransitionState"),a=og(n,{relative:e});if(!t.isTransitioning)return!1;let r=$l(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=$l(t.nextLocation.pathname,i)||t.nextLocation.pathname;return c2(a.pathname,l)!=null||c2(a.pathname,r)!=null}const Db=Y.createContext({});function Nb(n){const e=Y.useRef(null);return e.current===null&&(e.current=n()),e.current}const Lb=typeof window<"u",b4=Lb?Y.useLayoutEffect:Y.useEffect,pv=Y.createContext(null);function Ob(n,e){n.indexOf(e)===-1&&n.push(e)}function Pb(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ec=(n,e,t)=>t>e?e:t<n?n:t;let Ub=()=>{};const tc={},A4=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function S4(n){return typeof n=="object"&&n!==null}const M4=n=>/^0[^.\s]+$/u.test(n);function Hb(n){let e;return()=>(e===void 0&&(e=n()),e)}const Tr=n=>n,SB=(n,e)=>t=>e(n(t)),lg=(...n)=>n.reduce(SB),Hp=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class jb{constructor(){this.subscriptions=[]}add(e){return Ob(this.subscriptions,e),()=>Pb(this.subscriptions,e)}notify(e,t,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,i);else for(let r=0;r<a;r++){const l=this.subscriptions[r];l&&l(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qo=n=>n*1e3,Cr=n=>n/1e3;function C4(n,e){return e?n*(1e3/e):0}const E4=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,MB=1e-7,CB=12;function EB(n,e,t,i,a){let r,l,u=0;do l=e+(t-e)/2,r=E4(l,i,a)-n,r>0?t=l:e=l;while(Math.abs(r)>MB&&++u<CB);return l}function cg(n,e,t,i){if(n===e&&t===i)return Tr;const a=r=>EB(r,0,1,n,t);return r=>r===0||r===1?r:E4(a(r),e,i)}const T4=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,w4=n=>e=>1-n(1-e),R4=cg(.33,1.53,.69,.99),Fb=w4(R4),I4=T4(Fb),B4=n=>(n*=2)<1?.5*Fb(n):.5*(2-Math.pow(2,-10*(n-1))),Gb=n=>1-Math.sin(Math.acos(n)),D4=w4(Gb),N4=T4(Gb),TB=cg(.42,0,1,1),wB=cg(0,0,.58,1),L4=cg(.42,0,.58,1),RB=n=>Array.isArray(n)&&typeof n[0]!="number",O4=n=>Array.isArray(n)&&typeof n[0]=="number",IB={linear:Tr,easeIn:TB,easeInOut:L4,easeOut:wB,circIn:Gb,circInOut:N4,circOut:D4,backIn:Fb,backInOut:I4,backOut:R4,anticipate:B4},BB=n=>typeof n=="string",RM=n=>{if(O4(n)){Ub(n.length===4);const[e,t,i,a]=n;return cg(e,t,i,a)}else if(BB(n))return IB[n];return n},Y1=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function DB(n,e){let t=new Set,i=new Set,a=!1,r=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function m(v){l.has(v)&&(g.schedule(v),n()),v(u)}const g={schedule:(v,d=!1,p=!1)=>{const C=p&&a?t:i;return d&&l.add(v),C.has(v)||C.add(v),v},cancel:v=>{i.delete(v),l.delete(v)},process:v=>{if(u=v,a){r=!0;return}a=!0,[t,i]=[i,t],t.forEach(m),t.clear(),a=!1,r&&(r=!1,g.process(v))}};return g}const NB=40;function P4(n,e){let t=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},r=()=>t=!0,l=Y1.reduce((B,N)=>(B[N]=DB(r),B),{}),{setup:u,read:m,resolveKeyframes:g,preUpdate:v,update:d,preRender:p,render:b,postRender:C}=l,w=()=>{const B=tc.useManualTiming?a.timestamp:performance.now();t=!1,tc.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(B-a.timestamp,NB),1)),a.timestamp=B,a.isProcessing=!0,u.process(a),m.process(a),g.process(a),v.process(a),d.process(a),p.process(a),b.process(a),C.process(a),a.isProcessing=!1,t&&e&&(i=!1,n(w))},E=()=>{t=!0,i=!0,a.isProcessing||n(w)};return{schedule:Y1.reduce((B,N)=>{const P=l[N];return B[N]=(U,F=!1,j=!1)=>(t||E(),P.schedule(U,F,j)),B},{}),cancel:B=>{for(let N=0;N<Y1.length;N++)l[Y1[N]].cancel(B)},state:a,steps:l}}const{schedule:si,cancel:uu,state:Sa,steps:Zx}=P4(typeof requestAnimationFrame<"u"?requestAnimationFrame:Tr,!0);let $y;function LB(){$y=void 0}const Bs={now:()=>($y===void 0&&Bs.set(Sa.isProcessing||tc.useManualTiming?Sa.timestamp:performance.now()),$y),set:n=>{$y=n,queueMicrotask(LB)}},U4=n=>e=>typeof e=="string"&&e.startsWith(n),zb=U4("--"),OB=U4("var(--"),Vb=n=>OB(n)?PB.test(n.split("/*")[0].trim()):!1,PB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,v0={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},jp={...v0,transform:n=>ec(0,1,n)},K1={...v0,default:1},Ap=n=>Math.round(n*1e5)/1e5,kb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function UB(n){return n==null}const HB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Wb=(n,e)=>t=>!!(typeof t=="string"&&HB.test(t)&&t.startsWith(n)||e&&!UB(t)&&Object.prototype.hasOwnProperty.call(t,e)),H4=(n,e,t)=>i=>{if(typeof i!="string")return i;const[a,r,l,u]=i.match(kb);return{[n]:parseFloat(a),[e]:parseFloat(r),[t]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},jB=n=>ec(0,255,n),Xx={...v0,transform:n=>Math.round(jB(n))},Ph={test:Wb("rgb","red"),parse:H4("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+Xx.transform(n)+", "+Xx.transform(e)+", "+Xx.transform(t)+", "+Ap(jp.transform(i))+")"};function FB(n){let e="",t="",i="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const T3={test:Wb("#"),parse:FB,transform:Ph.transform},ug=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),tu=ug("deg"),Qo=ug("%"),Gt=ug("px"),GB=ug("vh"),zB=ug("vw"),IM={...Qo,parse:n=>Qo.parse(n)/100,transform:n=>Qo.transform(n*100)},Fd={test:Wb("hsl","hue"),parse:H4("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Qo.transform(Ap(e))+", "+Qo.transform(Ap(t))+", "+Ap(jp.transform(i))+")"},Fi={test:n=>Ph.test(n)||T3.test(n)||Fd.test(n),parse:n=>Ph.test(n)?Ph.parse(n):Fd.test(n)?Fd.parse(n):T3.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ph.transform(n):Fd.transform(n),getAnimatableNone:n=>{const e=Fi.parse(n);return e.alpha=0,Fi.transform(e)}},VB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function kB(n){return isNaN(n)&&typeof n=="string"&&(n.match(kb)?.length||0)+(n.match(VB)?.length||0)>0}const j4="number",F4="color",WB="var",ZB="var(",BM="${}",XB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fp(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},a=[];let r=0;const u=e.replace(XB,m=>(Fi.test(m)?(i.color.push(r),a.push(F4),t.push(Fi.parse(m))):m.startsWith(ZB)?(i.var.push(r),a.push(WB),t.push(m)):(i.number.push(r),a.push(j4),t.push(parseFloat(m))),++r,BM)).split(BM);return{values:t,split:u,indexes:i,types:a}}function G4(n){return Fp(n).values}function z4(n){const{split:e,types:t}=Fp(n),i=e.length;return a=>{let r="";for(let l=0;l<i;l++)if(r+=e[l],a[l]!==void 0){const u=t[l];u===j4?r+=Ap(a[l]):u===F4?r+=Fi.transform(a[l]):r+=a[l]}return r}}const JB=n=>typeof n=="number"?0:Fi.test(n)?Fi.getAnimatableNone(n):n;function YB(n){const e=G4(n);return z4(n)(e.map(JB))}const hu={test:kB,parse:G4,createTransformer:z4,getAnimatableNone:YB};function Jx(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function KB({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let a=0,r=0,l=0;if(!e)a=r=l=t;else{const u=t<.5?t*(1+e):t+e-t*e,m=2*t-u;a=Jx(m,u,n+1/3),r=Jx(m,u,n),l=Jx(m,u,n-1/3)}return{red:Math.round(a*255),green:Math.round(r*255),blue:Math.round(l*255),alpha:i}}function u2(n,e){return t=>t>0?e:n}const mi=(n,e,t)=>n+(e-n)*t,Yx=(n,e,t)=>{const i=n*n,a=t*(e*e-i)+i;return a<0?0:Math.sqrt(a)},qB=[T3,Ph,Fd],QB=n=>qB.find(e=>e.test(n));function DM(n){const e=QB(n);if(!e)return!1;let t=e.parse(n);return e===Fd&&(t=KB(t)),t}const NM=(n,e)=>{const t=DM(n),i=DM(e);if(!t||!i)return u2(n,e);const a={...t};return r=>(a.red=Yx(t.red,i.red,r),a.green=Yx(t.green,i.green,r),a.blue=Yx(t.blue,i.blue,r),a.alpha=mi(t.alpha,i.alpha,r),Ph.transform(a))},w3=new Set(["none","hidden"]);function $B(n,e){return w3.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function e8(n,e){return t=>mi(n,e,t)}function Zb(n){return typeof n=="number"?e8:typeof n=="string"?Vb(n)?u2:Fi.test(n)?NM:i8:Array.isArray(n)?V4:typeof n=="object"?Fi.test(n)?NM:t8:u2}function V4(n,e){const t=[...n],i=t.length,a=n.map((r,l)=>Zb(r)(r,e[l]));return r=>{for(let l=0;l<i;l++)t[l]=a[l](r);return t}}function t8(n,e){const t={...n,...e},i={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(i[a]=Zb(n[a])(n[a],e[a]));return a=>{for(const r in i)t[r]=i[r](a);return t}}function n8(n,e){const t=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const r=e.types[a],l=n.indexes[r][i[r]],u=n.values[l]??0;t[a]=u,i[r]++}return t}const i8=(n,e)=>{const t=hu.createTransformer(e),i=Fp(n),a=Fp(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?w3.has(n)&&!a.values.length||w3.has(e)&&!i.values.length?$B(n,e):lg(V4(n8(i,a),a.values),t):u2(n,e)};function k4(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?mi(n,e,t):Zb(n)(n,e)}const a8=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>si.update(e,t),stop:()=>uu(e),now:()=>Sa.isProcessing?Sa.timestamp:Bs.now()}},W4=(n,e,t=10)=>{let i="";const a=Math.max(Math.round(e/t),2);for(let r=0;r<a;r++)i+=Math.round(n(r/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},h2=2e4;function Xb(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<h2;)e+=t,i=n.next(e);return e>=h2?1/0:e}function s8(n,e=100,t){const i=t({...n,keyframes:[0,e]}),a=Math.min(Xb(i),h2);return{type:"keyframes",ease:r=>i.next(a*r).value/e,duration:Cr(a)}}const r8=5;function Z4(n,e,t){const i=Math.max(e-r8,0);return C4(t-n(i),e-i)}const Ai={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Kx=.001;function o8({duration:n=Ai.duration,bounce:e=Ai.bounce,velocity:t=Ai.velocity,mass:i=Ai.mass}){let a,r,l=1-e;l=ec(Ai.minDamping,Ai.maxDamping,l),n=ec(Ai.minDuration,Ai.maxDuration,Cr(n)),l<1?(a=g=>{const v=g*l,d=v*n,p=v-t,b=R3(g,l),C=Math.exp(-d);return Kx-p/b*C},r=g=>{const d=g*l*n,p=d*t+t,b=Math.pow(l,2)*Math.pow(g,2)*n,C=Math.exp(-d),w=R3(Math.pow(g,2),l);return(-a(g)+Kx>0?-1:1)*((p-b)*C)/w}):(a=g=>{const v=Math.exp(-g*n),d=(g-t)*n+1;return-Kx+v*d},r=g=>{const v=Math.exp(-g*n),d=(t-g)*(n*n);return v*d});const u=5/n,m=c8(a,r,u);if(n=qo(n),isNaN(m))return{stiffness:Ai.stiffness,damping:Ai.damping,duration:n};{const g=Math.pow(m,2)*i;return{stiffness:g,damping:l*2*Math.sqrt(i*g),duration:n}}}const l8=12;function c8(n,e,t){let i=t;for(let a=1;a<l8;a++)i=i-n(i)/e(i);return i}function R3(n,e){return n*Math.sqrt(1-e*e)}const u8=["duration","bounce"],h8=["stiffness","damping","mass"];function LM(n,e){return e.some(t=>n[t]!==void 0)}function f8(n){let e={velocity:Ai.velocity,stiffness:Ai.stiffness,damping:Ai.damping,mass:Ai.mass,isResolvedFromDuration:!1,...n};if(!LM(n,h8)&&LM(n,u8))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),a=i*i,r=2*ec(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:Ai.mass,stiffness:a,damping:r}}else{const t=o8(n);e={...e,...t,mass:Ai.mass},e.isResolvedFromDuration=!0}return e}function f2(n=Ai.visualDuration,e=Ai.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:a}=t;const r=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],u={done:!1,value:r},{stiffness:m,damping:g,mass:v,duration:d,velocity:p,isResolvedFromDuration:b}=f8({...t,velocity:-Cr(t.velocity||0)}),C=p||0,w=g/(2*Math.sqrt(m*v)),E=l-r,M=Cr(Math.sqrt(m/v)),I=Math.abs(E)<5;i||(i=I?Ai.restSpeed.granular:Ai.restSpeed.default),a||(a=I?Ai.restDelta.granular:Ai.restDelta.default);let B;if(w<1){const P=R3(M,w);B=U=>{const F=Math.exp(-w*M*U);return l-F*((C+w*M*E)/P*Math.sin(P*U)+E*Math.cos(P*U))}}else if(w===1)B=P=>l-Math.exp(-M*P)*(E+(C+M*E)*P);else{const P=M*Math.sqrt(w*w-1);B=U=>{const F=Math.exp(-w*M*U),j=Math.min(P*U,300);return l-F*((C+w*M*E)*Math.sinh(j)+P*E*Math.cosh(j))/P}}const N={calculatedDuration:b&&d||null,next:P=>{const U=B(P);if(b)u.done=P>=d;else{let F=P===0?C:0;w<1&&(F=P===0?qo(C):Z4(B,P,U));const j=Math.abs(F)<=i,O=Math.abs(l-U)<=a;u.done=j&&O}return u.value=u.done?l:U,u},toString:()=>{const P=Math.min(Xb(N),h2),U=W4(F=>N.next(P*F).value,P,30);return P+"ms "+U},toTransition:()=>{}};return N}f2.applyToOptions=n=>{const e=s8(n,100,f2);return n.ease=e.ease,n.duration=qo(e.duration),n.type="keyframes",n};function I3({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:r=500,modifyTarget:l,min:u,max:m,restDelta:g=.5,restSpeed:v}){const d=n[0],p={done:!1,value:d},b=j=>u!==void 0&&j<u||m!==void 0&&j>m,C=j=>u===void 0?m:m===void 0||Math.abs(u-j)<Math.abs(m-j)?u:m;let w=t*e;const E=d+w,M=l===void 0?E:l(E);M!==E&&(w=M-d);const I=j=>-w*Math.exp(-j/i),B=j=>M+I(j),N=j=>{const O=I(j),H=B(j);p.done=Math.abs(O)<=g,p.value=p.done?M:H};let P,U;const F=j=>{b(p.value)&&(P=j,U=f2({keyframes:[p.value,C(p.value)],velocity:Z4(B,j,p.value),damping:a,stiffness:r,restDelta:g,restSpeed:v}))};return F(0),{calculatedDuration:null,next:j=>{let O=!1;return!U&&P===void 0&&(O=!0,N(j),F(j)),P!==void 0&&j>=P?U.next(j-P):(!O&&N(j),p)}}}function d8(n,e,t){const i=[],a=t||tc.mix||k4,r=n.length-1;for(let l=0;l<r;l++){let u=a(n[l],n[l+1]);if(e){const m=Array.isArray(e)?e[l]||Tr:e;u=lg(m,u)}i.push(u)}return i}function m8(n,e,{clamp:t=!0,ease:i,mixer:a}={}){const r=n.length;if(Ub(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[r-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=d8(e,i,a),m=u.length,g=v=>{if(l&&v<n[0])return e[0];let d=0;if(m>1)for(;d<n.length-2&&!(v<n[d+1]);d++);const p=Hp(n[d],n[d+1],v);return u[d](p)};return t?v=>g(ec(n[0],n[r-1],v)):g}function p8(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const a=Hp(0,e,i);n.push(mi(t,1,a))}}function g8(n){const e=[0];return p8(e,n.length-1),e}function y8(n,e){return n.map(t=>t*e)}function v8(n,e){return n.map(()=>e||L4).splice(0,n.length-1)}function Sp({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const a=RB(i)?i.map(RM):RM(i),r={done:!1,value:e[0]},l=y8(t&&t.length===e.length?t:g8(e),n),u=m8(l,e,{ease:Array.isArray(a)?a:v8(e,a)});return{calculatedDuration:n,next:m=>(r.value=u(m),r.done=m>=n,r)}}const x8=n=>n!==null;function Jb(n,{repeat:e,repeatType:t="loop"},i,a=1){const r=n.filter(x8),u=a<0||e&&t!=="loop"&&e%2===1?0:r.length-1;return!u||i===void 0?r[u]:i}const _8={decay:I3,inertia:I3,tween:Sp,keyframes:Sp,spring:f2};function X4(n){typeof n.type=="string"&&(n.type=_8[n.type])}class Yb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const b8=n=>n/100;class Kb extends Yb{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==Bs.now()&&this.tick(Bs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;X4(e);const{type:t=Sp,repeat:i=0,repeatDelay:a=0,repeatType:r,velocity:l=0}=e;let{keyframes:u}=e;const m=t||Sp;m!==Sp&&typeof u[0]!="number"&&(this.mixKeyframes=lg(b8,k4(u[0],u[1])),u=[0,100]);const g=m({...e,keyframes:u});r==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...u].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=Xb(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=g}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:a,mixKeyframes:r,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:g=0,keyframes:v,repeat:d,repeatType:p,repeatDelay:b,type:C,onUpdate:w,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const M=this.currentTime-g*(this.playbackSpeed>=0?1:-1),I=this.playbackSpeed>=0?M<0:M>a;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let B=this.currentTime,N=i;if(d){const j=Math.min(this.currentTime,a)/u;let O=Math.floor(j),H=j%1;!H&&j>=1&&(H=1),H===1&&O--,O=Math.min(O,d+1),!!(O%2)&&(p==="reverse"?(H=1-H,b&&(H-=b/u)):p==="mirror"&&(N=l)),B=ec(0,1,H)*u}const P=I?{done:!1,value:v[0]}:N.next(B);r&&(P.value=r(P.value));let{done:U}=P;!I&&m!==null&&(U=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return F&&C!==I3&&(P.value=Jb(v,this.options,E,this.speed)),w&&w(P.value),F&&this.finish(),P}then(e,t){return this.finished.then(e,t)}get duration(){return Cr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Cr(e)}get time(){return Cr(this.currentTime)}set time(e){e=qo(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Bs.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Cr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=a8,startTime:t}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Bs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function A8(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Uh=n=>n*180/Math.PI,B3=n=>{const e=Uh(Math.atan2(n[1],n[0]));return D3(e)},S8={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:B3,rotateZ:B3,skewX:n=>Uh(Math.atan(n[1])),skewY:n=>Uh(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},D3=n=>(n=n%360,n<0&&(n+=360),n),OM=B3,PM=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),UM=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),M8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:PM,scaleY:UM,scale:n=>(PM(n)+UM(n))/2,rotateX:n=>D3(Uh(Math.atan2(n[6],n[5]))),rotateY:n=>D3(Uh(Math.atan2(-n[2],n[0]))),rotateZ:OM,rotate:OM,skewX:n=>Uh(Math.atan(n[4])),skewY:n=>Uh(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function N3(n){return n.includes("scale")?1:0}function L3(n,e){if(!n||n==="none")return N3(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(t)i=M8,a=t;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=S8,a=u}if(!a)return N3(e);const r=i[e],l=a[1].split(",").map(E8);return typeof r=="function"?r(l):l[r]}const C8=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return L3(t,e)};function E8(n){return parseFloat(n.trim())}const x0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_0=new Set(x0),HM=n=>n===v0||n===Gt,T8=new Set(["x","y","z"]),w8=x0.filter(n=>!T8.has(n));function R8(n){const e=[];return w8.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const kh={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>L3(e,"x"),y:(n,{transform:e})=>L3(e,"y")};kh.translateX=kh.x;kh.translateY=kh.y;const Wh=new Set;let O3=!1,P3=!1,U3=!1;function J4(){if(P3){const n=Array.from(Wh).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const a=R8(i);a.length&&(t.set(i,a),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=t.get(i);a&&a.forEach(([r,l])=>{i.getValue(r)?.set(l)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}P3=!1,O3=!1,Wh.forEach(n=>n.complete(U3)),Wh.clear()}function Y4(){Wh.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(P3=!0)})}function I8(){U3=!0,Y4(),J4(),U3=!1}class qb{constructor(e,t,i,a,r,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=a,this.element=r,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Wh.add(this),O3||(O3=!0,si.read(Y4),si.resolveKeyframes(J4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:a}=this;if(e[0]===null){const r=a?.get(),l=e[e.length-1];if(r!==void 0)e[0]=r;else if(i&&t){const u=i.readValue(t,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),a&&r===void 0&&a.set(e[0])}A8(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Wh.delete(this)}cancel(){this.state==="scheduled"&&(Wh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const B8=n=>n.startsWith("--");function D8(n,e,t){B8(e)?n.style.setProperty(e,t):n.style[e]=t}const N8=Hb(()=>window.ScrollTimeline!==void 0),L8={};function O8(n,e){const t=Hb(n);return()=>L8[e]??t()}const K4=O8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),vp=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,jM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vp([0,.65,.55,1]),circOut:vp([.55,0,1,.45]),backIn:vp([.31,.01,.66,-.59]),backOut:vp([.33,1.53,.69,.99])};function q4(n,e){if(n)return typeof n=="function"?K4()?W4(n,e):"ease-out":O4(n)?vp(n):Array.isArray(n)?n.map(t=>q4(t,e)||jM.easeOut):jM[n]}function P8(n,e,t,{delay:i=0,duration:a=300,repeat:r=0,repeatType:l="loop",ease:u="easeOut",times:m}={},g=void 0){const v={[e]:t};m&&(v.offset=m);const d=q4(u,a);Array.isArray(d)&&(v.easing=d);const p={delay:i,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:r+1,direction:l==="reverse"?"alternate":"normal"};return g&&(p.pseudoElement=g),n.animate(v,p)}function Q4(n){return typeof n=="function"&&"applyToOptions"in n}function U8({type:n,...e}){return Q4(n)&&K4()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class H8 extends Yb{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:a,pseudoElement:r,allowFlatten:l=!1,finalKeyframe:u,onComplete:m}=e;this.isPseudoElement=!!r,this.allowFlatten=l,this.options=e,Ub(typeof e.type!="string");const g=U8(e);this.animation=P8(t,i,a,g,r),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const v=Jb(a,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(v):D8(t,i,v),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Cr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Cr(e)}get time(){return Cr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=qo(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&N8()?(this.animation.timeline=e,Tr):t(this)}}const $4={anticipate:B4,backInOut:I4,circInOut:N4};function j8(n){return n in $4}function F8(n){typeof n.ease=="string"&&j8(n.ease)&&(n.ease=$4[n.ease])}const FM=10;class G8 extends H8{constructor(e){F8(e),X4(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:a,element:r,...l}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const u=new Kb({...l,autoplay:!1}),m=qo(this.finishedTime??this.time);t.setWithVelocity(u.sample(m-FM).value,u.sample(m).value,FM),u.stop()}}const GM=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(hu.test(n)||n==="0")&&!n.startsWith("url("));function z8(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function V8(n,e,t,i){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const r=n[n.length-1],l=GM(a,e),u=GM(r,e);return!l||!u?!1:z8(n)||(t==="spring"||Q4(t))&&i}function H3(n){n.duration=0,n.type="keyframes"}const k8=new Set(["opacity","clipPath","filter","transform"]),W8=Hb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Z8(n){const{motionValue:e,name:t,repeatDelay:i,repeatType:a,damping:r,type:l}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=e.owner.getProps();return W8()&&t&&k8.has(t)&&(t!=="transform"||!g)&&!m&&!i&&a!=="mirror"&&r!==0&&l!=="inertia"}const X8=40;class J8 extends Yb{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:a=0,repeatDelay:r=0,repeatType:l="loop",keyframes:u,name:m,motionValue:g,element:v,...d}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Bs.now();const p={autoplay:e,delay:t,type:i,repeat:a,repeatDelay:r,repeatType:l,name:m,motionValue:g,element:v,...d},b=v?.KeyframeResolver||qb;this.keyframeResolver=new b(u,(C,w,E)=>this.onKeyframesResolved(C,w,p,!E),m,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,a){this.keyframeResolver=void 0;const{name:r,type:l,velocity:u,delay:m,isHandoff:g,onUpdate:v}=i;this.resolvedAt=Bs.now(),V8(e,r,l,u)||((tc.instantAnimations||!m)&&v?.(Jb(e,i,t)),e[0]=e[e.length-1],H3(i),i.repeat=0);const p={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>X8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},b=!g&&Z8(p)?new G8({...p,element:p.motionValue.owner.current}):new Kb(p);b.finished.then(()=>this.notifyFinished()).catch(Tr),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),I8()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Y8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function K8(n){const e=Y8.exec(n);if(!e)return[,];const[,t,i,a]=e;return[`--${t??i}`,a]}function e5(n,e,t=1){const[i,a]=K8(n);if(!i)return;const r=window.getComputedStyle(e).getPropertyValue(i);if(r){const l=r.trim();return A4(l)?parseFloat(l):l}return Vb(a)?e5(a,e,t+1):a}function Qb(n,e){return n?.[e]??n?.default??n}const t5=new Set(["width","height","top","left","right","bottom",...x0]),q8={test:n=>n==="auto",parse:n=>n},n5=n=>e=>e.test(n),i5=[v0,Gt,Qo,tu,zB,GB,q8],zM=n=>i5.find(n5(n));function Q8(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||M4(n):!0}const $8=new Set(["brightness","contrast","saturate","opacity"]);function eD(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(kb)||[];if(!i)return n;const a=t.replace(i,"");let r=$8.has(e)?1:0;return i!==t&&(r*=100),e+"("+r+a+")"}const tD=/\b([a-z-]*)\(.*?\)/gu,j3={...hu,getAnimatableNone:n=>{const e=n.match(tD);return e?e.map(eD).join(" "):n}},VM={...v0,transform:Math.round},nD={rotate:tu,rotateX:tu,rotateY:tu,rotateZ:tu,scale:K1,scaleX:K1,scaleY:K1,scaleZ:K1,skew:tu,skewX:tu,skewY:tu,distance:Gt,translateX:Gt,translateY:Gt,translateZ:Gt,x:Gt,y:Gt,z:Gt,perspective:Gt,transformPerspective:Gt,opacity:jp,originX:IM,originY:IM,originZ:Gt},$b={borderWidth:Gt,borderTopWidth:Gt,borderRightWidth:Gt,borderBottomWidth:Gt,borderLeftWidth:Gt,borderRadius:Gt,radius:Gt,borderTopLeftRadius:Gt,borderTopRightRadius:Gt,borderBottomRightRadius:Gt,borderBottomLeftRadius:Gt,width:Gt,maxWidth:Gt,height:Gt,maxHeight:Gt,top:Gt,right:Gt,bottom:Gt,left:Gt,padding:Gt,paddingTop:Gt,paddingRight:Gt,paddingBottom:Gt,paddingLeft:Gt,margin:Gt,marginTop:Gt,marginRight:Gt,marginBottom:Gt,marginLeft:Gt,backgroundPositionX:Gt,backgroundPositionY:Gt,...nD,zIndex:VM,fillOpacity:jp,strokeOpacity:jp,numOctaves:VM},iD={...$b,color:Fi,backgroundColor:Fi,outlineColor:Fi,fill:Fi,stroke:Fi,borderColor:Fi,borderTopColor:Fi,borderRightColor:Fi,borderBottomColor:Fi,borderLeftColor:Fi,filter:j3,WebkitFilter:j3},a5=n=>iD[n];function s5(n,e){let t=a5(n);return t!==j3&&(t=hu),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const aD=new Set(["auto","none","0"]);function sD(n,e,t){let i=0,a;for(;i<n.length&&!a;){const r=n[i];typeof r=="string"&&!aD.has(r)&&Fp(r).values.length&&(a=n[i]),i++}if(a&&t)for(const r of e)n[r]=s5(t,a)}class rD extends qb{constructor(e,t,i,a,r){super(e,t,i,a,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),Vb(g))){const v=e5(g,t.current);v!==void 0&&(e[m]=v),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!t5.has(i)||e.length!==2)return;const[a,r]=e,l=zM(a),u=zM(r);if(l!==u)if(HM(l)&&HM(u))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else kh[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||Q8(e[a]))&&i.push(a);i.length&&sD(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kh[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);const r=i.length-1,l=i[r];i[r]=kh[t](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,m])=>{e.getValue(u).set(m)}),this.resolveNoneKeyframes()}}function oD(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const a=t?.[n]??i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}const r5=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function o5(n){return S4(n)&&"offsetHeight"in n}const kM=30,lD=n=>!isNaN(parseFloat(n));class cD{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=Bs.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Bs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=lD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new jb);const i=this.events[e].add(t);return e==="change"?()=>{i(),si.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Bs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>kM)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,kM);return C4(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qd(n,e){return new cD(n,e)}const{schedule:eA}=P4(queueMicrotask,!1),ao={x:!1,y:!1};function l5(){return ao.x||ao.y}function uD(n){return n==="x"||n==="y"?ao[n]?null:(ao[n]=!0,()=>{ao[n]=!1}):ao.x||ao.y?null:(ao.x=ao.y=!0,()=>{ao.x=ao.y=!1})}function c5(n,e){const t=oD(n),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[t,a,()=>i.abort()]}function WM(n){return!(n.pointerType==="touch"||l5())}function hD(n,e,t={}){const[i,a,r]=c5(n,t),l=u=>{if(!WM(u))return;const{target:m}=u,g=e(m,u);if(typeof g!="function"||!m)return;const v=d=>{WM(d)&&(g(d),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return i.forEach(u=>{u.addEventListener("pointerenter",l,a)}),r}const u5=(n,e)=>e?n===e?!0:u5(n,e.parentElement):!1,tA=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,fD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dD(n){return fD.has(n.tagName)||n.tabIndex!==-1}const e2=new WeakSet;function ZM(n){return e=>{e.key==="Enter"&&n(e)}}function qx(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const mD=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=ZM(()=>{if(e2.has(t))return;qx(t,"down");const a=ZM(()=>{qx(t,"up")}),r=()=>qx(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",r,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function XM(n){return tA(n)&&!l5()}function pD(n,e,t={}){const[i,a,r]=c5(n,t),l=u=>{const m=u.currentTarget;if(!XM(u))return;e2.add(m);const g=e(m,u),v=(b,C)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",p),e2.has(m)&&e2.delete(m),XM(b)&&typeof g=="function"&&g(b,{success:C})},d=b=>{v(b,m===window||m===document||t.useGlobalTarget||u5(m,b.target))},p=b=>{v(b,!1)};window.addEventListener("pointerup",d,a),window.addEventListener("pointercancel",p,a)};return i.forEach(u=>{(t.useGlobalTarget?window:u).addEventListener("pointerdown",l,a),o5(u)&&(u.addEventListener("focus",g=>mD(g,a)),!dD(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),r}function h5(n){return S4(n)&&"ownerSVGElement"in n}function gD(n){return h5(n)&&n.tagName==="svg"}const za=n=>!!(n&&n.getVelocity),yD=[...i5,Fi,hu],vD=n=>yD.find(n5(n)),nA=Y.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function JM(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function xD(...n){return e=>{let t=!1;const i=n.map(a=>{const r=JM(a,e);return!t&&typeof r=="function"&&(t=!0),r});if(t)return()=>{for(let a=0;a<i.length;a++){const r=i[a];typeof r=="function"?r():JM(n[a],null)}}}}function _D(...n){return Y.useCallback(xD(...n),n)}class bD extends Y.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=t.offsetParent,a=o5(i)&&i.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=a-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function AD({children:n,isPresent:e,anchorX:t,root:i}){const a=Y.useId(),r=Y.useRef(null),l=Y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=Y.useContext(nA),m=_D(r,n?.ref);return Y.useInsertionEffect(()=>{const{width:g,height:v,top:d,left:p,right:b}=l.current;if(e||!r.current||!g||!v)return;const C=t==="left"?`left: ${p}`:`right: ${b}`;r.current.dataset.motionPopId=a;const w=document.createElement("style");u&&(w.nonce=u);const E=i??document.head;return E.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${v}px !important;
            ${C}px !important;
            top: ${d}px !important;
          }
        `),()=>{E.contains(w)&&E.removeChild(w)}},[e]),_.jsx(bD,{isPresent:e,childRef:r,sizeRef:l,children:Y.cloneElement(n,{ref:m})})}const SD=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:a,presenceAffectsLayout:r,mode:l,anchorX:u,root:m})=>{const g=Nb(MD),v=Y.useId();let d=!0,p=Y.useMemo(()=>(d=!1,{id:v,initial:e,isPresent:t,custom:a,onExitComplete:b=>{g.set(b,!0);for(const C of g.values())if(!C)return;i&&i()},register:b=>(g.set(b,!1),()=>g.delete(b))}),[t,g,i]);return r&&d&&(p={...p}),Y.useMemo(()=>{g.forEach((b,C)=>g.set(C,!1))},[t]),Y.useEffect(()=>{!t&&!g.size&&i&&i()},[t]),l==="popLayout"&&(n=_.jsx(AD,{isPresent:t,anchorX:u,root:m,children:n})),_.jsx(pv.Provider,{value:p,children:n})};function MD(){return new Map}function f5(n=!0){const e=Y.useContext(pv);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:a}=e,r=Y.useId();Y.useEffect(()=>{if(n)return a(r)},[n]);const l=Y.useCallback(()=>n&&i&&i(r),[r,i,n]);return!t&&i?[!1,l]:[!0]}const q1=n=>n.key||"";function YM(n){const e=[];return Y.Children.forEach(n,t=>{Y.isValidElement(t)&&e.push(t)}),e}const CD=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:r="sync",propagate:l=!1,anchorX:u="left",root:m})=>{const[g,v]=f5(l),d=Y.useMemo(()=>YM(n),[n]),p=l&&!g?[]:d.map(q1),b=Y.useRef(!0),C=Y.useRef(d),w=Nb(()=>new Map),[E,M]=Y.useState(d),[I,B]=Y.useState(d);b4(()=>{b.current=!1,C.current=d;for(let U=0;U<I.length;U++){const F=q1(I[U]);p.includes(F)?w.delete(F):w.get(F)!==!0&&w.set(F,!1)}},[I,p.length,p.join("-")]);const N=[];if(d!==E){let U=[...d];for(let F=0;F<I.length;F++){const j=I[F],O=q1(j);p.includes(O)||(U.splice(F,0,j),N.push(j))}return r==="wait"&&N.length&&(U=N),B(YM(U)),M(d),null}const{forceRender:P}=Y.useContext(Db);return _.jsx(_.Fragment,{children:I.map(U=>{const F=q1(U),j=l&&!g?!1:d===I||p.includes(F),O=()=>{if(w.has(F))w.set(F,!0);else return;let H=!0;w.forEach(J=>{J||(H=!1)}),H&&(P?.(),B(C.current),l&&v?.(),i&&i())};return _.jsx(SD,{isPresent:j,initial:!b.current||t?void 0:!1,custom:e,presenceAffectsLayout:a,mode:r,root:m,onExitComplete:j?void 0:O,anchorX:u,children:U},F)})})},d5=Y.createContext({strict:!1}),KM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$d={};for(const n in KM)$d[n]={isEnabled:e=>KM[n].some(t=>!!e[t])};function ED(n){for(const e in n)$d[e]={...$d[e],...n[e]}}const TD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function d2(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||TD.has(n)}let m5=n=>!d2(n);function wD(n){typeof n=="function"&&(m5=e=>e.startsWith("on")?!d2(e):n(e))}try{wD(require("@emotion/is-prop-valid").default)}catch{}function RD(n,e,t){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||(m5(a)||t===!0&&d2(a)||!e&&!d2(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}const gv=Y.createContext({});function yv(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Gp(n){return typeof n=="string"||Array.isArray(n)}const iA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],aA=["initial",...iA];function vv(n){return yv(n.animate)||aA.some(e=>Gp(n[e]))}function p5(n){return!!(vv(n)||n.variants)}function ID(n,e){if(vv(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Gp(t)?t:void 0,animate:Gp(i)?i:void 0}}return n.inherit!==!1?e:{}}function BD(n){const{initial:e,animate:t}=ID(n,Y.useContext(gv));return Y.useMemo(()=>({initial:e,animate:t}),[qM(e),qM(t)])}function qM(n){return Array.isArray(n)?n.join(" "):n}const zp={};function DD(n){for(const e in n)zp[e]=n[e],zb(e)&&(zp[e].isCSSVariable=!0)}function g5(n,{layout:e,layoutId:t}){return _0.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!zp[n]||n==="opacity")}const ND={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},LD=x0.length;function OD(n,e,t){let i="",a=!0;for(let r=0;r<LD;r++){const l=x0[r],u=n[l];if(u===void 0)continue;let m=!0;if(typeof u=="number"?m=u===(l.startsWith("scale")?1:0):m=parseFloat(u)===0,!m||t){const g=r5(u,$b[l]);if(!m){a=!1;const v=ND[l]||l;i+=`${v}(${g}) `}t&&(e[l]=g)}}return i=i.trim(),t?i=t(e,a?"":i):a&&(i="none"),i}function sA(n,e,t){const{style:i,vars:a,transformOrigin:r}=n;let l=!1,u=!1;for(const m in e){const g=e[m];if(_0.has(m)){l=!0;continue}else if(zb(m)){a[m]=g;continue}else{const v=r5(g,$b[m]);m.startsWith("origin")?(u=!0,r[m]=v):i[m]=v}}if(e.transform||(l||t?i.transform=OD(e,n.transform,t):i.transform&&(i.transform="none")),u){const{originX:m="50%",originY:g="50%",originZ:v=0}=r;i.transformOrigin=`${m} ${g} ${v}`}}const rA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function y5(n,e,t){for(const i in e)!za(e[i])&&!g5(i,t)&&(n[i]=e[i])}function PD({transformTemplate:n},e){return Y.useMemo(()=>{const t=rA();return sA(t,e,n),Object.assign({},t.vars,t.style)},[e])}function UD(n,e){const t=n.style||{},i={};return y5(i,t,n),Object.assign(i,PD(n,e)),i}function HD(n,e){const t={},i=UD(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const jD={offset:"stroke-dashoffset",array:"stroke-dasharray"},FD={offset:"strokeDashoffset",array:"strokeDasharray"};function GD(n,e,t=1,i=0,a=!0){n.pathLength=1;const r=a?jD:FD;n[r.offset]=Gt.transform(-i);const l=Gt.transform(e),u=Gt.transform(t);n[r.array]=`${l} ${u}`}function v5(n,{attrX:e,attrY:t,attrScale:i,pathLength:a,pathSpacing:r=1,pathOffset:l=0,...u},m,g,v){if(sA(n,u,g),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:d,style:p}=n;d.transform&&(p.transform=d.transform,delete d.transform),(p.transform||d.transformOrigin)&&(p.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),p.transform&&(p.transformBox=v?.transformBox??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),t!==void 0&&(d.y=t),i!==void 0&&(d.scale=i),a!==void 0&&GD(d,a,r,l,!1)}const x5=()=>({...rA(),attrs:{}}),_5=n=>typeof n=="string"&&n.toLowerCase()==="svg";function zD(n,e,t,i){const a=Y.useMemo(()=>{const r=x5();return v5(r,e,_5(i),n.transformTemplate,n.style),{...r.attrs,style:{...r.style}}},[e]);if(n.style){const r={};y5(r,n.style,n),a.style={...r,...a.style}}return a}const VD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oA(n){return typeof n!="string"||n.includes("-")?!1:!!(VD.indexOf(n)>-1||/[A-Z]/u.test(n))}function kD(n,e,t,{latestValues:i},a,r=!1){const u=(oA(n)?zD:HD)(e,i,a,n),m=RD(e,typeof n=="string",r),g=n!==Y.Fragment?{...m,...u,ref:t}:{},{children:v}=e,d=Y.useMemo(()=>za(v)?v.get():v,[v]);return Y.createElement(n,{...g,children:d})}function QM(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function lA(n,e,t,i){if(typeof e=="function"){const[a,r]=QM(i);e=e(t!==void 0?t:n.custom,a,r)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,r]=QM(i);e=e(t!==void 0?t:n.custom,a,r)}return e}function t2(n){return za(n)?n.get():n}function WD({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,a){return{latestValues:ZD(t,i,a,n),renderState:e()}}function ZD(n,e,t,i){const a={},r=i(n,{});for(const p in r)a[p]=t2(r[p]);let{initial:l,animate:u}=n;const m=vv(n),g=p5(n);e&&g&&!m&&n.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let v=t?t.initial===!1:!1;v=v||l===!1;const d=v?u:l;if(d&&typeof d!="boolean"&&!yv(d)){const p=Array.isArray(d)?d:[d];for(let b=0;b<p.length;b++){const C=lA(n,p[b]);if(C){const{transitionEnd:w,transition:E,...M}=C;for(const I in M){let B=M[I];if(Array.isArray(B)){const N=v?B.length-1:0;B=B[N]}B!==null&&(a[I]=B)}for(const I in w)a[I]=w[I]}}}return a}const b5=n=>(e,t)=>{const i=Y.useContext(gv),a=Y.useContext(pv),r=()=>WD(n,e,i,a);return t?r():Nb(r)};function cA(n,e,t){const{style:i}=n,a={};for(const r in i)(za(i[r])||e.style&&za(e.style[r])||g5(r,n)||t?.getValue(r)?.liveStyle!==void 0)&&(a[r]=i[r]);return a}const XD=b5({scrapeMotionValuesFromProps:cA,createRenderState:rA});function A5(n,e,t){const i=cA(n,e,t);for(const a in n)if(za(n[a])||za(e[a])){const r=x0.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[r]=n[a]}return i}const JD=b5({scrapeMotionValuesFromProps:A5,createRenderState:x5}),YD=Symbol.for("motionComponentSymbol");function Gd(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function KD(n,e,t){return Y.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Gd(t)&&(t.current=i))},[e])}const uA=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),qD="framerAppearId",S5="data-"+uA(qD),M5=Y.createContext({});function QD(n,e,t,i,a){const{visualElement:r}=Y.useContext(gv),l=Y.useContext(d5),u=Y.useContext(pv),m=Y.useContext(nA).reducedMotion,g=Y.useRef(null);i=i||l.renderer,!g.current&&i&&(g.current=i(n,{visualState:e,parent:r,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,d=Y.useContext(M5);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&$D(g.current,t,a,d);const p=Y.useRef(!1);Y.useInsertionEffect(()=>{v&&p.current&&v.update(t,u)});const b=t[S5],C=Y.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return b4(()=>{v&&(p.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),C.current&&v.animationState&&v.animationState.animateChanges())}),Y.useEffect(()=>{v&&(!C.current&&v.animationState&&v.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),C.current=!1),v.enteringChildren=void 0)}),v}function $D(n,e,t,i){const{layoutId:a,layout:r,drag:l,dragConstraints:u,layoutScroll:m,layoutRoot:g,layoutCrossfade:v}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:C5(n.parent)),n.projection.setOptions({layoutId:a,layout:r,alwaysMeasureLayout:!!l||u&&Gd(u),visualElement:n,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,crossfade:v,layoutScroll:m,layoutRoot:g})}function C5(n){if(n)return n.options.allowProjection!==!1?n.projection:C5(n.parent)}function Qx(n,{forwardMotionProps:e=!1}={},t,i){t&&ED(t);const a=oA(n)?JD:XD;function r(u,m){let g;const v={...Y.useContext(nA),...u,layoutId:eN(u)},{isStatic:d}=v,p=BD(u),b=a(u,d);if(!d&&Lb){tN();const C=nN(v);g=C.MeasureLayout,p.visualElement=QD(n,b,v,i,C.ProjectionNode)}return _.jsxs(gv.Provider,{value:p,children:[g&&p.visualElement?_.jsx(g,{visualElement:p.visualElement,...v}):null,kD(n,u,KD(b,p.visualElement,m),b,d,e)]})}r.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const l=Y.forwardRef(r);return l[YD]=n,l}function eN({layoutId:n}){const e=Y.useContext(Db).id;return e&&n!==void 0?e+"-"+n:n}function tN(n,e){Y.useContext(d5).strict}function nN(n){const{drag:e,layout:t}=$d;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function iN(n,e){if(typeof Proxy>"u")return Qx;const t=new Map,i=(r,l)=>Qx(r,l,n,e),a=(r,l)=>i(r,l);return new Proxy(a,{get:(r,l)=>l==="create"?i:(t.has(l)||t.set(l,Qx(l,void 0,n,e)),t.get(l))})}function E5({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function aN({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function sN(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function $x(n){return n===void 0||n===1}function F3({scale:n,scaleX:e,scaleY:t}){return!$x(n)||!$x(e)||!$x(t)}function Dh(n){return F3(n)||T5(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function T5(n){return $M(n.x)||$M(n.y)}function $M(n){return n&&n!=="0%"}function m2(n,e,t){const i=n-t,a=e*i;return t+a}function eC(n,e,t,i,a){return a!==void 0&&(n=m2(n,a,i)),m2(n,t,i)+e}function G3(n,e=0,t=1,i,a){n.min=eC(n.min,e,t,i,a),n.max=eC(n.max,e,t,i,a)}function w5(n,{x:e,y:t}){G3(n.x,e.translate,e.scale,e.originPoint),G3(n.y,t.translate,t.scale,t.originPoint)}const tC=.999999999999,nC=1.0000000000001;function rN(n,e,t,i=!1){const a=t.length;if(!a)return;e.x=e.y=1;let r,l;for(let u=0;u<a;u++){r=t[u],l=r.projectionDelta;const{visualElement:m}=r.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Vd(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,w5(n,l)),i&&Dh(r.latestValues)&&Vd(n,r.latestValues))}e.x<nC&&e.x>tC&&(e.x=1),e.y<nC&&e.y>tC&&(e.y=1)}function zd(n,e){n.min=n.min+e,n.max=n.max+e}function iC(n,e,t,i,a=.5){const r=mi(n.min,n.max,a);G3(n,e,t,r,i)}function Vd(n,e){iC(n.x,e.x,e.scaleX,e.scale,e.originX),iC(n.y,e.y,e.scaleY,e.scale,e.originY)}function R5(n,e){return E5(sN(n.getBoundingClientRect(),e))}function oN(n,e,t){const i=R5(n,t),{scroll:a}=e;return a&&(zd(i.x,a.offset.x),zd(i.y,a.offset.y)),i}const aC=()=>({translate:0,scale:1,origin:0,originPoint:0}),kd=()=>({x:aC(),y:aC()}),sC=()=>({min:0,max:0}),Ri=()=>({x:sC(),y:sC()}),z3={current:null},I5={current:!1};function lN(){if(I5.current=!0,!!Lb)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>z3.current=n.matches;n.addEventListener("change",e),e()}else z3.current=!1}const cN=new WeakMap;function uN(n,e,t){for(const i in e){const a=e[i],r=t[i];if(za(a))n.addValue(i,a);else if(za(r))n.addValue(i,Qd(a,{owner:n}));else if(r!==a)if(n.hasValue(i)){const l=n.getValue(i);l.liveStyle===!0?l.jump(a):l.hasAnimated||l.set(a)}else{const l=n.getStaticValue(i);n.addValue(i,Qd(l!==void 0?l:a,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const rC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hN{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:r,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Bs.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,si.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=l;this.latestValues=m,this.baseTarget={...m},this.initialValues=t.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!r,this.isControllingVariants=vv(t),this.isVariantNode=p5(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(const p in d){const b=d[p];m[p]!==void 0&&za(b)&&b.set(m[p])}}mount(e){this.current=e,cN.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),I5.current||lN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:z3.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),uu(this.notifyUpdate),uu(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=_0.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&si.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),r&&r(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in $d){const t=$d[e];if(!t)continue;const{isEnabled:i,Feature:a}=t;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ri()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<rC.length;i++){const a=rC[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const r="on"+a,l=e[r];l&&(this.propEventSubscriptions[a]=this.on(a,l))}this.prevMotionValues=uN(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Qd(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(A4(i)||M4(i))?i=parseFloat(i):!vD(i)&&hu.test(t)&&(i=s5(e,t)),this.setBaseTarget(e,za(i)?i.get():i)),za(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const r=lA(this.props,t,this.presenceContext?.custom);r&&(i=r[e])}if(t&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!za(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new jb),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){eA.render(this.render)}}class B5 extends hN{constructor(){super(...arguments),this.KeyframeResolver=rD}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;za(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function D5(n,{style:e,vars:t},i,a){const r=n.style;let l;for(l in e)r[l]=e[l];a?.applyProjectionStyles(r,i);for(l in t)r.setProperty(l,t[l])}function fN(n){return window.getComputedStyle(n)}class dN extends B5{constructor(){super(...arguments),this.type="html",this.renderInstance=D5}readValueFromInstance(e,t){if(_0.has(t))return this.projection?.isProjecting?N3(t):C8(e,t);{const i=fN(e),a=(zb(t)?i.getPropertyValue(t):i[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return R5(e,t)}build(e,t,i){sA(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return cA(e,t,i)}}const N5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mN(n,e,t,i){D5(n,e,void 0,i);for(const a in e.attrs)n.setAttribute(N5.has(a)?a:uA(a),e.attrs[a])}class pN extends B5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ri}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(_0.has(t)){const i=a5(t);return i&&i.default||0}return t=N5.has(t)?t:uA(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return A5(e,t,i)}build(e,t,i){v5(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,a){mN(e,t,i,a)}mount(e){this.isSVGTag=_5(e.tagName),super.mount(e)}}const gN=(n,e)=>oA(n)?new pN(e):new dN(e,{allowProjection:n!==Y.Fragment});function Xd(n,e,t){const i=n.getProps();return lA(i,e,t!==void 0?t:i.custom,n)}const V3=n=>Array.isArray(n);function yN(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Qd(t))}function vN(n){return V3(n)?n[n.length-1]||0:n}function xN(n,e){const t=Xd(n,e);let{transitionEnd:i={},transition:a={},...r}=t||{};r={...r,...i};for(const l in r){const u=vN(r[l]);yN(n,l,u)}}function _N(n){return!!(za(n)&&n.add)}function k3(n,e){const t=n.getValue("willChange");if(_N(t))return t.add(e);if(!t&&tc.WillChange){const i=new tc.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function L5(n){return n.props[S5]}const bN=n=>n!==null;function AN(n,{repeat:e,repeatType:t="loop"},i){const a=n.filter(bN),r=e&&t!=="loop"&&e%2===1?0:a.length-1;return a[r]}const SN={type:"spring",stiffness:500,damping:25,restSpeed:10},MN=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),CN={type:"keyframes",duration:.8},EN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TN=(n,{keyframes:e})=>e.length>2?CN:_0.has(n)?n.startsWith("scale")?MN(e[1]):SN:EN;function wN({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:a,repeat:r,repeatType:l,repeatDelay:u,from:m,elapsed:g,...v}){return!!Object.keys(v).length}const hA=(n,e,t,i={},a,r)=>l=>{const u=Qb(i,n)||{},m=u.delay||i.delay||0;let{elapsed:g=0}=i;g=g-qo(m);const v={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-g,onUpdate:p=>{e.set(p),u.onUpdate&&u.onUpdate(p)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:r?void 0:a};wN(u)||Object.assign(v,TN(n,v)),v.duration&&(v.duration=qo(v.duration)),v.repeatDelay&&(v.repeatDelay=qo(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let d=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(H3(v),v.delay===0&&(d=!0)),(tc.instantAnimations||tc.skipAnimations)&&(d=!0,H3(v),v.delay=0),v.allowFlatten=!u.type&&!u.ease,d&&!r&&e.get()!==void 0){const p=AN(v.keyframes,u);if(p!==void 0){si.update(()=>{v.onUpdate(p),v.onComplete()});return}}return u.isSync?new Kb(v):new J8(v)};function RN({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function O5(n,e,{delay:t=0,transitionOverride:i,type:a}={}){let{transition:r=n.getDefaultTransition(),transitionEnd:l,...u}=e;i&&(r=i);const m=[],g=a&&n.animationState&&n.animationState.getState()[a];for(const v in u){const d=n.getValue(v,n.latestValues[v]??null),p=u[v];if(p===void 0||g&&RN(g,v))continue;const b={delay:t,...Qb(r||{},v)},C=d.get();if(C!==void 0&&!d.isAnimating&&!Array.isArray(p)&&p===C&&!b.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const M=L5(n);if(M){const I=window.MotionHandoffAnimation(M,v,si);I!==null&&(b.startTime=I,w=!0)}}k3(n,v),d.start(hA(v,d,p,n.shouldReduceMotion&&t5.has(v)?{type:!1}:b,n,w));const E=d.animation;E&&m.push(E)}return l&&Promise.all(m).then(()=>{si.update(()=>{l&&xN(n,l)})}),m}function P5(n,e,t,i=0,a=1){const r=Array.from(n).sort((g,v)=>g.sortNodePosition(v)).indexOf(e),l=n.size,u=(l-1)*i;return typeof t=="function"?t(r,l):a===1?r*i:u-r*i}function W3(n,e,t={}){const i=Xd(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(a=t.transitionOverride);const r=i?()=>Promise.all(O5(n,i,t)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:d}=a;return IN(n,e,m,g,v,d,t)}:()=>Promise.resolve(),{when:u}=a;if(u){const[m,g]=u==="beforeChildren"?[r,l]:[l,r];return m().then(()=>g())}else return Promise.all([r(),l(t.delay)])}function IN(n,e,t=0,i=0,a=0,r=1,l){const u=[];for(const m of n.variantChildren)m.notify("AnimationStart",e),u.push(W3(m,e,{...l,delay:t+(typeof i=="function"?0:i)+P5(n.variantChildren,m,i,a,r)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(u)}function BN(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(r=>W3(n,r,t));i=Promise.all(a)}else if(typeof e=="string")i=W3(n,e,t);else{const a=typeof e=="function"?Xd(n,e,t.custom):e;i=Promise.all(O5(n,a,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function U5(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const DN=aA.length;function H5(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?H5(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<DN;t++){const i=aA[t],a=n.props[i];(Gp(a)||a===!1)&&(e[i]=a)}return e}const NN=[...iA].reverse(),LN=iA.length;function ON(n){return e=>Promise.all(e.map(({animation:t,options:i})=>BN(n,t,i)))}function PN(n){let e=ON(n),t=oC(),i=!0;const a=m=>(g,v)=>{const d=Xd(n,v,m==="exit"?n.presenceContext?.custom:void 0);if(d){const{transition:p,transitionEnd:b,...C}=d;g={...g,...C,...b}}return g};function r(m){e=m(n)}function l(m){const{props:g}=n,v=H5(n.parent)||{},d=[],p=new Set;let b={},C=1/0;for(let E=0;E<LN;E++){const M=NN[E],I=t[M],B=g[M]!==void 0?g[M]:v[M],N=Gp(B),P=M===m?I.isActive:null;P===!1&&(C=E);let U=B===v[M]&&B!==g[M]&&N;if(U&&i&&n.manuallyAnimateOnMount&&(U=!1),I.protectedKeys={...b},!I.isActive&&P===null||!B&&!I.prevProp||yv(B)||typeof B=="boolean")continue;const F=UN(I.prevProp,B);let j=F||M===m&&I.isActive&&!U&&N||E>C&&N,O=!1;const H=Array.isArray(B)?B:[B];let J=H.reduce(a(M),{});P===!1&&(J={});const{prevResolvedValues:ie={}}=I,oe={...ie,...J},ge=Z=>{j=!0,p.has(Z)&&(O=!0,p.delete(Z)),I.needsAnimating[Z]=!0;const Q=n.getValue(Z);Q&&(Q.liveStyle=!1)};for(const Z in oe){const Q=J[Z],le=ie[Z];if(b.hasOwnProperty(Z))continue;let ye=!1;V3(Q)&&V3(le)?ye=!U5(Q,le):ye=Q!==le,ye?Q!=null?ge(Z):p.add(Z):Q!==void 0&&p.has(Z)?ge(Z):I.protectedKeys[Z]=!0}I.prevProp=B,I.prevResolvedValues=J,I.isActive&&(b={...b,...J}),i&&n.blockInitialAnimation&&(j=!1);const ce=U&&F;j&&(!ce||O)&&d.push(...H.map(Z=>{const Q={type:M};if(typeof Z=="string"&&i&&!ce&&n.manuallyAnimateOnMount&&n.parent){const{parent:le}=n,ye=Xd(le,Z);if(le.enteringChildren&&ye){const{delayChildren:X}=ye.transition||{};Q.delay=P5(le.enteringChildren,n,X)}}return{animation:Z,options:Q}}))}if(p.size){const E={};if(typeof g.initial!="boolean"){const M=Xd(n,Array.isArray(g.initial)?g.initial[0]:g.initial);M&&M.transition&&(E.transition=M.transition)}p.forEach(M=>{const I=n.getBaseTarget(M),B=n.getValue(M);B&&(B.liveStyle=!0),E[M]=I??null}),d.push({animation:E})}let w=!!d.length;return i&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(w=!1),i=!1,w?e(d):Promise.resolve()}function u(m,g){if(t[m].isActive===g)return Promise.resolve();n.variantChildren?.forEach(d=>d.animationState?.setActive(m,g)),t[m].isActive=g;const v=l(m);for(const d in t)t[d].protectedKeys={};return v}return{animateChanges:l,setActive:u,setAnimateFunction:r,getState:()=>t,reset:()=>{t=oC()}}}function UN(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!U5(e,n):!1}function dh(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oC(){return{animate:dh(!0),whileInView:dh(),whileHover:dh(),whileTap:dh(),whileDrag:dh(),whileFocus:dh(),exit:dh()}}class gu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class HN extends gu{constructor(e){super(e),e.animationState||(e.animationState=PN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();yv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let jN=0;class FN extends gu{constructor(){super(...arguments),this.id=jN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const GN={animation:{Feature:HN},exit:{Feature:FN}};function Vp(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function hg(n){return{point:{x:n.pageX,y:n.pageY}}}const zN=n=>e=>tA(e)&&n(e,hg(e));function Mp(n,e,t,i){return Vp(n,e,zN(t),i)}const j5=1e-4,VN=1-j5,kN=1+j5,F5=.01,WN=0-F5,ZN=0+F5;function ys(n){return n.max-n.min}function XN(n,e,t){return Math.abs(n-e)<=t}function lC(n,e,t,i=.5){n.origin=i,n.originPoint=mi(e.min,e.max,n.origin),n.scale=ys(t)/ys(e),n.translate=mi(t.min,t.max,n.origin)-n.originPoint,(n.scale>=VN&&n.scale<=kN||isNaN(n.scale))&&(n.scale=1),(n.translate>=WN&&n.translate<=ZN||isNaN(n.translate))&&(n.translate=0)}function Cp(n,e,t,i){lC(n.x,e.x,t.x,i?i.originX:void 0),lC(n.y,e.y,t.y,i?i.originY:void 0)}function cC(n,e,t){n.min=t.min+e.min,n.max=n.min+ys(e)}function JN(n,e,t){cC(n.x,e.x,t.x),cC(n.y,e.y,t.y)}function uC(n,e,t){n.min=e.min-t.min,n.max=n.min+ys(e)}function Ep(n,e,t){uC(n.x,e.x,t.x),uC(n.y,e.y,t.y)}function br(n){return[n("x"),n("y")]}const G5=({current:n})=>n?n.ownerDocument.defaultView:null,hC=(n,e)=>Math.abs(n-e);function YN(n,e){const t=hC(n.x,e.x),i=hC(n.y,e.y);return Math.sqrt(t**2+i**2)}class z5{constructor(e,t,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:r=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=t_(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,C=YN(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!C)return;const{point:w}=p,{timestamp:E}=Sa;this.history.push({...w,timestamp:E});const{onStart:M,onMove:I}=this.handlers;b||(M&&M(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),I&&I(this.lastMoveEvent,p)},this.handlePointerMove=(p,b)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=e_(b,this.transformPagePoint),si.update(this.updatePoint,!0)},this.handlePointerUp=(p,b)=>{this.end();const{onEnd:C,onSessionEnd:w,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=t_(p.type==="pointercancel"?this.lastMoveEventInfo:e_(b,this.transformPagePoint),this.history);this.startEvent&&C&&C(p,M),w&&w(p,M)},!tA(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=a||window;const u=hg(e),m=e_(u,this.transformPagePoint),{point:g}=m,{timestamp:v}=Sa;this.history=[{...g,timestamp:v}];const{onSessionStart:d}=t;d&&d(e,t_(m,this.history)),this.removeListeners=lg(Mp(this.contextWindow,"pointermove",this.handlePointerMove),Mp(this.contextWindow,"pointerup",this.handlePointerUp),Mp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),uu(this.updatePoint)}}function e_(n,e){return e?{point:e(n.point)}:n}function fC(n,e){return{x:n.x-e.x,y:n.y-e.y}}function t_({point:n},e){return{point:n,delta:fC(n,V5(e)),offset:fC(n,KN(e)),velocity:qN(e,.1)}}function KN(n){return n[0]}function V5(n){return n[n.length-1]}function qN(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const a=V5(n);for(;t>=0&&(i=n[t],!(a.timestamp-i.timestamp>qo(e)));)t--;if(!i)return{x:0,y:0};const r=Cr(a.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const l={x:(a.x-i.x)/r,y:(a.y-i.y)/r};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function QN(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?mi(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?mi(t,n,i.max):Math.min(n,t)),n}function dC(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function $N(n,{top:e,left:t,bottom:i,right:a}){return{x:dC(n.x,t,a),y:dC(n.y,e,i)}}function mC(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function e7(n,e){return{x:mC(n.x,e.x),y:mC(n.y,e.y)}}function t7(n,e){let t=.5;const i=ys(n),a=ys(e);return a>i?t=Hp(e.min,e.max-i,n.min):i>a&&(t=Hp(n.min,n.max-a,e.min)),ec(0,1,t)}function n7(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Z3=.35;function i7(n=Z3){return n===!1?n=0:n===!0&&(n=Z3),{x:pC(n,"left","right"),y:pC(n,"top","bottom")}}function pC(n,e,t){return{min:gC(n,e),max:gC(n,t)}}function gC(n,e){return typeof n=="number"?n:n[e]||0}const a7=new WeakMap;class s7{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ri(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(hg(d).point)},l=(d,p)=>{const{drag:b,dragPropagation:C,onDragStart:w}=this.getProps();if(b&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uD(b),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),br(M=>{let I=this.getAxisMotionValue(M).get()||0;if(Qo.test(I)){const{projection:B}=this.visualElement;if(B&&B.layout){const N=B.layout.layoutBox[M];N&&(I=ys(N)*(parseFloat(I)/100))}}this.originPoint[M]=I}),w&&si.postRender(()=>w(d,p)),k3(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},u=(d,p)=>{this.latestPointerEvent=d,this.latestPanInfo=p;const{dragPropagation:b,dragDirectionLock:C,onDirectionLock:w,onDrag:E}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:M}=p;if(C&&this.currentDirection===null){this.currentDirection=r7(M),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",p.point,M),this.updateAxis("y",p.point,M),this.visualElement.render(),E&&E(d,p)},m=(d,p)=>{this.latestPointerEvent=d,this.latestPanInfo=p,this.stop(d,p),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>br(d=>this.getAnimationState(d)==="paused"&&this.getAxisMotionValue(d).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new z5(e,{onSessionStart:r,onStart:l,onMove:u,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:i,contextWindow:G5(this.visualElement)})}stop(e,t){const i=e||this.latestPointerEvent,a=t||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!a||!i)return;const{velocity:l}=a;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&si.postRender(()=>u(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:a}=this.getProps();if(!i||!Q1(e,a,this.currentDirection))return;const r=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=QN(l,this.constraints[e],this.elastic[e])),r.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Gd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=$N(i.layoutBox,e):this.constraints=!1,this.elastic=i7(t),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&br(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=n7(i.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Gd(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const r=oN(i,a.root,this.visualElement.getTransformPagePoint());let l=e7(a.layout.layoutBox,r);if(t){const u=t(aN(l));this.hasMutatedConstraints=!!u,u&&(l=E5(u))}return l}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:a,dragTransition:r,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),m=this.constraints||{},g=br(v=>{if(!Q1(v,t,this.currentDirection))return;let d=m&&m[v]||{};l&&(d={min:0,max:0});const p=a?200:1e6,b=a?40:1e7,C={type:"inertia",velocity:i?e[v]:0,bounceStiffness:p,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...r,...d};return this.startAxisValueAnimation(v,C)});return Promise.all(g).then(u)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return k3(this.visualElement,e),i.start(hA(e,i,0,t,this.visualElement,!1))}stopAnimation(){br(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){br(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[t];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){br(t=>{const{drag:i}=this.getProps();if(!Q1(t,i,this.currentDirection))return;const{projection:a}=this.visualElement,r=this.getAxisMotionValue(t);if(a&&a.layout){const{min:l,max:u}=a.layout.layoutBox[t];r.set(e[t]-mi(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Gd(t)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};br(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const m=u.get();a[l]=t7({min:m,max:m},this.constraints[l])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),br(l=>{if(!Q1(l,e,null))return;const u=this.getAxisMotionValue(l),{min:m,max:g}=this.constraints[l];u.set(mi(m,g,a[l]))})}addListeners(){if(!this.visualElement.current)return;a7.set(this.visualElement,this);const e=this.visualElement.current,t=Mp(e,"pointerdown",m=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(m)}),i=()=>{const{dragConstraints:m}=this.getProps();Gd(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,r=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),si.read(i);const l=Vp(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(br(v=>{const d=this.getAxisMotionValue(v);d&&(this.originPoint[v]+=m[v].translate,d.set(d.get()+m[v].translate))}),this.visualElement.render())}));return()=>{l(),t(),r(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:r=!1,dragElastic:l=Z3,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:a,dragConstraints:r,dragElastic:l,dragMomentum:u}}}function Q1(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function r7(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class o7 extends gu{constructor(e){super(e),this.removeGroupControls=Tr,this.removeListeners=Tr,this.controls=new s7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Tr}unmount(){this.removeGroupControls(),this.removeListeners()}}const yC=n=>(e,t)=>{n&&si.postRender(()=>n(e,t))};class l7 extends gu{constructor(){super(...arguments),this.removePointerDownListener=Tr}onPointerDown(e){this.session=new z5(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:G5(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:yC(e),onStart:yC(t),onMove:i,onEnd:(r,l)=>{delete this.session,a&&si.postRender(()=>a(r,l))}}}mount(){this.removePointerDownListener=Mp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const n2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vC(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const ip={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Gt.test(n))n=parseFloat(n);else return n;const t=vC(n,e.target.x),i=vC(n,e.target.y);return`${t}% ${i}%`}},c7={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,a=hu.parse(n);if(a.length>5)return i;const r=hu.createTransformer(n),l=typeof a[0]!="number"?1:0,u=t.x.scale*e.x,m=t.y.scale*e.y;a[0+l]/=u,a[1+l]/=m;const g=mi(u,m,.5);return typeof a[2+l]=="number"&&(a[2+l]/=g),typeof a[3+l]=="number"&&(a[3+l]/=g),r(a)}};let n_=!1;class u7 extends Y.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:a}=this.props,{projection:r}=e;DD(h7),r&&(t.group&&t.group.add(r),i&&i.register&&a&&i.register(r),n_&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),n2.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:a,isPresent:r}=this.props,{projection:l}=i;return l&&(l.isPresent=r,n_=!0,a||e.layoutDependency!==t||t===void 0||e.isPresent!==r?l.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?l.promote():l.relegate()||si.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),eA.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:a}=e;n_=!0,a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function k5(n){const[e,t]=f5(),i=Y.useContext(Db);return _.jsx(u7,{...n,layoutGroup:i,switchLayoutGroup:Y.useContext(M5),isPresent:e,safeToRemove:t})}const h7={borderRadius:{...ip,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ip,borderTopRightRadius:ip,borderBottomLeftRadius:ip,borderBottomRightRadius:ip,boxShadow:c7};function f7(n,e,t){const i=za(n)?n:Qd(n);return i.start(hA("",i,e,t)),i.animation}const d7=(n,e)=>n.depth-e.depth;class m7{constructor(){this.children=[],this.isDirty=!1}add(e){Ob(this.children,e),this.isDirty=!0}remove(e){Pb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(d7),this.isDirty=!1,this.children.forEach(e)}}function p7(n,e){const t=Bs.now(),i=({timestamp:a})=>{const r=a-t;r>=e&&(uu(i),n(r-e))};return si.setup(i,!0),()=>uu(i)}const W5=["TopLeft","TopRight","BottomLeft","BottomRight"],g7=W5.length,xC=n=>typeof n=="string"?parseFloat(n):n,_C=n=>typeof n=="number"||Gt.test(n);function y7(n,e,t,i,a,r){a?(n.opacity=mi(0,t.opacity??1,v7(i)),n.opacityExit=mi(e.opacity??1,0,x7(i))):r&&(n.opacity=mi(e.opacity??1,t.opacity??1,i));for(let l=0;l<g7;l++){const u=`border${W5[l]}Radius`;let m=bC(e,u),g=bC(t,u);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||_C(m)===_C(g)?(n[u]=Math.max(mi(xC(m),xC(g),i),0),(Qo.test(g)||Qo.test(m))&&(n[u]+="%")):n[u]=g}(e.rotate||t.rotate)&&(n.rotate=mi(e.rotate||0,t.rotate||0,i))}function bC(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const v7=Z5(0,.5,D4),x7=Z5(.5,.95,Tr);function Z5(n,e,t){return i=>i<n?0:i>e?1:t(Hp(n,e,i))}function AC(n,e){n.min=e.min,n.max=e.max}function xr(n,e){AC(n.x,e.x),AC(n.y,e.y)}function SC(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function MC(n,e,t,i,a){return n-=e,n=m2(n,1/t,i),a!==void 0&&(n=m2(n,1/a,i)),n}function _7(n,e=0,t=1,i=.5,a,r=n,l=n){if(Qo.test(e)&&(e=parseFloat(e),e=mi(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=mi(r.min,r.max,i);n===r&&(u-=e),n.min=MC(n.min,e,t,u,a),n.max=MC(n.max,e,t,u,a)}function CC(n,e,[t,i,a],r,l){_7(n,e[t],e[i],e[a],e.scale,r,l)}const b7=["x","scaleX","originX"],A7=["y","scaleY","originY"];function EC(n,e,t,i){CC(n.x,e,b7,t?t.x:void 0,i?i.x:void 0),CC(n.y,e,A7,t?t.y:void 0,i?i.y:void 0)}function TC(n){return n.translate===0&&n.scale===1}function X5(n){return TC(n.x)&&TC(n.y)}function wC(n,e){return n.min===e.min&&n.max===e.max}function S7(n,e){return wC(n.x,e.x)&&wC(n.y,e.y)}function RC(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function J5(n,e){return RC(n.x,e.x)&&RC(n.y,e.y)}function IC(n){return ys(n.x)/ys(n.y)}function BC(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class M7{constructor(){this.members=[]}add(e){Ob(this.members,e),e.scheduleRender()}remove(e){if(Pb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let i;for(let a=t;a>=0;a--){const r=this.members[a];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function C7(n,e,t){let i="";const a=n.x.translate/e.x,r=n.y.translate/e.y,l=t?.z||0;if((a||r||l)&&(i=`translate3d(${a}px, ${r}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:g,rotate:v,rotateX:d,rotateY:p,skewX:b,skewY:C}=t;g&&(i=`perspective(${g}px) ${i}`),v&&(i+=`rotate(${v}deg) `),d&&(i+=`rotateX(${d}deg) `),p&&(i+=`rotateY(${p}deg) `),b&&(i+=`skewX(${b}deg) `),C&&(i+=`skewY(${C}deg) `)}const u=n.x.scale*e.x,m=n.y.scale*e.y;return(u!==1||m!==1)&&(i+=`scale(${u}, ${m})`),i||"none"}const i_=["","X","Y","Z"],E7=1e3;let T7=0;function a_(n,e,t,i){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),i&&(i[n]=0))}function Y5(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=L5(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:r}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",si,!(a||r))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&Y5(i)}function K5({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(l={},u=e?.()){this.id=T7++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(I7),this.nodes.forEach(L7),this.nodes.forEach(O7),this.nodes.forEach(B7)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new m7)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new jb),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const m=this.eventHandlers.get(l);m&&m.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=h5(l)&&!gD(l),this.instance=l;const{layoutId:u,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||u)&&(this.isLayoutDirty=!0),n){let v,d=0;const p=()=>this.root.updateBlockedByResize=!1;si.read(()=>{d=window.innerWidth}),n(l,()=>{const b=window.innerWidth;b!==d&&(d=b,this.root.updateBlockedByResize=!0,v&&v(),v=p7(p,250),n2.hasAnimatedSinceResize&&(n2.hasAnimatedSinceResize=!1,this.nodes.forEach(LC)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&g&&(u||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:d,hasRelativeLayoutChanged:p,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||g.getDefaultTransition()||F7,{onLayoutAnimationStart:w,onLayoutAnimationComplete:E}=g.getProps(),M=!this.targetLayout||!J5(this.targetLayout,b),I=!d&&p;if(this.options.layoutRoot||this.resumeFrom||I||d&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...Qb(C,"layout"),onPlay:w,onComplete:E};(g.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(v,I)}else d||LC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),uu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(P7),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Y5(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const d=this.path[v];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:u,layout:m}=this.options;if(u===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(DC);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(NC);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(N7),this.nodes.forEach(w7),this.nodes.forEach(R7)):this.nodes.forEach(NC),this.clearAllSnapshots();const u=Bs.now();Sa.delta=ec(0,1e3/60,u-Sa.timestamp),Sa.timestamp=u,Sa.isProcessing=!0,Zx.update.process(Sa),Zx.preRender.process(Sa),Zx.render.process(Sa),Sa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,eA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(D7),this.sharedNodes.forEach(U7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,si.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){si.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ys(this.snapshot.measuredBox.x)&&!ys(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ri(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:m,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!X5(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;l&&this.instance&&(u||Dh(this.latestValues)||v)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let m=this.removeElementScroll(u);return l&&(m=this.removeTransform(m)),G7(m),{animationId:this.root.animationId,measuredBox:u,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Ri();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(z7))){const{scroll:g}=this.root;g&&(zd(u.x,g.offset.x),zd(u.y,g.offset.y))}return u}removeElementScroll(l){const u=Ri();if(xr(u,l),this.scroll?.wasRoot)return u;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:v,options:d}=g;g!==this.root&&v&&d.layoutScroll&&(v.wasRoot&&xr(u,l),zd(u.x,v.offset.x),zd(u.y,v.offset.y))}return u}applyTransform(l,u=!1){const m=Ri();xr(m,l);for(let g=0;g<this.path.length;g++){const v=this.path[g];!u&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Vd(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Dh(v.latestValues)&&Vd(m,v.latestValues)}return Dh(this.latestValues)&&Vd(m,this.latestValues),m}removeTransform(l){const u=Ri();xr(u,l);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Dh(g.latestValues))continue;F3(g.latestValues)&&g.updateSnapshot();const v=Ri(),d=g.measurePageBox();xr(v,d),EC(u,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Dh(this.latestValues)&&EC(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Sa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==u;if(!(l||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:d}=this.options;if(!(!this.layout||!(v||d))){if(this.resolvedRelativeTargetAt=Sa.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ri(),this.relativeTargetOrigin=Ri(),Ep(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),xr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ri(),this.targetWithTransforms=Ri()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),JN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xr(this.target,this.layout.layoutBox),w5(this.target,this.targetDelta)):xr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ri(),this.relativeTargetOrigin=Ri(),Ep(this.relativeTargetOrigin,this.target,p.target),xr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||F3(this.parent.latestValues)||T5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Sa.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;xr(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,p=this.treeScale.y;rN(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ri());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(SC(this.prevProjectionDelta.x,this.projectionDelta.x),SC(this.prevProjectionDelta.y,this.projectionDelta.y)),Cp(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==p||!BC(this.projectionDelta.x,this.prevProjectionDelta.x)||!BC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=kd(),this.projectionDelta=kd(),this.projectionDeltaWithTransform=kd()}setAnimationOrigin(l,u=!1){const m=this.snapshot,g=m?m.latestValues:{},v={...this.latestValues},d=kd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const p=Ri(),b=m?m.source:void 0,C=this.layout?this.layout.source:void 0,w=b!==C,E=this.getStack(),M=!E||E.members.length<=1,I=!!(w&&!M&&this.options.crossfade===!0&&!this.path.some(j7));this.animationProgress=0;let B;this.mixTargetDelta=N=>{const P=N/1e3;OC(d.x,l.x,P),OC(d.y,l.y,P),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ep(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),H7(this.relativeTarget,this.relativeTargetOrigin,p,P),B&&S7(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=Ri()),xr(B,this.relativeTarget)),w&&(this.animationValues=v,y7(v,g,this.latestValues,P,I,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(uu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=si.update(()=>{n2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Qd(0)),this.currentAnimation=f7(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(E7),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:m,layout:g,latestValues:v}=l;if(!(!u||!m||!g)){if(this!==l&&this.layout&&g&&q5(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||Ri();const d=ys(this.layout.layoutBox.x);m.x.min=l.target.x.min,m.x.max=m.x.min+d;const p=ys(this.layout.layoutBox.y);m.y.min=l.target.y.min,m.y.max=m.y.min+p}xr(u,m),Vd(u,v),Cp(this.projectionDeltaWithTransform,this.layoutCorrected,u,v)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new M7),this.sharedNodes.get(l).add(u);const g=u.options.initialPromotionConfig;u.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:m}=l;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(u=!0),!u)return;const g={};m.z&&a_("z",l,g,this.animationValues);for(let v=0;v<i_.length;v++)a_(`rotate${i_[v]}`,l,g,this.animationValues),a_(`skew${i_[v]}`,l,g,this.animationValues);l.render();for(const v in g)l.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=t2(u?.pointerEvents)||"",l.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=t2(u?.pointerEvents)||""),this.hasProjected&&!Dh(this.latestValues)&&(l.transform=m?m({},""):"none",this.hasProjected=!1);return}l.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let d=C7(this.projectionDeltaWithTransform,this.treeScale,v);m&&(d=m(v,d)),l.transform=d;const{x:p,y:b}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${b.origin*100}% 0`,g.animationValues?l.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:l.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const C in zp){if(v[C]===void 0)continue;const{correct:w,applyTo:E,isCSSVariable:M}=zp[C],I=d==="none"?v[C]:w(v[C],g);if(E){const B=E.length;for(let N=0;N<B;N++)l[E[N]]=I}else M?this.options.visualElement.renderState.vars[C]=I:l[C]=I}this.options.layoutId&&(l.pointerEvents=g===this?t2(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(DC),this.root.sharedNodes.clear()}}}function w7(n){n.updateLayout()}function R7(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=n.layout,{animationType:a}=n.options,r=e.source!==n.layout.source;a==="size"?br(v=>{const d=r?e.measuredBox[v]:e.layoutBox[v],p=ys(d);d.min=t[v].min,d.max=d.min+p}):q5(a,e.layoutBox,t)&&br(v=>{const d=r?e.measuredBox[v]:e.layoutBox[v],p=ys(t[v]);d.max=d.min+p,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+p)});const l=kd();Cp(l,t,e.layoutBox);const u=kd();r?Cp(u,n.applyTransform(i,!0),e.measuredBox):Cp(u,t,e.layoutBox);const m=!X5(l);let g=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:d,layout:p}=v;if(d&&p){const b=Ri();Ep(b,e.layoutBox,d.layoutBox);const C=Ri();Ep(C,t,p.layoutBox),J5(b,C)||(g=!0),v.options.layoutRoot&&(n.relativeTarget=C,n.relativeTargetOrigin=b,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function I7(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function B7(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function D7(n){n.clearSnapshot()}function DC(n){n.clearMeasurements()}function NC(n){n.isLayoutDirty=!1}function N7(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function LC(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function L7(n){n.resolveTargetDelta()}function O7(n){n.calcProjection()}function P7(n){n.resetSkewAndRotation()}function U7(n){n.removeLeadSnapshot()}function OC(n,e,t){n.translate=mi(e.translate,0,t),n.scale=mi(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function PC(n,e,t,i){n.min=mi(e.min,t.min,i),n.max=mi(e.max,t.max,i)}function H7(n,e,t,i){PC(n.x,e.x,t.x,i),PC(n.y,e.y,t.y,i)}function j7(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const F7={duration:.45,ease:[.4,0,.1,1]},UC=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),HC=UC("applewebkit/")&&!UC("chrome/")?Math.round:Tr;function jC(n){n.min=HC(n.min),n.max=HC(n.max)}function G7(n){jC(n.x),jC(n.y)}function q5(n,e,t){return n==="position"||n==="preserve-aspect"&&!XN(IC(e),IC(t),.2)}function z7(n){return n!==n.root&&n.scroll?.wasRoot}const V7=K5({attachResizeListener:(n,e)=>Vp(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),s_={current:void 0},Q5=K5({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!s_.current){const n=new V7({});n.mount(window),n.setOptions({layoutScroll:!0}),s_.current=n}return s_.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),k7={pan:{Feature:l7},drag:{Feature:o7,ProjectionNode:Q5,MeasureLayout:k5}};function FC(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,r=i[a];r&&si.postRender(()=>r(e,hg(e)))}class W7 extends gu{mount(){const{current:e}=this.node;e&&(this.unmount=hD(e,(t,i)=>(FC(this.node,i,"Start"),a=>FC(this.node,a,"End"))))}unmount(){}}class Z7 extends gu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lg(Vp(this.node.current,"focus",()=>this.onFocus()),Vp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function GC(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),r=i[a];r&&si.postRender(()=>r(e,hg(e)))}class X7 extends gu{mount(){const{current:e}=this.node;e&&(this.unmount=pD(e,(t,i)=>(GC(this.node,i,"Start"),(a,{success:r})=>GC(this.node,a,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const X3=new WeakMap,r_=new WeakMap,J7=n=>{const e=X3.get(n.target);e&&e(n)},Y7=n=>{n.forEach(J7)};function K7({root:n,...e}){const t=n||document;r_.has(t)||r_.set(t,{});const i=r_.get(t),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(Y7,{root:n,...e})),i[a]}function q7(n,e,t){const i=K7(e);return X3.set(n,t),i.observe(n),()=>{X3.delete(n),i.unobserve(n)}}const Q7={some:0,all:1};class $7 extends gu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:a="some",once:r}=e,l={root:t?t.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:Q7[a]},u=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,r&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:d}=this.node.getProps(),p=g?v:d;p&&p(m)};return q7(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(eL(e,t))&&this.startObserver()}unmount(){}}function eL({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const tL={inView:{Feature:$7},tap:{Feature:X7},focus:{Feature:Z7},hover:{Feature:W7}},nL={layout:{ProjectionNode:Q5,MeasureLayout:k5}},iL={...GN,...tL,...k7,...nL},aL=iN(iL,gN),sL=({type:n,text:e})=>_.jsx("div",{className:"absolute top-10 left-0 right-0 flex justify-center items-center",children:_.jsxs("div",{className:`p-2 ${n==="danger"?"bg-red-800":"bg-blue-800"} items-center text-indigo-100 leading-none lg:rounded-full flex lg:inline-flex`,role:"alert",children:[_.jsx("p",{className:`flex rounded-full ${n==="danger"?"bg-red-500":"bg-blue-500"} uppercase px-2 py-1 text-xs font-semibold mr-3`,children:n==="danger"?"Failed":"Success"}),_.jsx("p",{className:"mr-2 text-left",children:e})]})});function J3(){return J3=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},J3.apply(null,arguments)}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const fg="180",rL={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},oL={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},$5=0,Y3=1,ew=2,lL=3,tw=0,xv=1,Tp=2,so=3,tl=0,vs=1,Sr=2,Yl=0,Zh=1,K3=2,q3=3,Q3=4,nw=5,au=100,iw=101,aw=102,sw=103,rw=104,ow=200,lw=201,cw=202,uw=203,p2=204,g2=205,hw=206,fw=207,dw=208,mw=209,pw=210,gw=211,yw=212,vw=213,xw=214,y2=0,v2=1,x2=2,Yh=3,_2=4,b2=5,A2=6,S2=7,dg=0,_w=1,bw=2,$o=0,Aw=1,Sw=2,Mw=3,fA=4,Cw=5,Ew=6,Tw=7,$3="attached",ww="detached",_v=300,nc=301,fu=302,kp=303,Wp=304,b0=306,du=1e3,Zs=1001,e0=1002,fa=1003,bv=1004,cL=1004,Hh=1005,uL=1005,Bi=1006,Jd=1007,hL=1007,Er=1008,fL=1008,Rr=1009,dA=1010,mA=1011,t0=1012,Av=1013,ic=1014,Ds=1015,A0=1016,Sv=1017,Mv=1018,n0=1020,pA=35902,gA=35899,yA=1021,vA=1022,Va=1023,i0=1026,a0=1027,Cv=1028,mg=1029,xA=1030,Ev=1031,dL=1032,Tv=1033,wp=33776,Rp=33777,Ip=33778,Bp=33779,M2=35840,C2=35841,E2=35842,T2=35843,w2=36196,R2=37492,I2=37496,B2=37808,D2=37809,N2=37810,L2=37811,O2=37812,P2=37813,U2=37814,H2=37815,j2=37816,F2=37817,G2=37818,z2=37819,V2=37820,k2=37821,W2=36492,Z2=36494,X2=36495,J2=36283,Y2=36284,K2=36285,q2=36286,Rw=2200,Iw=2201,Bw=2202,s0=2300,r0=2301,i2=2302,jh=2400,Fh=2401,Zp=2402,wv=2500,_A=2501,Dw=0,bA=1,Q2=2,Nw=3200,Lw=3201,mL=3202,pL=3203,yu=0,Ow=1,kl="",Ga="srgb",mu="srgb-linear",Xp="linear",Fn="srgb",gL=0,Nh=7680,yL=7681,vL=7682,xL=7683,_L=34055,bL=34056,AL=5386,SL=512,ML=513,CL=514,EL=515,TL=516,wL=517,RL=518,eb=519,Pw=512,Uw=513,Hw=514,AA=515,jw=516,Fw=517,Gw=518,zw=519,Jp=35044,IL=35048,BL=35040,DL=35045,NL=35049,LL=35041,OL=35046,PL=35050,UL=35042,HL="100",tb="300 es",Xs=2e3,o0=2001,jL={COMPUTE:"compute",RENDER:"render"},FL={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},GL={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};class al{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const a=i[e];if(a!==void 0){const r=a.indexOf(t);r!==-1&&a.splice(r,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const a=i.slice(0);for(let r=0,l=a.length;r<l;r++)a[r].call(this,e);e.target=null}}}const Ha=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let zC=1234567;const Xh=Math.PI/180,l0=180/Math.PI;function Ys(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Ha[n&255]+Ha[n>>8&255]+Ha[n>>16&255]+Ha[n>>24&255]+"-"+Ha[e&255]+Ha[e>>8&255]+"-"+Ha[e>>16&15|64]+Ha[e>>24&255]+"-"+Ha[t&63|128]+Ha[t>>8&255]+"-"+Ha[t>>16&255]+Ha[t>>24&255]+Ha[i&255]+Ha[i>>8&255]+Ha[i>>16&255]+Ha[i>>24&255]).toLowerCase()}function Ft(n,e,t){return Math.max(e,Math.min(t,n))}function SA(n,e){return(n%e+e)%e}function zL(n,e,t,i,a){return i+(n-e)*(a-i)/(t-e)}function VL(n,e,t){return n!==e?(t-n)/(e-n):0}function Dp(n,e,t){return(1-t)*n+t*e}function kL(n,e,t,i){return Dp(n,e,1-Math.exp(-t*i))}function WL(n,e=1){return e-Math.abs(SA(n,e*2)-e)}function ZL(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function XL(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function JL(n,e){return n+Math.floor(Math.random()*(e-n+1))}function YL(n,e){return n+Math.random()*(e-n)}function KL(n){return n*(.5-Math.random())}function qL(n){n!==void 0&&(zC=n);let e=zC+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function QL(n){return n*Xh}function $L(n){return n*l0}function eO(n){return(n&n-1)===0&&n!==0}function tO(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function nO(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function iO(n,e,t,i,a){const r=Math.cos,l=Math.sin,u=r(t/2),m=l(t/2),g=r((e+i)/2),v=l((e+i)/2),d=r((e-i)/2),p=l((e-i)/2),b=r((i-e)/2),C=l((i-e)/2);switch(a){case"XYX":n.set(u*v,m*d,m*p,u*g);break;case"YZY":n.set(m*p,u*v,m*d,u*g);break;case"ZXZ":n.set(m*d,m*p,u*v,u*g);break;case"XZX":n.set(u*v,m*C,m*b,u*g);break;case"YXY":n.set(m*b,u*v,m*C,u*g);break;case"ZYZ":n.set(m*C,m*b,u*v,u*g);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}function gs(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Qt(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const Vw={DEG2RAD:Xh,RAD2DEG:l0,generateUUID:Ys,clamp:Ft,euclideanModulo:SA,mapLinear:zL,inverseLerp:VL,lerp:Dp,damp:kL,pingpong:WL,smoothstep:ZL,smootherstep:XL,randInt:JL,randFloat:YL,randFloatSpread:KL,seededRandom:qL,degToRad:QL,radToDeg:$L,isPowerOfTwo:eO,ceilPowerOfTwo:tO,floorPowerOfTwo:nO,setQuaternionFromProperEuler:iO,normalize:Qt,denormalize:gs};class ze{constructor(e=0,t=0){ze.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,a=e.elements;return this.x=a[0]*t+a[3]*i+a[6],this.y=a[1]*t+a[4]*i+a[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Ft(this.x,e.x,t.x),this.y=Ft(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Ft(this.x,e,t),this.y=Ft(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Ft(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Ft(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),a=Math.sin(t),r=this.x-e.x,l=this.y-e.y;return this.x=r*i-l*a+e.x,this.y=r*a+l*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ka{constructor(e=0,t=0,i=0,a=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=a}static slerpFlat(e,t,i,a,r,l,u){let m=i[a+0],g=i[a+1],v=i[a+2],d=i[a+3];const p=r[l+0],b=r[l+1],C=r[l+2],w=r[l+3];if(u===0){e[t+0]=m,e[t+1]=g,e[t+2]=v,e[t+3]=d;return}if(u===1){e[t+0]=p,e[t+1]=b,e[t+2]=C,e[t+3]=w;return}if(d!==w||m!==p||g!==b||v!==C){let E=1-u;const M=m*p+g*b+v*C+d*w,I=M>=0?1:-1,B=1-M*M;if(B>Number.EPSILON){const P=Math.sqrt(B),U=Math.atan2(P,M*I);E=Math.sin(E*U)/P,u=Math.sin(u*U)/P}const N=u*I;if(m=m*E+p*N,g=g*E+b*N,v=v*E+C*N,d=d*E+w*N,E===1-u){const P=1/Math.sqrt(m*m+g*g+v*v+d*d);m*=P,g*=P,v*=P,d*=P}}e[t]=m,e[t+1]=g,e[t+2]=v,e[t+3]=d}static multiplyQuaternionsFlat(e,t,i,a,r,l){const u=i[a],m=i[a+1],g=i[a+2],v=i[a+3],d=r[l],p=r[l+1],b=r[l+2],C=r[l+3];return e[t]=u*C+v*d+m*b-g*p,e[t+1]=m*C+v*p+g*d-u*b,e[t+2]=g*C+v*b+u*p-m*d,e[t+3]=v*C-u*d-m*p-g*b,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,a){return this._x=e,this._y=t,this._z=i,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,a=e._y,r=e._z,l=e._order,u=Math.cos,m=Math.sin,g=u(i/2),v=u(a/2),d=u(r/2),p=m(i/2),b=m(a/2),C=m(r/2);switch(l){case"XYZ":this._x=p*v*d+g*b*C,this._y=g*b*d-p*v*C,this._z=g*v*C+p*b*d,this._w=g*v*d-p*b*C;break;case"YXZ":this._x=p*v*d+g*b*C,this._y=g*b*d-p*v*C,this._z=g*v*C-p*b*d,this._w=g*v*d+p*b*C;break;case"ZXY":this._x=p*v*d-g*b*C,this._y=g*b*d+p*v*C,this._z=g*v*C+p*b*d,this._w=g*v*d-p*b*C;break;case"ZYX":this._x=p*v*d-g*b*C,this._y=g*b*d+p*v*C,this._z=g*v*C-p*b*d,this._w=g*v*d+p*b*C;break;case"YZX":this._x=p*v*d+g*b*C,this._y=g*b*d+p*v*C,this._z=g*v*C-p*b*d,this._w=g*v*d-p*b*C;break;case"XZY":this._x=p*v*d-g*b*C,this._y=g*b*d-p*v*C,this._z=g*v*C+p*b*d,this._w=g*v*d+p*b*C;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,a=Math.sin(i);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],a=t[4],r=t[8],l=t[1],u=t[5],m=t[9],g=t[2],v=t[6],d=t[10],p=i+u+d;if(p>0){const b=.5/Math.sqrt(p+1);this._w=.25/b,this._x=(v-m)*b,this._y=(r-g)*b,this._z=(l-a)*b}else if(i>u&&i>d){const b=2*Math.sqrt(1+i-u-d);this._w=(v-m)/b,this._x=.25*b,this._y=(a+l)/b,this._z=(r+g)/b}else if(u>d){const b=2*Math.sqrt(1+u-i-d);this._w=(r-g)/b,this._x=(a+l)/b,this._y=.25*b,this._z=(m+v)/b}else{const b=2*Math.sqrt(1+d-i-u);this._w=(l-a)/b,this._x=(r+g)/b,this._y=(m+v)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ft(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const a=Math.min(1,t/i);return this.slerp(e,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,a=e._y,r=e._z,l=e._w,u=t._x,m=t._y,g=t._z,v=t._w;return this._x=i*v+l*u+a*g-r*m,this._y=a*v+l*m+r*u-i*g,this._z=r*v+l*g+i*m-a*u,this._w=l*v-i*u-a*m-r*g,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,a=this._y,r=this._z,l=this._w;let u=l*e._w+i*e._x+a*e._y+r*e._z;if(u<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,u=-u):this.copy(e),u>=1)return this._w=l,this._x=i,this._y=a,this._z=r,this;const m=1-u*u;if(m<=Number.EPSILON){const b=1-t;return this._w=b*l+t*this._w,this._x=b*i+t*this._x,this._y=b*a+t*this._y,this._z=b*r+t*this._z,this.normalize(),this}const g=Math.sqrt(m),v=Math.atan2(g,u),d=Math.sin((1-t)*v)/g,p=Math.sin(t*v)/g;return this._w=l*d+this._w*p,this._x=i*d+this._x*p,this._y=a*d+this._y*p,this._z=r*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),a=Math.sqrt(1-i),r=Math.sqrt(i);return this.set(a*Math.sin(e),a*Math.cos(e),r*Math.sin(t),r*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class K{constructor(e=0,t=0,i=0){K.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(VC.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(VC.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,a=this.z,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6]*a,this.y=r[1]*t+r[4]*i+r[7]*a,this.z=r[2]*t+r[5]*i+r[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,a=this.z,r=e.elements,l=1/(r[3]*t+r[7]*i+r[11]*a+r[15]);return this.x=(r[0]*t+r[4]*i+r[8]*a+r[12])*l,this.y=(r[1]*t+r[5]*i+r[9]*a+r[13])*l,this.z=(r[2]*t+r[6]*i+r[10]*a+r[14])*l,this}applyQuaternion(e){const t=this.x,i=this.y,a=this.z,r=e.x,l=e.y,u=e.z,m=e.w,g=2*(l*a-u*i),v=2*(u*t-r*a),d=2*(r*i-l*t);return this.x=t+m*g+l*d-u*v,this.y=i+m*v+u*g-r*d,this.z=a+m*d+r*v-l*g,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,a=this.z,r=e.elements;return this.x=r[0]*t+r[4]*i+r[8]*a,this.y=r[1]*t+r[5]*i+r[9]*a,this.z=r[2]*t+r[6]*i+r[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Ft(this.x,e.x,t.x),this.y=Ft(this.y,e.y,t.y),this.z=Ft(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Ft(this.x,e,t),this.y=Ft(this.y,e,t),this.z=Ft(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Ft(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,a=e.y,r=e.z,l=t.x,u=t.y,m=t.z;return this.x=a*m-r*u,this.y=r*l-i*m,this.z=i*u-a*l,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return o_.copy(this).projectOnVector(e),this.sub(o_)}reflect(e){return this.sub(o_.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Ft(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,a=this.z-e.z;return t*t+i*i+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const a=Math.sin(t)*e;return this.x=a*Math.sin(i),this.y=Math.cos(t)*e,this.z=a*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),a=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=a,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const o_=new K,VC=new ka;class Yt{constructor(e,t,i,a,r,l,u,m,g){Yt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,a,r,l,u,m,g)}set(e,t,i,a,r,l,u,m,g){const v=this.elements;return v[0]=e,v[1]=a,v[2]=u,v[3]=t,v[4]=r,v[5]=m,v[6]=i,v[7]=l,v[8]=g,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,a=t.elements,r=this.elements,l=i[0],u=i[3],m=i[6],g=i[1],v=i[4],d=i[7],p=i[2],b=i[5],C=i[8],w=a[0],E=a[3],M=a[6],I=a[1],B=a[4],N=a[7],P=a[2],U=a[5],F=a[8];return r[0]=l*w+u*I+m*P,r[3]=l*E+u*B+m*U,r[6]=l*M+u*N+m*F,r[1]=g*w+v*I+d*P,r[4]=g*E+v*B+d*U,r[7]=g*M+v*N+d*F,r[2]=p*w+b*I+C*P,r[5]=p*E+b*B+C*U,r[8]=p*M+b*N+C*F,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],a=e[2],r=e[3],l=e[4],u=e[5],m=e[6],g=e[7],v=e[8];return t*l*v-t*u*g-i*r*v+i*u*m+a*r*g-a*l*m}invert(){const e=this.elements,t=e[0],i=e[1],a=e[2],r=e[3],l=e[4],u=e[5],m=e[6],g=e[7],v=e[8],d=v*l-u*g,p=u*m-v*r,b=g*r-l*m,C=t*d+i*p+a*b;if(C===0)return this.set(0,0,0,0,0,0,0,0,0);const w=1/C;return e[0]=d*w,e[1]=(a*g-v*i)*w,e[2]=(u*i-a*l)*w,e[3]=p*w,e[4]=(v*t-a*m)*w,e[5]=(a*r-u*t)*w,e[6]=b*w,e[7]=(i*m-g*t)*w,e[8]=(l*t-i*r)*w,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,a,r,l,u){const m=Math.cos(r),g=Math.sin(r);return this.set(i*m,i*g,-i*(m*l+g*u)+l+e,-a*g,a*m,-a*(-g*l+m*u)+u+t,0,0,1),this}scale(e,t){return this.premultiply(l_.makeScale(e,t)),this}rotate(e){return this.premultiply(l_.makeRotation(-e)),this}translate(e,t){return this.premultiply(l_.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let a=0;a<9;a++)if(t[a]!==i[a])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const l_=new Yt;function kw(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const aO={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Wd(n,e){return new aO[n](e)}function Yp(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Ww(){const n=Yp("canvas");return n.style.display="block",n}const kC={};function Kp(n){n in kC||(kC[n]=!0,console.warn(n))}function sO(n,e,t){return new Promise(function(i,a){function r(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:a();break;case n.TIMEOUT_EXPIRED:setTimeout(r,t);break;default:i()}}setTimeout(r,t)})}const WC=new Yt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),ZC=new Yt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function rO(){const n={enabled:!0,workingColorSpace:mu,spaces:{},convert:function(a,r,l){return this.enabled===!1||r===l||!r||!l||(this.spaces[r].transfer===Fn&&(a.r=Kl(a.r),a.g=Kl(a.g),a.b=Kl(a.b)),this.spaces[r].primaries!==this.spaces[l].primaries&&(a.applyMatrix3(this.spaces[r].toXYZ),a.applyMatrix3(this.spaces[l].fromXYZ)),this.spaces[l].transfer===Fn&&(a.r=Yd(a.r),a.g=Yd(a.g),a.b=Yd(a.b))),a},workingToColorSpace:function(a,r){return this.convert(a,this.workingColorSpace,r)},colorSpaceToWorking:function(a,r){return this.convert(a,r,this.workingColorSpace)},getPrimaries:function(a){return this.spaces[a].primaries},getTransfer:function(a){return a===kl?Xp:this.spaces[a].transfer},getToneMappingMode:function(a){return this.spaces[a].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(a,r=this.workingColorSpace){return a.fromArray(this.spaces[r].luminanceCoefficients)},define:function(a){Object.assign(this.spaces,a)},_getMatrix:function(a,r,l){return a.copy(this.spaces[r].toXYZ).multiply(this.spaces[l].fromXYZ)},_getDrawingBufferColorSpace:function(a){return this.spaces[a].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(a=this.workingColorSpace){return this.spaces[a].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(a,r){return Kp("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(a,r)},toWorkingColorSpace:function(a,r){return Kp("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(a,r)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[mu]:{primaries:e,whitePoint:i,transfer:Xp,toXYZ:WC,fromXYZ:ZC,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Ga},outputColorSpaceConfig:{drawingBufferColorSpace:Ga}},[Ga]:{primaries:e,whitePoint:i,transfer:Fn,toXYZ:WC,fromXYZ:ZC,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Ga}}}),n}const An=rO();function Kl(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Yd(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let md;class Zw{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{md===void 0&&(md=Yp("canvas")),md.width=e.width,md.height=e.height;const a=md.getContext("2d");e instanceof ImageData?a.putImageData(e,0,0):a.drawImage(e,0,0,e.width,e.height),i=md}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Yp("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const a=i.getImageData(0,0,e.width,e.height),r=a.data;for(let l=0;l<r.length;l++)r[l]=Kl(r[l]/255)*255;return i.putImageData(a,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Kl(t[i]/255)*255):t[i]=Kl(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let oO=0;class su{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:oO++}),this.uuid=Ys(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},a=this.data;if(a!==null){let r;if(Array.isArray(a)){r=[];for(let l=0,u=a.length;l<u;l++)a[l].isDataTexture?r.push(c_(a[l].image)):r.push(c_(a[l]))}else r=c_(a);i.url=r}return t||(e.images[this.uuid]=i),i}}function c_(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Zw.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let lO=0;const u_=new K;class oi extends al{constructor(e=oi.DEFAULT_IMAGE,t=oi.DEFAULT_MAPPING,i=Zs,a=Zs,r=Bi,l=Er,u=Va,m=Rr,g=oi.DEFAULT_ANISOTROPY,v=kl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:lO++}),this.uuid=Ys(),this.name="",this.source=new su(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=a,this.magFilter=r,this.minFilter=l,this.anisotropy=g,this.format=u,this.internalFormat=null,this.type=m,this.offset=new ze(0,0),this.repeat=new ze(1,1),this.center=new ze(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Yt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=v,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(u_).x}get height(){return this.source.getSize(u_).y}get depth(){return this.source.getSize(u_).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const a=this[t];if(a===void 0){console.warn(`THREE.Texture.setValues(): property '${t}' does not exist.`);continue}a&&i&&a.isVector2&&i.isVector2||a&&i&&a.isVector3&&i.isVector3||a&&i&&a.isMatrix3&&i.isMatrix3?a.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==_v)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case du:e.x=e.x-Math.floor(e.x);break;case Zs:e.x=e.x<0?0:1;break;case e0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case du:e.y=e.y-Math.floor(e.y);break;case Zs:e.y=e.y<0?0:1;break;case e0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}oi.DEFAULT_IMAGE=null;oi.DEFAULT_MAPPING=_v;oi.DEFAULT_ANISOTROPY=1;class wn{constructor(e=0,t=0,i=0,a=1){wn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=a}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,a){return this.x=e,this.y=t,this.z=i,this.w=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,a=this.z,r=this.w,l=e.elements;return this.x=l[0]*t+l[4]*i+l[8]*a+l[12]*r,this.y=l[1]*t+l[5]*i+l[9]*a+l[13]*r,this.z=l[2]*t+l[6]*i+l[10]*a+l[14]*r,this.w=l[3]*t+l[7]*i+l[11]*a+l[15]*r,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,a,r;const m=e.elements,g=m[0],v=m[4],d=m[8],p=m[1],b=m[5],C=m[9],w=m[2],E=m[6],M=m[10];if(Math.abs(v-p)<.01&&Math.abs(d-w)<.01&&Math.abs(C-E)<.01){if(Math.abs(v+p)<.1&&Math.abs(d+w)<.1&&Math.abs(C+E)<.1&&Math.abs(g+b+M-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const B=(g+1)/2,N=(b+1)/2,P=(M+1)/2,U=(v+p)/4,F=(d+w)/4,j=(C+E)/4;return B>N&&B>P?B<.01?(i=0,a=.707106781,r=.707106781):(i=Math.sqrt(B),a=U/i,r=F/i):N>P?N<.01?(i=.707106781,a=0,r=.707106781):(a=Math.sqrt(N),i=U/a,r=j/a):P<.01?(i=.707106781,a=.707106781,r=0):(r=Math.sqrt(P),i=F/r,a=j/r),this.set(i,a,r,t),this}let I=Math.sqrt((E-C)*(E-C)+(d-w)*(d-w)+(p-v)*(p-v));return Math.abs(I)<.001&&(I=1),this.x=(E-C)/I,this.y=(d-w)/I,this.z=(p-v)/I,this.w=Math.acos((g+b+M-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Ft(this.x,e.x,t.x),this.y=Ft(this.y,e.y,t.y),this.z=Ft(this.z,e.z,t.z),this.w=Ft(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Ft(this.x,e,t),this.y=Ft(this.y,e,t),this.z=Ft(this.z,e,t),this.w=Ft(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Ft(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class MA extends al{constructor(e=1,t=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Bi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth,this.scissor=new wn(0,0,e,t),this.scissorTest=!1,this.viewport=new wn(0,0,e,t);const a={width:e,height:t,depth:i.depth},r=new oi(a);this.textures=[];const l=i.count;for(let u=0;u<l;u++)this.textures[u]=r.clone(),this.textures[u].isRenderTargetTexture=!0,this.textures[u].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const t={minFilter:Bi,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let a=0,r=this.textures.length;a<r;a++)this.textures[a].image.width=e,this.textures[a].image.height=t,this.textures[a].image.depth=i,this.textures[a].isArrayTexture=this.textures[a].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const a=Object.assign({},e.textures[t].image);this.textures[t].source=new su(a)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class nl extends MA{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class Rv extends oi{constructor(e=null,t=1,i=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:a},this.magFilter=fa,this.minFilter=fa,this.wrapR=Zs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class cO extends nl{constructor(e=1,t=1,i=1,a={}){super(e,t,a),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Rv(null,e,t,i),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class Iv extends oi{constructor(e=null,t=1,i=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:a},this.magFilter=fa,this.minFilter=fa,this.wrapR=Zs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class uO extends nl{constructor(e=1,t=1,i=1,a={}){super(e,t,a),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new Iv(null,e,t,i),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class Ma{constructor(e=new K(1/0,1/0,1/0),t=new K(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(to.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(to.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=to.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const r=i.getAttribute("position");if(t===!0&&r!==void 0&&e.isInstancedMesh!==!0)for(let l=0,u=r.count;l<u;l++)e.isMesh===!0?e.getVertexPosition(l,to):to.fromBufferAttribute(r,l),to.applyMatrix4(e.matrixWorld),this.expandByPoint(to);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),$1.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),$1.copy(i.boundingBox)),$1.applyMatrix4(e.matrixWorld),this.union($1)}const a=e.children;for(let r=0,l=a.length;r<l;r++)this.expandByObject(a[r],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,to),to.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ap),ey.subVectors(this.max,ap),pd.subVectors(e.a,ap),gd.subVectors(e.b,ap),yd.subVectors(e.c,ap),Xc.subVectors(gd,pd),Jc.subVectors(yd,gd),mh.subVectors(pd,yd);let t=[0,-Xc.z,Xc.y,0,-Jc.z,Jc.y,0,-mh.z,mh.y,Xc.z,0,-Xc.x,Jc.z,0,-Jc.x,mh.z,0,-mh.x,-Xc.y,Xc.x,0,-Jc.y,Jc.x,0,-mh.y,mh.x,0];return!h_(t,pd,gd,yd,ey)||(t=[1,0,0,0,1,0,0,0,1],!h_(t,pd,gd,yd,ey))?!1:(ty.crossVectors(Xc,Jc),t=[ty.x,ty.y,ty.z],h_(t,pd,gd,yd,ey))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,to).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(to).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Pl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Pl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Pl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Pl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Pl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Pl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Pl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Pl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Pl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Pl=[new K,new K,new K,new K,new K,new K,new K,new K],to=new K,$1=new Ma,pd=new K,gd=new K,yd=new K,Xc=new K,Jc=new K,mh=new K,ap=new K,ey=new K,ty=new K,ph=new K;function h_(n,e,t,i,a){for(let r=0,l=n.length-3;r<=l;r+=3){ph.fromArray(n,r);const u=a.x*Math.abs(ph.x)+a.y*Math.abs(ph.y)+a.z*Math.abs(ph.z),m=e.dot(ph),g=t.dot(ph),v=i.dot(ph);if(Math.max(-Math.max(m,g,v),Math.min(m,g,v))>u)return!1}return!0}const hO=new Ma,sp=new K,f_=new K;class da{constructor(e=new K,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):hO.setFromPoints(e).getCenter(i);let a=0;for(let r=0,l=e.length;r<l;r++)a=Math.max(a,i.distanceToSquared(e[r]));return this.radius=Math.sqrt(a),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;sp.subVectors(e,this.center);const t=sp.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),a=(i-this.radius)*.5;this.center.addScaledVector(sp,a/i),this.radius+=a}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(f_.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(sp.copy(e.center).add(f_)),this.expandByPoint(sp.copy(e.center).sub(f_))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Ul=new K,d_=new K,ny=new K,Yc=new K,m_=new K,iy=new K,p_=new K;class S0{constructor(e=new K,t=new K(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ul)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ul.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ul.copy(this.origin).addScaledVector(this.direction,t),Ul.distanceToSquared(e))}distanceSqToSegment(e,t,i,a){d_.copy(e).add(t).multiplyScalar(.5),ny.copy(t).sub(e).normalize(),Yc.copy(this.origin).sub(d_);const r=e.distanceTo(t)*.5,l=-this.direction.dot(ny),u=Yc.dot(this.direction),m=-Yc.dot(ny),g=Yc.lengthSq(),v=Math.abs(1-l*l);let d,p,b,C;if(v>0)if(d=l*m-u,p=l*u-m,C=r*v,d>=0)if(p>=-C)if(p<=C){const w=1/v;d*=w,p*=w,b=d*(d+l*p+2*u)+p*(l*d+p+2*m)+g}else p=r,d=Math.max(0,-(l*p+u)),b=-d*d+p*(p+2*m)+g;else p=-r,d=Math.max(0,-(l*p+u)),b=-d*d+p*(p+2*m)+g;else p<=-C?(d=Math.max(0,-(-l*r+u)),p=d>0?-r:Math.min(Math.max(-r,-m),r),b=-d*d+p*(p+2*m)+g):p<=C?(d=0,p=Math.min(Math.max(-r,-m),r),b=p*(p+2*m)+g):(d=Math.max(0,-(l*r+u)),p=d>0?r:Math.min(Math.max(-r,-m),r),b=-d*d+p*(p+2*m)+g);else p=l>0?-r:r,d=Math.max(0,-(l*p+u)),b=-d*d+p*(p+2*m)+g;return i&&i.copy(this.origin).addScaledVector(this.direction,d),a&&a.copy(d_).addScaledVector(ny,p),b}intersectSphere(e,t){Ul.subVectors(e.center,this.origin);const i=Ul.dot(this.direction),a=Ul.dot(Ul)-i*i,r=e.radius*e.radius;if(a>r)return null;const l=Math.sqrt(r-a),u=i-l,m=i+l;return m<0?null:u<0?this.at(m,t):this.at(u,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,a,r,l,u,m;const g=1/this.direction.x,v=1/this.direction.y,d=1/this.direction.z,p=this.origin;return g>=0?(i=(e.min.x-p.x)*g,a=(e.max.x-p.x)*g):(i=(e.max.x-p.x)*g,a=(e.min.x-p.x)*g),v>=0?(r=(e.min.y-p.y)*v,l=(e.max.y-p.y)*v):(r=(e.max.y-p.y)*v,l=(e.min.y-p.y)*v),i>l||r>a||((r>i||isNaN(i))&&(i=r),(l<a||isNaN(a))&&(a=l),d>=0?(u=(e.min.z-p.z)*d,m=(e.max.z-p.z)*d):(u=(e.max.z-p.z)*d,m=(e.min.z-p.z)*d),i>m||u>a)||((u>i||i!==i)&&(i=u),(m<a||a!==a)&&(a=m),a<0)?null:this.at(i>=0?i:a,t)}intersectsBox(e){return this.intersectBox(e,Ul)!==null}intersectTriangle(e,t,i,a,r){m_.subVectors(t,e),iy.subVectors(i,e),p_.crossVectors(m_,iy);let l=this.direction.dot(p_),u;if(l>0){if(a)return null;u=1}else if(l<0)u=-1,l=-l;else return null;Yc.subVectors(this.origin,e);const m=u*this.direction.dot(iy.crossVectors(Yc,iy));if(m<0)return null;const g=u*this.direction.dot(m_.cross(Yc));if(g<0||m+g>l)return null;const v=-u*Yc.dot(p_);return v<0?null:this.at(v/l,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Nt{constructor(e,t,i,a,r,l,u,m,g,v,d,p,b,C,w,E){Nt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,a,r,l,u,m,g,v,d,p,b,C,w,E)}set(e,t,i,a,r,l,u,m,g,v,d,p,b,C,w,E){const M=this.elements;return M[0]=e,M[4]=t,M[8]=i,M[12]=a,M[1]=r,M[5]=l,M[9]=u,M[13]=m,M[2]=g,M[6]=v,M[10]=d,M[14]=p,M[3]=b,M[7]=C,M[11]=w,M[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Nt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,a=1/vd.setFromMatrixColumn(e,0).length(),r=1/vd.setFromMatrixColumn(e,1).length(),l=1/vd.setFromMatrixColumn(e,2).length();return t[0]=i[0]*a,t[1]=i[1]*a,t[2]=i[2]*a,t[3]=0,t[4]=i[4]*r,t[5]=i[5]*r,t[6]=i[6]*r,t[7]=0,t[8]=i[8]*l,t[9]=i[9]*l,t[10]=i[10]*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,a=e.y,r=e.z,l=Math.cos(i),u=Math.sin(i),m=Math.cos(a),g=Math.sin(a),v=Math.cos(r),d=Math.sin(r);if(e.order==="XYZ"){const p=l*v,b=l*d,C=u*v,w=u*d;t[0]=m*v,t[4]=-m*d,t[8]=g,t[1]=b+C*g,t[5]=p-w*g,t[9]=-u*m,t[2]=w-p*g,t[6]=C+b*g,t[10]=l*m}else if(e.order==="YXZ"){const p=m*v,b=m*d,C=g*v,w=g*d;t[0]=p+w*u,t[4]=C*u-b,t[8]=l*g,t[1]=l*d,t[5]=l*v,t[9]=-u,t[2]=b*u-C,t[6]=w+p*u,t[10]=l*m}else if(e.order==="ZXY"){const p=m*v,b=m*d,C=g*v,w=g*d;t[0]=p-w*u,t[4]=-l*d,t[8]=C+b*u,t[1]=b+C*u,t[5]=l*v,t[9]=w-p*u,t[2]=-l*g,t[6]=u,t[10]=l*m}else if(e.order==="ZYX"){const p=l*v,b=l*d,C=u*v,w=u*d;t[0]=m*v,t[4]=C*g-b,t[8]=p*g+w,t[1]=m*d,t[5]=w*g+p,t[9]=b*g-C,t[2]=-g,t[6]=u*m,t[10]=l*m}else if(e.order==="YZX"){const p=l*m,b=l*g,C=u*m,w=u*g;t[0]=m*v,t[4]=w-p*d,t[8]=C*d+b,t[1]=d,t[5]=l*v,t[9]=-u*v,t[2]=-g*v,t[6]=b*d+C,t[10]=p-w*d}else if(e.order==="XZY"){const p=l*m,b=l*g,C=u*m,w=u*g;t[0]=m*v,t[4]=-d,t[8]=g*v,t[1]=p*d+w,t[5]=l*v,t[9]=b*d-C,t[2]=C*d-b,t[6]=u*v,t[10]=w*d+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(fO,e,dO)}lookAt(e,t,i){const a=this.elements;return ks.subVectors(e,t),ks.lengthSq()===0&&(ks.z=1),ks.normalize(),Kc.crossVectors(i,ks),Kc.lengthSq()===0&&(Math.abs(i.z)===1?ks.x+=1e-4:ks.z+=1e-4,ks.normalize(),Kc.crossVectors(i,ks)),Kc.normalize(),ay.crossVectors(ks,Kc),a[0]=Kc.x,a[4]=ay.x,a[8]=ks.x,a[1]=Kc.y,a[5]=ay.y,a[9]=ks.y,a[2]=Kc.z,a[6]=ay.z,a[10]=ks.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,a=t.elements,r=this.elements,l=i[0],u=i[4],m=i[8],g=i[12],v=i[1],d=i[5],p=i[9],b=i[13],C=i[2],w=i[6],E=i[10],M=i[14],I=i[3],B=i[7],N=i[11],P=i[15],U=a[0],F=a[4],j=a[8],O=a[12],H=a[1],J=a[5],ie=a[9],oe=a[13],ge=a[2],ce=a[6],G=a[10],Z=a[14],Q=a[3],le=a[7],ye=a[11],X=a[15];return r[0]=l*U+u*H+m*ge+g*Q,r[4]=l*F+u*J+m*ce+g*le,r[8]=l*j+u*ie+m*G+g*ye,r[12]=l*O+u*oe+m*Z+g*X,r[1]=v*U+d*H+p*ge+b*Q,r[5]=v*F+d*J+p*ce+b*le,r[9]=v*j+d*ie+p*G+b*ye,r[13]=v*O+d*oe+p*Z+b*X,r[2]=C*U+w*H+E*ge+M*Q,r[6]=C*F+w*J+E*ce+M*le,r[10]=C*j+w*ie+E*G+M*ye,r[14]=C*O+w*oe+E*Z+M*X,r[3]=I*U+B*H+N*ge+P*Q,r[7]=I*F+B*J+N*ce+P*le,r[11]=I*j+B*ie+N*G+P*ye,r[15]=I*O+B*oe+N*Z+P*X,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],a=e[8],r=e[12],l=e[1],u=e[5],m=e[9],g=e[13],v=e[2],d=e[6],p=e[10],b=e[14],C=e[3],w=e[7],E=e[11],M=e[15];return C*(+r*m*d-a*g*d-r*u*p+i*g*p+a*u*b-i*m*b)+w*(+t*m*b-t*g*p+r*l*p-a*l*b+a*g*v-r*m*v)+E*(+t*g*d-t*u*b-r*l*d+i*l*b+r*u*v-i*g*v)+M*(-a*u*v-t*m*d+t*u*p+a*l*d-i*l*p+i*m*v)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=t,a[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],a=e[2],r=e[3],l=e[4],u=e[5],m=e[6],g=e[7],v=e[8],d=e[9],p=e[10],b=e[11],C=e[12],w=e[13],E=e[14],M=e[15],I=d*E*g-w*p*g+w*m*b-u*E*b-d*m*M+u*p*M,B=C*p*g-v*E*g-C*m*b+l*E*b+v*m*M-l*p*M,N=v*w*g-C*d*g+C*u*b-l*w*b-v*u*M+l*d*M,P=C*d*m-v*w*m-C*u*p+l*w*p+v*u*E-l*d*E,U=t*I+i*B+a*N+r*P;if(U===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const F=1/U;return e[0]=I*F,e[1]=(w*p*r-d*E*r-w*a*b+i*E*b+d*a*M-i*p*M)*F,e[2]=(u*E*r-w*m*r+w*a*g-i*E*g-u*a*M+i*m*M)*F,e[3]=(d*m*r-u*p*r-d*a*g+i*p*g+u*a*b-i*m*b)*F,e[4]=B*F,e[5]=(v*E*r-C*p*r+C*a*b-t*E*b-v*a*M+t*p*M)*F,e[6]=(C*m*r-l*E*r-C*a*g+t*E*g+l*a*M-t*m*M)*F,e[7]=(l*p*r-v*m*r+v*a*g-t*p*g-l*a*b+t*m*b)*F,e[8]=N*F,e[9]=(C*d*r-v*w*r-C*i*b+t*w*b+v*i*M-t*d*M)*F,e[10]=(l*w*r-C*u*r+C*i*g-t*w*g-l*i*M+t*u*M)*F,e[11]=(v*u*r-l*d*r-v*i*g+t*d*g+l*i*b-t*u*b)*F,e[12]=P*F,e[13]=(v*w*a-C*d*a+C*i*p-t*w*p-v*i*E+t*d*E)*F,e[14]=(C*u*a-l*w*a-C*i*m+t*w*m+l*i*E-t*u*E)*F,e[15]=(l*d*a-v*u*a+v*i*m-t*d*m-l*i*p+t*u*p)*F,this}scale(e){const t=this.elements,i=e.x,a=e.y,r=e.z;return t[0]*=i,t[4]*=a,t[8]*=r,t[1]*=i,t[5]*=a,t[9]*=r,t[2]*=i,t[6]*=a,t[10]*=r,t[3]*=i,t[7]*=a,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],a=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,a))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),a=Math.sin(t),r=1-i,l=e.x,u=e.y,m=e.z,g=r*l,v=r*u;return this.set(g*l+i,g*u-a*m,g*m+a*u,0,g*u+a*m,v*u+i,v*m-a*l,0,g*m-a*u,v*m+a*l,r*m*m+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,a,r,l){return this.set(1,i,r,0,e,1,l,0,t,a,1,0,0,0,0,1),this}compose(e,t,i){const a=this.elements,r=t._x,l=t._y,u=t._z,m=t._w,g=r+r,v=l+l,d=u+u,p=r*g,b=r*v,C=r*d,w=l*v,E=l*d,M=u*d,I=m*g,B=m*v,N=m*d,P=i.x,U=i.y,F=i.z;return a[0]=(1-(w+M))*P,a[1]=(b+N)*P,a[2]=(C-B)*P,a[3]=0,a[4]=(b-N)*U,a[5]=(1-(p+M))*U,a[6]=(E+I)*U,a[7]=0,a[8]=(C+B)*F,a[9]=(E-I)*F,a[10]=(1-(p+w))*F,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(e,t,i){const a=this.elements;let r=vd.set(a[0],a[1],a[2]).length();const l=vd.set(a[4],a[5],a[6]).length(),u=vd.set(a[8],a[9],a[10]).length();this.determinant()<0&&(r=-r),e.x=a[12],e.y=a[13],e.z=a[14],no.copy(this);const g=1/r,v=1/l,d=1/u;return no.elements[0]*=g,no.elements[1]*=g,no.elements[2]*=g,no.elements[4]*=v,no.elements[5]*=v,no.elements[6]*=v,no.elements[8]*=d,no.elements[9]*=d,no.elements[10]*=d,t.setFromRotationMatrix(no),i.x=r,i.y=l,i.z=u,this}makePerspective(e,t,i,a,r,l,u=Xs,m=!1){const g=this.elements,v=2*r/(t-e),d=2*r/(i-a),p=(t+e)/(t-e),b=(i+a)/(i-a);let C,w;if(m)C=r/(l-r),w=l*r/(l-r);else if(u===Xs)C=-(l+r)/(l-r),w=-2*l*r/(l-r);else if(u===o0)C=-l/(l-r),w=-l*r/(l-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);return g[0]=v,g[4]=0,g[8]=p,g[12]=0,g[1]=0,g[5]=d,g[9]=b,g[13]=0,g[2]=0,g[6]=0,g[10]=C,g[14]=w,g[3]=0,g[7]=0,g[11]=-1,g[15]=0,this}makeOrthographic(e,t,i,a,r,l,u=Xs,m=!1){const g=this.elements,v=2/(t-e),d=2/(i-a),p=-(t+e)/(t-e),b=-(i+a)/(i-a);let C,w;if(m)C=1/(l-r),w=l/(l-r);else if(u===Xs)C=-2/(l-r),w=-(l+r)/(l-r);else if(u===o0)C=-1/(l-r),w=-r/(l-r);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);return g[0]=v,g[4]=0,g[8]=0,g[12]=p,g[1]=0,g[5]=d,g[9]=0,g[13]=b,g[2]=0,g[6]=0,g[10]=C,g[14]=w,g[3]=0,g[7]=0,g[11]=0,g[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let a=0;a<16;a++)if(t[a]!==i[a])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const vd=new K,no=new Nt,fO=new K(0,0,0),dO=new K(1,1,1),Kc=new K,ay=new K,ks=new K,XC=new Nt,JC=new ka;class Ks{constructor(e=0,t=0,i=0,a=Ks.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,a=this._order){return this._x=e,this._y=t,this._z=i,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const a=e.elements,r=a[0],l=a[4],u=a[8],m=a[1],g=a[5],v=a[9],d=a[2],p=a[6],b=a[10];switch(t){case"XYZ":this._y=Math.asin(Ft(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-v,b),this._z=Math.atan2(-l,r)):(this._x=Math.atan2(p,g),this._z=0);break;case"YXZ":this._x=Math.asin(-Ft(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(u,b),this._z=Math.atan2(m,g)):(this._y=Math.atan2(-d,r),this._z=0);break;case"ZXY":this._x=Math.asin(Ft(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,b),this._z=Math.atan2(-l,g)):(this._y=0,this._z=Math.atan2(m,r));break;case"ZYX":this._y=Math.asin(-Ft(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,b),this._z=Math.atan2(m,r)):(this._x=0,this._z=Math.atan2(-l,g));break;case"YZX":this._z=Math.asin(Ft(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(-v,g),this._y=Math.atan2(-d,r)):(this._x=0,this._y=Math.atan2(u,b));break;case"XZY":this._z=Math.asin(-Ft(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(p,g),this._y=Math.atan2(u,r)):(this._x=Math.atan2(-v,b),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return XC.makeRotationFromQuaternion(e),this.setFromRotationMatrix(XC,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return JC.setFromEuler(this),this.setFromQuaternion(JC,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ks.DEFAULT_ORDER="XYZ";class c0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let mO=0;const YC=new K,xd=new ka,Hl=new Nt,sy=new K,rp=new K,pO=new K,gO=new ka,KC=new K(1,0,0),qC=new K(0,1,0),QC=new K(0,0,1),$C={type:"added"},yO={type:"removed"},_d={type:"childadded",child:null},g_={type:"childremoved",child:null};class dn extends al{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:mO++}),this.uuid=Ys(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=dn.DEFAULT_UP.clone();const e=new K,t=new Ks,i=new ka,a=new K(1,1,1);function r(){i.setFromEuler(t,!1)}function l(){t.setFromQuaternion(i,void 0,!1)}t._onChange(r),i._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new Nt},normalMatrix:{value:new Yt}}),this.matrix=new Nt,this.matrixWorld=new Nt,this.matrixAutoUpdate=dn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=dn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new c0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return xd.setFromAxisAngle(e,t),this.quaternion.multiply(xd),this}rotateOnWorldAxis(e,t){return xd.setFromAxisAngle(e,t),this.quaternion.premultiply(xd),this}rotateX(e){return this.rotateOnAxis(KC,e)}rotateY(e){return this.rotateOnAxis(qC,e)}rotateZ(e){return this.rotateOnAxis(QC,e)}translateOnAxis(e,t){return YC.copy(e).applyQuaternion(this.quaternion),this.position.add(YC.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(KC,e)}translateY(e){return this.translateOnAxis(qC,e)}translateZ(e){return this.translateOnAxis(QC,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Hl.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?sy.copy(e):sy.set(e,t,i);const a=this.parent;this.updateWorldMatrix(!0,!1),rp.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Hl.lookAt(rp,sy,this.up):Hl.lookAt(sy,rp,this.up),this.quaternion.setFromRotationMatrix(Hl),a&&(Hl.extractRotation(a.matrixWorld),xd.setFromRotationMatrix(Hl),this.quaternion.premultiply(xd.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent($C),_d.child=e,this.dispatchEvent(_d),_d.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(yO),g_.child=e,this.dispatchEvent(g_),g_.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Hl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Hl.multiply(e.parent.matrixWorld)),e.applyMatrix4(Hl),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent($C),_d.child=e,this.dispatchEvent(_d),_d.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,a=this.children.length;i<a;i++){const l=this.children[i].getObjectByProperty(e,t);if(l!==void 0)return l}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const a=this.children;for(let r=0,l=a.length;r<l;r++)a[r].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rp,e,pO),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rp,gO,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,a=t.length;i<a;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,a=t.length;i<a;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,a=t.length;i<a;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const a=this.children;for(let r=0,l=a.length;r<l;r++)a[r].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.geometryInfo=this._geometryInfo.map(u=>({...u,boundingBox:u.boundingBox?u.boundingBox.toJSON():void 0,boundingSphere:u.boundingSphere?u.boundingSphere.toJSON():void 0})),a.instanceInfo=this._instanceInfo.map(u=>({...u})),a.availableInstanceIds=this._availableInstanceIds.slice(),a.availableGeometryIds=this._availableGeometryIds.slice(),a.nextIndexStart=this._nextIndexStart,a.nextVertexStart=this._nextVertexStart,a.geometryCount=this._geometryCount,a.maxInstanceCount=this._maxInstanceCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.matricesTexture=this._matricesTexture.toJSON(e),a.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(a.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(a.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(a.boundingBox=this.boundingBox.toJSON()));function r(u,m){return u[m.uuid]===void 0&&(u[m.uuid]=m.toJSON(e)),m.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=r(e.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const m=u.shapes;if(Array.isArray(m))for(let g=0,v=m.length;g<v;g++){const d=m[g];r(e.shapes,d)}else r(e.shapes,m)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let m=0,g=this.material.length;m<g;m++)u.push(r(e.materials,this.material[m]));a.material=u}else a.material=r(e.materials,this.material);if(this.children.length>0){a.children=[];for(let u=0;u<this.children.length;u++)a.children.push(this.children[u].toJSON(e).object)}if(this.animations.length>0){a.animations=[];for(let u=0;u<this.animations.length;u++){const m=this.animations[u];a.animations.push(r(e.animations,m))}}if(t){const u=l(e.geometries),m=l(e.materials),g=l(e.textures),v=l(e.images),d=l(e.shapes),p=l(e.skeletons),b=l(e.animations),C=l(e.nodes);u.length>0&&(i.geometries=u),m.length>0&&(i.materials=m),g.length>0&&(i.textures=g),v.length>0&&(i.images=v),d.length>0&&(i.shapes=d),p.length>0&&(i.skeletons=p),b.length>0&&(i.animations=b),C.length>0&&(i.nodes=C)}return i.object=a,i;function l(u){const m=[];for(const g in u){const v=u[g];delete v.metadata,m.push(v)}return m}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const a=e.children[i];this.add(a.clone())}return this}}dn.DEFAULT_UP=new K(0,1,0);dn.DEFAULT_MATRIX_AUTO_UPDATE=!0;dn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const io=new K,jl=new K,y_=new K,Fl=new K,bd=new K,Ad=new K,eE=new K,v_=new K,x_=new K,__=new K,b_=new wn,A_=new wn,S_=new wn;class Is{constructor(e=new K,t=new K,i=new K){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,a){a.subVectors(i,t),io.subVectors(e,t),a.cross(io);const r=a.lengthSq();return r>0?a.multiplyScalar(1/Math.sqrt(r)):a.set(0,0,0)}static getBarycoord(e,t,i,a,r){io.subVectors(a,t),jl.subVectors(i,t),y_.subVectors(e,t);const l=io.dot(io),u=io.dot(jl),m=io.dot(y_),g=jl.dot(jl),v=jl.dot(y_),d=l*g-u*u;if(d===0)return r.set(0,0,0),null;const p=1/d,b=(g*m-u*v)*p,C=(l*v-u*m)*p;return r.set(1-b-C,C,b)}static containsPoint(e,t,i,a){return this.getBarycoord(e,t,i,a,Fl)===null?!1:Fl.x>=0&&Fl.y>=0&&Fl.x+Fl.y<=1}static getInterpolation(e,t,i,a,r,l,u,m){return this.getBarycoord(e,t,i,a,Fl)===null?(m.x=0,m.y=0,"z"in m&&(m.z=0),"w"in m&&(m.w=0),null):(m.setScalar(0),m.addScaledVector(r,Fl.x),m.addScaledVector(l,Fl.y),m.addScaledVector(u,Fl.z),m)}static getInterpolatedAttribute(e,t,i,a,r,l){return b_.setScalar(0),A_.setScalar(0),S_.setScalar(0),b_.fromBufferAttribute(e,t),A_.fromBufferAttribute(e,i),S_.fromBufferAttribute(e,a),l.setScalar(0),l.addScaledVector(b_,r.x),l.addScaledVector(A_,r.y),l.addScaledVector(S_,r.z),l}static isFrontFacing(e,t,i,a){return io.subVectors(i,t),jl.subVectors(e,t),io.cross(jl).dot(a)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,a){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[a]),this}setFromAttributeAndIndices(e,t,i,a){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,a),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return io.subVectors(this.c,this.b),jl.subVectors(this.a,this.b),io.cross(jl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Is.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Is.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,a,r){return Is.getInterpolation(e,this.a,this.b,this.c,t,i,a,r)}containsPoint(e){return Is.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Is.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,a=this.b,r=this.c;let l,u;bd.subVectors(a,i),Ad.subVectors(r,i),v_.subVectors(e,i);const m=bd.dot(v_),g=Ad.dot(v_);if(m<=0&&g<=0)return t.copy(i);x_.subVectors(e,a);const v=bd.dot(x_),d=Ad.dot(x_);if(v>=0&&d<=v)return t.copy(a);const p=m*d-v*g;if(p<=0&&m>=0&&v<=0)return l=m/(m-v),t.copy(i).addScaledVector(bd,l);__.subVectors(e,r);const b=bd.dot(__),C=Ad.dot(__);if(C>=0&&b<=C)return t.copy(r);const w=b*g-m*C;if(w<=0&&g>=0&&C<=0)return u=g/(g-C),t.copy(i).addScaledVector(Ad,u);const E=v*C-b*d;if(E<=0&&d-v>=0&&b-C>=0)return eE.subVectors(r,a),u=(d-v)/(d-v+(b-C)),t.copy(a).addScaledVector(eE,u);const M=1/(E+w+p);return l=w*M,u=p*M,t.copy(i).addScaledVector(bd,l).addScaledVector(Ad,u)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Xw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},qc={h:0,s:0,l:0},ry={h:0,s:0,l:0};function M_(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class ot{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const a=e;a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ga){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,An.colorSpaceToWorking(this,t),this}setRGB(e,t,i,a=An.workingColorSpace){return this.r=e,this.g=t,this.b=i,An.colorSpaceToWorking(this,a),this}setHSL(e,t,i,a=An.workingColorSpace){if(e=SA(e,1),t=Ft(t,0,1),i=Ft(i,0,1),t===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+t):i+t-i*t,l=2*i-r;this.r=M_(l,r,e+1/3),this.g=M_(l,r,e),this.b=M_(l,r,e-1/3)}return An.colorSpaceToWorking(this,a),this}setStyle(e,t=Ga){function i(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const l=a[1],u=a[2];switch(l){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,t);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,t);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=a[1],l=r.length;if(l===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,t);if(l===6)return this.setHex(parseInt(r,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Ga){const i=Xw[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Kl(e.r),this.g=Kl(e.g),this.b=Kl(e.b),this}copyLinearToSRGB(e){return this.r=Yd(e.r),this.g=Yd(e.g),this.b=Yd(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ga){return An.workingToColorSpace(ja.copy(this),e),Math.round(Ft(ja.r*255,0,255))*65536+Math.round(Ft(ja.g*255,0,255))*256+Math.round(Ft(ja.b*255,0,255))}getHexString(e=Ga){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=An.workingColorSpace){An.workingToColorSpace(ja.copy(this),t);const i=ja.r,a=ja.g,r=ja.b,l=Math.max(i,a,r),u=Math.min(i,a,r);let m,g;const v=(u+l)/2;if(u===l)m=0,g=0;else{const d=l-u;switch(g=v<=.5?d/(l+u):d/(2-l-u),l){case i:m=(a-r)/d+(a<r?6:0);break;case a:m=(r-i)/d+2;break;case r:m=(i-a)/d+4;break}m/=6}return e.h=m,e.s=g,e.l=v,e}getRGB(e,t=An.workingColorSpace){return An.workingToColorSpace(ja.copy(this),t),e.r=ja.r,e.g=ja.g,e.b=ja.b,e}getStyle(e=Ga){An.workingToColorSpace(ja.copy(this),e);const t=ja.r,i=ja.g,a=ja.b;return e!==Ga?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(a*255)})`}offsetHSL(e,t,i){return this.getHSL(qc),this.setHSL(qc.h+e,qc.s+t,qc.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(qc),e.getHSL(ry);const i=Dp(qc.h,ry.h,t),a=Dp(qc.s,ry.s,t),r=Dp(qc.l,ry.l,t);return this.setHSL(i,a,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,a=this.b,r=e.elements;return this.r=r[0]*t+r[3]*i+r[6]*a,this.g=r[1]*t+r[4]*i+r[7]*a,this.b=r[2]*t+r[5]*i+r[8]*a,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ja=new ot;ot.NAMES=Xw;let vO=0;class Ki extends al{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:vO++}),this.uuid=Ys(),this.name="",this.type="Material",this.blending=Zh,this.side=tl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=p2,this.blendDst=g2,this.blendEquation=au,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ot(0,0,0),this.blendAlpha=0,this.depthFunc=Yh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=eb,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Nh,this.stencilZFail=Nh,this.stencilZPass=Nh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const a=this[t];if(a===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}a&&a.isColor?a.set(i):a&&a.isVector3&&i&&i.isVector3?a.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(i.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(i.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Zh&&(i.blending=this.blending),this.side!==tl&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==p2&&(i.blendSrc=this.blendSrc),this.blendDst!==g2&&(i.blendDst=this.blendDst),this.blendEquation!==au&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Yh&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==eb&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Nh&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Nh&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Nh&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function a(r){const l=[];for(const u in r){const m=r[u];delete m.metadata,l.push(m)}return l}if(t){const r=a(e.textures),l=a(e.images);r.length>0&&(i.textures=r),l.length>0&&(i.images=l)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const a=t.length;i=new Array(a);for(let r=0;r!==a;++r)i[r]=t[r].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Js extends Ki{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ot(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ks,this.combine=dg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Wl=xO();function xO(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),a=new Uint32Array(512);for(let m=0;m<256;++m){const g=m-127;g<-27?(i[m]=0,i[m|256]=32768,a[m]=24,a[m|256]=24):g<-14?(i[m]=1024>>-g-14,i[m|256]=1024>>-g-14|32768,a[m]=-g-1,a[m|256]=-g-1):g<=15?(i[m]=g+15<<10,i[m|256]=g+15<<10|32768,a[m]=13,a[m|256]=13):g<128?(i[m]=31744,i[m|256]=64512,a[m]=24,a[m|256]=24):(i[m]=31744,i[m|256]=64512,a[m]=13,a[m|256]=13)}const r=new Uint32Array(2048),l=new Uint32Array(64),u=new Uint32Array(64);for(let m=1;m<1024;++m){let g=m<<13,v=0;for(;(g&8388608)===0;)g<<=1,v-=8388608;g&=-8388609,v+=947912704,r[m]=g|v}for(let m=1024;m<2048;++m)r[m]=939524096+(m-1024<<13);for(let m=1;m<31;++m)l[m]=m<<23;l[31]=1199570944,l[32]=2147483648;for(let m=33;m<63;++m)l[m]=2147483648+(m-32<<23);l[63]=3347054592;for(let m=1;m<64;++m)m!==32&&(u[m]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:a,mantissaTable:r,exponentTable:l,offsetTable:u}}function Rs(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Ft(n,-65504,65504),Wl.floatView[0]=n;const e=Wl.uint32View[0],t=e>>23&511;return Wl.baseTable[t]+((e&8388607)>>Wl.shiftTable[t])}function xp(n){const e=n>>10;return Wl.uint32View[0]=Wl.mantissaTable[Wl.offsetTable[e]+(n&1023)]+Wl.exponentTable[e],Wl.floatView[0]}class _O{static toHalfFloat(e){return Rs(e)}static fromHalfFloat(e){return xp(e)}}const ji=new K,oy=new ze;let bO=0;class Rn{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:bO++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Jp,this.updateRanges=[],this.gpuType=Ds,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let a=0,r=this.itemSize;a<r;a++)this.array[e+a]=t.array[i+a];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)oy.fromBufferAttribute(this,t),oy.applyMatrix3(e),this.setXY(t,oy.x,oy.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)ji.fromBufferAttribute(this,t),ji.applyMatrix3(e),this.setXYZ(t,ji.x,ji.y,ji.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)ji.fromBufferAttribute(this,t),ji.applyMatrix4(e),this.setXYZ(t,ji.x,ji.y,ji.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ji.fromBufferAttribute(this,t),ji.applyNormalMatrix(e),this.setXYZ(t,ji.x,ji.y,ji.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ji.fromBufferAttribute(this,t),ji.transformDirection(e),this.setXYZ(t,ji.x,ji.y,ji.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=gs(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Qt(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=gs(t,this.array)),t}setX(e,t){return this.normalized&&(t=Qt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=gs(t,this.array)),t}setY(e,t){return this.normalized&&(t=Qt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=gs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Qt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=gs(t,this.array)),t}setW(e,t){return this.normalized&&(t=Qt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Qt(t,this.array),i=Qt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,a){return e*=this.itemSize,this.normalized&&(t=Qt(t,this.array),i=Qt(i,this.array),a=Qt(a,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=a,this}setXYZW(e,t,i,a,r){return e*=this.itemSize,this.normalized&&(t=Qt(t,this.array),i=Qt(i,this.array),a=Qt(a,this.array),r=Qt(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=a,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Jp&&(e.usage=this.usage),e}}class AO extends Rn{constructor(e,t,i){super(new Int8Array(e),t,i)}}class SO extends Rn{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class MO extends Rn{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class CO extends Rn{constructor(e,t,i){super(new Int16Array(e),t,i)}}class CA extends Rn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class EO extends Rn{constructor(e,t,i){super(new Int32Array(e),t,i)}}class EA extends Rn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class TO extends Rn{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=xp(this.array[e*this.itemSize]);return this.normalized&&(t=gs(t,this.array)),t}setX(e,t){return this.normalized&&(t=Qt(t,this.array)),this.array[e*this.itemSize]=Rs(t),this}getY(e){let t=xp(this.array[e*this.itemSize+1]);return this.normalized&&(t=gs(t,this.array)),t}setY(e,t){return this.normalized&&(t=Qt(t,this.array)),this.array[e*this.itemSize+1]=Rs(t),this}getZ(e){let t=xp(this.array[e*this.itemSize+2]);return this.normalized&&(t=gs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Qt(t,this.array)),this.array[e*this.itemSize+2]=Rs(t),this}getW(e){let t=xp(this.array[e*this.itemSize+3]);return this.normalized&&(t=gs(t,this.array)),t}setW(e,t){return this.normalized&&(t=Qt(t,this.array)),this.array[e*this.itemSize+3]=Rs(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Qt(t,this.array),i=Qt(i,this.array)),this.array[e+0]=Rs(t),this.array[e+1]=Rs(i),this}setXYZ(e,t,i,a){return e*=this.itemSize,this.normalized&&(t=Qt(t,this.array),i=Qt(i,this.array),a=Qt(a,this.array)),this.array[e+0]=Rs(t),this.array[e+1]=Rs(i),this.array[e+2]=Rs(a),this}setXYZW(e,t,i,a,r){return e*=this.itemSize,this.normalized&&(t=Qt(t,this.array),i=Qt(i,this.array),a=Qt(a,this.array),r=Qt(r,this.array)),this.array[e+0]=Rs(t),this.array[e+1]=Rs(i),this.array[e+2]=Rs(a),this.array[e+3]=Rs(r),this}}class bt extends Rn{constructor(e,t,i){super(new Float32Array(e),t,i)}}let wO=0;const _r=new Nt,C_=new dn,Sd=new K,Ws=new Ma,op=new Ma,ha=new K;class Zt extends al{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:wO++}),this.uuid=Ys(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(kw(e)?EA:CA)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const r=new Yt().getNormalMatrix(e);i.applyNormalMatrix(r),i.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(e),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return _r.makeRotationFromQuaternion(e),this.applyMatrix4(_r),this}rotateX(e){return _r.makeRotationX(e),this.applyMatrix4(_r),this}rotateY(e){return _r.makeRotationY(e),this.applyMatrix4(_r),this}rotateZ(e){return _r.makeRotationZ(e),this.applyMatrix4(_r),this}translate(e,t,i){return _r.makeTranslation(e,t,i),this.applyMatrix4(_r),this}scale(e,t,i){return _r.makeScale(e,t,i),this.applyMatrix4(_r),this}lookAt(e){return C_.lookAt(e),C_.updateMatrix(),this.applyMatrix4(C_.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Sd).negate(),this.translate(Sd.x,Sd.y,Sd.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let a=0,r=e.length;a<r;a++){const l=e[a];i.push(l.x,l.y,l.z||0)}this.setAttribute("position",new bt(i,3))}else{const i=Math.min(e.length,t.count);for(let a=0;a<i;a++){const r=e[a];t.setXYZ(a,r.x,r.y,r.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ma);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new K(-1/0,-1/0,-1/0),new K(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,a=t.length;i<a;i++){const r=t[i];Ws.setFromBufferAttribute(r),this.morphTargetsRelative?(ha.addVectors(this.boundingBox.min,Ws.min),this.boundingBox.expandByPoint(ha),ha.addVectors(this.boundingBox.max,Ws.max),this.boundingBox.expandByPoint(ha)):(this.boundingBox.expandByPoint(Ws.min),this.boundingBox.expandByPoint(Ws.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new da);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new K,1/0);return}if(e){const i=this.boundingSphere.center;if(Ws.setFromBufferAttribute(e),t)for(let r=0,l=t.length;r<l;r++){const u=t[r];op.setFromBufferAttribute(u),this.morphTargetsRelative?(ha.addVectors(Ws.min,op.min),Ws.expandByPoint(ha),ha.addVectors(Ws.max,op.max),Ws.expandByPoint(ha)):(Ws.expandByPoint(op.min),Ws.expandByPoint(op.max))}Ws.getCenter(i);let a=0;for(let r=0,l=e.count;r<l;r++)ha.fromBufferAttribute(e,r),a=Math.max(a,i.distanceToSquared(ha));if(t)for(let r=0,l=t.length;r<l;r++){const u=t[r],m=this.morphTargetsRelative;for(let g=0,v=u.count;g<v;g++)ha.fromBufferAttribute(u,g),m&&(Sd.fromBufferAttribute(e,g),ha.add(Sd)),a=Math.max(a,i.distanceToSquared(ha))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,a=t.normal,r=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Rn(new Float32Array(4*i.count),4));const l=this.getAttribute("tangent"),u=[],m=[];for(let j=0;j<i.count;j++)u[j]=new K,m[j]=new K;const g=new K,v=new K,d=new K,p=new ze,b=new ze,C=new ze,w=new K,E=new K;function M(j,O,H){g.fromBufferAttribute(i,j),v.fromBufferAttribute(i,O),d.fromBufferAttribute(i,H),p.fromBufferAttribute(r,j),b.fromBufferAttribute(r,O),C.fromBufferAttribute(r,H),v.sub(g),d.sub(g),b.sub(p),C.sub(p);const J=1/(b.x*C.y-C.x*b.y);isFinite(J)&&(w.copy(v).multiplyScalar(C.y).addScaledVector(d,-b.y).multiplyScalar(J),E.copy(d).multiplyScalar(b.x).addScaledVector(v,-C.x).multiplyScalar(J),u[j].add(w),u[O].add(w),u[H].add(w),m[j].add(E),m[O].add(E),m[H].add(E))}let I=this.groups;I.length===0&&(I=[{start:0,count:e.count}]);for(let j=0,O=I.length;j<O;++j){const H=I[j],J=H.start,ie=H.count;for(let oe=J,ge=J+ie;oe<ge;oe+=3)M(e.getX(oe+0),e.getX(oe+1),e.getX(oe+2))}const B=new K,N=new K,P=new K,U=new K;function F(j){P.fromBufferAttribute(a,j),U.copy(P);const O=u[j];B.copy(O),B.sub(P.multiplyScalar(P.dot(O))).normalize(),N.crossVectors(U,O);const J=N.dot(m[j])<0?-1:1;l.setXYZW(j,B.x,B.y,B.z,J)}for(let j=0,O=I.length;j<O;++j){const H=I[j],J=H.start,ie=H.count;for(let oe=J,ge=J+ie;oe<ge;oe+=3)F(e.getX(oe+0)),F(e.getX(oe+1)),F(e.getX(oe+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Rn(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,b=i.count;p<b;p++)i.setXYZ(p,0,0,0);const a=new K,r=new K,l=new K,u=new K,m=new K,g=new K,v=new K,d=new K;if(e)for(let p=0,b=e.count;p<b;p+=3){const C=e.getX(p+0),w=e.getX(p+1),E=e.getX(p+2);a.fromBufferAttribute(t,C),r.fromBufferAttribute(t,w),l.fromBufferAttribute(t,E),v.subVectors(l,r),d.subVectors(a,r),v.cross(d),u.fromBufferAttribute(i,C),m.fromBufferAttribute(i,w),g.fromBufferAttribute(i,E),u.add(v),m.add(v),g.add(v),i.setXYZ(C,u.x,u.y,u.z),i.setXYZ(w,m.x,m.y,m.z),i.setXYZ(E,g.x,g.y,g.z)}else for(let p=0,b=t.count;p<b;p+=3)a.fromBufferAttribute(t,p+0),r.fromBufferAttribute(t,p+1),l.fromBufferAttribute(t,p+2),v.subVectors(l,r),d.subVectors(a,r),v.cross(d),i.setXYZ(p+0,v.x,v.y,v.z),i.setXYZ(p+1,v.x,v.y,v.z),i.setXYZ(p+2,v.x,v.y,v.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)ha.fromBufferAttribute(e,t),ha.normalize(),e.setXYZ(t,ha.x,ha.y,ha.z)}toNonIndexed(){function e(u,m){const g=u.array,v=u.itemSize,d=u.normalized,p=new g.constructor(m.length*v);let b=0,C=0;for(let w=0,E=m.length;w<E;w++){u.isInterleavedBufferAttribute?b=m[w]*u.data.stride+u.offset:b=m[w]*v;for(let M=0;M<v;M++)p[C++]=g[b++]}return new Rn(p,v,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Zt,i=this.index.array,a=this.attributes;for(const u in a){const m=a[u],g=e(m,i);t.setAttribute(u,g)}const r=this.morphAttributes;for(const u in r){const m=[],g=r[u];for(let v=0,d=g.length;v<d;v++){const p=g[v],b=e(p,i);m.push(b)}t.morphAttributes[u]=m}t.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let u=0,m=l.length;u<m;u++){const g=l[u];t.addGroup(g.start,g.count,g.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const m=this.parameters;for(const g in m)m[g]!==void 0&&(e[g]=m[g]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const m in i){const g=i[m];e.data.attributes[m]=g.toJSON(e.data)}const a={};let r=!1;for(const m in this.morphAttributes){const g=this.morphAttributes[m],v=[];for(let d=0,p=g.length;d<p;d++){const b=g[d];v.push(b.toJSON(e.data))}v.length>0&&(a[m]=v,r=!0)}r&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(e.data.groups=JSON.parse(JSON.stringify(l)));const u=this.boundingSphere;return u!==null&&(e.data.boundingSphere=u.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const a=e.attributes;for(const g in a){const v=a[g];this.setAttribute(g,v.clone(t))}const r=e.morphAttributes;for(const g in r){const v=[],d=r[g];for(let p=0,b=d.length;p<b;p++)v.push(d[p].clone(t));this.morphAttributes[g]=v}this.morphTargetsRelative=e.morphTargetsRelative;const l=e.groups;for(let g=0,v=l.length;g<v;g++){const d=l[g];this.addGroup(d.start,d.count,d.materialIndex)}const u=e.boundingBox;u!==null&&(this.boundingBox=u.clone());const m=e.boundingSphere;return m!==null&&(this.boundingSphere=m.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const tE=new Nt,gh=new S0,ly=new da,nE=new K,cy=new K,uy=new K,hy=new K,E_=new K,fy=new K,iE=new K,dy=new K;class Di extends dn{constructor(e=new Zt,t=new Js){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const a=t[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,l=a.length;r<l;r++){const u=a[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=r}}}}getVertexPosition(e,t){const i=this.geometry,a=i.attributes.position,r=i.morphAttributes.position,l=i.morphTargetsRelative;t.fromBufferAttribute(a,e);const u=this.morphTargetInfluences;if(r&&u){fy.set(0,0,0);for(let m=0,g=r.length;m<g;m++){const v=u[m],d=r[m];v!==0&&(E_.fromBufferAttribute(d,e),l?fy.addScaledVector(E_,v):fy.addScaledVector(E_.sub(t),v))}t.add(fy)}return t}raycast(e,t){const i=this.geometry,a=this.material,r=this.matrixWorld;a!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),ly.copy(i.boundingSphere),ly.applyMatrix4(r),gh.copy(e.ray).recast(e.near),!(ly.containsPoint(gh.origin)===!1&&(gh.intersectSphere(ly,nE)===null||gh.origin.distanceToSquared(nE)>(e.far-e.near)**2))&&(tE.copy(r).invert(),gh.copy(e.ray).applyMatrix4(tE),!(i.boundingBox!==null&&gh.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,gh)))}_computeIntersections(e,t,i){let a;const r=this.geometry,l=this.material,u=r.index,m=r.attributes.position,g=r.attributes.uv,v=r.attributes.uv1,d=r.attributes.normal,p=r.groups,b=r.drawRange;if(u!==null)if(Array.isArray(l))for(let C=0,w=p.length;C<w;C++){const E=p[C],M=l[E.materialIndex],I=Math.max(E.start,b.start),B=Math.min(u.count,Math.min(E.start+E.count,b.start+b.count));for(let N=I,P=B;N<P;N+=3){const U=u.getX(N),F=u.getX(N+1),j=u.getX(N+2);a=my(this,M,e,i,g,v,d,U,F,j),a&&(a.faceIndex=Math.floor(N/3),a.face.materialIndex=E.materialIndex,t.push(a))}}else{const C=Math.max(0,b.start),w=Math.min(u.count,b.start+b.count);for(let E=C,M=w;E<M;E+=3){const I=u.getX(E),B=u.getX(E+1),N=u.getX(E+2);a=my(this,l,e,i,g,v,d,I,B,N),a&&(a.faceIndex=Math.floor(E/3),t.push(a))}}else if(m!==void 0)if(Array.isArray(l))for(let C=0,w=p.length;C<w;C++){const E=p[C],M=l[E.materialIndex],I=Math.max(E.start,b.start),B=Math.min(m.count,Math.min(E.start+E.count,b.start+b.count));for(let N=I,P=B;N<P;N+=3){const U=N,F=N+1,j=N+2;a=my(this,M,e,i,g,v,d,U,F,j),a&&(a.faceIndex=Math.floor(N/3),a.face.materialIndex=E.materialIndex,t.push(a))}}else{const C=Math.max(0,b.start),w=Math.min(m.count,b.start+b.count);for(let E=C,M=w;E<M;E+=3){const I=E,B=E+1,N=E+2;a=my(this,l,e,i,g,v,d,I,B,N),a&&(a.faceIndex=Math.floor(E/3),t.push(a))}}}}function RO(n,e,t,i,a,r,l,u){let m;if(e.side===vs?m=i.intersectTriangle(l,r,a,!0,u):m=i.intersectTriangle(a,r,l,e.side===tl,u),m===null)return null;dy.copy(u),dy.applyMatrix4(n.matrixWorld);const g=t.ray.origin.distanceTo(dy);return g<t.near||g>t.far?null:{distance:g,point:dy.clone(),object:n}}function my(n,e,t,i,a,r,l,u,m,g){n.getVertexPosition(u,cy),n.getVertexPosition(m,uy),n.getVertexPosition(g,hy);const v=RO(n,e,t,i,cy,uy,hy,iE);if(v){const d=new K;Is.getBarycoord(iE,cy,uy,hy,d),a&&(v.uv=Is.getInterpolatedAttribute(a,u,m,g,d,new ze)),r&&(v.uv1=Is.getInterpolatedAttribute(r,u,m,g,d,new ze)),l&&(v.normal=Is.getInterpolatedAttribute(l,u,m,g,d,new K),v.normal.dot(i.direction)>0&&v.normal.multiplyScalar(-1));const p={a:u,b:m,c:g,normal:new K,materialIndex:0};Is.getNormal(cy,uy,hy,p.normal),v.face=p,v.barycoord=d}return v}class af extends Zt{constructor(e=1,t=1,i=1,a=1,r=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:a,heightSegments:r,depthSegments:l};const u=this;a=Math.floor(a),r=Math.floor(r),l=Math.floor(l);const m=[],g=[],v=[],d=[];let p=0,b=0;C("z","y","x",-1,-1,i,t,e,l,r,0),C("z","y","x",1,-1,i,t,-e,l,r,1),C("x","z","y",1,1,e,i,t,a,l,2),C("x","z","y",1,-1,e,i,-t,a,l,3),C("x","y","z",1,-1,e,t,i,a,r,4),C("x","y","z",-1,-1,e,t,-i,a,r,5),this.setIndex(m),this.setAttribute("position",new bt(g,3)),this.setAttribute("normal",new bt(v,3)),this.setAttribute("uv",new bt(d,2));function C(w,E,M,I,B,N,P,U,F,j,O){const H=N/F,J=P/j,ie=N/2,oe=P/2,ge=U/2,ce=F+1,G=j+1;let Z=0,Q=0;const le=new K;for(let ye=0;ye<G;ye++){const X=ye*J-oe;for(let ae=0;ae<ce;ae++){const Ce=ae*H-ie;le[w]=Ce*I,le[E]=X*B,le[M]=ge,g.push(le.x,le.y,le.z),le[w]=0,le[E]=0,le[M]=U>0?1:-1,v.push(le.x,le.y,le.z),d.push(ae/F),d.push(1-ye/j),Z+=1}}for(let ye=0;ye<j;ye++)for(let X=0;X<F;X++){const ae=p+X+ce*ye,Ce=p+X+ce*(ye+1),Re=p+(X+1)+ce*(ye+1),Ze=p+(X+1)+ce*ye;m.push(ae,Ce,Ze),m.push(Ce,Re,Ze),Q+=6}u.addGroup(b,Q,O),b+=Q,p+=Z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new af(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function u0(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const a=n[t][i];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=a.clone():Array.isArray(a)?e[t][i]=a.slice():e[t][i]=a}}return e}function ms(n){const e={};for(let t=0;t<n.length;t++){const i=u0(n[t]);for(const a in i)e[a]=i[a]}return e}function IO(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function Jw(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:An.workingColorSpace}const Yw={clone:u0,merge:ms};var BO=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,DO=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class co extends Ki{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=BO,this.fragmentShader=DO,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=u0(e.uniforms),this.uniformsGroups=IO(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const a in this.uniforms){const l=this.uniforms[a].value;l&&l.isTexture?t.uniforms[a]={type:"t",value:l.toJSON(e).uuid}:l&&l.isColor?t.uniforms[a]={type:"c",value:l.getHex()}:l&&l.isVector2?t.uniforms[a]={type:"v2",value:l.toArray()}:l&&l.isVector3?t.uniforms[a]={type:"v3",value:l.toArray()}:l&&l.isVector4?t.uniforms[a]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?t.uniforms[a]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?t.uniforms[a]={type:"m4",value:l.toArray()}:t.uniforms[a]={value:l}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const a in this.extensions)this.extensions[a]===!0&&(i[a]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class Bv extends dn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Nt,this.projectionMatrix=new Nt,this.projectionMatrixInverse=new Nt,this.coordinateSystem=Xs,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Qc=new K,aE=new ze,sE=new ze;class Ii extends Bv{constructor(e=50,t=1,i=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=a,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=l0*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Xh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return l0*2*Math.atan(Math.tan(Xh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){Qc.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Qc.x,Qc.y).multiplyScalar(-e/Qc.z),Qc.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Qc.x,Qc.y).multiplyScalar(-e/Qc.z)}getViewSize(e,t){return this.getViewBounds(e,aE,sE),t.subVectors(sE,aE)}setViewOffset(e,t,i,a,r,l){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=a,this.view.width=r,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Xh*.5*this.fov)/this.zoom,i=2*t,a=this.aspect*i,r=-.5*a;const l=this.view;if(this.view!==null&&this.view.enabled){const m=l.fullWidth,g=l.fullHeight;r+=l.offsetX*a/m,t-=l.offsetY*i/g,a*=l.width/m,i*=l.height/g}const u=this.filmOffset;u!==0&&(r+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+a,t,t-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Md=-90,Cd=1;class Kw extends dn{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const a=new Ii(Md,Cd,e,t);a.layers=this.layers,this.add(a);const r=new Ii(Md,Cd,e,t);r.layers=this.layers,this.add(r);const l=new Ii(Md,Cd,e,t);l.layers=this.layers,this.add(l);const u=new Ii(Md,Cd,e,t);u.layers=this.layers,this.add(u);const m=new Ii(Md,Cd,e,t);m.layers=this.layers,this.add(m);const g=new Ii(Md,Cd,e,t);g.layers=this.layers,this.add(g)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,a,r,l,u,m]=t;for(const g of t)this.remove(g);if(e===Xs)i.up.set(0,1,0),i.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),u.up.set(0,1,0),u.lookAt(0,0,1),m.up.set(0,1,0),m.lookAt(0,0,-1);else if(e===o0)i.up.set(0,-1,0),i.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),u.up.set(0,-1,0),u.lookAt(0,0,1),m.up.set(0,-1,0),m.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const g of t)this.add(g),g.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:a}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,l,u,m,g,v]=this.children,d=e.getRenderTarget(),p=e.getActiveCubeFace(),b=e.getActiveMipmapLevel(),C=e.xr.enabled;e.xr.enabled=!1;const w=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,a),e.render(t,r),e.setRenderTarget(i,1,a),e.render(t,l),e.setRenderTarget(i,2,a),e.render(t,u),e.setRenderTarget(i,3,a),e.render(t,m),e.setRenderTarget(i,4,a),e.render(t,g),i.texture.generateMipmaps=w,e.setRenderTarget(i,5,a),e.render(t,v),e.setRenderTarget(d,p,b),e.xr.enabled=C,i.texture.needsPMREMUpdate=!0}}class pg extends oi{constructor(e=[],t=nc,i,a,r,l,u,m,g,v){super(e,t,i,a,r,l,u,m,g,v),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class qw extends nl{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},a=[i,i,i,i,i,i];this.texture=new pg(a),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new af(5,5,5),r=new co({name:"CubemapFromEquirect",uniforms:u0(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:vs,blending:Yl});r.uniforms.tEquirect.value=t;const l=new Di(a,r),u=t.minFilter;return t.minFilter===Er&&(t.minFilter=Bi),new Kw(1,10,this).update(e,l),t.minFilter=u,l.geometry.dispose(),l.material.dispose(),this}clear(e,t=!0,i=!0,a=!0){const r=e.getRenderTarget();for(let l=0;l<6;l++)e.setRenderTarget(this,l),e.clear(t,i,a);e.setRenderTarget(r)}}class Xl extends dn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const NO={type:"move"};class a2{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Xl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Xl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new K,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new K),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Xl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new K,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new K),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let a=null,r=null,l=null;const u=this._targetRay,m=this._grip,g=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(g&&e.hand){l=!0;for(const w of e.hand.values()){const E=t.getJointPose(w,i),M=this._getHandJoint(g,w);E!==null&&(M.matrix.fromArray(E.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),M.matrixWorldNeedsUpdate=!0,M.jointRadius=E.radius),M.visible=E!==null}const v=g.joints["index-finger-tip"],d=g.joints["thumb-tip"],p=v.position.distanceTo(d.position),b=.02,C=.005;g.inputState.pinching&&p>b+C?(g.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!g.inputState.pinching&&p<=b-C&&(g.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else m!==null&&e.gripSpace&&(r=t.getPose(e.gripSpace,i),r!==null&&(m.matrix.fromArray(r.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.matrixWorldNeedsUpdate=!0,r.linearVelocity?(m.hasLinearVelocity=!0,m.linearVelocity.copy(r.linearVelocity)):m.hasLinearVelocity=!1,r.angularVelocity?(m.hasAngularVelocity=!0,m.angularVelocity.copy(r.angularVelocity)):m.hasAngularVelocity=!1));u!==null&&(a=t.getPose(e.targetRaySpace,i),a===null&&r!==null&&(a=r),a!==null&&(u.matrix.fromArray(a.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,a.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(a.linearVelocity)):u.hasLinearVelocity=!1,a.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(a.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(NO)))}return u!==null&&(u.visible=a!==null),m!==null&&(m.visible=r!==null),g!==null&&(g.visible=l!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Xl;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class Dv{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new ot(e),this.density=t}clone(){return new Dv(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Nv{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new ot(e),this.near=t,this.far=i}clone(){return new Nv(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class TA extends dn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ks,this.environmentIntensity=1,this.environmentRotation=new Ks,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class gg{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Jp,this.updateRanges=[],this.version=0,this.uuid=Ys()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let a=0,r=this.stride;a<r;a++)this.array[e+a]=t.array[i+a];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ys()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ys()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ds=new K;class pu{constructor(e,t,i,a=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=a}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)ds.fromBufferAttribute(this,t),ds.applyMatrix4(e),this.setXYZ(t,ds.x,ds.y,ds.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ds.fromBufferAttribute(this,t),ds.applyNormalMatrix(e),this.setXYZ(t,ds.x,ds.y,ds.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ds.fromBufferAttribute(this,t),ds.transformDirection(e),this.setXYZ(t,ds.x,ds.y,ds.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=gs(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Qt(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=Qt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Qt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Qt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Qt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=gs(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=gs(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=gs(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=gs(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Qt(t,this.array),i=Qt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=Qt(t,this.array),i=Qt(i,this.array),a=Qt(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=a,this}setXYZW(e,t,i,a,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Qt(t,this.array),i=Qt(i,this.array),a=Qt(a,this.array),r=Qt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=a,this.data.array[e+3]=r,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const a=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[a+r])}return new Rn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new pu(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const a=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[a+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class wA extends Ki{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ot(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Ed;const lp=new K,Td=new K,wd=new K,Rd=new ze,cp=new ze,Qw=new Nt,py=new K,up=new K,gy=new K,rE=new ze,T_=new ze,oE=new ze;class $w extends dn{constructor(e=new wA){if(super(),this.isSprite=!0,this.type="Sprite",Ed===void 0){Ed=new Zt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new gg(t,5);Ed.setIndex([0,1,2,0,2,3]),Ed.setAttribute("position",new pu(i,3,0,!1)),Ed.setAttribute("uv",new pu(i,2,3,!1))}this.geometry=Ed,this.material=e,this.center=new ze(.5,.5),this.count=1}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Td.setFromMatrixScale(this.matrixWorld),Qw.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),wd.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Td.multiplyScalar(-wd.z);const i=this.material.rotation;let a,r;i!==0&&(r=Math.cos(i),a=Math.sin(i));const l=this.center;yy(py.set(-.5,-.5,0),wd,l,Td,a,r),yy(up.set(.5,-.5,0),wd,l,Td,a,r),yy(gy.set(.5,.5,0),wd,l,Td,a,r),rE.set(0,0),T_.set(1,0),oE.set(1,1);let u=e.ray.intersectTriangle(py,up,gy,!1,lp);if(u===null&&(yy(up.set(-.5,.5,0),wd,l,Td,a,r),T_.set(0,1),u=e.ray.intersectTriangle(py,gy,up,!1,lp),u===null))return;const m=e.ray.origin.distanceTo(lp);m<e.near||m>e.far||t.push({distance:m,point:lp.clone(),uv:Is.getInterpolation(lp,py,up,gy,rE,T_,oE,new ze),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function yy(n,e,t,i,a,r){Rd.subVectors(n,t).addScalar(.5).multiply(i),a!==void 0?(cp.x=r*Rd.x-a*Rd.y,cp.y=a*Rd.x+r*Rd.y):cp.copy(Rd),n.copy(e),n.x+=cp.x,n.y+=cp.y,n.applyMatrix4(Qw)}const vy=new K,lE=new K;class eR extends dn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,a=t.length;i<a;i++){const r=t[i];this.addLevel(r.object.clone(),r.distance,r.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const a=this.levels;let r;for(r=0;r<a.length&&!(t<a[r].distance);r++);return a.splice(r,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const a=t.splice(i,1);return this.remove(a[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,a;for(i=1,a=t.length;i<a;i++){let r=t[i].distance;if(t[i].object.visible&&(r-=r*t[i].hysteresis),e<r)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){vy.setFromMatrixPosition(this.matrixWorld);const a=e.ray.origin.distanceTo(vy);this.getObjectForDistance(a).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){vy.setFromMatrixPosition(e.matrixWorld),lE.setFromMatrixPosition(this.matrixWorld);const i=vy.distanceTo(lE)/e.zoom;t[0].object.visible=!0;let a,r;for(a=1,r=t.length;a<r;a++){let l=t[a].distance;if(t[a].object.visible&&(l-=l*t[a].hysteresis),i>=l)t[a-1].object.visible=!1,t[a].object.visible=!0;else break}for(this._currentLevel=a-1;a<r;a++)t[a].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let a=0,r=i.length;a<r;a++){const l=i[a];t.object.levels.push({object:l.object.uuid,distance:l.distance,hysteresis:l.hysteresis})}return t}}const cE=new K,uE=new wn,hE=new wn,LO=new K,fE=new Nt,xy=new K,w_=new da,dE=new Nt,R_=new S0;class RA extends Di{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=$3,this.bindMatrix=new Nt,this.bindMatrixInverse=new Nt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ma),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,xy),this.boundingBox.expandByPoint(xy)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new da),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,xy),this.boundingSphere.expandByPoint(xy)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,a=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),w_.copy(this.boundingSphere),w_.applyMatrix4(a),e.ray.intersectsSphere(w_)!==!1&&(dE.copy(a).invert(),R_.copy(e.ray).applyMatrix4(dE),!(this.boundingBox!==null&&R_.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,R_)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new wn,t=this.geometry.attributes.skinWeight;for(let i=0,a=t.count;i<a;i++){e.fromBufferAttribute(t,i);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===$3?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===ww?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,a=this.geometry;uE.fromBufferAttribute(a.attributes.skinIndex,e),hE.fromBufferAttribute(a.attributes.skinWeight,e),cE.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){const l=hE.getComponent(r);if(l!==0){const u=uE.getComponent(r);fE.multiplyMatrices(i.bones[u].matrixWorld,i.boneInverses[u]),t.addScaledVector(LO.copy(cE).applyMatrix4(fE),l)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Lv extends dn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class el extends oi{constructor(e=null,t=1,i=1,a,r,l,u,m,g=fa,v=fa,d,p){super(null,l,u,m,g,v,a,r,d,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const mE=new Nt,OO=new Nt;class yg{constructor(e=[],t=[]){this.uuid=Ys(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,a=this.bones.length;i<a;i++)this.boneInverses.push(new Nt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new Nt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,a=this.boneTexture;for(let r=0,l=e.length;r<l;r++){const u=e[r]?e[r].matrixWorld:OO;mE.multiplyMatrices(u,t[r]),mE.toArray(i,r*16)}a!==null&&(a.needsUpdate=!0)}clone(){return new yg(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new el(t,e,e,Va,Ds);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const a=this.bones[t];if(a.name===e)return a}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,a=e.bones.length;i<a;i++){const r=e.bones[i];let l=t[r];l===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),l=new Lv),this.bones.push(l),this.boneInverses.push(new Nt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let a=0,r=t.length;a<r;a++){const l=t[a];e.bones.push(l.uuid);const u=i[a];e.boneInverses.push(u.toArray())}return e}}class Kh extends Rn{constructor(e,t,i,a=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=a}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Id=new Nt,pE=new Nt,_y=[],gE=new Ma,PO=new Nt,hp=new Di,fp=new da;class IA extends Di{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Kh(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let a=0;a<i;a++)this.setMatrixAt(a,PO)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Ma),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Id),gE.copy(e.boundingBox).applyMatrix4(Id),this.boundingBox.union(gE)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new da),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Id),fp.copy(e.boundingSphere).applyMatrix4(Id),this.boundingSphere.union(fp)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,a=this.morphTexture.source.data.data,r=i.length+1,l=e*r+1;for(let u=0;u<i.length;u++)i[u]=a[l+u]}raycast(e,t){const i=this.matrixWorld,a=this.count;if(hp.geometry=this.geometry,hp.material=this.material,hp.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),fp.copy(this.boundingSphere),fp.applyMatrix4(i),e.ray.intersectsSphere(fp)!==!1))for(let r=0;r<a;r++){this.getMatrixAt(r,Id),pE.multiplyMatrices(i,Id),hp.matrixWorld=pE,hp.raycast(e,_y);for(let l=0,u=_y.length;l<u;l++){const m=_y[l];m.instanceId=r,m.object=this,t.push(m)}_y.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Kh(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,a=i.length+1;this.morphTexture===null&&(this.morphTexture=new el(new Float32Array(a*this.count),a,this.count,Cv,Ds));const r=this.morphTexture.source.data.data;let l=0;for(let g=0;g<i.length;g++)l+=i[g];const u=this.geometry.morphTargetsRelative?1:1-l,m=a*e;r[m]=u,r.set(i,m+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const I_=new K,UO=new K,HO=new Yt;let nu=class{constructor(e=new K(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,a){return this.normal.set(e,t,i),this.constant=a,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const a=I_.subVectors(i,t).cross(UO.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(a,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(I_),a=this.normal.dot(i);if(a===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/a;return r<0||r>1?null:t.copy(e.start).addScaledVector(i,r)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||HO.getNormalMatrix(e),a=this.coplanarPoint(I_).applyMatrix4(e),r=this.normal.applyMatrix3(i).normalize();return this.constant=-a.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}};const yh=new da,jO=new ze(.5,.5),by=new K;class M0{constructor(e=new nu,t=new nu,i=new nu,a=new nu,r=new nu,l=new nu){this.planes=[e,t,i,a,r,l]}set(e,t,i,a,r,l){const u=this.planes;return u[0].copy(e),u[1].copy(t),u[2].copy(i),u[3].copy(a),u[4].copy(r),u[5].copy(l),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Xs,i=!1){const a=this.planes,r=e.elements,l=r[0],u=r[1],m=r[2],g=r[3],v=r[4],d=r[5],p=r[6],b=r[7],C=r[8],w=r[9],E=r[10],M=r[11],I=r[12],B=r[13],N=r[14],P=r[15];if(a[0].setComponents(g-l,b-v,M-C,P-I).normalize(),a[1].setComponents(g+l,b+v,M+C,P+I).normalize(),a[2].setComponents(g+u,b+d,M+w,P+B).normalize(),a[3].setComponents(g-u,b-d,M-w,P-B).normalize(),i)a[4].setComponents(m,p,E,N).normalize(),a[5].setComponents(g-m,b-p,M-E,P-N).normalize();else if(a[4].setComponents(g-m,b-p,M-E,P-N).normalize(),t===Xs)a[5].setComponents(g+m,b+p,M+E,P+N).normalize();else if(t===o0)a[5].setComponents(m,p,E,N).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),yh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),yh.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(yh)}intersectsSprite(e){yh.center.set(0,0,0);const t=jO.distanceTo(e.center);return yh.radius=.7071067811865476+t,yh.applyMatrix4(e.matrixWorld),this.intersectsSphere(yh)}intersectsSphere(e){const t=this.planes,i=e.center,a=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(i)<a)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const a=t[i];if(by.x=a.normal.x>0?e.max.x:e.min.x,by.y=a.normal.y>0?e.max.y:e.min.y,by.z=a.normal.z>0?e.max.z:e.min.z,a.distanceToPoint(by)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Jo=new Nt,Yo=new M0;class Ov{constructor(){this.coordinateSystem=Xs}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(Jo.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Yo.setFromProjectionMatrix(Jo,a.coordinateSystem,a.reversedDepth),Yo.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(Jo.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Yo.setFromProjectionMatrix(Jo,a.coordinateSystem,a.reversedDepth),Yo.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(Jo.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Yo.setFromProjectionMatrix(Jo,a.coordinateSystem,a.reversedDepth),Yo.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(Jo.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Yo.setFromProjectionMatrix(Jo,a.coordinateSystem,a.reversedDepth),Yo.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(Jo.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Yo.setFromProjectionMatrix(Jo,a.coordinateSystem,a.reversedDepth),Yo.containsPoint(e))return!0}return!1}clone(){return new Ov}}function B_(n,e){return n-e}function FO(n,e){return n.z-e.z}function GO(n,e){return e.z-n.z}class zO{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,a){const r=this.pool,l=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const u=r[this.index];l.push(u),this.index++,u.start=e,u.count=t,u.z=i,u.index=a}reset(){this.list.length=0,this.index=0}}const ws=new Nt,VO=new ot(1,1,1),yE=new M0,kO=new Ov,Ay=new Ma,vh=new da,dp=new K,vE=new K,WO=new K,D_=new zO,Fa=new Di,Sy=[];function ZO(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const a=n.count;for(let r=0;r<a;r++)for(let l=0;l<i;l++)e.setComponent(r+t,l,n.getComponent(r,l))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function xh(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class tR extends Di{constructor(e,t,i=t*2,a){super(new Zt,a),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new el(t,e,e,Va,Ds);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new el(t,e,e,mg,ic);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new el(t,e,e,Va,Ds);i.colorSpace=An.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,a=this._maxIndexCount;if(this._geometryInitialized===!1){for(const r in e.attributes){const l=e.getAttribute(r),{array:u,itemSize:m,normalized:g}=l,v=new u.constructor(i*m),d=new Rn(v,m,g);t.setAttribute(r,d)}if(e.getIndex()!==null){const r=i>65535?new Uint32Array(a):new Uint16Array(a);t.setIndex(new Rn(r,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const a=e.getAttribute(i),r=t.getAttribute(i);if(a.itemSize!==r.itemSize||a.normalized!==r.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ma);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,a=t.length;i<a;i++){if(t[i].active===!1)continue;const r=t[i].geometryIndex;this.getMatrixAt(i,ws),this.getBoundingBoxAt(r,Ay).applyMatrix4(ws),e.union(Ay)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new da);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,a=t.length;i<a;i++){if(t[i].active===!1)continue;const r=t[i].geometryIndex;this.getMatrixAt(i,ws),this.getBoundingSphereAt(r,vh).applyMatrix4(ws),e.union(vh)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let a=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(B_),a=this._availableInstanceIds.shift(),this._instanceInfo[a]=i):(a=this._instanceInfo.length,this._instanceInfo.push(i));const r=this._matricesTexture;ws.identity().toArray(r.image.data,a*16),r.needsUpdate=!0;const l=this._colorsTexture;return l&&(VO.toArray(l.image.data,a*4),l.needsUpdate=!0),this._visibilityChanged=!0,a}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const a={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},r=this._geometryInfo;a.vertexStart=this._nextVertexStart,a.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const l=e.getIndex();if(l!==null&&(a.indexStart=this._nextIndexStart,a.reservedIndexCount=i===-1?l.count:i),a.indexStart!==-1&&a.indexStart+a.reservedIndexCount>this._maxIndexCount||a.vertexStart+a.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let m;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(B_),m=this._availableGeometryIds.shift(),r[m]=a):(m=this._geometryCount,this._geometryCount++,r.push(a)),this.setGeometryAt(m,e),this._nextIndexStart=a.indexStart+a.reservedIndexCount,this._nextVertexStart=a.vertexStart+a.reservedVertexCount,m}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,a=i.getIndex()!==null,r=i.getIndex(),l=t.getIndex(),u=this._geometryInfo[e];if(a&&l.count>u.reservedIndexCount||t.attributes.position.count>u.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const m=u.vertexStart,g=u.reservedVertexCount;u.vertexCount=t.getAttribute("position").count;for(const v in i.attributes){const d=t.getAttribute(v),p=i.getAttribute(v);ZO(d,p,m);const b=d.itemSize;for(let C=d.count,w=g;C<w;C++){const E=m+C;for(let M=0;M<b;M++)p.setComponent(E,M,0)}p.needsUpdate=!0,p.addUpdateRange(m*b,g*b)}if(a){const v=u.indexStart,d=u.reservedIndexCount;u.indexCount=t.getIndex().count;for(let p=0;p<l.count;p++)r.setX(v+p,m+l.getX(p));for(let p=l.count,b=d;p<b;p++)r.setX(v+p,m);r.needsUpdate=!0,r.addUpdateRange(v,u.reservedIndexCount)}return u.start=a?u.indexStart:u.vertexStart,u.count=a?u.indexCount:u.vertexCount,u.boundingBox=null,t.boundingBox!==null&&(u.boundingBox=t.boundingBox.clone()),u.boundingSphere=null,t.boundingSphere!==null&&(u.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let a=0,r=i.length;a<r;a++)i[a].active&&i[a].geometryIndex===e&&this.deleteInstance(a);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,a=i.map((l,u)=>u).sort((l,u)=>i[l].vertexStart-i[u].vertexStart),r=this.geometry;for(let l=0,u=i.length;l<u;l++){const m=a[l],g=i[m];if(g.active!==!1){if(r.index!==null){if(g.indexStart!==t){const{indexStart:v,vertexStart:d,reservedIndexCount:p}=g,b=r.index,C=b.array,w=e-d;for(let E=v;E<v+p;E++)C[E]=C[E]+w;b.array.copyWithin(t,v,v+p),b.addUpdateRange(t,p),g.indexStart=t}t+=g.reservedIndexCount}if(g.vertexStart!==e){const{vertexStart:v,reservedVertexCount:d}=g,p=r.attributes;for(const b in p){const C=p[b],{array:w,itemSize:E}=C;w.copyWithin(e*E,v*E,(v+d)*E),C.addUpdateRange(e*E,d*E)}g.vertexStart=e}e+=g.reservedVertexCount,g.start=r.index?g.indexStart:g.vertexStart,this._nextIndexStart=r.index?g.indexStart+g.reservedIndexCount:0,this._nextVertexStart=g.vertexStart+g.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,a=this._geometryInfo[e];if(a.boundingBox===null){const r=new Ma,l=i.index,u=i.attributes.position;for(let m=a.start,g=a.start+a.count;m<g;m++){let v=m;l&&(v=l.getX(v)),r.expandByPoint(dp.fromBufferAttribute(u,v))}a.boundingBox=r}return t.copy(a.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,a=this._geometryInfo[e];if(a.boundingSphere===null){const r=new da;this.getBoundingBoxAt(e,Ay),Ay.getCenter(r.center);const l=i.index,u=i.attributes.position;let m=0;for(let g=a.start,v=a.start+a.count;g<v;g++){let d=g;l&&(d=l.getX(d)),dp.fromBufferAttribute(u,d),m=Math.max(m,r.center.distanceToSquared(dp))}r.radius=Math.sqrt(m),a.boundingSphere=r}return t.copy(a.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,a=this._matricesTexture.image.data;return t.toArray(a,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(B_);t[t.length-1]===i.length-1;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const a=new Int32Array(e),r=new Int32Array(e);xh(this._multiDrawCounts,a),xh(this._multiDrawStarts,r),this._multiDrawCounts=a,this._multiDrawStarts=r,this._maxInstanceCount=e;const l=this._indirectTexture,u=this._matricesTexture,m=this._colorsTexture;l.dispose(),this._initIndirectTexture(),xh(l.image.data,this._indirectTexture.image.data),u.dispose(),this._initMatricesTexture(),xh(u.image.data,this._matricesTexture.image.data),m&&(m.dispose(),this._initColorsTexture(),xh(m.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(u=>u.active);if(Math.max(...i.map(u=>u.vertexStart+u.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(m=>m.indexStart+m.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const r=this.geometry;r.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Zt,this._initializeGeometry(r));const l=this.geometry;r.index&&xh(r.index.array,l.index.array);for(const u in r.attributes)xh(r.attributes[u].array,l.attributes[u].array)}raycast(e,t){const i=this._instanceInfo,a=this._geometryInfo,r=this.matrixWorld,l=this.geometry;Fa.material=this.material,Fa.geometry.index=l.index,Fa.geometry.attributes=l.attributes,Fa.geometry.boundingBox===null&&(Fa.geometry.boundingBox=new Ma),Fa.geometry.boundingSphere===null&&(Fa.geometry.boundingSphere=new da);for(let u=0,m=i.length;u<m;u++){if(!i[u].visible||!i[u].active)continue;const g=i[u].geometryIndex,v=a[g];Fa.geometry.setDrawRange(v.start,v.count),this.getMatrixAt(u,Fa.matrixWorld).premultiply(r),this.getBoundingBoxAt(g,Fa.geometry.boundingBox),this.getBoundingSphereAt(g,Fa.geometry.boundingSphere),Fa.raycast(e,Sy);for(let d=0,p=Sy.length;d<p;d++){const b=Sy[d];b.object=this,b.batchId=u,t.push(b)}Sy.length=0}Fa.material=null,Fa.geometry.index=null,Fa.geometry.attributes={},Fa.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,a,r){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const l=a.getIndex(),u=l===null?1:l.array.BYTES_PER_ELEMENT,m=this._instanceInfo,g=this._multiDrawStarts,v=this._multiDrawCounts,d=this._geometryInfo,p=this.perObjectFrustumCulled,b=this._indirectTexture,C=b.image.data,w=i.isArrayCamera?kO:yE;p&&!i.isArrayCamera&&(ws.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),yE.setFromProjectionMatrix(ws,i.coordinateSystem,i.reversedDepth));let E=0;if(this.sortObjects){ws.copy(this.matrixWorld).invert(),dp.setFromMatrixPosition(i.matrixWorld).applyMatrix4(ws),vE.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(ws);for(let B=0,N=m.length;B<N;B++)if(m[B].visible&&m[B].active){const P=m[B].geometryIndex;this.getMatrixAt(B,ws),this.getBoundingSphereAt(P,vh).applyMatrix4(ws);let U=!1;if(p&&(U=!w.intersectsSphere(vh,i)),!U){const F=d[P],j=WO.subVectors(vh.center,dp).dot(vE);D_.push(F.start,F.count,j,B)}}const M=D_.list,I=this.customSort;I===null?M.sort(r.transparent?GO:FO):I.call(this,M,i);for(let B=0,N=M.length;B<N;B++){const P=M[B];g[E]=P.start*u,v[E]=P.count,C[E]=P.index,E++}D_.reset()}else for(let M=0,I=m.length;M<I;M++)if(m[M].visible&&m[M].active){const B=m[M].geometryIndex;let N=!1;if(p&&(this.getMatrixAt(M,ws),this.getBoundingSphereAt(B,vh).applyMatrix4(ws),N=!w.intersectsSphere(vh,i)),!N){const P=d[B];g[E]=P.start*u,v[E]=P.count,C[E]=M,E++}}b.needsUpdate=!0,this._multiDrawCount=E,this._visibilityChanged=!1}onBeforeShadow(e,t,i,a,r,l){this.onBeforeRender(e,null,a,r,l)}}class Wa extends Ki{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ot(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const $2=new K,ev=new K,xE=new Nt,mp=new S0,My=new da,N_=new K,_E=new K;class ac extends dn{constructor(e=new Zt,t=new Wa){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let a=1,r=t.count;a<r;a++)$2.fromBufferAttribute(t,a-1),ev.fromBufferAttribute(t,a),i[a]=i[a-1],i[a]+=$2.distanceTo(ev);e.setAttribute("lineDistance",new bt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,a=this.matrixWorld,r=e.params.Line.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),My.copy(i.boundingSphere),My.applyMatrix4(a),My.radius+=r,e.ray.intersectsSphere(My)===!1)return;xE.copy(a).invert(),mp.copy(e.ray).applyMatrix4(xE);const u=r/((this.scale.x+this.scale.y+this.scale.z)/3),m=u*u,g=this.isLineSegments?2:1,v=i.index,p=i.attributes.position;if(v!==null){const b=Math.max(0,l.start),C=Math.min(v.count,l.start+l.count);for(let w=b,E=C-1;w<E;w+=g){const M=v.getX(w),I=v.getX(w+1),B=Cy(this,e,mp,m,M,I,w);B&&t.push(B)}if(this.isLineLoop){const w=v.getX(C-1),E=v.getX(b),M=Cy(this,e,mp,m,w,E,C-1);M&&t.push(M)}}else{const b=Math.max(0,l.start),C=Math.min(p.count,l.start+l.count);for(let w=b,E=C-1;w<E;w+=g){const M=Cy(this,e,mp,m,w,w+1,w);M&&t.push(M)}if(this.isLineLoop){const w=Cy(this,e,mp,m,C-1,b,C-1);w&&t.push(w)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const a=t[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,l=a.length;r<l;r++){const u=a[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=r}}}}}function Cy(n,e,t,i,a,r,l){const u=n.geometry.attributes.position;if($2.fromBufferAttribute(u,a),ev.fromBufferAttribute(u,r),t.distanceSqToSegment($2,ev,N_,_E)>i)return;N_.applyMatrix4(n.matrixWorld);const g=e.ray.origin.distanceTo(N_);if(!(g<e.near||g>e.far))return{distance:g,point:_E.clone().applyMatrix4(n.matrixWorld),index:l,face:null,faceIndex:null,barycoord:null,object:n}}const bE=new K,AE=new K;class ho extends ac{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let a=0,r=t.count;a<r;a+=2)bE.fromBufferAttribute(t,a),AE.fromBufferAttribute(t,a+1),i[a]=a===0?0:i[a-1],i[a+1]=i[a]+bE.distanceTo(AE);e.setAttribute("lineDistance",new bt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class BA extends ac{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Pv extends Ki{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ot(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const SE=new Nt,nb=new S0,Ey=new da,Ty=new K;class DA extends dn{constructor(e=new Zt,t=new Pv){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,a=this.matrixWorld,r=e.params.Points.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Ey.copy(i.boundingSphere),Ey.applyMatrix4(a),Ey.radius+=r,e.ray.intersectsSphere(Ey)===!1)return;SE.copy(a).invert(),nb.copy(e.ray).applyMatrix4(SE);const u=r/((this.scale.x+this.scale.y+this.scale.z)/3),m=u*u,g=i.index,d=i.attributes.position;if(g!==null){const p=Math.max(0,l.start),b=Math.min(g.count,l.start+l.count);for(let C=p,w=b;C<w;C++){const E=g.getX(C);Ty.fromBufferAttribute(d,E),ME(Ty,E,m,a,e,t,this)}}else{const p=Math.max(0,l.start),b=Math.min(d.count,l.start+l.count);for(let C=p,w=b;C<w;C++)Ty.fromBufferAttribute(d,C),ME(Ty,C,m,a,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const a=t[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,l=a.length;r<l;r++){const u=a[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=r}}}}}function ME(n,e,t,i,a,r,l){const u=nb.distanceSqToPoint(n);if(u<t){const m=new K;nb.closestPointToPoint(n,m),m.applyMatrix4(i);const g=a.ray.origin.distanceTo(m);if(g<a.near||g>a.far)return;r.push({distance:g,distanceToRay:Math.sqrt(u),point:m,index:e,face:null,faceIndex:null,barycoord:null,object:l})}}class nR extends oi{constructor(e,t,i,a,r=Bi,l=Bi,u,m,g){super(e,t,i,a,r,l,u,m,g),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const v=this;function d(){v.needsUpdate=!0,v._requestVideoFrameCallbackId=e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(d))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),super.dispose()}}class XO extends nR{constructor(e,t,i,a,r,l,u,m){super({},e,t,i,a,r,l,u,m),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class JO extends oi{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=fa,this.minFilter=fa,this.generateMipmaps=!1,this.needsUpdate=!0}}class Uv extends oi{constructor(e,t,i,a,r,l,u,m,g,v,d,p){super(null,l,u,m,g,v,a,r,d,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class YO extends Uv{constructor(e,t,i,a,r,l){super(e,t,i,r,l),this.isCompressedArrayTexture=!0,this.image.depth=a,this.wrapR=Zs,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class KO extends Uv{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,nc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class qO extends oi{constructor(e,t,i,a,r,l,u,m,g){super(e,t,i,a,r,l,u,m,g),this.isCanvasTexture=!0,this.needsUpdate=!0}}class NA extends oi{constructor(e,t,i=ic,a,r,l,u=fa,m=fa,g,v=i0,d=1){if(v!==i0&&v!==a0)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const p={width:e,height:t,depth:d};super(p,a,r,l,u,m,v,i,g),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new su(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class LA extends oi{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class Hv extends Zt{constructor(e=1,t=1,i=4,a=8,r=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:a,heightSegments:r},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),a=Math.max(3,Math.floor(a)),r=Math.max(1,Math.floor(r));const l=[],u=[],m=[],g=[],v=t/2,d=Math.PI/2*e,p=t,b=2*d+p,C=i*2+r,w=a+1,E=new K,M=new K;for(let I=0;I<=C;I++){let B=0,N=0,P=0,U=0;if(I<=i){const O=I/i,H=O*Math.PI/2;N=-v-e*Math.cos(H),P=e*Math.sin(H),U=-e*Math.cos(H),B=O*d}else if(I<=i+r){const O=(I-i)/r;N=-v+O*t,P=e,U=0,B=d+O*p}else{const O=(I-i-r)/i,H=O*Math.PI/2;N=v+e*Math.sin(H),P=e*Math.cos(H),U=e*Math.sin(H),B=d+p+O*d}const F=Math.max(0,Math.min(1,B/b));let j=0;I===0?j=.5/a:I===C&&(j=-.5/a);for(let O=0;O<=a;O++){const H=O/a,J=H*Math.PI*2,ie=Math.sin(J),oe=Math.cos(J);M.x=-P*oe,M.y=N,M.z=P*ie,u.push(M.x,M.y,M.z),E.set(-P*oe,U,P*ie),E.normalize(),m.push(E.x,E.y,E.z),g.push(H+j,F)}if(I>0){const O=(I-1)*w;for(let H=0;H<a;H++){const J=O+H,ie=O+H+1,oe=I*w+H,ge=I*w+H+1;l.push(J,ie,oe),l.push(ie,ge,oe)}}}this.setIndex(l),this.setAttribute("position",new bt(u,3)),this.setAttribute("normal",new bt(m,3)),this.setAttribute("uv",new bt(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Hv(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class jv extends Zt{constructor(e=1,t=32,i=0,a=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:a},t=Math.max(3,t);const r=[],l=[],u=[],m=[],g=new K,v=new ze;l.push(0,0,0),u.push(0,0,1),m.push(.5,.5);for(let d=0,p=3;d<=t;d++,p+=3){const b=i+d/t*a;g.x=e*Math.cos(b),g.y=e*Math.sin(b),l.push(g.x,g.y,g.z),u.push(0,0,1),v.x=(l[p]/e+1)/2,v.y=(l[p+1]/e+1)/2,m.push(v.x,v.y)}for(let d=1;d<=t;d++)r.push(d,d+1,0);this.setIndex(r),this.setAttribute("position",new bt(l,3)),this.setAttribute("normal",new bt(u,3)),this.setAttribute("uv",new bt(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jv(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class vg extends Zt{constructor(e=1,t=1,i=1,a=32,r=1,l=!1,u=0,m=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:a,heightSegments:r,openEnded:l,thetaStart:u,thetaLength:m};const g=this;a=Math.floor(a),r=Math.floor(r);const v=[],d=[],p=[],b=[];let C=0;const w=[],E=i/2;let M=0;I(),l===!1&&(e>0&&B(!0),t>0&&B(!1)),this.setIndex(v),this.setAttribute("position",new bt(d,3)),this.setAttribute("normal",new bt(p,3)),this.setAttribute("uv",new bt(b,2));function I(){const N=new K,P=new K;let U=0;const F=(t-e)/i;for(let j=0;j<=r;j++){const O=[],H=j/r,J=H*(t-e)+e;for(let ie=0;ie<=a;ie++){const oe=ie/a,ge=oe*m+u,ce=Math.sin(ge),G=Math.cos(ge);P.x=J*ce,P.y=-H*i+E,P.z=J*G,d.push(P.x,P.y,P.z),N.set(ce,F,G).normalize(),p.push(N.x,N.y,N.z),b.push(oe,1-H),O.push(C++)}w.push(O)}for(let j=0;j<a;j++)for(let O=0;O<r;O++){const H=w[O][j],J=w[O+1][j],ie=w[O+1][j+1],oe=w[O][j+1];(e>0||O!==0)&&(v.push(H,J,oe),U+=3),(t>0||O!==r-1)&&(v.push(J,ie,oe),U+=3)}g.addGroup(M,U,0),M+=U}function B(N){const P=C,U=new ze,F=new K;let j=0;const O=N===!0?e:t,H=N===!0?1:-1;for(let ie=1;ie<=a;ie++)d.push(0,E*H,0),p.push(0,H,0),b.push(.5,.5),C++;const J=C;for(let ie=0;ie<=a;ie++){const ge=ie/a*m+u,ce=Math.cos(ge),G=Math.sin(ge);F.x=O*G,F.y=E*H,F.z=O*ce,d.push(F.x,F.y,F.z),p.push(0,H,0),U.x=ce*.5+.5,U.y=G*.5*H+.5,b.push(U.x,U.y),C++}for(let ie=0;ie<a;ie++){const oe=P+ie,ge=J+ie;N===!0?v.push(ge,ge+1,oe):v.push(ge+1,ge,oe),j+=3}g.addGroup(M,j,N===!0?1:2),M+=j}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vg(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class xg extends vg{constructor(e=1,t=1,i=32,a=1,r=!1,l=0,u=Math.PI*2){super(0,e,t,i,a,r,l,u),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:a,openEnded:r,thetaStart:l,thetaLength:u}}static fromJSON(e){return new xg(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class vu extends Zt{constructor(e=[],t=[],i=1,a=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:a};const r=[],l=[];u(a),g(i),v(),this.setAttribute("position",new bt(r,3)),this.setAttribute("normal",new bt(r.slice(),3)),this.setAttribute("uv",new bt(l,2)),a===0?this.computeVertexNormals():this.normalizeNormals();function u(I){const B=new K,N=new K,P=new K;for(let U=0;U<t.length;U+=3)b(t[U+0],B),b(t[U+1],N),b(t[U+2],P),m(B,N,P,I)}function m(I,B,N,P){const U=P+1,F=[];for(let j=0;j<=U;j++){F[j]=[];const O=I.clone().lerp(N,j/U),H=B.clone().lerp(N,j/U),J=U-j;for(let ie=0;ie<=J;ie++)ie===0&&j===U?F[j][ie]=O:F[j][ie]=O.clone().lerp(H,ie/J)}for(let j=0;j<U;j++)for(let O=0;O<2*(U-j)-1;O++){const H=Math.floor(O/2);O%2===0?(p(F[j][H+1]),p(F[j+1][H]),p(F[j][H])):(p(F[j][H+1]),p(F[j+1][H+1]),p(F[j+1][H]))}}function g(I){const B=new K;for(let N=0;N<r.length;N+=3)B.x=r[N+0],B.y=r[N+1],B.z=r[N+2],B.normalize().multiplyScalar(I),r[N+0]=B.x,r[N+1]=B.y,r[N+2]=B.z}function v(){const I=new K;for(let B=0;B<r.length;B+=3){I.x=r[B+0],I.y=r[B+1],I.z=r[B+2];const N=E(I)/2/Math.PI+.5,P=M(I)/Math.PI+.5;l.push(N,1-P)}C(),d()}function d(){for(let I=0;I<l.length;I+=6){const B=l[I+0],N=l[I+2],P=l[I+4],U=Math.max(B,N,P),F=Math.min(B,N,P);U>.9&&F<.1&&(B<.2&&(l[I+0]+=1),N<.2&&(l[I+2]+=1),P<.2&&(l[I+4]+=1))}}function p(I){r.push(I.x,I.y,I.z)}function b(I,B){const N=I*3;B.x=e[N+0],B.y=e[N+1],B.z=e[N+2]}function C(){const I=new K,B=new K,N=new K,P=new K,U=new ze,F=new ze,j=new ze;for(let O=0,H=0;O<r.length;O+=9,H+=6){I.set(r[O+0],r[O+1],r[O+2]),B.set(r[O+3],r[O+4],r[O+5]),N.set(r[O+6],r[O+7],r[O+8]),U.set(l[H+0],l[H+1]),F.set(l[H+2],l[H+3]),j.set(l[H+4],l[H+5]),P.copy(I).add(B).add(N).divideScalar(3);const J=E(P);w(U,H+0,I,J),w(F,H+2,B,J),w(j,H+4,N,J)}}function w(I,B,N,P){P<0&&I.x===1&&(l[B]=I.x-1),N.x===0&&N.z===0&&(l[B]=P/2/Math.PI+.5)}function E(I){return Math.atan2(I.z,-I.x)}function M(I){return Math.atan2(-I.y,Math.sqrt(I.x*I.x+I.z*I.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vu(e.vertices,e.indices,e.radius,e.details)}}class Fv extends vu{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,a=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-a,-i,0,-a,i,0,a,-i,0,a,i,-a,-i,0,-a,i,0,a,-i,0,a,i,0,-i,0,-a,i,0,-a,-i,0,a,i,0,a],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(r,l,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Fv(e.radius,e.detail)}}const wy=new K,Ry=new K,L_=new K,Iy=new Is;class iR extends Zt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const a=Math.pow(10,4),r=Math.cos(Xh*t),l=e.getIndex(),u=e.getAttribute("position"),m=l?l.count:u.count,g=[0,0,0],v=["a","b","c"],d=new Array(3),p={},b=[];for(let C=0;C<m;C+=3){l?(g[0]=l.getX(C),g[1]=l.getX(C+1),g[2]=l.getX(C+2)):(g[0]=C,g[1]=C+1,g[2]=C+2);const{a:w,b:E,c:M}=Iy;if(w.fromBufferAttribute(u,g[0]),E.fromBufferAttribute(u,g[1]),M.fromBufferAttribute(u,g[2]),Iy.getNormal(L_),d[0]=`${Math.round(w.x*a)},${Math.round(w.y*a)},${Math.round(w.z*a)}`,d[1]=`${Math.round(E.x*a)},${Math.round(E.y*a)},${Math.round(E.z*a)}`,d[2]=`${Math.round(M.x*a)},${Math.round(M.y*a)},${Math.round(M.z*a)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let I=0;I<3;I++){const B=(I+1)%3,N=d[I],P=d[B],U=Iy[v[I]],F=Iy[v[B]],j=`${N}_${P}`,O=`${P}_${N}`;O in p&&p[O]?(L_.dot(p[O].normal)<=r&&(b.push(U.x,U.y,U.z),b.push(F.x,F.y,F.z)),p[O]=null):j in p||(p[j]={index0:g[I],index1:g[B],normal:L_.clone()})}}for(const C in p)if(p[C]){const{index0:w,index1:E}=p[C];wy.fromBufferAttribute(u,w),Ry.fromBufferAttribute(u,E),b.push(wy.x,wy.y,wy.z),b.push(Ry.x,Ry.y,Ry.z)}this.setAttribute("position",new bt(b,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class fo{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,a=this.getPoint(0),r=0;t.push(0);for(let l=1;l<=e;l++)i=this.getPoint(l/e),r+=i.distanceTo(a),t.push(r),a=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let a=0;const r=i.length;let l;t?l=t:l=e*i[r-1];let u=0,m=r-1,g;for(;u<=m;)if(a=Math.floor(u+(m-u)/2),g=i[a]-l,g<0)u=a+1;else if(g>0)m=a-1;else{m=a;break}if(a=m,i[a]===l)return a/(r-1);const v=i[a],p=i[a+1]-v,b=(l-v)/p;return(a+b)/(r-1)}getTangent(e,t){let a=e-1e-4,r=e+1e-4;a<0&&(a=0),r>1&&(r=1);const l=this.getPoint(a),u=this.getPoint(r),m=t||(l.isVector2?new ze:new K);return m.copy(u).sub(l).normalize(),m}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new K,a=[],r=[],l=[],u=new K,m=new Nt;for(let b=0;b<=e;b++){const C=b/e;a[b]=this.getTangentAt(C,new K)}r[0]=new K,l[0]=new K;let g=Number.MAX_VALUE;const v=Math.abs(a[0].x),d=Math.abs(a[0].y),p=Math.abs(a[0].z);v<=g&&(g=v,i.set(1,0,0)),d<=g&&(g=d,i.set(0,1,0)),p<=g&&i.set(0,0,1),u.crossVectors(a[0],i).normalize(),r[0].crossVectors(a[0],u),l[0].crossVectors(a[0],r[0]);for(let b=1;b<=e;b++){if(r[b]=r[b-1].clone(),l[b]=l[b-1].clone(),u.crossVectors(a[b-1],a[b]),u.length()>Number.EPSILON){u.normalize();const C=Math.acos(Ft(a[b-1].dot(a[b]),-1,1));r[b].applyMatrix4(m.makeRotationAxis(u,C))}l[b].crossVectors(a[b],r[b])}if(t===!0){let b=Math.acos(Ft(r[0].dot(r[e]),-1,1));b/=e,a[0].dot(u.crossVectors(r[0],r[e]))>0&&(b=-b);for(let C=1;C<=e;C++)r[C].applyMatrix4(m.makeRotationAxis(a[C],b*C)),l[C].crossVectors(a[C],r[C])}return{tangents:a,normals:r,binormals:l}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Gv extends fo{constructor(e=0,t=0,i=1,a=1,r=0,l=Math.PI*2,u=!1,m=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=a,this.aStartAngle=r,this.aEndAngle=l,this.aClockwise=u,this.aRotation=m}getPoint(e,t=new ze){const i=t,a=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const l=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=a;for(;r>a;)r-=a;r<Number.EPSILON&&(l?r=0:r=a),this.aClockwise===!0&&!l&&(r===a?r=-a:r=r-a);const u=this.aStartAngle+e*r;let m=this.aX+this.xRadius*Math.cos(u),g=this.aY+this.yRadius*Math.sin(u);if(this.aRotation!==0){const v=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=m-this.aX,b=g-this.aY;m=p*v-b*d+this.aX,g=p*d+b*v+this.aY}return i.set(m,g)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class aR extends Gv{constructor(e,t,i,a,r,l){super(e,t,i,i,a,r,l),this.isArcCurve=!0,this.type="ArcCurve"}}function OA(){let n=0,e=0,t=0,i=0;function a(r,l,u,m){n=r,e=u,t=-3*r+3*l-2*u-m,i=2*r-2*l+u+m}return{initCatmullRom:function(r,l,u,m,g){a(l,u,g*(u-r),g*(m-l))},initNonuniformCatmullRom:function(r,l,u,m,g,v,d){let p=(l-r)/g-(u-r)/(g+v)+(u-l)/v,b=(u-l)/v-(m-l)/(v+d)+(m-u)/d;p*=v,b*=v,a(l,u,p,b)},calc:function(r){const l=r*r,u=l*r;return n+e*r+t*l+i*u}}}const By=new K,O_=new OA,P_=new OA,U_=new OA;class sR extends fo{constructor(e=[],t=!1,i="centripetal",a=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=a}getPoint(e,t=new K){const i=t,a=this.points,r=a.length,l=(r-(this.closed?0:1))*e;let u=Math.floor(l),m=l-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/r)+1)*r:m===0&&u===r-1&&(u=r-2,m=1);let g,v;this.closed||u>0?g=a[(u-1)%r]:(By.subVectors(a[0],a[1]).add(a[0]),g=By);const d=a[u%r],p=a[(u+1)%r];if(this.closed||u+2<r?v=a[(u+2)%r]:(By.subVectors(a[r-1],a[r-2]).add(a[r-1]),v=By),this.curveType==="centripetal"||this.curveType==="chordal"){const b=this.curveType==="chordal"?.5:.25;let C=Math.pow(g.distanceToSquared(d),b),w=Math.pow(d.distanceToSquared(p),b),E=Math.pow(p.distanceToSquared(v),b);w<1e-4&&(w=1),C<1e-4&&(C=w),E<1e-4&&(E=w),O_.initNonuniformCatmullRom(g.x,d.x,p.x,v.x,C,w,E),P_.initNonuniformCatmullRom(g.y,d.y,p.y,v.y,C,w,E),U_.initNonuniformCatmullRom(g.z,d.z,p.z,v.z,C,w,E)}else this.curveType==="catmullrom"&&(O_.initCatmullRom(g.x,d.x,p.x,v.x,this.tension),P_.initCatmullRom(g.y,d.y,p.y,v.y,this.tension),U_.initCatmullRom(g.z,d.z,p.z,v.z,this.tension));return i.set(O_.calc(m),P_.calc(m),U_.calc(m)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(a.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const a=this.points[t];e.points.push(a.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(new K().fromArray(a))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function CE(n,e,t,i,a){const r=(i-e)*.5,l=(a-t)*.5,u=n*n,m=n*u;return(2*t-2*i+r+l)*m+(-3*t+3*i-2*r-l)*u+r*n+t}function QO(n,e){const t=1-n;return t*t*e}function $O(n,e){return 2*(1-n)*n*e}function eP(n,e){return n*n*e}function Np(n,e,t,i){return QO(n,e)+$O(n,t)+eP(n,i)}function tP(n,e){const t=1-n;return t*t*t*e}function nP(n,e){const t=1-n;return 3*t*t*n*e}function iP(n,e){return 3*(1-n)*n*n*e}function aP(n,e){return n*n*n*e}function Lp(n,e,t,i,a){return tP(n,e)+nP(n,t)+iP(n,i)+aP(n,a)}class PA extends fo{constructor(e=new ze,t=new ze,i=new ze,a=new ze){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=a}getPoint(e,t=new ze){const i=t,a=this.v0,r=this.v1,l=this.v2,u=this.v3;return i.set(Lp(e,a.x,r.x,l.x,u.x),Lp(e,a.y,r.y,l.y,u.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class rR extends fo{constructor(e=new K,t=new K,i=new K,a=new K){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=a}getPoint(e,t=new K){const i=t,a=this.v0,r=this.v1,l=this.v2,u=this.v3;return i.set(Lp(e,a.x,r.x,l.x,u.x),Lp(e,a.y,r.y,l.y,u.y),Lp(e,a.z,r.z,l.z,u.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class UA extends fo{constructor(e=new ze,t=new ze){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ze){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ze){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class oR extends fo{constructor(e=new K,t=new K){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new K){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new K){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class HA extends fo{constructor(e=new ze,t=new ze,i=new ze){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new ze){const i=t,a=this.v0,r=this.v1,l=this.v2;return i.set(Np(e,a.x,r.x,l.x),Np(e,a.y,r.y,l.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class jA extends fo{constructor(e=new K,t=new K,i=new K){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new K){const i=t,a=this.v0,r=this.v1,l=this.v2;return i.set(Np(e,a.x,r.x,l.x),Np(e,a.y,r.y,l.y),Np(e,a.z,r.z,l.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class FA extends fo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new ze){const i=t,a=this.points,r=(a.length-1)*e,l=Math.floor(r),u=r-l,m=a[l===0?l:l-1],g=a[l],v=a[l>a.length-2?a.length-1:l+1],d=a[l>a.length-3?a.length-1:l+2];return i.set(CE(u,m.x,g.x,v.x,d.x),CE(u,m.y,g.y,v.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const a=this.points[t];e.points.push(a.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(new ze().fromArray(a))}return this}}var tv=Object.freeze({__proto__:null,ArcCurve:aR,CatmullRomCurve3:sR,CubicBezierCurve:PA,CubicBezierCurve3:rR,EllipseCurve:Gv,LineCurve:UA,LineCurve3:oR,QuadraticBezierCurve:HA,QuadraticBezierCurve3:jA,SplineCurve:FA});class lR extends fo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new tv[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),a=this.getCurveLengths();let r=0;for(;r<a.length;){if(a[r]>=i){const l=a[r]-i,u=this.curves[r],m=u.getLength(),g=m===0?0:1-l/m;return u.getPointAt(g,t)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,a=this.curves.length;i<a;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let a=0,r=this.curves;a<r.length;a++){const l=r[a],u=l.isEllipseCurve?e*2:l.isLineCurve||l.isLineCurve3?1:l.isSplineCurve?e*l.points.length:e,m=l.getPoints(u);for(let g=0;g<m.length;g++){const v=m[g];i&&i.equals(v)||(t.push(v),i=v)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const a=e.curves[t];this.curves.push(a.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const a=this.curves[t];e.curves.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const a=e.curves[t];this.curves.push(new tv[a.type]().fromJSON(a))}return this}}class nv extends lR{constructor(e){super(),this.type="Path",this.currentPoint=new ze,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new UA(this.currentPoint.clone(),new ze(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,a){const r=new HA(this.currentPoint.clone(),new ze(e,t),new ze(i,a));return this.curves.push(r),this.currentPoint.set(i,a),this}bezierCurveTo(e,t,i,a,r,l){const u=new PA(this.currentPoint.clone(),new ze(e,t),new ze(i,a),new ze(r,l));return this.curves.push(u),this.currentPoint.set(r,l),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new FA(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,a,r,l){const u=this.currentPoint.x,m=this.currentPoint.y;return this.absarc(e+u,t+m,i,a,r,l),this}absarc(e,t,i,a,r,l){return this.absellipse(e,t,i,i,a,r,l),this}ellipse(e,t,i,a,r,l,u,m){const g=this.currentPoint.x,v=this.currentPoint.y;return this.absellipse(e+g,t+v,i,a,r,l,u,m),this}absellipse(e,t,i,a,r,l,u,m){const g=new Gv(e,t,i,a,r,l,u,m);if(this.curves.length>0){const d=g.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(g);const v=g.getPoint(1);return this.currentPoint.copy(v),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Jh extends nv{constructor(e){super(e),this.uuid=Ys(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,a=this.holes.length;i<a;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const a=e.holes[t];this.holes.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const a=this.holes[t];e.holes.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const a=e.holes[t];this.holes.push(new nv().fromJSON(a))}return this}}function sP(n,e,t=2){const i=e&&e.length,a=i?e[0]*t:n.length;let r=cR(n,0,a,t,!0);const l=[];if(!r||r.next===r.prev)return l;let u,m,g;if(i&&(r=uP(n,e,r,t)),n.length>80*t){u=1/0,m=1/0;let v=-1/0,d=-1/0;for(let p=t;p<a;p+=t){const b=n[p],C=n[p+1];b<u&&(u=b),C<m&&(m=C),b>v&&(v=b),C>d&&(d=C)}g=Math.max(v-u,d-m),g=g!==0?32767/g:0}return qp(r,l,t,u,m,g,0),l}function cR(n,e,t,i,a){let r;if(a===bP(n,e,t,i)>0)for(let l=e;l<t;l+=i)r=EE(l/i|0,n[l],n[l+1],r);else for(let l=t-i;l>=e;l-=i)r=EE(l/i|0,n[l],n[l+1],r);return r&&h0(r,r.next)&&($p(r),r=r.next),r}function qh(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(h0(t,t.next)||pi(t.prev,t,t.next)===0)){if($p(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function qp(n,e,t,i,a,r,l){if(!n)return;!l&&r&&pP(n,i,a,r);let u=n;for(;n.prev!==n.next;){const m=n.prev,g=n.next;if(r?oP(n,i,a,r):rP(n)){e.push(m.i,n.i,g.i),$p(n),n=g.next,u=g.next;continue}if(n=g,n===u){l?l===1?(n=lP(qh(n),e),qp(n,e,t,i,a,r,2)):l===2&&cP(n,e,t,i,a,r):qp(qh(n),e,t,i,a,r,1);break}}}function rP(n){const e=n.prev,t=n,i=n.next;if(pi(e,t,i)>=0)return!1;const a=e.x,r=t.x,l=i.x,u=e.y,m=t.y,g=i.y,v=Math.min(a,r,l),d=Math.min(u,m,g),p=Math.max(a,r,l),b=Math.max(u,m,g);let C=i.next;for(;C!==e;){if(C.x>=v&&C.x<=p&&C.y>=d&&C.y<=b&&_p(a,u,r,m,l,g,C.x,C.y)&&pi(C.prev,C,C.next)>=0)return!1;C=C.next}return!0}function oP(n,e,t,i){const a=n.prev,r=n,l=n.next;if(pi(a,r,l)>=0)return!1;const u=a.x,m=r.x,g=l.x,v=a.y,d=r.y,p=l.y,b=Math.min(u,m,g),C=Math.min(v,d,p),w=Math.max(u,m,g),E=Math.max(v,d,p),M=ib(b,C,e,t,i),I=ib(w,E,e,t,i);let B=n.prevZ,N=n.nextZ;for(;B&&B.z>=M&&N&&N.z<=I;){if(B.x>=b&&B.x<=w&&B.y>=C&&B.y<=E&&B!==a&&B!==l&&_p(u,v,m,d,g,p,B.x,B.y)&&pi(B.prev,B,B.next)>=0||(B=B.prevZ,N.x>=b&&N.x<=w&&N.y>=C&&N.y<=E&&N!==a&&N!==l&&_p(u,v,m,d,g,p,N.x,N.y)&&pi(N.prev,N,N.next)>=0))return!1;N=N.nextZ}for(;B&&B.z>=M;){if(B.x>=b&&B.x<=w&&B.y>=C&&B.y<=E&&B!==a&&B!==l&&_p(u,v,m,d,g,p,B.x,B.y)&&pi(B.prev,B,B.next)>=0)return!1;B=B.prevZ}for(;N&&N.z<=I;){if(N.x>=b&&N.x<=w&&N.y>=C&&N.y<=E&&N!==a&&N!==l&&_p(u,v,m,d,g,p,N.x,N.y)&&pi(N.prev,N,N.next)>=0)return!1;N=N.nextZ}return!0}function lP(n,e){let t=n;do{const i=t.prev,a=t.next.next;!h0(i,a)&&hR(i,t,t.next,a)&&Qp(i,a)&&Qp(a,i)&&(e.push(i.i,t.i,a.i),$p(t),$p(t.next),t=n=a),t=t.next}while(t!==n);return qh(t)}function cP(n,e,t,i,a,r){let l=n;do{let u=l.next.next;for(;u!==l.prev;){if(l.i!==u.i&&vP(l,u)){let m=fR(l,u);l=qh(l,l.next),m=qh(m,m.next),qp(l,e,t,i,a,r,0),qp(m,e,t,i,a,r,0);return}u=u.next}l=l.next}while(l!==n)}function uP(n,e,t,i){const a=[];for(let r=0,l=e.length;r<l;r++){const u=e[r]*i,m=r<l-1?e[r+1]*i:n.length,g=cR(n,u,m,i,!1);g===g.next&&(g.steiner=!0),a.push(yP(g))}a.sort(hP);for(let r=0;r<a.length;r++)t=fP(a[r],t);return t}function hP(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),a=(e.next.y-e.y)/(e.next.x-e.x);t=i-a}return t}function fP(n,e){const t=dP(n,e);if(!t)return e;const i=fR(t,n);return qh(i,i.next),qh(t,t.next)}function dP(n,e){let t=e;const i=n.x,a=n.y;let r=-1/0,l;if(h0(n,t))return t;do{if(h0(n,t.next))return t.next;if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){const d=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(d<=i&&d>r&&(r=d,l=t.x<t.next.x?t:t.next,d===i))return l}t=t.next}while(t!==e);if(!l)return null;const u=l,m=l.x,g=l.y;let v=1/0;t=l;do{if(i>=t.x&&t.x>=m&&i!==t.x&&uR(a<g?i:r,a,m,g,a<g?r:i,a,t.x,t.y)){const d=Math.abs(a-t.y)/(i-t.x);Qp(t,n)&&(d<v||d===v&&(t.x>l.x||t.x===l.x&&mP(l,t)))&&(l=t,v=d)}t=t.next}while(t!==u);return l}function mP(n,e){return pi(n.prev,n,e.prev)<0&&pi(e.next,n,n.next)<0}function pP(n,e,t,i){let a=n;do a.z===0&&(a.z=ib(a.x,a.y,e,t,i)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==n);a.prevZ.nextZ=null,a.prevZ=null,gP(a)}function gP(n){let e,t=1;do{let i=n,a;n=null;let r=null;for(e=0;i;){e++;let l=i,u=0;for(let g=0;g<t&&(u++,l=l.nextZ,!!l);g++);let m=t;for(;u>0||m>0&&l;)u!==0&&(m===0||!l||i.z<=l.z)?(a=i,i=i.nextZ,u--):(a=l,l=l.nextZ,m--),r?r.nextZ=a:n=a,a.prevZ=r,r=a;i=l}r.nextZ=null,t*=2}while(e>1);return n}function ib(n,e,t,i,a){return n=(n-t)*a|0,e=(e-i)*a|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function yP(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function uR(n,e,t,i,a,r,l,u){return(a-l)*(e-u)>=(n-l)*(r-u)&&(n-l)*(i-u)>=(t-l)*(e-u)&&(t-l)*(r-u)>=(a-l)*(i-u)}function _p(n,e,t,i,a,r,l,u){return!(n===l&&e===u)&&uR(n,e,t,i,a,r,l,u)}function vP(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!xP(n,e)&&(Qp(n,e)&&Qp(e,n)&&_P(n,e)&&(pi(n.prev,n,e.prev)||pi(n,e.prev,e))||h0(n,e)&&pi(n.prev,n,n.next)>0&&pi(e.prev,e,e.next)>0)}function pi(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function h0(n,e){return n.x===e.x&&n.y===e.y}function hR(n,e,t,i){const a=Ny(pi(n,e,t)),r=Ny(pi(n,e,i)),l=Ny(pi(t,i,n)),u=Ny(pi(t,i,e));return!!(a!==r&&l!==u||a===0&&Dy(n,t,e)||r===0&&Dy(n,i,e)||l===0&&Dy(t,n,i)||u===0&&Dy(t,e,i))}function Dy(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Ny(n){return n>0?1:n<0?-1:0}function xP(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&hR(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Qp(n,e){return pi(n.prev,n,n.next)<0?pi(n,e,n.next)>=0&&pi(n,n.prev,e)>=0:pi(n,e,n.prev)<0||pi(n,n.next,e)<0}function _P(n,e){let t=n,i=!1;const a=(n.x+e.x)/2,r=(n.y+e.y)/2;do t.y>r!=t.next.y>r&&t.next.y!==t.y&&a<(t.next.x-t.x)*(r-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function fR(n,e){const t=ab(n.i,n.x,n.y),i=ab(e.i,e.x,e.y),a=n.next,r=e.prev;return n.next=e,e.prev=n,t.next=a,a.prev=t,i.next=t,t.prev=i,r.next=i,i.prev=r,i}function EE(n,e,t,i){const a=ab(n,e,t);return i?(a.next=i.next,a.prev=i,i.next.prev=a,i.next=a):(a.prev=a,a.next=a),a}function $p(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function ab(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function bP(n,e,t,i){let a=0;for(let r=e,l=t-i;r<t;r+=i)a+=(n[l]-n[r])*(n[r+1]+n[l+1]),l=r;return a}class AP{static triangulate(e,t,i=2){return sP(e,t,i)}}class oo{static area(e){const t=e.length;let i=0;for(let a=t-1,r=0;r<t;a=r++)i+=e[a].x*e[r].y-e[r].x*e[a].y;return i*.5}static isClockWise(e){return oo.area(e)<0}static triangulateShape(e,t){const i=[],a=[],r=[];TE(e),wE(i,e);let l=e.length;t.forEach(TE);for(let m=0;m<t.length;m++)a.push(l),l+=t[m].length,wE(i,t[m]);const u=AP.triangulate(i,a);for(let m=0;m<u.length;m+=3)r.push(u.slice(m,m+3));return r}}function TE(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function wE(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class zv extends Zt{constructor(e=new Jh([new ze(.5,.5),new ze(-.5,.5),new ze(-.5,-.5),new ze(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,a=[],r=[];for(let u=0,m=e.length;u<m;u++){const g=e[u];l(g)}this.setAttribute("position",new bt(a,3)),this.setAttribute("uv",new bt(r,2)),this.computeVertexNormals();function l(u){const m=[],g=t.curveSegments!==void 0?t.curveSegments:12,v=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,b=t.bevelThickness!==void 0?t.bevelThickness:.2,C=t.bevelSize!==void 0?t.bevelSize:b-.1,w=t.bevelOffset!==void 0?t.bevelOffset:0,E=t.bevelSegments!==void 0?t.bevelSegments:3;const M=t.extrudePath,I=t.UVGenerator!==void 0?t.UVGenerator:SP;let B,N=!1,P,U,F,j;M&&(B=M.getSpacedPoints(v),N=!0,p=!1,P=M.computeFrenetFrames(v,!1),U=new K,F=new K,j=new K),p||(E=0,b=0,C=0,w=0);const O=u.extractPoints(g);let H=O.shape;const J=O.holes;if(!oo.isClockWise(H)){H=H.reverse();for(let Pe=0,Ne=J.length;Pe<Ne;Pe++){const Le=J[Pe];oo.isClockWise(Le)&&(J[Pe]=Le.reverse())}}function oe(Pe){const Le=10000000000000001e-36;let Be=Pe[0];for(let $e=1;$e<=Pe.length;$e++){const ke=$e%Pe.length,Je=Pe[ke],Rt=Je.x-Be.x,Lt=Je.y-Be.y,q=Rt*Rt+Lt*Lt,z=Math.max(Math.abs(Je.x),Math.abs(Je.y),Math.abs(Be.x),Math.abs(Be.y)),me=Le*z*z;if(q<=me){Pe.splice(ke,1),$e--;continue}Be=Je}}oe(H),J.forEach(oe);const ge=J.length,ce=H;for(let Pe=0;Pe<ge;Pe++){const Ne=J[Pe];H=H.concat(Ne)}function G(Pe,Ne,Le){return Ne||console.error("THREE.ExtrudeGeometry: vec does not exist"),Pe.clone().addScaledVector(Ne,Le)}const Z=H.length;function Q(Pe,Ne,Le){let Be,$e,ke;const Je=Pe.x-Ne.x,Rt=Pe.y-Ne.y,Lt=Le.x-Pe.x,q=Le.y-Pe.y,z=Je*Je+Rt*Rt,me=Je*q-Rt*Lt;if(Math.abs(me)>Number.EPSILON){const Te=Math.sqrt(z),He=Math.sqrt(Lt*Lt+q*q),Ie=Ne.x-Rt/Te,_t=Ne.y+Je/Te,et=Le.x-q/He,yt=Le.y+Lt/He,vt=((et-Ie)*q-(yt-_t)*Lt)/(Je*q-Rt*Lt);Be=Ie+Je*vt-Pe.x,$e=_t+Rt*vt-Pe.y;const Ve=Be*Be+$e*$e;if(Ve<=2)return new ze(Be,$e);ke=Math.sqrt(Ve/2)}else{let Te=!1;Je>Number.EPSILON?Lt>Number.EPSILON&&(Te=!0):Je<-Number.EPSILON?Lt<-Number.EPSILON&&(Te=!0):Math.sign(Rt)===Math.sign(q)&&(Te=!0),Te?(Be=-Rt,$e=Je,ke=Math.sqrt(z)):(Be=Je,$e=Rt,ke=Math.sqrt(z/2))}return new ze(Be/ke,$e/ke)}const le=[];for(let Pe=0,Ne=ce.length,Le=Ne-1,Be=Pe+1;Pe<Ne;Pe++,Le++,Be++)Le===Ne&&(Le=0),Be===Ne&&(Be=0),le[Pe]=Q(ce[Pe],ce[Le],ce[Be]);const ye=[];let X,ae=le.concat();for(let Pe=0,Ne=ge;Pe<Ne;Pe++){const Le=J[Pe];X=[];for(let Be=0,$e=Le.length,ke=$e-1,Je=Be+1;Be<$e;Be++,ke++,Je++)ke===$e&&(ke=0),Je===$e&&(Je=0),X[Be]=Q(Le[Be],Le[ke],Le[Je]);ye.push(X),ae=ae.concat(X)}let Ce;if(E===0)Ce=oo.triangulateShape(ce,J);else{const Pe=[],Ne=[];for(let Le=0;Le<E;Le++){const Be=Le/E,$e=b*Math.cos(Be*Math.PI/2),ke=C*Math.sin(Be*Math.PI/2)+w;for(let Je=0,Rt=ce.length;Je<Rt;Je++){const Lt=G(ce[Je],le[Je],ke);it(Lt.x,Lt.y,-$e),Be===0&&Pe.push(Lt)}for(let Je=0,Rt=ge;Je<Rt;Je++){const Lt=J[Je];X=ye[Je];const q=[];for(let z=0,me=Lt.length;z<me;z++){const Te=G(Lt[z],X[z],ke);it(Te.x,Te.y,-$e),Be===0&&q.push(Te)}Be===0&&Ne.push(q)}}Ce=oo.triangulateShape(Pe,Ne)}const Re=Ce.length,Ze=C+w;for(let Pe=0;Pe<Z;Pe++){const Ne=p?G(H[Pe],ae[Pe],Ze):H[Pe];N?(F.copy(P.normals[0]).multiplyScalar(Ne.x),U.copy(P.binormals[0]).multiplyScalar(Ne.y),j.copy(B[0]).add(F).add(U),it(j.x,j.y,j.z)):it(Ne.x,Ne.y,0)}for(let Pe=1;Pe<=v;Pe++)for(let Ne=0;Ne<Z;Ne++){const Le=p?G(H[Ne],ae[Ne],Ze):H[Ne];N?(F.copy(P.normals[Pe]).multiplyScalar(Le.x),U.copy(P.binormals[Pe]).multiplyScalar(Le.y),j.copy(B[Pe]).add(F).add(U),it(j.x,j.y,j.z)):it(Le.x,Le.y,d/v*Pe)}for(let Pe=E-1;Pe>=0;Pe--){const Ne=Pe/E,Le=b*Math.cos(Ne*Math.PI/2),Be=C*Math.sin(Ne*Math.PI/2)+w;for(let $e=0,ke=ce.length;$e<ke;$e++){const Je=G(ce[$e],le[$e],Be);it(Je.x,Je.y,d+Le)}for(let $e=0,ke=J.length;$e<ke;$e++){const Je=J[$e];X=ye[$e];for(let Rt=0,Lt=Je.length;Rt<Lt;Rt++){const q=G(Je[Rt],X[Rt],Be);N?it(q.x,q.y+B[v-1].y,B[v-1].x+Le):it(q.x,q.y,d+Le)}}}ve(),we();function ve(){const Pe=a.length/3;if(p){let Ne=0,Le=Z*Ne;for(let Be=0;Be<Re;Be++){const $e=Ce[Be];at($e[2]+Le,$e[1]+Le,$e[0]+Le)}Ne=v+E*2,Le=Z*Ne;for(let Be=0;Be<Re;Be++){const $e=Ce[Be];at($e[0]+Le,$e[1]+Le,$e[2]+Le)}}else{for(let Ne=0;Ne<Re;Ne++){const Le=Ce[Ne];at(Le[2],Le[1],Le[0])}for(let Ne=0;Ne<Re;Ne++){const Le=Ce[Ne];at(Le[0]+Z*v,Le[1]+Z*v,Le[2]+Z*v)}}i.addGroup(Pe,a.length/3-Pe,0)}function we(){const Pe=a.length/3;let Ne=0;Ke(ce,Ne),Ne+=ce.length;for(let Le=0,Be=J.length;Le<Be;Le++){const $e=J[Le];Ke($e,Ne),Ne+=$e.length}i.addGroup(Pe,a.length/3-Pe,1)}function Ke(Pe,Ne){let Le=Pe.length;for(;--Le>=0;){const Be=Le;let $e=Le-1;$e<0&&($e=Pe.length-1);for(let ke=0,Je=v+E*2;ke<Je;ke++){const Rt=Z*ke,Lt=Z*(ke+1),q=Ne+Be+Rt,z=Ne+$e+Rt,me=Ne+$e+Lt,Te=Ne+Be+Lt;ht(q,z,me,Te)}}}function it(Pe,Ne,Le){m.push(Pe),m.push(Ne),m.push(Le)}function at(Pe,Ne,Le){kt(Pe),kt(Ne),kt(Le);const Be=a.length/3,$e=I.generateTopUV(i,a,Be-3,Be-2,Be-1);$($e[0]),$($e[1]),$($e[2])}function ht(Pe,Ne,Le,Be){kt(Pe),kt(Ne),kt(Be),kt(Ne),kt(Le),kt(Be);const $e=a.length/3,ke=I.generateSideWallUV(i,a,$e-6,$e-3,$e-2,$e-1);$(ke[0]),$(ke[1]),$(ke[3]),$(ke[1]),$(ke[2]),$(ke[3])}function kt(Pe){a.push(m[Pe*3+0]),a.push(m[Pe*3+1]),a.push(m[Pe*3+2])}function $(Pe){r.push(Pe.x),r.push(Pe.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return MP(t,i,e)}static fromJSON(e,t){const i=[];for(let r=0,l=e.shapes.length;r<l;r++){const u=t[e.shapes[r]];i.push(u)}const a=e.options.extrudePath;return a!==void 0&&(e.options.extrudePath=new tv[a.type]().fromJSON(a)),new zv(i,e.options)}}const SP={generateTopUV:function(n,e,t,i,a){const r=e[t*3],l=e[t*3+1],u=e[i*3],m=e[i*3+1],g=e[a*3],v=e[a*3+1];return[new ze(r,l),new ze(u,m),new ze(g,v)]},generateSideWallUV:function(n,e,t,i,a,r){const l=e[t*3],u=e[t*3+1],m=e[t*3+2],g=e[i*3],v=e[i*3+1],d=e[i*3+2],p=e[a*3],b=e[a*3+1],C=e[a*3+2],w=e[r*3],E=e[r*3+1],M=e[r*3+2];return Math.abs(u-v)<Math.abs(l-g)?[new ze(l,1-m),new ze(g,1-d),new ze(p,1-C),new ze(w,1-M)]:[new ze(u,1-m),new ze(v,1-d),new ze(b,1-C),new ze(E,1-M)]}};function MP(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,a=n.length;i<a;i++){const r=n[i];t.shapes.push(r.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Vv extends vu{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,a=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(a,r,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Vv(e.radius,e.detail)}}class kv extends Zt{constructor(e=[new ze(0,-.5),new ze(.5,0),new ze(0,.5)],t=12,i=0,a=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:a},t=Math.floor(t),a=Ft(a,0,Math.PI*2);const r=[],l=[],u=[],m=[],g=[],v=1/t,d=new K,p=new ze,b=new K,C=new K,w=new K;let E=0,M=0;for(let I=0;I<=e.length-1;I++)switch(I){case 0:E=e[I+1].x-e[I].x,M=e[I+1].y-e[I].y,b.x=M*1,b.y=-E,b.z=M*0,w.copy(b),b.normalize(),m.push(b.x,b.y,b.z);break;case e.length-1:m.push(w.x,w.y,w.z);break;default:E=e[I+1].x-e[I].x,M=e[I+1].y-e[I].y,b.x=M*1,b.y=-E,b.z=M*0,C.copy(b),b.x+=w.x,b.y+=w.y,b.z+=w.z,b.normalize(),m.push(b.x,b.y,b.z),w.copy(C)}for(let I=0;I<=t;I++){const B=i+I*v*a,N=Math.sin(B),P=Math.cos(B);for(let U=0;U<=e.length-1;U++){d.x=e[U].x*N,d.y=e[U].y,d.z=e[U].x*P,l.push(d.x,d.y,d.z),p.x=I/t,p.y=U/(e.length-1),u.push(p.x,p.y);const F=m[3*U+0]*N,j=m[3*U+1],O=m[3*U+0]*P;g.push(F,j,O)}}for(let I=0;I<t;I++)for(let B=0;B<e.length-1;B++){const N=B+I*e.length,P=N,U=N+e.length,F=N+e.length+1,j=N+1;r.push(P,U,j),r.push(F,j,U)}this.setIndex(r),this.setAttribute("position",new bt(l,3)),this.setAttribute("uv",new bt(u,2)),this.setAttribute("normal",new bt(g,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new kv(e.points,e.segments,e.phiStart,e.phiLength)}}class _g extends vu{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],a=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,a,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new _g(e.radius,e.detail)}}class C0 extends Zt{constructor(e=1,t=1,i=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:a};const r=e/2,l=t/2,u=Math.floor(i),m=Math.floor(a),g=u+1,v=m+1,d=e/u,p=t/m,b=[],C=[],w=[],E=[];for(let M=0;M<v;M++){const I=M*p-l;for(let B=0;B<g;B++){const N=B*d-r;C.push(N,-I,0),w.push(0,0,1),E.push(B/u),E.push(1-M/m)}}for(let M=0;M<m;M++)for(let I=0;I<u;I++){const B=I+g*M,N=I+g*(M+1),P=I+1+g*(M+1),U=I+1+g*M;b.push(B,N,U),b.push(N,P,U)}this.setIndex(b),this.setAttribute("position",new bt(C,3)),this.setAttribute("normal",new bt(w,3)),this.setAttribute("uv",new bt(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new C0(e.width,e.height,e.widthSegments,e.heightSegments)}}class Wv extends Zt{constructor(e=.5,t=1,i=32,a=1,r=0,l=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:a,thetaStart:r,thetaLength:l},i=Math.max(3,i),a=Math.max(1,a);const u=[],m=[],g=[],v=[];let d=e;const p=(t-e)/a,b=new K,C=new ze;for(let w=0;w<=a;w++){for(let E=0;E<=i;E++){const M=r+E/i*l;b.x=d*Math.cos(M),b.y=d*Math.sin(M),m.push(b.x,b.y,b.z),g.push(0,0,1),C.x=(b.x/t+1)/2,C.y=(b.y/t+1)/2,v.push(C.x,C.y)}d+=p}for(let w=0;w<a;w++){const E=w*(i+1);for(let M=0;M<i;M++){const I=M+E,B=I,N=I+i+1,P=I+i+2,U=I+1;u.push(B,N,U),u.push(N,P,U)}}this.setIndex(u),this.setAttribute("position",new bt(m,3)),this.setAttribute("normal",new bt(g,3)),this.setAttribute("uv",new bt(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wv(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Zv extends Zt{constructor(e=new Jh([new ze(0,.5),new ze(-.5,-.5),new ze(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],a=[],r=[],l=[];let u=0,m=0;if(Array.isArray(e)===!1)g(e);else for(let v=0;v<e.length;v++)g(e[v]),this.addGroup(u,m,v),u+=m,m=0;this.setIndex(i),this.setAttribute("position",new bt(a,3)),this.setAttribute("normal",new bt(r,3)),this.setAttribute("uv",new bt(l,2));function g(v){const d=a.length/3,p=v.extractPoints(t);let b=p.shape;const C=p.holes;oo.isClockWise(b)===!1&&(b=b.reverse());for(let E=0,M=C.length;E<M;E++){const I=C[E];oo.isClockWise(I)===!0&&(C[E]=I.reverse())}const w=oo.triangulateShape(b,C);for(let E=0,M=C.length;E<M;E++){const I=C[E];b=b.concat(I)}for(let E=0,M=b.length;E<M;E++){const I=b[E];a.push(I.x,I.y,0),r.push(0,0,1),l.push(I.x,I.y)}for(let E=0,M=w.length;E<M;E++){const I=w[E],B=I[0]+d,N=I[1]+d,P=I[2]+d;i.push(B,N,P),m+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return CP(t,e)}static fromJSON(e,t){const i=[];for(let a=0,r=e.shapes.length;a<r;a++){const l=t[e.shapes[a]];i.push(l)}return new Zv(i,e.curveSegments)}}function CP(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const a=n[t];e.shapes.push(a.uuid)}else e.shapes.push(n.uuid);return e}class bg extends Zt{constructor(e=1,t=32,i=16,a=0,r=Math.PI*2,l=0,u=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:a,phiLength:r,thetaStart:l,thetaLength:u},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const m=Math.min(l+u,Math.PI);let g=0;const v=[],d=new K,p=new K,b=[],C=[],w=[],E=[];for(let M=0;M<=i;M++){const I=[],B=M/i;let N=0;M===0&&l===0?N=.5/t:M===i&&m===Math.PI&&(N=-.5/t);for(let P=0;P<=t;P++){const U=P/t;d.x=-e*Math.cos(a+U*r)*Math.sin(l+B*u),d.y=e*Math.cos(l+B*u),d.z=e*Math.sin(a+U*r)*Math.sin(l+B*u),C.push(d.x,d.y,d.z),p.copy(d).normalize(),w.push(p.x,p.y,p.z),E.push(U+N,1-B),I.push(g++)}v.push(I)}for(let M=0;M<i;M++)for(let I=0;I<t;I++){const B=v[M][I+1],N=v[M][I],P=v[M+1][I],U=v[M+1][I+1];(M!==0||l>0)&&b.push(B,N,U),(M!==i-1||m<Math.PI)&&b.push(N,P,U)}this.setIndex(b),this.setAttribute("position",new bt(C,3)),this.setAttribute("normal",new bt(w,3)),this.setAttribute("uv",new bt(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bg(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Xv extends vu{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],a=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,a,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Xv(e.radius,e.detail)}}class Jv extends Zt{constructor(e=1,t=.4,i=12,a=48,r=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:a,arc:r},i=Math.floor(i),a=Math.floor(a);const l=[],u=[],m=[],g=[],v=new K,d=new K,p=new K;for(let b=0;b<=i;b++)for(let C=0;C<=a;C++){const w=C/a*r,E=b/i*Math.PI*2;d.x=(e+t*Math.cos(E))*Math.cos(w),d.y=(e+t*Math.cos(E))*Math.sin(w),d.z=t*Math.sin(E),u.push(d.x,d.y,d.z),v.x=e*Math.cos(w),v.y=e*Math.sin(w),p.subVectors(d,v).normalize(),m.push(p.x,p.y,p.z),g.push(C/a),g.push(b/i)}for(let b=1;b<=i;b++)for(let C=1;C<=a;C++){const w=(a+1)*b+C-1,E=(a+1)*(b-1)+C-1,M=(a+1)*(b-1)+C,I=(a+1)*b+C;l.push(w,E,I),l.push(E,M,I)}this.setIndex(l),this.setAttribute("position",new bt(u,3)),this.setAttribute("normal",new bt(m,3)),this.setAttribute("uv",new bt(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jv(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Yv extends Zt{constructor(e=1,t=.4,i=64,a=8,r=2,l=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:a,p:r,q:l},i=Math.floor(i),a=Math.floor(a);const u=[],m=[],g=[],v=[],d=new K,p=new K,b=new K,C=new K,w=new K,E=new K,M=new K;for(let B=0;B<=i;++B){const N=B/i*r*Math.PI*2;I(N,r,l,e,b),I(N+.01,r,l,e,C),E.subVectors(C,b),M.addVectors(C,b),w.crossVectors(E,M),M.crossVectors(w,E),w.normalize(),M.normalize();for(let P=0;P<=a;++P){const U=P/a*Math.PI*2,F=-t*Math.cos(U),j=t*Math.sin(U);d.x=b.x+(F*M.x+j*w.x),d.y=b.y+(F*M.y+j*w.y),d.z=b.z+(F*M.z+j*w.z),m.push(d.x,d.y,d.z),p.subVectors(d,b).normalize(),g.push(p.x,p.y,p.z),v.push(B/i),v.push(P/a)}}for(let B=1;B<=i;B++)for(let N=1;N<=a;N++){const P=(a+1)*(B-1)+(N-1),U=(a+1)*B+(N-1),F=(a+1)*B+N,j=(a+1)*(B-1)+N;u.push(P,U,j),u.push(U,F,j)}this.setIndex(u),this.setAttribute("position",new bt(m,3)),this.setAttribute("normal",new bt(g,3)),this.setAttribute("uv",new bt(v,2));function I(B,N,P,U,F){const j=Math.cos(B),O=Math.sin(B),H=P/N*B,J=Math.cos(H);F.x=U*(2+J)*.5*j,F.y=U*(2+J)*O*.5,F.z=U*Math.sin(H)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yv(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Kv extends Zt{constructor(e=new jA(new K(-1,-1,0),new K(-1,1,0),new K(1,1,0)),t=64,i=1,a=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:a,closed:r};const l=e.computeFrenetFrames(t,r);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const u=new K,m=new K,g=new ze;let v=new K;const d=[],p=[],b=[],C=[];w(),this.setIndex(C),this.setAttribute("position",new bt(d,3)),this.setAttribute("normal",new bt(p,3)),this.setAttribute("uv",new bt(b,2));function w(){for(let B=0;B<t;B++)E(B);E(r===!1?t:0),I(),M()}function E(B){v=e.getPointAt(B/t,v);const N=l.normals[B],P=l.binormals[B];for(let U=0;U<=a;U++){const F=U/a*Math.PI*2,j=Math.sin(F),O=-Math.cos(F);m.x=O*N.x+j*P.x,m.y=O*N.y+j*P.y,m.z=O*N.z+j*P.z,m.normalize(),p.push(m.x,m.y,m.z),u.x=v.x+i*m.x,u.y=v.y+i*m.y,u.z=v.z+i*m.z,d.push(u.x,u.y,u.z)}}function M(){for(let B=1;B<=t;B++)for(let N=1;N<=a;N++){const P=(a+1)*(B-1)+(N-1),U=(a+1)*B+(N-1),F=(a+1)*B+N,j=(a+1)*(B-1)+N;C.push(P,U,j),C.push(U,F,j)}}function I(){for(let B=0;B<=t;B++)for(let N=0;N<=a;N++)g.x=B/t,g.y=N/a,b.push(g.x,g.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Kv(new tv[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class dR extends Zt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,a=new K,r=new K;if(e.index!==null){const l=e.attributes.position,u=e.index;let m=e.groups;m.length===0&&(m=[{start:0,count:u.count,materialIndex:0}]);for(let g=0,v=m.length;g<v;++g){const d=m[g],p=d.start,b=d.count;for(let C=p,w=p+b;C<w;C+=3)for(let E=0;E<3;E++){const M=u.getX(C+E),I=u.getX(C+(E+1)%3);a.fromBufferAttribute(l,M),r.fromBufferAttribute(l,I),RE(a,r,i)===!0&&(t.push(a.x,a.y,a.z),t.push(r.x,r.y,r.z))}}}else{const l=e.attributes.position;for(let u=0,m=l.count/3;u<m;u++)for(let g=0;g<3;g++){const v=3*u+g,d=3*u+(g+1)%3;a.fromBufferAttribute(l,v),r.fromBufferAttribute(l,d),RE(a,r,i)===!0&&(t.push(a.x,a.y,a.z),t.push(r.x,r.y,r.z))}}this.setAttribute("position",new bt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function RE(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,a=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(a)===!0?!1:(t.add(i),t.add(a),!0)}var IE=Object.freeze({__proto__:null,BoxGeometry:af,CapsuleGeometry:Hv,CircleGeometry:jv,ConeGeometry:xg,CylinderGeometry:vg,DodecahedronGeometry:Fv,EdgesGeometry:iR,ExtrudeGeometry:zv,IcosahedronGeometry:Vv,LatheGeometry:kv,OctahedronGeometry:_g,PlaneGeometry:C0,PolyhedronGeometry:vu,RingGeometry:Wv,ShapeGeometry:Zv,SphereGeometry:bg,TetrahedronGeometry:Xv,TorusGeometry:Jv,TorusKnotGeometry:Yv,TubeGeometry:Kv,WireframeGeometry:dR});class mR extends Ki{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ot(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class pR extends co{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Ag extends Ki{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new ot(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=yu,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ks,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ir extends Ag{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ze(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ft(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ot(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ot(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ot(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class gR extends Ki{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ot(16777215),this.specular=new ot(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=yu,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ks,this.combine=dg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class yR extends Ki{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ot(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=yu,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class vR extends Ki{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=yu,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class xR extends Ki{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ot(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=yu,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ks,this.combine=dg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class GA extends Ki{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Nw,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class zA extends Ki{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class _R extends Ki{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ot(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=yu,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class bR extends Wa{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Gh(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function AR(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function SR(n){function e(a,r){return n[a]-n[r]}const t=n.length,i=new Array(t);for(let a=0;a!==t;++a)i[a]=a;return i.sort(e),i}function sb(n,e,t){const i=n.length,a=new n.constructor(i);for(let r=0,l=0;l!==i;++r){const u=t[r]*e;for(let m=0;m!==e;++m)a[l++]=n[u+m]}return a}function VA(n,e,t,i){let a=1,r=n[0];for(;r!==void 0&&r[i]===void 0;)r=n[a++];if(r===void 0)return;let l=r[i];if(l!==void 0)if(Array.isArray(l))do l=r[i],l!==void 0&&(e.push(r.time),t.push(...l)),r=n[a++];while(r!==void 0);else if(l.toArray!==void 0)do l=r[i],l!==void 0&&(e.push(r.time),l.toArray(t,t.length)),r=n[a++];while(r!==void 0);else do l=r[i],l!==void 0&&(e.push(r.time),t.push(l)),r=n[a++];while(r!==void 0)}function EP(n,e,t,i,a=30){const r=n.clone();r.name=e;const l=[];for(let m=0;m<r.tracks.length;++m){const g=r.tracks[m],v=g.getValueSize(),d=[],p=[];for(let b=0;b<g.times.length;++b){const C=g.times[b]*a;if(!(C<t||C>=i)){d.push(g.times[b]);for(let w=0;w<v;++w)p.push(g.values[b*v+w])}}d.length!==0&&(g.times=Gh(d,g.times.constructor),g.values=Gh(p,g.values.constructor),l.push(g))}r.tracks=l;let u=1/0;for(let m=0;m<r.tracks.length;++m)u>r.tracks[m].times[0]&&(u=r.tracks[m].times[0]);for(let m=0;m<r.tracks.length;++m)r.tracks[m].shift(-1*u);return r.resetDuration(),r}function TP(n,e=0,t=n,i=30){i<=0&&(i=30);const a=t.tracks.length,r=e/i;for(let l=0;l<a;++l){const u=t.tracks[l],m=u.ValueTypeName;if(m==="bool"||m==="string")continue;const g=n.tracks.find(function(M){return M.name===u.name&&M.ValueTypeName===m});if(g===void 0)continue;let v=0;const d=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=d/3);let p=0;const b=g.getValueSize();g.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=b/3);const C=u.times.length-1;let w;if(r<=u.times[0]){const M=v,I=d-v;w=u.values.slice(M,I)}else if(r>=u.times[C]){const M=C*d+v,I=M+d-v;w=u.values.slice(M,I)}else{const M=u.createInterpolant(),I=v,B=d-v;M.evaluate(r),w=M.resultBuffer.slice(I,B)}m==="quaternion"&&new ka().fromArray(w).normalize().conjugate().toArray(w);const E=g.times.length;for(let M=0;M<E;++M){const I=M*b+p;if(m==="quaternion")ka.multiplyQuaternionsFlat(g.values,I,w,0,g.values,I);else{const B=b-p*2;for(let N=0;N<B;++N)g.values[I+N]-=w[N]}}}return n.blendMode=_A,n}class wP{static convertArray(e,t){return Gh(e,t)}static isTypedArray(e){return AR(e)}static getKeyframeOrder(e){return SR(e)}static sortedArray(e,t,i){return sb(e,t,i)}static flattenJSON(e,t,i,a){VA(e,t,i,a)}static subclip(e,t,i,a,r=30){return EP(e,t,i,a,r)}static makeClipAdditive(e,t=0,i=e,a=30){return TP(e,t,i,a)}}class E0{constructor(e,t,i,a){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=a!==void 0?a:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,a=t[i],r=t[i-1];e:{t:{let l;n:{i:if(!(e<a)){for(let u=i+2;;){if(a===void 0){if(e<r)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===u)break;if(r=a,a=t[++i],e<a)break t}l=t.length;break n}if(!(e>=r)){const u=t[1];e<u&&(i=2,r=u);for(let m=i-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===m)break;if(a=r,r=t[--i-1],e>=r)break t}l=i,i=0;break n}break e}for(;i<l;){const u=i+l>>>1;e<t[u]?l=u:i=u+1}if(a=t[i],r=t[i-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(a===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,r,a)}return this.interpolate_(i,r,e,a)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,a=this.valueSize,r=e*a;for(let l=0;l!==a;++l)t[l]=i[r+l];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class MR extends E0{constructor(e,t,i,a){super(e,t,i,a),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:jh,endingEnd:jh}}intervalChanged_(e,t,i){const a=this.parameterPositions;let r=e-2,l=e+1,u=a[r],m=a[l];if(u===void 0)switch(this.getSettings_().endingStart){case Fh:r=e,u=2*t-i;break;case Zp:r=a.length-2,u=t+a[r]-a[r+1];break;default:r=e,u=i}if(m===void 0)switch(this.getSettings_().endingEnd){case Fh:l=e,m=2*i-t;break;case Zp:l=1,m=i+a[1]-a[0];break;default:l=e-1,m=t}const g=(i-t)*.5,v=this.valueSize;this._weightPrev=g/(t-u),this._weightNext=g/(m-i),this._offsetPrev=r*v,this._offsetNext=l*v}interpolate_(e,t,i,a){const r=this.resultBuffer,l=this.sampleValues,u=this.valueSize,m=e*u,g=m-u,v=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,b=this._weightNext,C=(i-t)/(a-t),w=C*C,E=w*C,M=-p*E+2*p*w-p*C,I=(1+p)*E+(-1.5-2*p)*w+(-.5+p)*C+1,B=(-1-b)*E+(1.5+b)*w+.5*C,N=b*E-b*w;for(let P=0;P!==u;++P)r[P]=M*l[v+P]+I*l[g+P]+B*l[m+P]+N*l[d+P];return r}}class kA extends E0{constructor(e,t,i,a){super(e,t,i,a)}interpolate_(e,t,i,a){const r=this.resultBuffer,l=this.sampleValues,u=this.valueSize,m=e*u,g=m-u,v=(i-t)/(a-t),d=1-v;for(let p=0;p!==u;++p)r[p]=l[g+p]*d+l[m+p]*v;return r}}class CR extends E0{constructor(e,t,i,a){super(e,t,i,a)}interpolate_(e){return this.copySampleValue_(e-1)}}class Br{constructor(e,t,i,a){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Gh(t,this.TimeBufferType),this.values=Gh(i,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Gh(e.times,Array),values:Gh(e.values,Array)};const a=e.getInterpolation();a!==e.DefaultInterpolation&&(i.interpolation=a)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new CR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new kA(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new MR(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case s0:t=this.InterpolantFactoryMethodDiscrete;break;case r0:t=this.InterpolantFactoryMethodLinear;break;case i2:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return s0;case this.InterpolantFactoryMethodLinear:return r0;case this.InterpolantFactoryMethodSmooth:return i2}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,a=t.length;i!==a;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,a=t.length;i!==a;++i)t[i]*=e}return this}trim(e,t){const i=this.times,a=i.length;let r=0,l=a-1;for(;r!==a&&i[r]<e;)++r;for(;l!==-1&&i[l]>t;)--l;if(++l,r!==0||l!==a){r>=l&&(l=Math.max(l,1),r=l-1);const u=this.getValueSize();this.times=i.slice(r,l),this.values=this.values.slice(r*u,l*u)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,a=this.values,r=i.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let l=null;for(let u=0;u!==r;u++){const m=i[u];if(typeof m=="number"&&isNaN(m)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,u,m),e=!1;break}if(l!==null&&l>m){console.error("THREE.KeyframeTrack: Out of order keys.",this,u,m,l),e=!1;break}l=m}if(a!==void 0&&AR(a))for(let u=0,m=a.length;u!==m;++u){const g=a[u];if(isNaN(g)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,g),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),a=this.getInterpolation()===i2,r=e.length-1;let l=1;for(let u=1;u<r;++u){let m=!1;const g=e[u],v=e[u+1];if(g!==v&&(u!==1||g!==e[0]))if(a)m=!0;else{const d=u*i,p=d-i,b=d+i;for(let C=0;C!==i;++C){const w=t[d+C];if(w!==t[p+C]||w!==t[b+C]){m=!0;break}}}if(m){if(u!==l){e[l]=e[u];const d=u*i,p=l*i;for(let b=0;b!==i;++b)t[p+b]=t[d+b]}++l}}if(r>0){e[l]=e[r];for(let u=r*i,m=l*i,g=0;g!==i;++g)t[m+g]=t[u+g];++l}return l!==e.length?(this.times=e.slice(0,l),this.values=t.slice(0,l*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,a=new i(this.name,e,t);return a.createInterpolant=this.createInterpolant,a}}Br.prototype.ValueTypeName="";Br.prototype.TimeBufferType=Float32Array;Br.prototype.ValueBufferType=Float32Array;Br.prototype.DefaultInterpolation=r0;class sf extends Br{constructor(e,t,i){super(e,t,i)}}sf.prototype.ValueTypeName="bool";sf.prototype.ValueBufferType=Array;sf.prototype.DefaultInterpolation=s0;sf.prototype.InterpolantFactoryMethodLinear=void 0;sf.prototype.InterpolantFactoryMethodSmooth=void 0;class WA extends Br{constructor(e,t,i,a){super(e,t,i,a)}}WA.prototype.ValueTypeName="color";class Qh extends Br{constructor(e,t,i,a){super(e,t,i,a)}}Qh.prototype.ValueTypeName="number";class ER extends E0{constructor(e,t,i,a){super(e,t,i,a)}interpolate_(e,t,i,a){const r=this.resultBuffer,l=this.sampleValues,u=this.valueSize,m=(i-t)/(a-t);let g=e*u;for(let v=g+u;g!==v;g+=4)ka.slerpFlat(r,0,l,g-u,l,g,m);return r}}class $h extends Br{constructor(e,t,i,a){super(e,t,i,a)}InterpolantFactoryMethodLinear(e){return new ER(this.times,this.values,this.getValueSize(),e)}}$h.prototype.ValueTypeName="quaternion";$h.prototype.InterpolantFactoryMethodSmooth=void 0;class rf extends Br{constructor(e,t,i){super(e,t,i)}}rf.prototype.ValueTypeName="string";rf.prototype.ValueBufferType=Array;rf.prototype.DefaultInterpolation=s0;rf.prototype.InterpolantFactoryMethodLinear=void 0;rf.prototype.InterpolantFactoryMethodSmooth=void 0;class ef extends Br{constructor(e,t,i,a){super(e,t,i,a)}}ef.prototype.ValueTypeName="vector";class f0{constructor(e="",t=-1,i=[],a=wv){this.name=e,this.tracks=i,this.duration=t,this.blendMode=a,this.uuid=Ys(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,a=1/(e.fps||1);for(let l=0,u=i.length;l!==u;++l)t.push(IP(i[l]).scale(a));const r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r.userData=JSON.parse(e.userData||"{}"),r}static toJSON(e){const t=[],i=e.tracks,a={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let r=0,l=i.length;r!==l;++r)t.push(Br.toJSON(i[r]));return a}static CreateFromMorphTargetSequence(e,t,i,a){const r=t.length,l=[];for(let u=0;u<r;u++){let m=[],g=[];m.push((u+r-1)%r,u,(u+1)%r),g.push(0,1,0);const v=SR(m);m=sb(m,1,v),g=sb(g,1,v),!a&&m[0]===0&&(m.push(r),g.push(g[0])),l.push(new Qh(".morphTargetInfluences["+t[u].name+"]",m,g).scale(1/i))}return new this(e,-1,l)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const a=e;i=a.geometry&&a.geometry.animations||a.animations}for(let a=0;a<i.length;a++)if(i[a].name===t)return i[a];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const a={},r=/^([\w-]*?)([\d]+)$/;for(let u=0,m=e.length;u<m;u++){const g=e[u],v=g.name.match(r);if(v&&v.length>1){const d=v[1];let p=a[d];p||(a[d]=p=[]),p.push(g)}}const l=[];for(const u in a)l.push(this.CreateFromMorphTargetSequence(u,a[u],t,i));return l}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,p,b,C,w){if(b.length!==0){const E=[],M=[];VA(b,E,M,C),E.length!==0&&w.push(new d(p,E,M))}},a=[],r=e.name||"default",l=e.fps||30,u=e.blendMode;let m=e.length||-1;const g=e.hierarchy||[];for(let d=0;d<g.length;d++){const p=g[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const b={};let C;for(C=0;C<p.length;C++)if(p[C].morphTargets)for(let w=0;w<p[C].morphTargets.length;w++)b[p[C].morphTargets[w]]=-1;for(const w in b){const E=[],M=[];for(let I=0;I!==p[C].morphTargets.length;++I){const B=p[C];E.push(B.time),M.push(B.morphTarget===w?1:0)}a.push(new Qh(".morphTargetInfluence["+w+"]",E,M))}m=b.length*l}else{const b=".bones["+t[d].name+"]";i(ef,b+".position",p,"pos",a),i($h,b+".quaternion",p,"rot",a),i(ef,b+".scale",p,"scl",a)}}return a.length===0?null:new this(r,m,a,u)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,a=e.length;i!==a;++i){const r=this.tracks[i];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let i=0;i<this.tracks.length;i++)e.push(this.tracks[i].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function RP(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Qh;case"vector":case"vector2":case"vector3":case"vector4":return ef;case"color":return WA;case"quaternion":return $h;case"bool":case"boolean":return sf;case"string":return rf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function IP(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=RP(n.type);if(n.times===void 0){const t=[],i=[];VA(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Ko={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class ZA{constructor(e,t,i){const a=this;let r=!1,l=0,u=0,m;const g=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.abortController=new AbortController,this.itemStart=function(v){u++,r===!1&&a.onStart!==void 0&&a.onStart(v,l,u),r=!0},this.itemEnd=function(v){l++,a.onProgress!==void 0&&a.onProgress(v,l,u),l===u&&(r=!1,a.onLoad!==void 0&&a.onLoad())},this.itemError=function(v){a.onError!==void 0&&a.onError(v)},this.resolveURL=function(v){return m?m(v):v},this.setURLModifier=function(v){return m=v,this},this.addHandler=function(v,d){return g.push(v,d),this},this.removeHandler=function(v){const d=g.indexOf(v);return d!==-1&&g.splice(d,2),this},this.getHandler=function(v){for(let d=0,p=g.length;d<p;d+=2){const b=g[d],C=g[d+1];if(b.global&&(b.lastIndex=0),b.test(v))return C}return null},this.abort=function(){return this.abortController.abort(),this.abortController=new AbortController,this}}}const TR=new ZA;let Za=class{constructor(e){this.manager=e!==void 0?e:TR,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(a,r){i.load(e,a,t,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}};Za.DEFAULT_MATERIAL_NAME="__DEFAULT";const Gl={};class BP extends Error{constructor(e,t){super(e),this.response=t}}class qs extends Za{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,i,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=Ko.get(`file:${e}`);if(r!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(r),this.manager.itemEnd(e)},0),r;if(Gl[e]!==void 0){Gl[e].push({onLoad:t,onProgress:i,onError:a});return}Gl[e]=[],Gl[e].push({onLoad:t,onProgress:i,onError:a});const l=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),u=this.mimeType,m=this.responseType;fetch(l).then(g=>{if(g.status===200||g.status===0){if(g.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||g.body===void 0||g.body.getReader===void 0)return g;const v=Gl[e],d=g.body.getReader(),p=g.headers.get("X-File-Size")||g.headers.get("Content-Length"),b=p?parseInt(p):0,C=b!==0;let w=0;const E=new ReadableStream({start(M){I();function I(){d.read().then(({done:B,value:N})=>{if(B)M.close();else{w+=N.byteLength;const P=new ProgressEvent("progress",{lengthComputable:C,loaded:w,total:b});for(let U=0,F=v.length;U<F;U++){const j=v[U];j.onProgress&&j.onProgress(P)}M.enqueue(N),I()}},B=>{M.error(B)})}}});return new Response(E)}else throw new BP(`fetch for "${g.url}" responded with ${g.status}: ${g.statusText}`,g)}).then(g=>{switch(m){case"arraybuffer":return g.arrayBuffer();case"blob":return g.blob();case"document":return g.text().then(v=>new DOMParser().parseFromString(v,u));case"json":return g.json();default:if(u==="")return g.text();{const d=/charset="?([^;"\s]*)"?/i.exec(u),p=d&&d[1]?d[1].toLowerCase():void 0,b=new TextDecoder(p);return g.arrayBuffer().then(C=>b.decode(C))}}}).then(g=>{Ko.add(`file:${e}`,g);const v=Gl[e];delete Gl[e];for(let d=0,p=v.length;d<p;d++){const b=v[d];b.onLoad&&b.onLoad(g)}}).catch(g=>{const v=Gl[e];if(v===void 0)throw this.manager.itemError(e),g;delete Gl[e];for(let d=0,p=v.length;d<p;d++){const b=v[d];b.onError&&b.onError(g)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class DP extends Za{constructor(e){super(e)}load(e,t,i,a){const r=this,l=new qs(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{t(r.parse(JSON.parse(u)))}catch(m){a?a(m):console.error(m),r.manager.itemError(e)}},i,a)}parse(e){const t=[];for(let i=0;i<e.length;i++){const a=f0.parse(e[i]);t.push(a)}return t}}class NP extends Za{constructor(e){super(e)}load(e,t,i,a){const r=this,l=[],u=new Uv,m=new qs(this.manager);m.setPath(this.path),m.setResponseType("arraybuffer"),m.setRequestHeader(this.requestHeader),m.setWithCredentials(r.withCredentials);let g=0;function v(d){m.load(e[d],function(p){const b=r.parse(p,!0);l[d]={width:b.width,height:b.height,format:b.format,mipmaps:b.mipmaps},g+=1,g===6&&(b.mipmapCount===1&&(u.minFilter=Bi),u.image=l,u.format=b.format,u.needsUpdate=!0,t&&t(u))},i,a)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)v(d);else m.load(e,function(d){const p=r.parse(d,!0);if(p.isCubemap){const b=p.mipmaps.length/p.mipmapCount;for(let C=0;C<b;C++){l[C]={mipmaps:[]};for(let w=0;w<p.mipmapCount;w++)l[C].mipmaps.push(p.mipmaps[C*p.mipmapCount+w]),l[C].format=p.format,l[C].width=p.width,l[C].height=p.height}u.image=l}else u.image.width=p.width,u.image.height=p.height,u.mipmaps=p.mipmaps;p.mipmapCount===1&&(u.minFilter=Bi),u.format=p.format,u.needsUpdate=!0,t&&t(u)},i,a);return u}}const Bd=new WeakMap;class eg extends Za{constructor(e){super(e)}load(e,t,i,a){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,l=Ko.get(`image:${e}`);if(l!==void 0){if(l.complete===!0)r.manager.itemStart(e),setTimeout(function(){t&&t(l),r.manager.itemEnd(e)},0);else{let d=Bd.get(l);d===void 0&&(d=[],Bd.set(l,d)),d.push({onLoad:t,onError:a})}return l}const u=Yp("img");function m(){v(),t&&t(this);const d=Bd.get(this)||[];for(let p=0;p<d.length;p++){const b=d[p];b.onLoad&&b.onLoad(this)}Bd.delete(this),r.manager.itemEnd(e)}function g(d){v(),a&&a(d),Ko.remove(`image:${e}`);const p=Bd.get(this)||[];for(let b=0;b<p.length;b++){const C=p[b];C.onError&&C.onError(d)}Bd.delete(this),r.manager.itemError(e),r.manager.itemEnd(e)}function v(){u.removeEventListener("load",m,!1),u.removeEventListener("error",g,!1)}return u.addEventListener("load",m,!1),u.addEventListener("error",g,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(u.crossOrigin=this.crossOrigin),Ko.add(`image:${e}`,u),r.manager.itemStart(e),u.src=e,u}}class LP extends Za{constructor(e){super(e)}load(e,t,i,a){const r=new pg;r.colorSpace=Ga;const l=new eg(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let u=0;function m(g){l.load(e[g],function(v){r.images[g]=v,u++,u===6&&(r.needsUpdate=!0,t&&t(r))},void 0,a)}for(let g=0;g<e.length;++g)m(g);return r}}class OP extends Za{constructor(e){super(e)}load(e,t,i,a){const r=this,l=new el,u=new qs(this.manager);return u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setPath(this.path),u.setWithCredentials(r.withCredentials),u.load(e,function(m){let g;try{g=r.parse(m)}catch(v){if(a!==void 0)a(v);else{console.error(v);return}}g.image!==void 0?l.image=g.image:g.data!==void 0&&(l.image.width=g.width,l.image.height=g.height,l.image.data=g.data),l.wrapS=g.wrapS!==void 0?g.wrapS:Zs,l.wrapT=g.wrapT!==void 0?g.wrapT:Zs,l.magFilter=g.magFilter!==void 0?g.magFilter:Bi,l.minFilter=g.minFilter!==void 0?g.minFilter:Bi,l.anisotropy=g.anisotropy!==void 0?g.anisotropy:1,g.colorSpace!==void 0&&(l.colorSpace=g.colorSpace),g.flipY!==void 0&&(l.flipY=g.flipY),g.format!==void 0&&(l.format=g.format),g.type!==void 0&&(l.type=g.type),g.mipmaps!==void 0&&(l.mipmaps=g.mipmaps,l.minFilter=Er),g.mipmapCount===1&&(l.minFilter=Bi),g.generateMipmaps!==void 0&&(l.generateMipmaps=g.generateMipmaps),l.needsUpdate=!0,t&&t(l,g)},i,a),l}}class wR extends Za{constructor(e){super(e)}load(e,t,i,a){const r=new oi,l=new eg(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(e,function(u){r.image=u,r.needsUpdate=!0,t!==void 0&&t(r)},i,a),r}}class xu extends dn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ot(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class RR extends xu{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(dn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ot(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const H_=new Nt,BE=new K,DE=new K;class XA{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ze(512,512),this.mapType=Rr,this.map=null,this.mapPass=null,this.matrix=new Nt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new M0,this._frameExtents=new ze(1,1),this._viewportCount=1,this._viewports=[new wn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;BE.setFromMatrixPosition(e.matrixWorld),t.position.copy(BE),DE.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(DE),t.updateMatrixWorld(),H_.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(H_,t.coordinateSystem,t.reversedDepth),t.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(H_)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class PP extends XA{constructor(){super(new Ii(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,i=l0*2*e.angle*this.focus,a=this.mapSize.width/this.mapSize.height*this.aspect,r=e.distance||t.far;(i!==t.fov||a!==t.aspect||r!==t.far)&&(t.fov=i,t.aspect=a,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class JA extends xu{constructor(e,t,i=0,a=Math.PI/3,r=0,l=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(dn.DEFAULT_UP),this.updateMatrix(),this.target=new dn,this.distance=i,this.angle=a,this.penumbra=r,this.decay=l,this.map=null,this.shadow=new PP}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const NE=new Nt,pp=new K,j_=new K;class UP extends XA{constructor(){super(new Ii(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ze(4,2),this._viewportCount=6,this._viewports=[new wn(2,1,1,1),new wn(0,1,1,1),new wn(3,1,1,1),new wn(1,1,1,1),new wn(3,0,1,1),new wn(1,0,1,1)],this._cubeDirections=[new K(1,0,0),new K(-1,0,0),new K(0,0,1),new K(0,0,-1),new K(0,1,0),new K(0,-1,0)],this._cubeUps=[new K(0,1,0),new K(0,1,0),new K(0,1,0),new K(0,1,0),new K(0,0,1),new K(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,a=this.matrix,r=e.distance||i.far;r!==i.far&&(i.far=r,i.updateProjectionMatrix()),pp.setFromMatrixPosition(e.matrixWorld),i.position.copy(pp),j_.copy(i.position),j_.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(j_),i.updateMatrixWorld(),a.makeTranslation(-pp.x,-pp.y,-pp.z),NE.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(NE,i.coordinateSystem,i.reversedDepth)}}class YA extends xu{constructor(e,t,i=0,a=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=a,this.shadow=new UP}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class _u extends Bv{constructor(e=-1,t=1,i=1,a=-1,r=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=a,this.near=r,this.far=l,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,a,r,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=a,this.view.width=r,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let r=i-e,l=i+e,u=a+t,m=a-t;if(this.view!==null&&this.view.enabled){const g=(this.right-this.left)/this.view.fullWidth/this.zoom,v=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=g*this.view.offsetX,l=r+g*this.view.width,u-=v*this.view.offsetY,m=u-v*this.view.height}this.projectionMatrix.makeOrthographic(r,l,u,m,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class HP extends XA{constructor(){super(new _u(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class KA extends xu{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(dn.DEFAULT_UP),this.updateMatrix(),this.target=new dn,this.shadow=new HP}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class IR extends xu{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class BR extends xu{constructor(e,t,i=10,a=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=a}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class DR{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new K)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,a=e.y,r=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.282095),t.addScaledVector(l[1],.488603*a),t.addScaledVector(l[2],.488603*r),t.addScaledVector(l[3],.488603*i),t.addScaledVector(l[4],1.092548*(i*a)),t.addScaledVector(l[5],1.092548*(a*r)),t.addScaledVector(l[6],.315392*(3*r*r-1)),t.addScaledVector(l[7],1.092548*(i*r)),t.addScaledVector(l[8],.546274*(i*i-a*a)),t}getIrradianceAt(e,t){const i=e.x,a=e.y,r=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.886227),t.addScaledVector(l[1],2*.511664*a),t.addScaledVector(l[2],2*.511664*r),t.addScaledVector(l[3],2*.511664*i),t.addScaledVector(l[4],2*.429043*i*a),t.addScaledVector(l[5],2*.429043*a*r),t.addScaledVector(l[6],.743125*r*r-.247708),t.addScaledVector(l[7],2*.429043*i*r),t.addScaledVector(l[8],.429043*(i*i-a*a)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let a=0;a<9;a++)i[a].fromArray(e,t+a*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let a=0;a<9;a++)i[a].toArray(e,t+a*3);return e}static getBasisAt(e,t){const i=e.x,a=e.y,r=e.z;t[0]=.282095,t[1]=.488603*a,t[2]=.488603*r,t[3]=.488603*i,t[4]=1.092548*i*a,t[5]=1.092548*a*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*i*r,t[8]=.546274*(i*i-a*a)}}class NR extends xu{constructor(e=new DR,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class qv extends Za{constructor(e){super(e),this.textures={}}load(e,t,i,a){const r=this,l=new qs(r.manager);l.setPath(r.path),l.setRequestHeader(r.requestHeader),l.setWithCredentials(r.withCredentials),l.load(e,function(u){try{t(r.parse(JSON.parse(u)))}catch(m){a?a(m):console.error(m),r.manager.itemError(e)}},i,a)}parse(e){const t=this.textures;function i(r){return t[r]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",r),t[r]}const a=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(a.uuid=e.uuid),e.name!==void 0&&(a.name=e.name),e.color!==void 0&&a.color!==void 0&&a.color.setHex(e.color),e.roughness!==void 0&&(a.roughness=e.roughness),e.metalness!==void 0&&(a.metalness=e.metalness),e.sheen!==void 0&&(a.sheen=e.sheen),e.sheenColor!==void 0&&(a.sheenColor=new ot().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(a.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&a.emissive!==void 0&&a.emissive.setHex(e.emissive),e.specular!==void 0&&a.specular!==void 0&&a.specular.setHex(e.specular),e.specularIntensity!==void 0&&(a.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&a.specularColor!==void 0&&a.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(a.shininess=e.shininess),e.clearcoat!==void 0&&(a.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(a.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(a.dispersion=e.dispersion),e.iridescence!==void 0&&(a.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(a.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(a.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(a.transmission=e.transmission),e.thickness!==void 0&&(a.thickness=e.thickness),e.attenuationDistance!==void 0&&(a.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&a.attenuationColor!==void 0&&a.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(a.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(a.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(a.fog=e.fog),e.flatShading!==void 0&&(a.flatShading=e.flatShading),e.blending!==void 0&&(a.blending=e.blending),e.combine!==void 0&&(a.combine=e.combine),e.side!==void 0&&(a.side=e.side),e.shadowSide!==void 0&&(a.shadowSide=e.shadowSide),e.opacity!==void 0&&(a.opacity=e.opacity),e.transparent!==void 0&&(a.transparent=e.transparent),e.alphaTest!==void 0&&(a.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(a.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(a.depthFunc=e.depthFunc),e.depthTest!==void 0&&(a.depthTest=e.depthTest),e.depthWrite!==void 0&&(a.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(a.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(a.blendSrc=e.blendSrc),e.blendDst!==void 0&&(a.blendDst=e.blendDst),e.blendEquation!==void 0&&(a.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(a.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(a.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(a.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&a.blendColor!==void 0&&a.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(a.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(a.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(a.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(a.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(a.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(a.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(a.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(a.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(a.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(a.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(a.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(a.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(a.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(a.rotation=e.rotation),e.linewidth!==void 0&&(a.linewidth=e.linewidth),e.dashSize!==void 0&&(a.dashSize=e.dashSize),e.gapSize!==void 0&&(a.gapSize=e.gapSize),e.scale!==void 0&&(a.scale=e.scale),e.polygonOffset!==void 0&&(a.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(a.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(a.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(a.dithering=e.dithering),e.alphaToCoverage!==void 0&&(a.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(a.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(a.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(a.visible=e.visible),e.toneMapped!==void 0&&(a.toneMapped=e.toneMapped),e.userData!==void 0&&(a.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?a.vertexColors=e.vertexColors>0:a.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const r in e.uniforms){const l=e.uniforms[r];switch(a.uniforms[r]={},l.type){case"t":a.uniforms[r].value=i(l.value);break;case"c":a.uniforms[r].value=new ot().setHex(l.value);break;case"v2":a.uniforms[r].value=new ze().fromArray(l.value);break;case"v3":a.uniforms[r].value=new K().fromArray(l.value);break;case"v4":a.uniforms[r].value=new wn().fromArray(l.value);break;case"m3":a.uniforms[r].value=new Yt().fromArray(l.value);break;case"m4":a.uniforms[r].value=new Nt().fromArray(l.value);break;default:a.uniforms[r].value=l.value}}if(e.defines!==void 0&&(a.defines=e.defines),e.vertexShader!==void 0&&(a.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(a.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(a.glslVersion=e.glslVersion),e.extensions!==void 0)for(const r in e.extensions)a.extensions[r]=e.extensions[r];if(e.lights!==void 0&&(a.lights=e.lights),e.clipping!==void 0&&(a.clipping=e.clipping),e.size!==void 0&&(a.size=e.size),e.sizeAttenuation!==void 0&&(a.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(a.map=i(e.map)),e.matcap!==void 0&&(a.matcap=i(e.matcap)),e.alphaMap!==void 0&&(a.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(a.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(a.bumpScale=e.bumpScale),e.normalMap!==void 0&&(a.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(a.normalMapType=e.normalMapType),e.normalScale!==void 0){let r=e.normalScale;Array.isArray(r)===!1&&(r=[r,r]),a.normalScale=new ze().fromArray(r)}return e.displacementMap!==void 0&&(a.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(a.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(a.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(a.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(a.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(a.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(a.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(a.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(a.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(a.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(a.envMap=i(e.envMap)),e.envMapRotation!==void 0&&a.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(a.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(a.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(a.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(a.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(a.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(a.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(a.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(a.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(a.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(a.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(a.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(a.clearcoatNormalScale=new ze().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(a.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(a.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(a.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(a.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(a.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(a.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(a.sheenRoughnessMap=i(e.sheenRoughnessMap)),a}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return qv.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:mR,SpriteMaterial:wA,RawShaderMaterial:pR,ShaderMaterial:co,PointsMaterial:Pv,MeshPhysicalMaterial:Ir,MeshStandardMaterial:Ag,MeshPhongMaterial:gR,MeshToonMaterial:yR,MeshNormalMaterial:vR,MeshLambertMaterial:xR,MeshDepthMaterial:GA,MeshDistanceMaterial:zA,MeshBasicMaterial:Js,MeshMatcapMaterial:_R,LineDashedMaterial:bR,LineBasicMaterial:Wa,Material:Ki};return new t[e]}}class lu{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class LR extends Zt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class OR extends Za{constructor(e){super(e)}load(e,t,i,a){const r=this,l=new qs(r.manager);l.setPath(r.path),l.setRequestHeader(r.requestHeader),l.setWithCredentials(r.withCredentials),l.load(e,function(u){try{t(r.parse(JSON.parse(u)))}catch(m){a?a(m):console.error(m),r.manager.itemError(e)}},i,a)}parse(e){const t={},i={};function a(b,C){if(t[C]!==void 0)return t[C];const E=b.interleavedBuffers[C],M=r(b,E.buffer),I=Wd(E.type,M),B=new gg(I,E.stride);return B.uuid=E.uuid,t[C]=B,B}function r(b,C){if(i[C]!==void 0)return i[C];const E=b.arrayBuffers[C],M=new Uint32Array(E).buffer;return i[C]=M,M}const l=e.isInstancedBufferGeometry?new LR:new Zt,u=e.data.index;if(u!==void 0){const b=Wd(u.type,u.array);l.setIndex(new Rn(b,1))}const m=e.data.attributes;for(const b in m){const C=m[b];let w;if(C.isInterleavedBufferAttribute){const E=a(e.data,C.data);w=new pu(E,C.itemSize,C.offset,C.normalized)}else{const E=Wd(C.type,C.array),M=C.isInstancedBufferAttribute?Kh:Rn;w=new M(E,C.itemSize,C.normalized)}C.name!==void 0&&(w.name=C.name),C.usage!==void 0&&w.setUsage(C.usage),l.setAttribute(b,w)}const g=e.data.morphAttributes;if(g)for(const b in g){const C=g[b],w=[];for(let E=0,M=C.length;E<M;E++){const I=C[E];let B;if(I.isInterleavedBufferAttribute){const N=a(e.data,I.data);B=new pu(N,I.itemSize,I.offset,I.normalized)}else{const N=Wd(I.type,I.array);B=new Rn(N,I.itemSize,I.normalized)}I.name!==void 0&&(B.name=I.name),w.push(B)}l.morphAttributes[b]=w}e.data.morphTargetsRelative&&(l.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let b=0,C=d.length;b!==C;++b){const w=d[b];l.addGroup(w.start,w.count,w.materialIndex)}const p=e.data.boundingSphere;return p!==void 0&&(l.boundingSphere=new da().fromJSON(p)),e.name&&(l.name=e.name),e.userData&&(l.userData=e.userData),l}}class jP extends Za{constructor(e){super(e)}load(e,t,i,a){const r=this,l=this.path===""?lu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||l;const u=new qs(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(m){let g=null;try{g=JSON.parse(m)}catch(d){a!==void 0&&a(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const v=g.metadata;if(v===void 0||v.type===void 0||v.type.toLowerCase()==="geometry"){a!==void 0&&a(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}r.parse(g,t)},i,a)}async loadAsync(e,t){const i=this,a=this.path===""?lu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const r=new qs(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const l=await r.loadAsync(e,t),u=JSON.parse(l),m=u.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(u)}parse(e,t){const i=this.parseAnimations(e.animations),a=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,a),l=this.parseImages(e.images,function(){t!==void 0&&t(g)}),u=this.parseTextures(e.textures,l),m=this.parseMaterials(e.materials,u),g=this.parseObject(e.object,r,m,u,i),v=this.parseSkeletons(e.skeletons,g);if(this.bindSkeletons(g,v),this.bindLightTargets(g),t!==void 0){let d=!1;for(const p in l)if(l[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(g)}return g}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),r=await this.parseImagesAsync(e.images),l=this.parseTextures(e.textures,r),u=this.parseMaterials(e.materials,l),m=this.parseObject(e.object,a,u,l,t),g=this.parseSkeletons(e.skeletons,m);return this.bindSkeletons(m,g),this.bindLightTargets(m),m}parseShapes(e){const t={};if(e!==void 0)for(let i=0,a=e.length;i<a;i++){const r=new Jh().fromJSON(e[i]);t[r.uuid]=r}return t}parseSkeletons(e,t){const i={},a={};if(t.traverse(function(r){r.isBone&&(a[r.uuid]=r)}),e!==void 0)for(let r=0,l=e.length;r<l;r++){const u=new yg().fromJSON(e[r],a);i[u.uuid]=u}return i}parseGeometries(e,t){const i={};if(e!==void 0){const a=new OR;for(let r=0,l=e.length;r<l;r++){let u;const m=e[r];switch(m.type){case"BufferGeometry":case"InstancedBufferGeometry":u=a.parse(m);break;default:m.type in IE?u=IE[m.type].fromJSON(m,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${m.type}"`)}u.uuid=m.uuid,m.name!==void 0&&(u.name=m.name),m.userData!==void 0&&(u.userData=m.userData),i[m.uuid]=u}}return i}parseMaterials(e,t){const i={},a={};if(e!==void 0){const r=new qv;r.setTextures(t);for(let l=0,u=e.length;l<u;l++){const m=e[l];i[m.uuid]===void 0&&(i[m.uuid]=r.parse(m)),a[m.uuid]=i[m.uuid]}}return a}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const a=e[i],r=f0.parse(a);t[r.uuid]=r}return t}parseImages(e,t){const i=this,a={};let r;function l(m){return i.manager.itemStart(m),r.load(m,function(){i.manager.itemEnd(m)},void 0,function(){i.manager.itemError(m),i.manager.itemEnd(m)})}function u(m){if(typeof m=="string"){const g=m,v=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(g)?g:i.resourcePath+g;return l(v)}else return m.data?{data:Wd(m.type,m.data),width:m.width,height:m.height}:null}if(e!==void 0&&e.length>0){const m=new ZA(t);r=new eg(m),r.setCrossOrigin(this.crossOrigin);for(let g=0,v=e.length;g<v;g++){const d=e[g],p=d.url;if(Array.isArray(p)){const b=[];for(let C=0,w=p.length;C<w;C++){const E=p[C],M=u(E);M!==null&&(M instanceof HTMLImageElement?b.push(M):b.push(new el(M.data,M.width,M.height)))}a[d.uuid]=new su(b)}else{const b=u(d.url);a[d.uuid]=new su(b)}}}return a}async parseImagesAsync(e){const t=this,i={};let a;async function r(l){if(typeof l=="string"){const u=l,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:t.resourcePath+u;return await a.loadAsync(m)}else return l.data?{data:Wd(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){a=new eg(this.manager),a.setCrossOrigin(this.crossOrigin);for(let l=0,u=e.length;l<u;l++){const m=e[l],g=m.url;if(Array.isArray(g)){const v=[];for(let d=0,p=g.length;d<p;d++){const b=g[d],C=await r(b);C!==null&&(C instanceof HTMLImageElement?v.push(C):v.push(new el(C.data,C.width,C.height)))}i[m.uuid]=new su(v)}else{const v=await r(m.url);i[m.uuid]=new su(v)}}}return i}parseTextures(e,t){function i(r,l){return typeof r=="number"?r:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",r),l[r])}const a={};if(e!==void 0)for(let r=0,l=e.length;r<l;r++){const u=e[r];u.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',u.uuid),t[u.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",u.image);const m=t[u.image],g=m.data;let v;Array.isArray(g)?(v=new pg,g.length===6&&(v.needsUpdate=!0)):(g&&g.data?v=new el:v=new oi,g&&(v.needsUpdate=!0)),v.source=m,v.uuid=u.uuid,u.name!==void 0&&(v.name=u.name),u.mapping!==void 0&&(v.mapping=i(u.mapping,FP)),u.channel!==void 0&&(v.channel=u.channel),u.offset!==void 0&&v.offset.fromArray(u.offset),u.repeat!==void 0&&v.repeat.fromArray(u.repeat),u.center!==void 0&&v.center.fromArray(u.center),u.rotation!==void 0&&(v.rotation=u.rotation),u.wrap!==void 0&&(v.wrapS=i(u.wrap[0],LE),v.wrapT=i(u.wrap[1],LE)),u.format!==void 0&&(v.format=u.format),u.internalFormat!==void 0&&(v.internalFormat=u.internalFormat),u.type!==void 0&&(v.type=u.type),u.colorSpace!==void 0&&(v.colorSpace=u.colorSpace),u.minFilter!==void 0&&(v.minFilter=i(u.minFilter,OE)),u.magFilter!==void 0&&(v.magFilter=i(u.magFilter,OE)),u.anisotropy!==void 0&&(v.anisotropy=u.anisotropy),u.flipY!==void 0&&(v.flipY=u.flipY),u.generateMipmaps!==void 0&&(v.generateMipmaps=u.generateMipmaps),u.premultiplyAlpha!==void 0&&(v.premultiplyAlpha=u.premultiplyAlpha),u.unpackAlignment!==void 0&&(v.unpackAlignment=u.unpackAlignment),u.compareFunction!==void 0&&(v.compareFunction=u.compareFunction),u.userData!==void 0&&(v.userData=u.userData),a[u.uuid]=v}return a}parseObject(e,t,i,a,r){let l;function u(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function m(p){if(p!==void 0){if(Array.isArray(p)){const b=[];for(let C=0,w=p.length;C<w;C++){const E=p[C];i[E]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",E),b.push(i[E])}return b}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function g(p){return a[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),a[p]}let v,d;switch(e.type){case"Scene":l=new TA,e.background!==void 0&&(Number.isInteger(e.background)?l.background=new ot(e.background):l.background=g(e.background)),e.environment!==void 0&&(l.environment=g(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?l.fog=new Nv(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(l.fog=new Dv(e.fog.color,e.fog.density)),e.fog.name!==""&&(l.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(l.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(l.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&l.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(l.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&l.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":l=new Ii(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(l.focus=e.focus),e.zoom!==void 0&&(l.zoom=e.zoom),e.filmGauge!==void 0&&(l.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(l.filmOffset=e.filmOffset),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"OrthographicCamera":l=new _u(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(l.zoom=e.zoom),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"AmbientLight":l=new IR(e.color,e.intensity);break;case"DirectionalLight":l=new KA(e.color,e.intensity),l.target=e.target||"";break;case"PointLight":l=new YA(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":l=new BR(e.color,e.intensity,e.width,e.height);break;case"SpotLight":l=new JA(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),l.target=e.target||"";break;case"HemisphereLight":l=new RR(e.color,e.groundColor,e.intensity);break;case"LightProbe":l=new NR().fromJSON(e);break;case"SkinnedMesh":v=u(e.geometry),d=m(e.material),l=new RA(v,d),e.bindMode!==void 0&&(l.bindMode=e.bindMode),e.bindMatrix!==void 0&&l.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(l.skeleton=e.skeleton);break;case"Mesh":v=u(e.geometry),d=m(e.material),l=new Di(v,d);break;case"InstancedMesh":v=u(e.geometry),d=m(e.material);const p=e.count,b=e.instanceMatrix,C=e.instanceColor;l=new IA(v,d,p),l.instanceMatrix=new Kh(new Float32Array(b.array),16),C!==void 0&&(l.instanceColor=new Kh(new Float32Array(C.array),C.itemSize));break;case"BatchedMesh":v=u(e.geometry),d=m(e.material),l=new tR(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,d),l.geometry=v,l.perObjectFrustumCulled=e.perObjectFrustumCulled,l.sortObjects=e.sortObjects,l._drawRanges=e.drawRanges,l._reservedRanges=e.reservedRanges,l._geometryInfo=e.geometryInfo.map(w=>{let E=null,M=null;return w.boundingBox!==void 0&&(E=new Ma().fromJSON(w.boundingBox)),w.boundingSphere!==void 0&&(M=new da().fromJSON(w.boundingSphere)),{...w,boundingBox:E,boundingSphere:M}}),l._instanceInfo=e.instanceInfo,l._availableInstanceIds=e._availableInstanceIds,l._availableGeometryIds=e._availableGeometryIds,l._nextIndexStart=e.nextIndexStart,l._nextVertexStart=e.nextVertexStart,l._geometryCount=e.geometryCount,l._maxInstanceCount=e.maxInstanceCount,l._maxVertexCount=e.maxVertexCount,l._maxIndexCount=e.maxIndexCount,l._geometryInitialized=e.geometryInitialized,l._matricesTexture=g(e.matricesTexture.uuid),l._indirectTexture=g(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(l._colorsTexture=g(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(l.boundingSphere=new da().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(l.boundingBox=new Ma().fromJSON(e.boundingBox));break;case"LOD":l=new eR;break;case"Line":l=new ac(u(e.geometry),m(e.material));break;case"LineLoop":l=new BA(u(e.geometry),m(e.material));break;case"LineSegments":l=new ho(u(e.geometry),m(e.material));break;case"PointCloud":case"Points":l=new DA(u(e.geometry),m(e.material));break;case"Sprite":l=new $w(m(e.material));break;case"Group":l=new Xl;break;case"Bone":l=new Lv;break;default:l=new dn}if(l.uuid=e.uuid,e.name!==void 0&&(l.name=e.name),e.matrix!==void 0?(l.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(l.matrixAutoUpdate=e.matrixAutoUpdate),l.matrixAutoUpdate&&l.matrix.decompose(l.position,l.quaternion,l.scale)):(e.position!==void 0&&l.position.fromArray(e.position),e.rotation!==void 0&&l.rotation.fromArray(e.rotation),e.quaternion!==void 0&&l.quaternion.fromArray(e.quaternion),e.scale!==void 0&&l.scale.fromArray(e.scale)),e.up!==void 0&&l.up.fromArray(e.up),e.castShadow!==void 0&&(l.castShadow=e.castShadow),e.receiveShadow!==void 0&&(l.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(l.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(l.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(l.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(l.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&l.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(l.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(l.visible=e.visible),e.frustumCulled!==void 0&&(l.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(l.renderOrder=e.renderOrder),e.userData!==void 0&&(l.userData=e.userData),e.layers!==void 0&&(l.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let b=0;b<p.length;b++)l.add(this.parseObject(p[b],t,i,a,r))}if(e.animations!==void 0){const p=e.animations;for(let b=0;b<p.length;b++){const C=p[b];l.animations.push(r[C])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(l.autoUpdate=e.autoUpdate);const p=e.levels;for(let b=0;b<p.length;b++){const C=p[b],w=l.getObjectByProperty("uuid",C.object);w!==void 0&&l.addLevel(w,C.distance,C.hysteresis)}}return l}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const a=t[i.skeleton];a===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(a,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,a=e.getObjectByProperty("uuid",i);a!==void 0?t.target=a:t.target=new dn}})}}const FP={UVMapping:_v,CubeReflectionMapping:nc,CubeRefractionMapping:fu,EquirectangularReflectionMapping:kp,EquirectangularRefractionMapping:Wp,CubeUVReflectionMapping:b0},LE={RepeatWrapping:du,ClampToEdgeWrapping:Zs,MirroredRepeatWrapping:e0},OE={NearestFilter:fa,NearestMipmapNearestFilter:bv,NearestMipmapLinearFilter:Hh,LinearFilter:Bi,LinearMipmapNearestFilter:Jd,LinearMipmapLinearFilter:Er},F_=new WeakMap;class PR extends Za{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,i,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,l=Ko.get(`image-bitmap:${e}`);if(l!==void 0){if(r.manager.itemStart(e),l.then){l.then(g=>{if(F_.has(l)===!0)a&&a(F_.get(l)),r.manager.itemError(e),r.manager.itemEnd(e);else return t&&t(g),r.manager.itemEnd(e),g});return}return setTimeout(function(){t&&t(l),r.manager.itemEnd(e)},0),l}const u={};u.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",u.headers=this.requestHeader,u.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const m=fetch(e,u).then(function(g){return g.blob()}).then(function(g){return createImageBitmap(g,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(g){return Ko.add(`image-bitmap:${e}`,g),t&&t(g),r.manager.itemEnd(e),g}).catch(function(g){a&&a(g),F_.set(m,g),Ko.remove(`image-bitmap:${e}`),r.manager.itemError(e),r.manager.itemEnd(e)});Ko.add(`image-bitmap:${e}`,m),r.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let Ly;class qA{static getContext(){return Ly===void 0&&(Ly=new(window.AudioContext||window.webkitAudioContext)),Ly}static setContext(e){Ly=e}}class GP extends Za{constructor(e){super(e)}load(e,t,i,a){const r=this,l=new qs(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(m){try{const g=m.slice(0);qA.getContext().decodeAudioData(g,function(d){t(d)}).catch(u)}catch(g){u(g)}},i,a);function u(m){a?a(m):console.error(m),r.manager.itemError(e)}}}const PE=new Nt,UE=new Nt,_h=new Nt;class zP{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ii,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ii,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,_h.copy(e.projectionMatrix);const a=t.eyeSep/2,r=a*t.near/t.focus,l=t.near*Math.tan(Xh*t.fov*.5)/t.zoom;let u,m;UE.elements[12]=-a,PE.elements[12]=a,u=-l*t.aspect+r,m=l*t.aspect+r,_h.elements[0]=2*t.near/(m-u),_h.elements[8]=(m+u)/(m-u),this.cameraL.projectionMatrix.copy(_h),u=-l*t.aspect-r,m=l*t.aspect-r,_h.elements[0]=2*t.near/(m-u),_h.elements[8]=(m+u)/(m-u),this.cameraR.projectionMatrix.copy(_h)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(UE),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(PE)}}class UR extends Ii{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class QA{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const bh=new K,G_=new ka,VP=new K,Ah=new K,Sh=new K;class kP extends dn{constructor(){super(),this.type="AudioListener",this.context=qA.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new QA}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(bh,G_,VP),Ah.set(0,0,-1).applyQuaternion(G_),Sh.set(0,1,0).applyQuaternion(G_),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(bh.x,i),t.positionY.linearRampToValueAtTime(bh.y,i),t.positionZ.linearRampToValueAtTime(bh.z,i),t.forwardX.linearRampToValueAtTime(Ah.x,i),t.forwardY.linearRampToValueAtTime(Ah.y,i),t.forwardZ.linearRampToValueAtTime(Ah.z,i),t.upX.linearRampToValueAtTime(Sh.x,i),t.upY.linearRampToValueAtTime(Sh.y,i),t.upZ.linearRampToValueAtTime(Sh.z,i)}else t.setPosition(bh.x,bh.y,bh.z),t.setOrientation(Ah.x,Ah.y,Ah.z,Sh.x,Sh.y,Sh.z)}}class HR extends dn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Mh=new K,HE=new ka,WP=new K,Ch=new K;class ZP extends HR{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Mh,HE,WP),Ch.set(0,0,1).applyQuaternion(HE);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Mh.x,i),t.positionY.linearRampToValueAtTime(Mh.y,i),t.positionZ.linearRampToValueAtTime(Mh.z,i),t.orientationX.linearRampToValueAtTime(Ch.x,i),t.orientationY.linearRampToValueAtTime(Ch.y,i),t.orientationZ.linearRampToValueAtTime(Ch.z,i)}else t.setPosition(Mh.x,Mh.y,Mh.z),t.setOrientation(Ch.x,Ch.y,Ch.z)}}class XP{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class jR{constructor(e,t,i){this.binding=e,this.valueSize=i;let a,r,l;switch(t){case"quaternion":a=this._slerp,r=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":a=this._select,r=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:a=this._lerp,r=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=r,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,a=this.valueSize,r=e*a+a;let l=this.cumulativeWeight;if(l===0){for(let u=0;u!==a;++u)i[r+u]=i[u];l=t}else{l+=t;const u=t/l;this._mixBufferRegion(i,r,0,u,a)}this.cumulativeWeight=l}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,a=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,a,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,a=e*t+t,r=this.cumulativeWeight,l=this.cumulativeWeightAdditive,u=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const m=t*this._origIndex;this._mixBufferRegion(i,a,m,1-r,t)}l>0&&this._mixBufferRegionAdditive(i,a,this._addIndex*t,1,t);for(let m=t,g=t+t;m!==g;++m)if(i[m]!==i[m+t]){u.setValue(i,a);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,a=i*this._origIndex;e.getValue(t,a);for(let r=i,l=a;r!==l;++r)t[r]=t[a+r%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,a,r){if(a>=.5)for(let l=0;l!==r;++l)e[t+l]=e[i+l]}_slerp(e,t,i,a){ka.slerpFlat(e,t,e,t,e,i,a)}_slerpAdditive(e,t,i,a,r){const l=this._workIndex*r;ka.multiplyQuaternionsFlat(e,l,e,t,e,i),ka.slerpFlat(e,t,e,t,e,l,a)}_lerp(e,t,i,a,r){const l=1-a;for(let u=0;u!==r;++u){const m=t+u;e[m]=e[m]*l+e[i+u]*a}}_lerpAdditive(e,t,i,a,r){for(let l=0;l!==r;++l){const u=t+l;e[u]=e[u]+e[i+l]*a}}}const $A="\\[\\]\\.:\\/",JP=new RegExp("["+$A+"]","g"),eS="[^"+$A+"]",YP="[^"+$A.replace("\\.","")+"]",KP=/((?:WC+[\/:])*)/.source.replace("WC",eS),qP=/(WCOD+)?/.source.replace("WCOD",YP),QP=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",eS),$P=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",eS),eU=new RegExp("^"+KP+qP+QP+$P+"$"),tU=["material","materials","bones","map"];class nU{constructor(e,t,i){const a=i||Sn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,a)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,a=this._bindings[i];a!==void 0&&a.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let a=this._targetGroup.nCachedObjects_,r=i.length;a!==r;++a)i[a].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Sn{constructor(e,t,i){this.path=t,this.parsedPath=i||Sn.parseTrackName(t),this.node=Sn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Sn.Composite(e,t,i):new Sn(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(JP,"")}static parseTrackName(e){const t=eU.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},a=i.nodeName&&i.nodeName.lastIndexOf(".");if(a!==void 0&&a!==-1){const r=i.nodeName.substring(a+1);tU.indexOf(r)!==-1&&(i.nodeName=i.nodeName.substring(0,a),i.objectName=r)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(r){for(let l=0;l<r.length;l++){const u=r[l];if(u.name===t||u.uuid===t)return u;const m=i(u.children);if(m)return m}return null},a=i(e.children);if(a)return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let a=0,r=i.length;a!==r;++a)e[t++]=i[a]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let a=0,r=i.length;a!==r;++a)i[a]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let a=0,r=i.length;a!==r;++a)i[a]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let a=0,r=i.length;a!==r;++a)i[a]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,a=t.propertyName;let r=t.propertyIndex;if(e||(e=Sn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let g=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let v=0;v<e.length;v++)if(e[v].name===g){g=v;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(g!==void 0){if(e[g]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[g]}}const l=e[a];if(l===void 0){const g=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+g+"."+a+" but it wasn't found.",e);return}let u=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?u=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(u=this.Versioning.MatrixWorldNeedsUpdate);let m=this.BindingType.Direct;if(r!==void 0){if(a==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}m=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=r}else l.fromArray!==void 0&&l.toArray!==void 0?(m=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(m=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=a;this.getValue=this.GetterByBindingType[m],this.setValue=this.SetterByBindingTypeAndVersioning[m][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Sn.Composite=nU;Sn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Sn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Sn.prototype.GetterByBindingType=[Sn.prototype._getValue_direct,Sn.prototype._getValue_array,Sn.prototype._getValue_arrayElement,Sn.prototype._getValue_toArray];Sn.prototype.SetterByBindingTypeAndVersioning=[[Sn.prototype._setValue_direct,Sn.prototype._setValue_direct_setNeedsUpdate,Sn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Sn.prototype._setValue_array,Sn.prototype._setValue_array_setNeedsUpdate,Sn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Sn.prototype._setValue_arrayElement,Sn.prototype._setValue_arrayElement_setNeedsUpdate,Sn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Sn.prototype._setValue_fromArray,Sn.prototype._setValue_fromArray_setNeedsUpdate,Sn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class iU{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ys(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,a=arguments.length;i!==a;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,a=this._parsedPaths,r=this._bindings,l=r.length;let u,m=e.length,g=this.nCachedObjects_;for(let v=0,d=arguments.length;v!==d;++v){const p=arguments[v],b=p.uuid;let C=t[b];if(C===void 0){C=m++,t[b]=C,e.push(p);for(let w=0,E=l;w!==E;++w)r[w].push(new Sn(p,i[w],a[w]))}else if(C<g){u=e[C];const w=--g,E=e[w];t[E.uuid]=C,e[C]=E,t[b]=w,e[w]=p;for(let M=0,I=l;M!==I;++M){const B=r[M],N=B[w];let P=B[C];B[C]=N,P===void 0&&(P=new Sn(p,i[M],a[M])),B[w]=P}}else e[C]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=g}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,a=i.length;let r=this.nCachedObjects_;for(let l=0,u=arguments.length;l!==u;++l){const m=arguments[l],g=m.uuid,v=t[g];if(v!==void 0&&v>=r){const d=r++,p=e[d];t[p.uuid]=v,e[v]=p,t[g]=d,e[d]=m;for(let b=0,C=a;b!==C;++b){const w=i[b],E=w[d],M=w[v];w[v]=E,w[d]=M}}}this.nCachedObjects_=r}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,a=i.length;let r=this.nCachedObjects_,l=e.length;for(let u=0,m=arguments.length;u!==m;++u){const g=arguments[u],v=g.uuid,d=t[v];if(d!==void 0)if(delete t[v],d<r){const p=--r,b=e[p],C=--l,w=e[C];t[b.uuid]=d,e[d]=b,t[w.uuid]=p,e[p]=w,e.pop();for(let E=0,M=a;E!==M;++E){const I=i[E],B=I[p],N=I[C];I[d]=B,I[p]=N,I.pop()}}else{const p=--l,b=e[p];p>0&&(t[b.uuid]=d),e[d]=b,e.pop();for(let C=0,w=a;C!==w;++C){const E=i[C];E[d]=E[p],E.pop()}}}this.nCachedObjects_=r}subscribe_(e,t){const i=this._bindingsIndicesByPath;let a=i[e];const r=this._bindings;if(a!==void 0)return r[a];const l=this._paths,u=this._parsedPaths,m=this._objects,g=m.length,v=this.nCachedObjects_,d=new Array(g);a=r.length,i[e]=a,l.push(e),u.push(t),r.push(d);for(let p=v,b=m.length;p!==b;++p){const C=m[p];d[p]=new Sn(C,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const a=this._paths,r=this._parsedPaths,l=this._bindings,u=l.length-1,m=l[u],g=e[u];t[g]=i,l[i]=m,l.pop(),r[i]=r[u],r.pop(),a[i]=a[u],a.pop()}}}class FR{constructor(e,t,i=null,a=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=a;const r=t.tracks,l=r.length,u=new Array(l),m={endingStart:jh,endingEnd:jh};for(let g=0;g!==l;++g){const v=r[g].createInterpolant(null);u[g]=v,v.settings=m}this._interpolantSettings=m,this._interpolants=u,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Iw,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const a=this._clip.duration,r=e._clip.duration,l=r/a,u=a/r;e.warp(1,l,t),this.warp(u,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const a=this._mixer,r=a.time,l=this.timeScale;let u=this._timeScaleInterpolant;u===null&&(u=a._lendControlInterpolant(),this._timeScaleInterpolant=u);const m=u.parameterPositions,g=u.sampleValues;return m[0]=r,m[1]=r+i,g[0]=e/l,g[1]=t/l,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,a){if(!this.enabled){this._updateWeight(e);return}const r=this._startTime;if(r!==null){const m=(e-r)*i;m<0||i===0?t=0:(this._startTime=null,t=i*m)}t*=this._updateTimeScale(e);const l=this._updateTime(t),u=this._updateWeight(e);if(u>0){const m=this._interpolants,g=this._propertyBindings;switch(this.blendMode){case _A:for(let v=0,d=m.length;v!==d;++v)m[v].evaluate(l),g[v].accumulateAdditive(u);break;case wv:default:for(let v=0,d=m.length;v!==d;++v)m[v].evaluate(l),g[v].accumulate(a,u)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const a=i.evaluate(e)[0];t*=a,e>i.parameterPositions[1]&&(this.stopFading(),a===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const a=i.evaluate(e)[0];t*=a,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let a=this.time+e,r=this._loopCount;const l=i===Bw;if(e===0)return r===-1?a:l&&(r&1)===1?t-a:a;if(i===Rw){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(a>=t)a=t;else if(a<0)a=0;else{this.time=a;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(r===-1&&(e>=0?(r=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),a>=t||a<0){const u=Math.floor(a/t);a-=t*u,r+=Math.abs(u);const m=this.repetitions-r;if(m<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,a=e>0?t:0,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(m===1){const g=e<0;this._setEndings(g,!g,l)}else this._setEndings(!1,!1,l);this._loopCount=r,this.time=a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:u})}}else this.time=a;if(l&&(r&1)===1)return t-a}return a}_setEndings(e,t,i){const a=this._interpolantSettings;i?(a.endingStart=Fh,a.endingEnd=Fh):(e?a.endingStart=this.zeroSlopeAtStart?Fh:jh:a.endingStart=Zp,t?a.endingEnd=this.zeroSlopeAtEnd?Fh:jh:a.endingEnd=Zp)}_scheduleFading(e,t,i){const a=this._mixer,r=a.time;let l=this._weightInterpolant;l===null&&(l=a._lendControlInterpolant(),this._weightInterpolant=l);const u=l.parameterPositions,m=l.sampleValues;return u[0]=r,m[0]=t,u[1]=r+e,m[1]=i,this}}const aU=new Float32Array(1);class GR extends al{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,a=e._clip.tracks,r=a.length,l=e._propertyBindings,u=e._interpolants,m=i.uuid,g=this._bindingsByRootAndName;let v=g[m];v===void 0&&(v={},g[m]=v);for(let d=0;d!==r;++d){const p=a[d],b=p.name;let C=v[b];if(C!==void 0)++C.referenceCount,l[d]=C;else{if(C=l[d],C!==void 0){C._cacheIndex===null&&(++C.referenceCount,this._addInactiveBinding(C,m,b));continue}const w=t&&t._propertyBindings[d].binding.parsedPath;C=new jR(Sn.create(i,b,w),p.ValueTypeName,p.getValueSize()),++C.referenceCount,this._addInactiveBinding(C,m,b),l[d]=C}u[d].resultBuffer=C.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,a=e._clip.uuid,r=this._actionsByClip[a];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,a,i)}const t=e._propertyBindings;for(let i=0,a=t.length;i!==a;++i){const r=t[i];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,a=t.length;i!==a;++i){const r=t[i];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const a=this._actions,r=this._actionsByClip;let l=r[t];if(l===void 0)l={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=l;else{const u=l.knownActions;e._byClipCacheIndex=u.length,u.push(e)}e._cacheIndex=a.length,a.push(e),l.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],a=e._cacheIndex;i._cacheIndex=a,t[a]=i,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,l=this._actionsByClip,u=l[r],m=u.knownActions,g=m[m.length-1],v=e._byClipCacheIndex;g._byClipCacheIndex=v,m[v]=g,m.pop(),e._byClipCacheIndex=null;const d=u.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],m.length===0&&delete l[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,a=t.length;i!==a;++i){const r=t[i];--r.referenceCount===0&&this._removeInactiveBinding(r)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,a=this._nActiveActions++,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=i,t[i]=r}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,a=--this._nActiveActions,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=i,t[i]=r}_addInactiveBinding(e,t,i){const a=this._bindingsByRootAndName,r=this._bindings;let l=a[t];l===void 0&&(l={},a[t]=l),l[i]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,a=i.rootNode.uuid,r=i.path,l=this._bindingsByRootAndName,u=l[a],m=t[t.length-1],g=e._cacheIndex;m._cacheIndex=g,t[g]=m,t.pop(),delete u[r],Object.keys(u).length===0&&delete l[a]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,a=this._nActiveBindings++,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=i,t[i]=r}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,a=--this._nActiveBindings,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=i,t[i]=r}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new kA(new Float32Array(2),new Float32Array(2),1,aU),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,a=--this._nActiveControlInterpolants,r=t[a];e.__cacheIndex=a,t[a]=e,r.__cacheIndex=i,t[i]=r}clipAction(e,t,i){const a=t||this._root,r=a.uuid;let l=typeof e=="string"?f0.findByName(a,e):e;const u=l!==null?l.uuid:e,m=this._actionsByClip[u];let g=null;if(i===void 0&&(l!==null?i=l.blendMode:i=wv),m!==void 0){const d=m.actionByRoot[r];if(d!==void 0&&d.blendMode===i)return d;g=m.knownActions[0],l===null&&(l=g._clip)}if(l===null)return null;const v=new FR(this,l,t,i);return this._bindAction(v,g),this._addInactiveAction(v,u,r),v}existingAction(e,t){const i=t||this._root,a=i.uuid,r=typeof e=="string"?f0.findByName(i,e):e,l=r?r.uuid:e,u=this._actionsByClip[l];return u!==void 0&&u.actionByRoot[a]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,a=this.time+=e,r=Math.sign(e),l=this._accuIndex^=1;for(let g=0;g!==i;++g)t[g]._update(a,e,r,l);const u=this._bindings,m=this._nActiveBindings;for(let g=0;g!==m;++g)u[g].apply(l);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,a=this._actionsByClip,r=a[i];if(r!==void 0){const l=r.knownActions;for(let u=0,m=l.length;u!==m;++u){const g=l[u];this._deactivateAction(g);const v=g._cacheIndex,d=t[t.length-1];g._cacheIndex=null,g._byClipCacheIndex=null,d._cacheIndex=v,t[v]=d,t.pop(),this._removeInactiveBindingsForAction(g)}delete a[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const l in i){const u=i[l].actionByRoot,m=u[t];m!==void 0&&(this._deactivateAction(m),this._removeInactiveAction(m))}const a=this._bindingsByRootAndName,r=a[t];if(r!==void 0)for(const l in r){const u=r[l];u.restoreOriginalState(),this._removeInactiveBinding(u)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class sU extends MA{constructor(e=1,t=1,i=1,a={}){super(e,t,a),this.isRenderTarget3D=!0,this.depth=i,this.texture=new Iv(null,e,t,i),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class tS{constructor(e){this.value=e}clone(){return new tS(this.value.clone===void 0?this.value:this.value.clone())}}let rU=0;class oU extends al{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:rU++}),this.name="",this.usage=Jp,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,a=t.length;i<a;i++){const r=Array.isArray(t[i])?t[i]:[t[i]];for(let l=0;l<r.length;l++)this.uniforms.push(r[l].clone())}return this}clone(){return new this.constructor().copy(this)}}class lU extends gg{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class cU{constructor(e,t,i,a,r,l=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=a,this.count=r,this.normalized=l,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const jE=new Nt;class zR{constructor(e,t,i=0,a=1/0){this.ray=new S0(e,t),this.near=i,this.far=a,this.camera=null,this.layers=new c0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return jE.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(jE),this}intersectObject(e,t=!0,i=[]){return rb(e,this,i,t),i.sort(FE),i}intersectObjects(e,t=!0,i=[]){for(let a=0,r=e.length;a<r;a++)rb(e[a],this,i,t);return i.sort(FE),i}}function FE(n,e){return n.distance-e.distance}function rb(n,e,t,i){let a=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(a=!1),a===!0&&i===!0){const r=n.children;for(let l=0,u=r.length;l<u;l++)rb(r[l],e,t,!0)}}class uU{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=hU.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function hU(){this._document.hidden===!1&&this.reset()}class fU{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Ft(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Ft(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class dU{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class nS{constructor(e,t,i,a){nS.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,a)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,a){const r=this.elements;return r[0]=e,r[2]=t,r[1]=i,r[3]=a,this}}const GE=new ze;class mU{constructor(e=new ze(1/0,1/0),t=new ze(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=GE.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,GE).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const zE=new K,Oy=new K,Dd=new K,Nd=new K,z_=new K,pU=new K,gU=new K;class yU{constructor(e=new K,t=new K){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){zE.subVectors(e,this.start),Oy.subVectors(this.end,this.start);const i=Oy.dot(Oy);let r=Oy.dot(zE)/i;return t&&(r=Ft(r,0,1)),r}closestPointToPoint(e,t,i){const a=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(a).add(this.start)}distanceSqToLine3(e,t=pU,i=gU){const a=10000000000000001e-32;let r,l;const u=this.start,m=e.start,g=this.end,v=e.end;Dd.subVectors(g,u),Nd.subVectors(v,m),z_.subVectors(u,m);const d=Dd.dot(Dd),p=Nd.dot(Nd),b=Nd.dot(z_);if(d<=a&&p<=a)return t.copy(u),i.copy(m),t.sub(i),t.dot(t);if(d<=a)r=0,l=b/p,l=Ft(l,0,1);else{const C=Dd.dot(z_);if(p<=a)l=0,r=Ft(-C/d,0,1);else{const w=Dd.dot(Nd),E=d*p-w*w;E!==0?r=Ft((w*b-C*p)/E,0,1):r=0,l=(w*r+b)/p,l<0?(l=0,r=Ft(-C/d,0,1)):l>1&&(l=1,r=Ft((w-C)/d,0,1))}}return t.copy(u).add(Dd.multiplyScalar(r)),i.copy(m).add(Nd.multiplyScalar(l)),t.sub(i),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const VE=new K;class vU extends dn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Zt,a=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,u=1,m=32;l<m;l++,u++){const g=l/m*Math.PI*2,v=u/m*Math.PI*2;a.push(Math.cos(g),Math.sin(g),1,Math.cos(v),Math.sin(v),1)}i.setAttribute("position",new bt(a,3));const r=new Wa({fog:!1,toneMapped:!1});this.cone=new ho(i,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),VE.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(VE),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const $c=new K,Py=new Nt,V_=new Nt;class xU extends ho{constructor(e){const t=VR(e),i=new Zt,a=[],r=[];for(let g=0;g<t.length;g++){const v=t[g];v.parent&&v.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),r.push(0,0,0),r.push(0,0,0))}i.setAttribute("position",new bt(a,3)),i.setAttribute("color",new bt(r,3));const l=new Wa({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const u=new ot(255),m=new ot(65280);this.setColors(u,m)}updateMatrixWorld(e){const t=this.bones,i=this.geometry,a=i.getAttribute("position");V_.copy(this.root.matrixWorld).invert();for(let r=0,l=0;r<t.length;r++){const u=t[r];u.parent&&u.parent.isBone&&(Py.multiplyMatrices(V_,u.matrixWorld),$c.setFromMatrixPosition(Py),a.setXYZ(l,$c.x,$c.y,$c.z),Py.multiplyMatrices(V_,u.parent.matrixWorld),$c.setFromMatrixPosition(Py),a.setXYZ(l+1,$c.x,$c.y,$c.z),l+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const a=this.geometry.getAttribute("color");for(let r=0;r<a.count;r+=2)a.setXYZ(r,e.r,e.g,e.b),a.setXYZ(r+1,t.r,t.g,t.b);return a.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function VR(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...VR(n.children[t]));return e}class _U extends Di{constructor(e,t,i){const a=new bg(t,4,2),r=new Js({wireframe:!0,fog:!1,toneMapped:!1});super(a,r),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const bU=new K,kE=new ot,WE=new ot;class AU extends dn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const a=new _g(t);a.rotateY(Math.PI*.5),this.material=new Js({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const r=a.getAttribute("position"),l=new Float32Array(r.count*3);a.setAttribute("color",new Rn(l,3)),this.add(new Di(a,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");kE.copy(this.light.color),WE.copy(this.light.groundColor);for(let i=0,a=t.count;i<a;i++){const r=i<a/2?kE:WE;t.setXYZ(i,r.r,r.g,r.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(bU.setFromMatrixPosition(this.light.matrixWorld).negate())}}class SU extends ho{constructor(e=10,t=10,i=4473924,a=8947848){i=new ot(i),a=new ot(a);const r=t/2,l=e/t,u=e/2,m=[],g=[];for(let p=0,b=0,C=-u;p<=t;p++,C+=l){m.push(-u,0,C,u,0,C),m.push(C,0,-u,C,0,u);const w=p===r?i:a;w.toArray(g,b),b+=3,w.toArray(g,b),b+=3,w.toArray(g,b),b+=3,w.toArray(g,b),b+=3}const v=new Zt;v.setAttribute("position",new bt(m,3)),v.setAttribute("color",new bt(g,3));const d=new Wa({vertexColors:!0,toneMapped:!1});super(v,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class MU extends ho{constructor(e=10,t=16,i=8,a=64,r=4473924,l=8947848){r=new ot(r),l=new ot(l);const u=[],m=[];if(t>1)for(let d=0;d<t;d++){const p=d/t*(Math.PI*2),b=Math.sin(p)*e,C=Math.cos(p)*e;u.push(0,0,0),u.push(b,0,C);const w=d&1?r:l;m.push(w.r,w.g,w.b),m.push(w.r,w.g,w.b)}for(let d=0;d<i;d++){const p=d&1?r:l,b=e-e/i*d;for(let C=0;C<a;C++){let w=C/a*(Math.PI*2),E=Math.sin(w)*b,M=Math.cos(w)*b;u.push(E,0,M),m.push(p.r,p.g,p.b),w=(C+1)/a*(Math.PI*2),E=Math.sin(w)*b,M=Math.cos(w)*b,u.push(E,0,M),m.push(p.r,p.g,p.b)}}const g=new Zt;g.setAttribute("position",new bt(u,3)),g.setAttribute("color",new bt(m,3));const v=new Wa({vertexColors:!0,toneMapped:!1});super(g,v),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const ZE=new K,Uy=new K,XE=new K;class CU extends dn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let a=new Zt;a.setAttribute("position",new bt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const r=new Wa({fog:!1,toneMapped:!1});this.lightPlane=new ac(a,r),this.add(this.lightPlane),a=new Zt,a.setAttribute("position",new bt([0,0,0,0,0,1],3)),this.targetLine=new ac(a,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),ZE.setFromMatrixPosition(this.light.matrixWorld),Uy.setFromMatrixPosition(this.light.target.matrixWorld),XE.subVectors(Uy,ZE),this.lightPlane.lookAt(Uy),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Uy),this.targetLine.scale.z=XE.length()}}const Hy=new K,bi=new Bv;class EU extends ho{constructor(e){const t=new Zt,i=new Wa({color:16777215,vertexColors:!0,toneMapped:!1}),a=[],r=[],l={};u("n1","n2"),u("n2","n4"),u("n4","n3"),u("n3","n1"),u("f1","f2"),u("f2","f4"),u("f4","f3"),u("f3","f1"),u("n1","f1"),u("n2","f2"),u("n3","f3"),u("n4","f4"),u("p","n1"),u("p","n2"),u("p","n3"),u("p","n4"),u("u1","u2"),u("u2","u3"),u("u3","u1"),u("c","t"),u("p","c"),u("cn1","cn2"),u("cn3","cn4"),u("cf1","cf2"),u("cf3","cf4");function u(C,w){m(C),m(w)}function m(C){a.push(0,0,0),r.push(0,0,0),l[C]===void 0&&(l[C]=[]),l[C].push(a.length/3-1)}t.setAttribute("position",new bt(a,3)),t.setAttribute("color",new bt(r,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update();const g=new ot(16755200),v=new ot(16711680),d=new ot(43775),p=new ot(16777215),b=new ot(3355443);this.setColors(g,v,d,p,b)}setColors(e,t,i,a,r){const u=this.geometry.getAttribute("color");return u.setXYZ(0,e.r,e.g,e.b),u.setXYZ(1,e.r,e.g,e.b),u.setXYZ(2,e.r,e.g,e.b),u.setXYZ(3,e.r,e.g,e.b),u.setXYZ(4,e.r,e.g,e.b),u.setXYZ(5,e.r,e.g,e.b),u.setXYZ(6,e.r,e.g,e.b),u.setXYZ(7,e.r,e.g,e.b),u.setXYZ(8,e.r,e.g,e.b),u.setXYZ(9,e.r,e.g,e.b),u.setXYZ(10,e.r,e.g,e.b),u.setXYZ(11,e.r,e.g,e.b),u.setXYZ(12,e.r,e.g,e.b),u.setXYZ(13,e.r,e.g,e.b),u.setXYZ(14,e.r,e.g,e.b),u.setXYZ(15,e.r,e.g,e.b),u.setXYZ(16,e.r,e.g,e.b),u.setXYZ(17,e.r,e.g,e.b),u.setXYZ(18,e.r,e.g,e.b),u.setXYZ(19,e.r,e.g,e.b),u.setXYZ(20,e.r,e.g,e.b),u.setXYZ(21,e.r,e.g,e.b),u.setXYZ(22,e.r,e.g,e.b),u.setXYZ(23,e.r,e.g,e.b),u.setXYZ(24,t.r,t.g,t.b),u.setXYZ(25,t.r,t.g,t.b),u.setXYZ(26,t.r,t.g,t.b),u.setXYZ(27,t.r,t.g,t.b),u.setXYZ(28,t.r,t.g,t.b),u.setXYZ(29,t.r,t.g,t.b),u.setXYZ(30,t.r,t.g,t.b),u.setXYZ(31,t.r,t.g,t.b),u.setXYZ(32,i.r,i.g,i.b),u.setXYZ(33,i.r,i.g,i.b),u.setXYZ(34,i.r,i.g,i.b),u.setXYZ(35,i.r,i.g,i.b),u.setXYZ(36,i.r,i.g,i.b),u.setXYZ(37,i.r,i.g,i.b),u.setXYZ(38,a.r,a.g,a.b),u.setXYZ(39,a.r,a.g,a.b),u.setXYZ(40,r.r,r.g,r.b),u.setXYZ(41,r.r,r.g,r.b),u.setXYZ(42,r.r,r.g,r.b),u.setXYZ(43,r.r,r.g,r.b),u.setXYZ(44,r.r,r.g,r.b),u.setXYZ(45,r.r,r.g,r.b),u.setXYZ(46,r.r,r.g,r.b),u.setXYZ(47,r.r,r.g,r.b),u.setXYZ(48,r.r,r.g,r.b),u.setXYZ(49,r.r,r.g,r.b),u.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,i=1,a=1;let r,l;if(bi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)r=1,l=0;else if(this.camera.coordinateSystem===Xs)r=-1,l=1;else if(this.camera.coordinateSystem===o0)r=0,l=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);wi("c",t,e,bi,0,0,r),wi("t",t,e,bi,0,0,l),wi("n1",t,e,bi,-i,-a,r),wi("n2",t,e,bi,i,-a,r),wi("n3",t,e,bi,-i,a,r),wi("n4",t,e,bi,i,a,r),wi("f1",t,e,bi,-i,-a,l),wi("f2",t,e,bi,i,-a,l),wi("f3",t,e,bi,-i,a,l),wi("f4",t,e,bi,i,a,l),wi("u1",t,e,bi,i*.7,a*1.1,r),wi("u2",t,e,bi,-i*.7,a*1.1,r),wi("u3",t,e,bi,0,a*2,r),wi("cf1",t,e,bi,-i,0,l),wi("cf2",t,e,bi,i,0,l),wi("cf3",t,e,bi,0,-a,l),wi("cf4",t,e,bi,0,a,l),wi("cn1",t,e,bi,-i,0,r),wi("cn2",t,e,bi,i,0,r),wi("cn3",t,e,bi,0,-a,r),wi("cn4",t,e,bi,0,a,r),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function wi(n,e,t,i,a,r,l){Hy.set(a,r,l).unproject(i);const u=e[n];if(u!==void 0){const m=t.getAttribute("position");for(let g=0,v=u.length;g<v;g++)m.setXYZ(u[g],Hy.x,Hy.y,Hy.z)}}const jy=new Ma;class TU extends ho{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new Float32Array(24),r=new Zt;r.setIndex(new Rn(i,1)),r.setAttribute("position",new Rn(a,3)),super(r,new Wa({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&jy.setFromObject(this.object),jy.isEmpty())return;const e=jy.min,t=jy.max,i=this.geometry.attributes.position,a=i.array;a[0]=t.x,a[1]=t.y,a[2]=t.z,a[3]=e.x,a[4]=t.y,a[5]=t.z,a[6]=e.x,a[7]=e.y,a[8]=t.z,a[9]=t.x,a[10]=e.y,a[11]=t.z,a[12]=t.x,a[13]=t.y,a[14]=e.z,a[15]=e.x,a[16]=t.y,a[17]=e.z,a[18]=e.x,a[19]=e.y,a[20]=e.z,a[21]=t.x,a[22]=e.y,a[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class wU extends ho{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new Zt;r.setIndex(new Rn(i,1)),r.setAttribute("position",new bt(a,3)),super(r,new Wa({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class RU extends ac{constructor(e,t=1,i=16776960){const a=i,r=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],l=new Zt;l.setAttribute("position",new bt(r,3)),l.computeBoundingSphere(),super(l,new Wa({color:a,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const u=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],m=new Zt;m.setAttribute("position",new bt(u,3)),m.computeBoundingSphere(),this.add(new Di(m,new Js({color:a,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const JE=new K;let Fy,k_;class IU extends dn{constructor(e=new K(0,0,1),t=new K(0,0,0),i=1,a=16776960,r=i*.2,l=r*.2){super(),this.type="ArrowHelper",Fy===void 0&&(Fy=new Zt,Fy.setAttribute("position",new bt([0,0,0,0,1,0],3)),k_=new xg(.5,1,5,1),k_.translate(0,-.5,0)),this.position.copy(t),this.line=new ac(Fy,new Wa({color:a,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Di(k_,new Js({color:a,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,r,l)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{JE.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(JE,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class BU extends ho{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],a=new Zt;a.setAttribute("position",new bt(t,3)),a.setAttribute("color",new bt(i,3));const r=new Wa({vertexColors:!0,toneMapped:!1});super(a,r),this.type="AxesHelper"}setColors(e,t,i){const a=new ot,r=this.geometry.attributes.color.array;return a.set(e),a.toArray(r,0),a.toArray(r,3),a.set(t),a.toArray(r,6),a.toArray(r,9),a.set(i),a.toArray(r,12),a.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class DU{constructor(){this.type="ShapePath",this.color=new ot,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new nv,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,a){return this.currentPath.quadraticCurveTo(e,t,i,a),this}bezierCurveTo(e,t,i,a,r,l){return this.currentPath.bezierCurveTo(e,t,i,a,r,l),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(M){const I=[];for(let B=0,N=M.length;B<N;B++){const P=M[B],U=new Jh;U.curves=P.curves,I.push(U)}return I}function i(M,I){const B=I.length;let N=!1;for(let P=B-1,U=0;U<B;P=U++){let F=I[P],j=I[U],O=j.x-F.x,H=j.y-F.y;if(Math.abs(H)>Number.EPSILON){if(H<0&&(F=I[U],O=-O,j=I[P],H=-H),M.y<F.y||M.y>j.y)continue;if(M.y===F.y){if(M.x===F.x)return!0}else{const J=H*(M.x-F.x)-O*(M.y-F.y);if(J===0)return!0;if(J<0)continue;N=!N}}else{if(M.y!==F.y)continue;if(j.x<=M.x&&M.x<=F.x||F.x<=M.x&&M.x<=j.x)return!0}}return N}const a=oo.isClockWise,r=this.subPaths;if(r.length===0)return[];let l,u,m;const g=[];if(r.length===1)return u=r[0],m=new Jh,m.curves=u.curves,g.push(m),g;let v=!a(r[0].getPoints());v=e?!v:v;const d=[],p=[];let b=[],C=0,w;p[C]=void 0,b[C]=[];for(let M=0,I=r.length;M<I;M++)u=r[M],w=u.getPoints(),l=a(w),l=e?!l:l,l?(!v&&p[C]&&C++,p[C]={s:new Jh,p:w},p[C].s.curves=u.curves,v&&C++,b[C]=[]):b[C].push({h:u,p:w[0]});if(!p[0])return t(r);if(p.length>1){let M=!1,I=0;for(let B=0,N=p.length;B<N;B++)d[B]=[];for(let B=0,N=p.length;B<N;B++){const P=b[B];for(let U=0;U<P.length;U++){const F=P[U];let j=!0;for(let O=0;O<p.length;O++)i(F.p,p[O].p)&&(B!==O&&I++,j?(j=!1,d[O].push(F)):M=!0);j&&d[B].push(F)}}I>0&&M===!1&&(b=d)}let E;for(let M=0,I=p.length;M<I;M++){m=p[M].s,g.push(m),E=b[M];for(let B=0,N=E.length;B<N;B++)m.holes.push(E[B].h)}return g}}class NU extends al{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function LU(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function OU(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function PU(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function ob(n,e,t,i){const a=UU(i);switch(t){case yA:return n*e;case Cv:return n*e/a.components*a.byteLength;case mg:return n*e/a.components*a.byteLength;case xA:return n*e*2/a.components*a.byteLength;case Ev:return n*e*2/a.components*a.byteLength;case vA:return n*e*3/a.components*a.byteLength;case Va:return n*e*4/a.components*a.byteLength;case Tv:return n*e*4/a.components*a.byteLength;case wp:case Rp:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Ip:case Bp:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case C2:case T2:return Math.max(n,16)*Math.max(e,8)/4;case M2:case E2:return Math.max(n,8)*Math.max(e,8)/2;case w2:case R2:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case I2:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case B2:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case D2:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case N2:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case L2:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case O2:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case P2:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case U2:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case H2:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case j2:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case F2:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case G2:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case z2:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case V2:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case k2:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case W2:case Z2:case X2:return Math.ceil(n/4)*Math.ceil(e/4)*16;case J2:case Y2:return Math.ceil(n/4)*Math.ceil(e/4)*8;case K2:case q2:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function UU(n){switch(n){case Rr:case dA:return{byteLength:1,components:1};case t0:case mA:case A0:return{byteLength:2,components:1};case Sv:case Mv:return{byteLength:2,components:4};case ic:case Av:case Ds:return{byteLength:4,components:1};case pA:case gA:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class HU{static contain(e,t){return LU(e,t)}static cover(e,t){return OU(e,t)}static fill(e){return PU(e)}static getByteLength(e,t,i,a){return ob(e,t,i,a)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:fg}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=fg);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function kR(){let n=null,e=!1,t=null,i=null;function a(r,l){t(r,l),i=n.requestAnimationFrame(a)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(a),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(r){t=r},setContext:function(r){n=r}}}function jU(n){const e=new WeakMap;function t(u,m){const g=u.array,v=u.usage,d=g.byteLength,p=n.createBuffer();n.bindBuffer(m,p),n.bufferData(m,g,v),u.onUploadCallback();let b;if(g instanceof Float32Array)b=n.FLOAT;else if(typeof Float16Array<"u"&&g instanceof Float16Array)b=n.HALF_FLOAT;else if(g instanceof Uint16Array)u.isFloat16BufferAttribute?b=n.HALF_FLOAT:b=n.UNSIGNED_SHORT;else if(g instanceof Int16Array)b=n.SHORT;else if(g instanceof Uint32Array)b=n.UNSIGNED_INT;else if(g instanceof Int32Array)b=n.INT;else if(g instanceof Int8Array)b=n.BYTE;else if(g instanceof Uint8Array)b=n.UNSIGNED_BYTE;else if(g instanceof Uint8ClampedArray)b=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+g);return{buffer:p,type:b,bytesPerElement:g.BYTES_PER_ELEMENT,version:u.version,size:d}}function i(u,m,g){const v=m.array,d=m.updateRanges;if(n.bindBuffer(g,u),d.length===0)n.bufferSubData(g,0,v);else{d.sort((b,C)=>b.start-C.start);let p=0;for(let b=1;b<d.length;b++){const C=d[p],w=d[b];w.start<=C.start+C.count+1?C.count=Math.max(C.count,w.start+w.count-C.start):(++p,d[p]=w)}d.length=p+1;for(let b=0,C=d.length;b<C;b++){const w=d[b];n.bufferSubData(g,w.start*v.BYTES_PER_ELEMENT,v,w.start,w.count)}m.clearUpdateRanges()}m.onUploadCallback()}function a(u){return u.isInterleavedBufferAttribute&&(u=u.data),e.get(u)}function r(u){u.isInterleavedBufferAttribute&&(u=u.data);const m=e.get(u);m&&(n.deleteBuffer(m.buffer),e.delete(u))}function l(u,m){if(u.isInterleavedBufferAttribute&&(u=u.data),u.isGLBufferAttribute){const v=e.get(u);(!v||v.version<u.version)&&e.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}const g=e.get(u);if(g===void 0)e.set(u,t(u,m));else if(g.version<u.version){if(g.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(g.buffer,u,m),g.version=u.version}}return{get:a,remove:r,update:l}}var FU=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,GU=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,zU=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,VU=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,kU=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,WU=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,ZU=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,XU=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,JU=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,YU=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,KU=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,qU=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,QU=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,$U=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,eH=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,tH=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,nH=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,iH=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,aH=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,sH=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,rH=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,oH=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,lH=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,cH=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,uH=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,hH=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,fH=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,dH=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,mH=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,pH=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,gH="gl_FragColor = linearToOutputTexel( gl_FragColor );",yH=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,vH=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,xH=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,_H=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,bH=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,AH=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,SH=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,MH=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,CH=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,EH=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,TH=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,wH=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,RH=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,IH=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,BH=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,DH=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,NH=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,LH=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,OH=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,PH=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,UH=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,HH=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,jH=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,FH=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,GH=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,zH=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,VH=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,kH=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,WH=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,ZH=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,XH=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,JH=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,YH=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,KH=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,qH=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,QH=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,$H=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,ej=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,tj=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,nj=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,ij=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,aj=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,sj=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,rj=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,oj=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,lj=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,cj=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,uj=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,hj=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,fj=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,dj=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,mj=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,pj=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,gj=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,yj=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,vj=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,xj=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,_j=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,bj=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Aj=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Sj=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Mj=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Cj=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Ej=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Tj=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,wj=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Rj=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Ij=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Bj=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Dj=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Nj=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Lj=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Oj=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Pj=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Uj=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Hj=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const jj=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Fj=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Gj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,zj=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Vj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,kj=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Wj=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Zj=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Xj=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Jj=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Yj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Kj=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,qj=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Qj=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,$j=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,eF=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tF=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nF=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iF=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,aF=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sF=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,rF=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,oF=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lF=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cF=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,uF=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hF=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fF=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dF=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,mF=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,pF=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gF=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,yF=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,vF=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,nn={alphahash_fragment:FU,alphahash_pars_fragment:GU,alphamap_fragment:zU,alphamap_pars_fragment:VU,alphatest_fragment:kU,alphatest_pars_fragment:WU,aomap_fragment:ZU,aomap_pars_fragment:XU,batching_pars_vertex:JU,batching_vertex:YU,begin_vertex:KU,beginnormal_vertex:qU,bsdfs:QU,iridescence_fragment:$U,bumpmap_pars_fragment:eH,clipping_planes_fragment:tH,clipping_planes_pars_fragment:nH,clipping_planes_pars_vertex:iH,clipping_planes_vertex:aH,color_fragment:sH,color_pars_fragment:rH,color_pars_vertex:oH,color_vertex:lH,common:cH,cube_uv_reflection_fragment:uH,defaultnormal_vertex:hH,displacementmap_pars_vertex:fH,displacementmap_vertex:dH,emissivemap_fragment:mH,emissivemap_pars_fragment:pH,colorspace_fragment:gH,colorspace_pars_fragment:yH,envmap_fragment:vH,envmap_common_pars_fragment:xH,envmap_pars_fragment:_H,envmap_pars_vertex:bH,envmap_physical_pars_fragment:DH,envmap_vertex:AH,fog_vertex:SH,fog_pars_vertex:MH,fog_fragment:CH,fog_pars_fragment:EH,gradientmap_pars_fragment:TH,lightmap_pars_fragment:wH,lights_lambert_fragment:RH,lights_lambert_pars_fragment:IH,lights_pars_begin:BH,lights_toon_fragment:NH,lights_toon_pars_fragment:LH,lights_phong_fragment:OH,lights_phong_pars_fragment:PH,lights_physical_fragment:UH,lights_physical_pars_fragment:HH,lights_fragment_begin:jH,lights_fragment_maps:FH,lights_fragment_end:GH,logdepthbuf_fragment:zH,logdepthbuf_pars_fragment:VH,logdepthbuf_pars_vertex:kH,logdepthbuf_vertex:WH,map_fragment:ZH,map_pars_fragment:XH,map_particle_fragment:JH,map_particle_pars_fragment:YH,metalnessmap_fragment:KH,metalnessmap_pars_fragment:qH,morphinstance_vertex:QH,morphcolor_vertex:$H,morphnormal_vertex:ej,morphtarget_pars_vertex:tj,morphtarget_vertex:nj,normal_fragment_begin:ij,normal_fragment_maps:aj,normal_pars_fragment:sj,normal_pars_vertex:rj,normal_vertex:oj,normalmap_pars_fragment:lj,clearcoat_normal_fragment_begin:cj,clearcoat_normal_fragment_maps:uj,clearcoat_pars_fragment:hj,iridescence_pars_fragment:fj,opaque_fragment:dj,packing:mj,premultiplied_alpha_fragment:pj,project_vertex:gj,dithering_fragment:yj,dithering_pars_fragment:vj,roughnessmap_fragment:xj,roughnessmap_pars_fragment:_j,shadowmap_pars_fragment:bj,shadowmap_pars_vertex:Aj,shadowmap_vertex:Sj,shadowmask_pars_fragment:Mj,skinbase_vertex:Cj,skinning_pars_vertex:Ej,skinning_vertex:Tj,skinnormal_vertex:wj,specularmap_fragment:Rj,specularmap_pars_fragment:Ij,tonemapping_fragment:Bj,tonemapping_pars_fragment:Dj,transmission_fragment:Nj,transmission_pars_fragment:Lj,uv_pars_fragment:Oj,uv_pars_vertex:Pj,uv_vertex:Uj,worldpos_vertex:Hj,background_vert:jj,background_frag:Fj,backgroundCube_vert:Gj,backgroundCube_frag:zj,cube_vert:Vj,cube_frag:kj,depth_vert:Wj,depth_frag:Zj,distanceRGBA_vert:Xj,distanceRGBA_frag:Jj,equirect_vert:Yj,equirect_frag:Kj,linedashed_vert:qj,linedashed_frag:Qj,meshbasic_vert:$j,meshbasic_frag:eF,meshlambert_vert:tF,meshlambert_frag:nF,meshmatcap_vert:iF,meshmatcap_frag:aF,meshnormal_vert:sF,meshnormal_frag:rF,meshphong_vert:oF,meshphong_frag:lF,meshphysical_vert:cF,meshphysical_frag:uF,meshtoon_vert:hF,meshtoon_frag:fF,points_vert:dF,points_frag:mF,shadow_vert:pF,shadow_frag:gF,sprite_vert:yF,sprite_frag:vF},ct={common:{diffuse:{value:new ot(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Yt},alphaMap:{value:null},alphaMapTransform:{value:new Yt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Yt}},envmap:{envMap:{value:null},envMapRotation:{value:new Yt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Yt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Yt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Yt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Yt},normalScale:{value:new ze(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Yt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Yt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Yt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Yt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ot(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ot(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Yt},alphaTest:{value:0},uvTransform:{value:new Yt}},sprite:{diffuse:{value:new ot(16777215)},opacity:{value:1},center:{value:new ze(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Yt},alphaMap:{value:null},alphaMapTransform:{value:new Yt},alphaTest:{value:0}}},ro={basic:{uniforms:ms([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.fog]),vertexShader:nn.meshbasic_vert,fragmentShader:nn.meshbasic_frag},lambert:{uniforms:ms([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,ct.lights,{emissive:{value:new ot(0)}}]),vertexShader:nn.meshlambert_vert,fragmentShader:nn.meshlambert_frag},phong:{uniforms:ms([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,ct.lights,{emissive:{value:new ot(0)},specular:{value:new ot(1118481)},shininess:{value:30}}]),vertexShader:nn.meshphong_vert,fragmentShader:nn.meshphong_frag},standard:{uniforms:ms([ct.common,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.roughnessmap,ct.metalnessmap,ct.fog,ct.lights,{emissive:{value:new ot(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:nn.meshphysical_vert,fragmentShader:nn.meshphysical_frag},toon:{uniforms:ms([ct.common,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.gradientmap,ct.fog,ct.lights,{emissive:{value:new ot(0)}}]),vertexShader:nn.meshtoon_vert,fragmentShader:nn.meshtoon_frag},matcap:{uniforms:ms([ct.common,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,{matcap:{value:null}}]),vertexShader:nn.meshmatcap_vert,fragmentShader:nn.meshmatcap_frag},points:{uniforms:ms([ct.points,ct.fog]),vertexShader:nn.points_vert,fragmentShader:nn.points_frag},dashed:{uniforms:ms([ct.common,ct.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:nn.linedashed_vert,fragmentShader:nn.linedashed_frag},depth:{uniforms:ms([ct.common,ct.displacementmap]),vertexShader:nn.depth_vert,fragmentShader:nn.depth_frag},normal:{uniforms:ms([ct.common,ct.bumpmap,ct.normalmap,ct.displacementmap,{opacity:{value:1}}]),vertexShader:nn.meshnormal_vert,fragmentShader:nn.meshnormal_frag},sprite:{uniforms:ms([ct.sprite,ct.fog]),vertexShader:nn.sprite_vert,fragmentShader:nn.sprite_frag},background:{uniforms:{uvTransform:{value:new Yt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:nn.background_vert,fragmentShader:nn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Yt}},vertexShader:nn.backgroundCube_vert,fragmentShader:nn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:nn.cube_vert,fragmentShader:nn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:nn.equirect_vert,fragmentShader:nn.equirect_frag},distanceRGBA:{uniforms:ms([ct.common,ct.displacementmap,{referencePosition:{value:new K},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:nn.distanceRGBA_vert,fragmentShader:nn.distanceRGBA_frag},shadow:{uniforms:ms([ct.lights,ct.fog,{color:{value:new ot(0)},opacity:{value:1}}]),vertexShader:nn.shadow_vert,fragmentShader:nn.shadow_frag}};ro.physical={uniforms:ms([ro.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Yt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Yt},clearcoatNormalScale:{value:new ze(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Yt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Yt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Yt},sheen:{value:0},sheenColor:{value:new ot(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Yt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Yt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Yt},transmissionSamplerSize:{value:new ze},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Yt},attenuationDistance:{value:0},attenuationColor:{value:new ot(0)},specularColor:{value:new ot(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Yt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Yt},anisotropyVector:{value:new ze},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Yt}}]),vertexShader:nn.meshphysical_vert,fragmentShader:nn.meshphysical_frag};const Gy={r:0,b:0,g:0},Eh=new Ks,xF=new Nt;function _F(n,e,t,i,a,r,l){const u=new ot(0);let m=r===!0?0:1,g,v,d=null,p=0,b=null;function C(B){let N=B.isScene===!0?B.background:null;return N&&N.isTexture&&(N=(B.backgroundBlurriness>0?t:e).get(N)),N}function w(B){let N=!1;const P=C(B);P===null?M(u,m):P&&P.isColor&&(M(P,1),N=!0);const U=n.xr.getEnvironmentBlendMode();U==="additive"?i.buffers.color.setClear(0,0,0,1,l):U==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,l),(n.autoClear||N)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function E(B,N){const P=C(N);P&&(P.isCubeTexture||P.mapping===b0)?(v===void 0&&(v=new Di(new af(1,1,1),new co({name:"BackgroundCubeMaterial",uniforms:u0(ro.backgroundCube.uniforms),vertexShader:ro.backgroundCube.vertexShader,fragmentShader:ro.backgroundCube.fragmentShader,side:vs,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),v.geometry.deleteAttribute("normal"),v.geometry.deleteAttribute("uv"),v.onBeforeRender=function(U,F,j){this.matrixWorld.copyPosition(j.matrixWorld)},Object.defineProperty(v.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(v)),Eh.copy(N.backgroundRotation),Eh.x*=-1,Eh.y*=-1,Eh.z*=-1,P.isCubeTexture&&P.isRenderTargetTexture===!1&&(Eh.y*=-1,Eh.z*=-1),v.material.uniforms.envMap.value=P,v.material.uniforms.flipEnvMap.value=P.isCubeTexture&&P.isRenderTargetTexture===!1?-1:1,v.material.uniforms.backgroundBlurriness.value=N.backgroundBlurriness,v.material.uniforms.backgroundIntensity.value=N.backgroundIntensity,v.material.uniforms.backgroundRotation.value.setFromMatrix4(xF.makeRotationFromEuler(Eh)),v.material.toneMapped=An.getTransfer(P.colorSpace)!==Fn,(d!==P||p!==P.version||b!==n.toneMapping)&&(v.material.needsUpdate=!0,d=P,p=P.version,b=n.toneMapping),v.layers.enableAll(),B.unshift(v,v.geometry,v.material,0,0,null)):P&&P.isTexture&&(g===void 0&&(g=new Di(new C0(2,2),new co({name:"BackgroundMaterial",uniforms:u0(ro.background.uniforms),vertexShader:ro.background.vertexShader,fragmentShader:ro.background.fragmentShader,side:tl,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),g.geometry.deleteAttribute("normal"),Object.defineProperty(g.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(g)),g.material.uniforms.t2D.value=P,g.material.uniforms.backgroundIntensity.value=N.backgroundIntensity,g.material.toneMapped=An.getTransfer(P.colorSpace)!==Fn,P.matrixAutoUpdate===!0&&P.updateMatrix(),g.material.uniforms.uvTransform.value.copy(P.matrix),(d!==P||p!==P.version||b!==n.toneMapping)&&(g.material.needsUpdate=!0,d=P,p=P.version,b=n.toneMapping),g.layers.enableAll(),B.unshift(g,g.geometry,g.material,0,0,null))}function M(B,N){B.getRGB(Gy,Jw(n)),i.buffers.color.setClear(Gy.r,Gy.g,Gy.b,N,l)}function I(){v!==void 0&&(v.geometry.dispose(),v.material.dispose(),v=void 0),g!==void 0&&(g.geometry.dispose(),g.material.dispose(),g=void 0)}return{getClearColor:function(){return u},setClearColor:function(B,N=1){u.set(B),m=N,M(u,m)},getClearAlpha:function(){return m},setClearAlpha:function(B){m=B,M(u,m)},render:w,addToRenderList:E,dispose:I}}function bF(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},a=p(null);let r=a,l=!1;function u(H,J,ie,oe,ge){let ce=!1;const G=d(oe,ie,J);r!==G&&(r=G,g(r.object)),ce=b(H,oe,ie,ge),ce&&C(H,oe,ie,ge),ge!==null&&e.update(ge,n.ELEMENT_ARRAY_BUFFER),(ce||l)&&(l=!1,N(H,J,ie,oe),ge!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(ge).buffer))}function m(){return n.createVertexArray()}function g(H){return n.bindVertexArray(H)}function v(H){return n.deleteVertexArray(H)}function d(H,J,ie){const oe=ie.wireframe===!0;let ge=i[H.id];ge===void 0&&(ge={},i[H.id]=ge);let ce=ge[J.id];ce===void 0&&(ce={},ge[J.id]=ce);let G=ce[oe];return G===void 0&&(G=p(m()),ce[oe]=G),G}function p(H){const J=[],ie=[],oe=[];for(let ge=0;ge<t;ge++)J[ge]=0,ie[ge]=0,oe[ge]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:J,enabledAttributes:ie,attributeDivisors:oe,object:H,attributes:{},index:null}}function b(H,J,ie,oe){const ge=r.attributes,ce=J.attributes;let G=0;const Z=ie.getAttributes();for(const Q in Z)if(Z[Q].location>=0){const ye=ge[Q];let X=ce[Q];if(X===void 0&&(Q==="instanceMatrix"&&H.instanceMatrix&&(X=H.instanceMatrix),Q==="instanceColor"&&H.instanceColor&&(X=H.instanceColor)),ye===void 0||ye.attribute!==X||X&&ye.data!==X.data)return!0;G++}return r.attributesNum!==G||r.index!==oe}function C(H,J,ie,oe){const ge={},ce=J.attributes;let G=0;const Z=ie.getAttributes();for(const Q in Z)if(Z[Q].location>=0){let ye=ce[Q];ye===void 0&&(Q==="instanceMatrix"&&H.instanceMatrix&&(ye=H.instanceMatrix),Q==="instanceColor"&&H.instanceColor&&(ye=H.instanceColor));const X={};X.attribute=ye,ye&&ye.data&&(X.data=ye.data),ge[Q]=X,G++}r.attributes=ge,r.attributesNum=G,r.index=oe}function w(){const H=r.newAttributes;for(let J=0,ie=H.length;J<ie;J++)H[J]=0}function E(H){M(H,0)}function M(H,J){const ie=r.newAttributes,oe=r.enabledAttributes,ge=r.attributeDivisors;ie[H]=1,oe[H]===0&&(n.enableVertexAttribArray(H),oe[H]=1),ge[H]!==J&&(n.vertexAttribDivisor(H,J),ge[H]=J)}function I(){const H=r.newAttributes,J=r.enabledAttributes;for(let ie=0,oe=J.length;ie<oe;ie++)J[ie]!==H[ie]&&(n.disableVertexAttribArray(ie),J[ie]=0)}function B(H,J,ie,oe,ge,ce,G){G===!0?n.vertexAttribIPointer(H,J,ie,ge,ce):n.vertexAttribPointer(H,J,ie,oe,ge,ce)}function N(H,J,ie,oe){w();const ge=oe.attributes,ce=ie.getAttributes(),G=J.defaultAttributeValues;for(const Z in ce){const Q=ce[Z];if(Q.location>=0){let le=ge[Z];if(le===void 0&&(Z==="instanceMatrix"&&H.instanceMatrix&&(le=H.instanceMatrix),Z==="instanceColor"&&H.instanceColor&&(le=H.instanceColor)),le!==void 0){const ye=le.normalized,X=le.itemSize,ae=e.get(le);if(ae===void 0)continue;const Ce=ae.buffer,Re=ae.type,Ze=ae.bytesPerElement,ve=Re===n.INT||Re===n.UNSIGNED_INT||le.gpuType===Av;if(le.isInterleavedBufferAttribute){const we=le.data,Ke=we.stride,it=le.offset;if(we.isInstancedInterleavedBuffer){for(let at=0;at<Q.locationSize;at++)M(Q.location+at,we.meshPerAttribute);H.isInstancedMesh!==!0&&oe._maxInstanceCount===void 0&&(oe._maxInstanceCount=we.meshPerAttribute*we.count)}else for(let at=0;at<Q.locationSize;at++)E(Q.location+at);n.bindBuffer(n.ARRAY_BUFFER,Ce);for(let at=0;at<Q.locationSize;at++)B(Q.location+at,X/Q.locationSize,Re,ye,Ke*Ze,(it+X/Q.locationSize*at)*Ze,ve)}else{if(le.isInstancedBufferAttribute){for(let we=0;we<Q.locationSize;we++)M(Q.location+we,le.meshPerAttribute);H.isInstancedMesh!==!0&&oe._maxInstanceCount===void 0&&(oe._maxInstanceCount=le.meshPerAttribute*le.count)}else for(let we=0;we<Q.locationSize;we++)E(Q.location+we);n.bindBuffer(n.ARRAY_BUFFER,Ce);for(let we=0;we<Q.locationSize;we++)B(Q.location+we,X/Q.locationSize,Re,ye,X*Ze,X/Q.locationSize*we*Ze,ve)}}else if(G!==void 0){const ye=G[Z];if(ye!==void 0)switch(ye.length){case 2:n.vertexAttrib2fv(Q.location,ye);break;case 3:n.vertexAttrib3fv(Q.location,ye);break;case 4:n.vertexAttrib4fv(Q.location,ye);break;default:n.vertexAttrib1fv(Q.location,ye)}}}}I()}function P(){j();for(const H in i){const J=i[H];for(const ie in J){const oe=J[ie];for(const ge in oe)v(oe[ge].object),delete oe[ge];delete J[ie]}delete i[H]}}function U(H){if(i[H.id]===void 0)return;const J=i[H.id];for(const ie in J){const oe=J[ie];for(const ge in oe)v(oe[ge].object),delete oe[ge];delete J[ie]}delete i[H.id]}function F(H){for(const J in i){const ie=i[J];if(ie[H.id]===void 0)continue;const oe=ie[H.id];for(const ge in oe)v(oe[ge].object),delete oe[ge];delete ie[H.id]}}function j(){O(),l=!0,r!==a&&(r=a,g(r.object))}function O(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:u,reset:j,resetDefaultState:O,dispose:P,releaseStatesOfGeometry:U,releaseStatesOfProgram:F,initAttributes:w,enableAttribute:E,disableUnusedAttributes:I}}function AF(n,e,t){let i;function a(g){i=g}function r(g,v){n.drawArrays(i,g,v),t.update(v,i,1)}function l(g,v,d){d!==0&&(n.drawArraysInstanced(i,g,v,d),t.update(v,i,d))}function u(g,v,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,g,0,v,0,d);let b=0;for(let C=0;C<d;C++)b+=v[C];t.update(b,i,1)}function m(g,v,d,p){if(d===0)return;const b=e.get("WEBGL_multi_draw");if(b===null)for(let C=0;C<g.length;C++)l(g[C],v[C],p[C]);else{b.multiDrawArraysInstancedWEBGL(i,g,0,v,0,p,0,d);let C=0;for(let w=0;w<d;w++)C+=v[w]*p[w];t.update(C,i,1)}}this.setMode=a,this.render=r,this.renderInstances=l,this.renderMultiDraw=u,this.renderMultiDrawInstances=m}function SF(n,e,t,i){let a;function r(){if(a!==void 0)return a;if(e.has("EXT_texture_filter_anisotropic")===!0){const F=e.get("EXT_texture_filter_anisotropic");a=n.getParameter(F.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a}function l(F){return!(F!==Va&&i.convert(F)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function u(F){const j=F===A0&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(F!==Rr&&i.convert(F)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&F!==Ds&&!j)}function m(F){if(F==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";F="mediump"}return F==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let g=t.precision!==void 0?t.precision:"highp";const v=m(g);v!==g&&(console.warn("THREE.WebGLRenderer:",g,"not supported, using",v,"instead."),g=v);const d=t.logarithmicDepthBuffer===!0,p=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),b=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),C=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),w=n.getParameter(n.MAX_TEXTURE_SIZE),E=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),M=n.getParameter(n.MAX_VERTEX_ATTRIBS),I=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),B=n.getParameter(n.MAX_VARYING_VECTORS),N=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),P=C>0,U=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:r,getMaxPrecision:m,textureFormatReadable:l,textureTypeReadable:u,precision:g,logarithmicDepthBuffer:d,reversedDepthBuffer:p,maxTextures:b,maxVertexTextures:C,maxTextureSize:w,maxCubemapSize:E,maxAttributes:M,maxVertexUniforms:I,maxVaryings:B,maxFragmentUniforms:N,vertexTextures:P,maxSamples:U}}function MF(n){const e=this;let t=null,i=0,a=!1,r=!1;const l=new nu,u=new Yt,m={value:null,needsUpdate:!1};this.uniform=m,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const b=d.length!==0||p||i!==0||a;return a=p,i=d.length,b},this.beginShadows=function(){r=!0,v(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(d,p){t=v(d,p,0)},this.setState=function(d,p,b){const C=d.clippingPlanes,w=d.clipIntersection,E=d.clipShadows,M=n.get(d);if(!a||C===null||C.length===0||r&&!E)r?v(null):g();else{const I=r?0:i,B=I*4;let N=M.clippingState||null;m.value=N,N=v(C,p,B,b);for(let P=0;P!==B;++P)N[P]=t[P];M.clippingState=N,this.numIntersection=w?this.numPlanes:0,this.numPlanes+=I}};function g(){m.value!==t&&(m.value=t,m.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function v(d,p,b,C){const w=d!==null?d.length:0;let E=null;if(w!==0){if(E=m.value,C!==!0||E===null){const M=b+w*4,I=p.matrixWorldInverse;u.getNormalMatrix(I),(E===null||E.length<M)&&(E=new Float32Array(M));for(let B=0,N=b;B!==w;++B,N+=4)l.copy(d[B]).applyMatrix4(I,u),l.normal.toArray(E,N),E[N+3]=l.constant}m.value=E,m.needsUpdate=!0}return e.numPlanes=w,e.numIntersection=0,E}}function CF(n){let e=new WeakMap;function t(l,u){return u===kp?l.mapping=nc:u===Wp&&(l.mapping=fu),l}function i(l){if(l&&l.isTexture){const u=l.mapping;if(u===kp||u===Wp)if(e.has(l)){const m=e.get(l).texture;return t(m,l.mapping)}else{const m=l.image;if(m&&m.height>0){const g=new qw(m.height);return g.fromEquirectangularTexture(n,l),e.set(l,g),l.addEventListener("dispose",a),t(g.texture,l.mapping)}else return null}}return l}function a(l){const u=l.target;u.removeEventListener("dispose",a);const m=e.get(u);m!==void 0&&(e.delete(u),m.dispose())}function r(){e=new WeakMap}return{get:i,dispose:r}}const Zd=4,YE=[.125,.215,.35,.446,.526,.582],Oh=20,W_=new _u,KE=new ot;let Z_=null,X_=0,J_=0,Y_=!1;const Lh=(1+Math.sqrt(5))/2,Ld=1/Lh,qE=[new K(-Lh,Ld,0),new K(Lh,Ld,0),new K(-Ld,0,Lh),new K(Ld,0,Lh),new K(0,Lh,-Ld),new K(0,Lh,Ld),new K(-1,1,-1),new K(1,1,-1),new K(-1,1,1),new K(1,1,1)],EF=new K;class lb{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,a=100,r={}){const{size:l=256,position:u=EF}=r;Z_=this._renderer.getRenderTarget(),X_=this._renderer.getActiveCubeFace(),J_=this._renderer.getActiveMipmapLevel(),Y_=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(l);const m=this._allocateTargets();return m.depthBuffer=!0,this._sceneToCubeUV(e,i,a,m,u),t>0&&this._blur(m,0,0,t),this._applyPMREM(m),this._cleanup(m),m}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=eT(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=$E(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Z_,X_,J_),this._renderer.xr.enabled=Y_,e.scissorTest=!1,zy(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===nc||e.mapping===fu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Z_=this._renderer.getRenderTarget(),X_=this._renderer.getActiveCubeFace(),J_=this._renderer.getActiveMipmapLevel(),Y_=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Bi,minFilter:Bi,generateMipmaps:!1,type:A0,format:Va,colorSpace:mu,depthBuffer:!1},a=QE(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=QE(e,t,i);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=TF(r)),this._blurMaterial=wF(r,e,t)}return a}_compileMaterial(e){const t=new Di(this._lodPlanes[0],e);this._renderer.compile(t,W_)}_sceneToCubeUV(e,t,i,a,r){const m=new Ii(90,1,t,i),g=[1,-1,1,1,1,1],v=[1,1,1,-1,-1,-1],d=this._renderer,p=d.autoClear,b=d.toneMapping;d.getClearColor(KE),d.toneMapping=$o,d.autoClear=!1,d.state.buffers.depth.getReversed()&&(d.setRenderTarget(a),d.clearDepth(),d.setRenderTarget(null));const w=new Js({name:"PMREM.Background",side:vs,depthWrite:!1,depthTest:!1}),E=new Di(new af,w);let M=!1;const I=e.background;I?I.isColor&&(w.color.copy(I),e.background=null,M=!0):(w.color.copy(KE),M=!0);for(let B=0;B<6;B++){const N=B%3;N===0?(m.up.set(0,g[B],0),m.position.set(r.x,r.y,r.z),m.lookAt(r.x+v[B],r.y,r.z)):N===1?(m.up.set(0,0,g[B]),m.position.set(r.x,r.y,r.z),m.lookAt(r.x,r.y+v[B],r.z)):(m.up.set(0,g[B],0),m.position.set(r.x,r.y,r.z),m.lookAt(r.x,r.y,r.z+v[B]));const P=this._cubeSize;zy(a,N*P,B>2?P:0,P,P),d.setRenderTarget(a),M&&d.render(E,m),d.render(e,m)}E.geometry.dispose(),E.material.dispose(),d.toneMapping=b,d.autoClear=p,e.background=I}_textureToCubeUV(e,t){const i=this._renderer,a=e.mapping===nc||e.mapping===fu;a?(this._cubemapMaterial===null&&(this._cubemapMaterial=eT()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=$E());const r=a?this._cubemapMaterial:this._equirectMaterial,l=new Di(this._lodPlanes[0],r),u=r.uniforms;u.envMap.value=e;const m=this._cubeSize;zy(t,0,0,3*m,2*m),i.setRenderTarget(t),i.render(l,W_)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const a=this._lodPlanes.length;for(let r=1;r<a;r++){const l=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),u=qE[(a-r-1)%qE.length];this._blur(e,r-1,r,l,u)}t.autoClear=i}_blur(e,t,i,a,r){const l=this._pingPongRenderTarget;this._halfBlur(e,l,t,i,a,"latitudinal",r),this._halfBlur(l,e,i,i,a,"longitudinal",r)}_halfBlur(e,t,i,a,r,l,u){const m=this._renderer,g=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const v=3,d=new Di(this._lodPlanes[a],g),p=g.uniforms,b=this._sizeLods[i]-1,C=isFinite(r)?Math.PI/(2*b):2*Math.PI/(2*Oh-1),w=r/C,E=isFinite(r)?1+Math.floor(v*w):Oh;E>Oh&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${E} samples when the maximum is set to ${Oh}`);const M=[];let I=0;for(let F=0;F<Oh;++F){const j=F/w,O=Math.exp(-j*j/2);M.push(O),F===0?I+=O:F<E&&(I+=2*O)}for(let F=0;F<M.length;F++)M[F]=M[F]/I;p.envMap.value=e.texture,p.samples.value=E,p.weights.value=M,p.latitudinal.value=l==="latitudinal",u&&(p.poleAxis.value=u);const{_lodMax:B}=this;p.dTheta.value=C,p.mipInt.value=B-i;const N=this._sizeLods[a],P=3*N*(a>B-Zd?a-B+Zd:0),U=4*(this._cubeSize-N);zy(t,P,U,3*N,2*N),m.setRenderTarget(t),m.render(d,W_)}}function TF(n){const e=[],t=[],i=[];let a=n;const r=n-Zd+1+YE.length;for(let l=0;l<r;l++){const u=Math.pow(2,a);t.push(u);let m=1/u;l>n-Zd?m=YE[l-n+Zd-1]:l===0&&(m=0),i.push(m);const g=1/(u-2),v=-g,d=1+g,p=[v,v,d,v,d,d,v,v,d,d,v,d],b=6,C=6,w=3,E=2,M=1,I=new Float32Array(w*C*b),B=new Float32Array(E*C*b),N=new Float32Array(M*C*b);for(let U=0;U<b;U++){const F=U%3*2/3-1,j=U>2?0:-1,O=[F,j,0,F+2/3,j,0,F+2/3,j+1,0,F,j,0,F+2/3,j+1,0,F,j+1,0];I.set(O,w*C*U),B.set(p,E*C*U);const H=[U,U,U,U,U,U];N.set(H,M*C*U)}const P=new Zt;P.setAttribute("position",new Rn(I,w)),P.setAttribute("uv",new Rn(B,E)),P.setAttribute("faceIndex",new Rn(N,M)),e.push(P),a>Zd&&a--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function QE(n,e,t){const i=new nl(n,e,t);return i.texture.mapping=b0,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function zy(n,e,t,i,a){n.viewport.set(e,t,i,a),n.scissor.set(e,t,i,a)}function wF(n,e,t){const i=new Float32Array(Oh),a=new K(0,1,0);return new co({name:"SphericalGaussianBlur",defines:{n:Oh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:iS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Yl,depthTest:!1,depthWrite:!1})}function $E(){return new co({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:iS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Yl,depthTest:!1,depthWrite:!1})}function eT(){return new co({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:iS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Yl,depthTest:!1,depthWrite:!1})}function iS(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function RF(n){let e=new WeakMap,t=null;function i(u){if(u&&u.isTexture){const m=u.mapping,g=m===kp||m===Wp,v=m===nc||m===fu;if(g||v){let d=e.get(u);const p=d!==void 0?d.texture.pmremVersion:0;if(u.isRenderTargetTexture&&u.pmremVersion!==p)return t===null&&(t=new lb(n)),d=g?t.fromEquirectangular(u,d):t.fromCubemap(u,d),d.texture.pmremVersion=u.pmremVersion,e.set(u,d),d.texture;if(d!==void 0)return d.texture;{const b=u.image;return g&&b&&b.height>0||v&&b&&a(b)?(t===null&&(t=new lb(n)),d=g?t.fromEquirectangular(u):t.fromCubemap(u),d.texture.pmremVersion=u.pmremVersion,e.set(u,d),u.addEventListener("dispose",r),d.texture):null}}}return u}function a(u){let m=0;const g=6;for(let v=0;v<g;v++)u[v]!==void 0&&m++;return m===g}function r(u){const m=u.target;m.removeEventListener("dispose",r);const g=e.get(m);g!==void 0&&(e.delete(m),g.dispose())}function l(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:l}}function IF(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let a;switch(i){case"WEBGL_depth_texture":a=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":a=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":a=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":a=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:a=n.getExtension(i)}return e[i]=a,a}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const a=t(i);return a===null&&Kp("THREE.WebGLRenderer: "+i+" extension not supported."),a}}}function BF(n,e,t,i){const a={},r=new WeakMap;function l(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const C in p.attributes)e.remove(p.attributes[C]);p.removeEventListener("dispose",l),delete a[p.id];const b=r.get(p);b&&(e.remove(b),r.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function u(d,p){return a[p.id]===!0||(p.addEventListener("dispose",l),a[p.id]=!0,t.memory.geometries++),p}function m(d){const p=d.attributes;for(const b in p)e.update(p[b],n.ARRAY_BUFFER)}function g(d){const p=[],b=d.index,C=d.attributes.position;let w=0;if(b!==null){const I=b.array;w=b.version;for(let B=0,N=I.length;B<N;B+=3){const P=I[B+0],U=I[B+1],F=I[B+2];p.push(P,U,U,F,F,P)}}else if(C!==void 0){const I=C.array;w=C.version;for(let B=0,N=I.length/3-1;B<N;B+=3){const P=B+0,U=B+1,F=B+2;p.push(P,U,U,F,F,P)}}else return;const E=new(kw(p)?EA:CA)(p,1);E.version=w;const M=r.get(d);M&&e.remove(M),r.set(d,E)}function v(d){const p=r.get(d);if(p){const b=d.index;b!==null&&p.version<b.version&&g(d)}else g(d);return r.get(d)}return{get:u,update:m,getWireframeAttribute:v}}function DF(n,e,t){let i;function a(p){i=p}let r,l;function u(p){r=p.type,l=p.bytesPerElement}function m(p,b){n.drawElements(i,b,r,p*l),t.update(b,i,1)}function g(p,b,C){C!==0&&(n.drawElementsInstanced(i,b,r,p*l,C),t.update(b,i,C))}function v(p,b,C){if(C===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,b,0,r,p,0,C);let E=0;for(let M=0;M<C;M++)E+=b[M];t.update(E,i,1)}function d(p,b,C,w){if(C===0)return;const E=e.get("WEBGL_multi_draw");if(E===null)for(let M=0;M<p.length;M++)g(p[M]/l,b[M],w[M]);else{E.multiDrawElementsInstancedWEBGL(i,b,0,r,p,0,w,0,C);let M=0;for(let I=0;I<C;I++)M+=b[I]*w[I];t.update(M,i,1)}}this.setMode=a,this.setIndex=u,this.render=m,this.renderInstances=g,this.renderMultiDraw=v,this.renderMultiDrawInstances=d}function NF(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(r,l,u){switch(t.calls++,l){case n.TRIANGLES:t.triangles+=u*(r/3);break;case n.LINES:t.lines+=u*(r/2);break;case n.LINE_STRIP:t.lines+=u*(r-1);break;case n.LINE_LOOP:t.lines+=u*r;break;case n.POINTS:t.points+=u*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l);break}}function a(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:a,update:i}}function LF(n,e,t){const i=new WeakMap,a=new wn;function r(l,u,m){const g=l.morphTargetInfluences,v=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,d=v!==void 0?v.length:0;let p=i.get(u);if(p===void 0||p.count!==d){let H=function(){j.dispose(),i.delete(u),u.removeEventListener("dispose",H)};var b=H;p!==void 0&&p.texture.dispose();const C=u.morphAttributes.position!==void 0,w=u.morphAttributes.normal!==void 0,E=u.morphAttributes.color!==void 0,M=u.morphAttributes.position||[],I=u.morphAttributes.normal||[],B=u.morphAttributes.color||[];let N=0;C===!0&&(N=1),w===!0&&(N=2),E===!0&&(N=3);let P=u.attributes.position.count*N,U=1;P>e.maxTextureSize&&(U=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const F=new Float32Array(P*U*4*d),j=new Rv(F,P,U,d);j.type=Ds,j.needsUpdate=!0;const O=N*4;for(let J=0;J<d;J++){const ie=M[J],oe=I[J],ge=B[J],ce=P*U*4*J;for(let G=0;G<ie.count;G++){const Z=G*O;C===!0&&(a.fromBufferAttribute(ie,G),F[ce+Z+0]=a.x,F[ce+Z+1]=a.y,F[ce+Z+2]=a.z,F[ce+Z+3]=0),w===!0&&(a.fromBufferAttribute(oe,G),F[ce+Z+4]=a.x,F[ce+Z+5]=a.y,F[ce+Z+6]=a.z,F[ce+Z+7]=0),E===!0&&(a.fromBufferAttribute(ge,G),F[ce+Z+8]=a.x,F[ce+Z+9]=a.y,F[ce+Z+10]=a.z,F[ce+Z+11]=ge.itemSize===4?a.w:1)}}p={count:d,texture:j,size:new ze(P,U)},i.set(u,p),u.addEventListener("dispose",H)}if(l.isInstancedMesh===!0&&l.morphTexture!==null)m.getUniforms().setValue(n,"morphTexture",l.morphTexture,t);else{let C=0;for(let E=0;E<g.length;E++)C+=g[E];const w=u.morphTargetsRelative?1:1-C;m.getUniforms().setValue(n,"morphTargetBaseInfluence",w),m.getUniforms().setValue(n,"morphTargetInfluences",g)}m.getUniforms().setValue(n,"morphTargetsTexture",p.texture,t),m.getUniforms().setValue(n,"morphTargetsTextureSize",p.size)}return{update:r}}function OF(n,e,t,i){let a=new WeakMap;function r(m){const g=i.render.frame,v=m.geometry,d=e.get(m,v);if(a.get(d)!==g&&(e.update(d),a.set(d,g)),m.isInstancedMesh&&(m.hasEventListener("dispose",u)===!1&&m.addEventListener("dispose",u),a.get(m)!==g&&(t.update(m.instanceMatrix,n.ARRAY_BUFFER),m.instanceColor!==null&&t.update(m.instanceColor,n.ARRAY_BUFFER),a.set(m,g))),m.isSkinnedMesh){const p=m.skeleton;a.get(p)!==g&&(p.update(),a.set(p,g))}return d}function l(){a=new WeakMap}function u(m){const g=m.target;g.removeEventListener("dispose",u),t.remove(g.instanceMatrix),g.instanceColor!==null&&t.remove(g.instanceColor)}return{update:r,dispose:l}}const WR=new oi,tT=new NA(1,1),ZR=new Rv,XR=new Iv,JR=new pg,nT=[],iT=[],aT=new Float32Array(16),sT=new Float32Array(9),rT=new Float32Array(4);function T0(n,e,t){const i=n[0];if(i<=0||i>0)return n;const a=e*t;let r=nT[a];if(r===void 0&&(r=new Float32Array(a),nT[a]=r),e!==0){i.toArray(r,0);for(let l=1,u=0;l!==e;++l)u+=t,n[l].toArray(r,u)}return r}function qi(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Qi(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function Qv(n,e){let t=iT[e];t===void 0&&(t=new Int32Array(e),iT[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function PF(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function UF(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(qi(t,e))return;n.uniform2fv(this.addr,e),Qi(t,e)}}function HF(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(qi(t,e))return;n.uniform3fv(this.addr,e),Qi(t,e)}}function jF(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(qi(t,e))return;n.uniform4fv(this.addr,e),Qi(t,e)}}function FF(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(qi(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Qi(t,e)}else{if(qi(t,i))return;rT.set(i),n.uniformMatrix2fv(this.addr,!1,rT),Qi(t,i)}}function GF(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(qi(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Qi(t,e)}else{if(qi(t,i))return;sT.set(i),n.uniformMatrix3fv(this.addr,!1,sT),Qi(t,i)}}function zF(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(qi(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Qi(t,e)}else{if(qi(t,i))return;aT.set(i),n.uniformMatrix4fv(this.addr,!1,aT),Qi(t,i)}}function VF(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function kF(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(qi(t,e))return;n.uniform2iv(this.addr,e),Qi(t,e)}}function WF(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(qi(t,e))return;n.uniform3iv(this.addr,e),Qi(t,e)}}function ZF(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(qi(t,e))return;n.uniform4iv(this.addr,e),Qi(t,e)}}function XF(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function JF(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(qi(t,e))return;n.uniform2uiv(this.addr,e),Qi(t,e)}}function YF(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(qi(t,e))return;n.uniform3uiv(this.addr,e),Qi(t,e)}}function KF(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(qi(t,e))return;n.uniform4uiv(this.addr,e),Qi(t,e)}}function qF(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a);let r;this.type===n.SAMPLER_2D_SHADOW?(tT.compareFunction=AA,r=tT):r=WR,t.setTexture2D(e||r,a)}function QF(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a),t.setTexture3D(e||XR,a)}function $F(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a),t.setTextureCube(e||JR,a)}function eG(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a),t.setTexture2DArray(e||ZR,a)}function tG(n){switch(n){case 5126:return PF;case 35664:return UF;case 35665:return HF;case 35666:return jF;case 35674:return FF;case 35675:return GF;case 35676:return zF;case 5124:case 35670:return VF;case 35667:case 35671:return kF;case 35668:case 35672:return WF;case 35669:case 35673:return ZF;case 5125:return XF;case 36294:return JF;case 36295:return YF;case 36296:return KF;case 35678:case 36198:case 36298:case 36306:case 35682:return qF;case 35679:case 36299:case 36307:return QF;case 35680:case 36300:case 36308:case 36293:return $F;case 36289:case 36303:case 36311:case 36292:return eG}}function nG(n,e){n.uniform1fv(this.addr,e)}function iG(n,e){const t=T0(e,this.size,2);n.uniform2fv(this.addr,t)}function aG(n,e){const t=T0(e,this.size,3);n.uniform3fv(this.addr,t)}function sG(n,e){const t=T0(e,this.size,4);n.uniform4fv(this.addr,t)}function rG(n,e){const t=T0(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function oG(n,e){const t=T0(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function lG(n,e){const t=T0(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function cG(n,e){n.uniform1iv(this.addr,e)}function uG(n,e){n.uniform2iv(this.addr,e)}function hG(n,e){n.uniform3iv(this.addr,e)}function fG(n,e){n.uniform4iv(this.addr,e)}function dG(n,e){n.uniform1uiv(this.addr,e)}function mG(n,e){n.uniform2uiv(this.addr,e)}function pG(n,e){n.uniform3uiv(this.addr,e)}function gG(n,e){n.uniform4uiv(this.addr,e)}function yG(n,e,t){const i=this.cache,a=e.length,r=Qv(t,a);qi(i,r)||(n.uniform1iv(this.addr,r),Qi(i,r));for(let l=0;l!==a;++l)t.setTexture2D(e[l]||WR,r[l])}function vG(n,e,t){const i=this.cache,a=e.length,r=Qv(t,a);qi(i,r)||(n.uniform1iv(this.addr,r),Qi(i,r));for(let l=0;l!==a;++l)t.setTexture3D(e[l]||XR,r[l])}function xG(n,e,t){const i=this.cache,a=e.length,r=Qv(t,a);qi(i,r)||(n.uniform1iv(this.addr,r),Qi(i,r));for(let l=0;l!==a;++l)t.setTextureCube(e[l]||JR,r[l])}function _G(n,e,t){const i=this.cache,a=e.length,r=Qv(t,a);qi(i,r)||(n.uniform1iv(this.addr,r),Qi(i,r));for(let l=0;l!==a;++l)t.setTexture2DArray(e[l]||ZR,r[l])}function bG(n){switch(n){case 5126:return nG;case 35664:return iG;case 35665:return aG;case 35666:return sG;case 35674:return rG;case 35675:return oG;case 35676:return lG;case 5124:case 35670:return cG;case 35667:case 35671:return uG;case 35668:case 35672:return hG;case 35669:case 35673:return fG;case 5125:return dG;case 36294:return mG;case 36295:return pG;case 36296:return gG;case 35678:case 36198:case 36298:case 36306:case 35682:return yG;case 35679:case 36299:case 36307:return vG;case 35680:case 36300:case 36308:case 36293:return xG;case 36289:case 36303:case 36311:case 36292:return _G}}class AG{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=tG(t.type)}}class SG{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=bG(t.type)}}class MG{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const a=this.seq;for(let r=0,l=a.length;r!==l;++r){const u=a[r];u.setValue(e,t[u.id],i)}}}const K_=/(\w+)(\])?(\[|\.)?/g;function oT(n,e){n.seq.push(e),n.map[e.id]=e}function CG(n,e,t){const i=n.name,a=i.length;for(K_.lastIndex=0;;){const r=K_.exec(i),l=K_.lastIndex;let u=r[1];const m=r[2]==="]",g=r[3];if(m&&(u=u|0),g===void 0||g==="["&&l+2===a){oT(t,g===void 0?new AG(u,n,e):new SG(u,n,e));break}else{let d=t.map[u];d===void 0&&(d=new MG(u),oT(t,d)),t=d}}}class s2{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let a=0;a<i;++a){const r=e.getActiveUniform(t,a),l=e.getUniformLocation(t,r.name);CG(r,l,this)}}setValue(e,t,i,a){const r=this.map[t];r!==void 0&&r.setValue(e,i,a)}setOptional(e,t,i){const a=t[i];a!==void 0&&this.setValue(e,i,a)}static upload(e,t,i,a){for(let r=0,l=t.length;r!==l;++r){const u=t[r],m=i[u.id];m.needsUpdate!==!1&&u.setValue(e,m.value,a)}}static seqWithValue(e,t){const i=[];for(let a=0,r=e.length;a!==r;++a){const l=e[a];l.id in t&&i.push(l)}return i}}function lT(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const EG=37297;let TG=0;function wG(n,e){const t=n.split(`
`),i=[],a=Math.max(e-6,0),r=Math.min(e+6,t.length);for(let l=a;l<r;l++){const u=l+1;i.push(`${u===e?">":" "} ${u}: ${t[l]}`)}return i.join(`
`)}const cT=new Yt;function RG(n){An._getMatrix(cT,An.workingColorSpace,n);const e=`mat3( ${cT.elements.map(t=>t.toFixed(4))} )`;switch(An.getTransfer(n)){case Xp:return[e,"LinearTransferOETF"];case Fn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function uT(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=(n.getShaderInfoLog(e)||"").trim();if(i&&r==="")return"";const l=/ERROR: 0:(\d+)/.exec(r);if(l){const u=parseInt(l[1]);return t.toUpperCase()+`

`+r+`

`+wG(n.getShaderSource(e),u)}else return r}function IG(n,e){const t=RG(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function BG(n,e){let t;switch(e){case Aw:t="Linear";break;case Sw:t="Reinhard";break;case Mw:t="Cineon";break;case fA:t="ACESFilmic";break;case Ew:t="AgX";break;case Tw:t="Neutral";break;case Cw:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const Vy=new K;function DG(){An.getLuminanceCoefficients(Vy);const n=Vy.x.toFixed(4),e=Vy.y.toFixed(4),t=Vy.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function NG(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(bp).join(`
`)}function LG(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function OG(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let a=0;a<i;a++){const r=n.getActiveAttrib(e,a),l=r.name;let u=1;r.type===n.FLOAT_MAT2&&(u=2),r.type===n.FLOAT_MAT3&&(u=3),r.type===n.FLOAT_MAT4&&(u=4),t[l]={type:r.type,location:n.getAttribLocation(e,l),locationSize:u}}return t}function bp(n){return n!==""}function hT(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function fT(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const PG=/^[ \t]*#include +<([\w\d./]+)>/gm;function cb(n){return n.replace(PG,HG)}const UG=new Map;function HG(n,e){let t=nn[e];if(t===void 0){const i=UG.get(e);if(i!==void 0)t=nn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return cb(t)}const jG=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function dT(n){return n.replace(jG,FG)}function FG(n,e,t,i){let a="";for(let r=parseInt(e);r<parseInt(t);r++)a+=i.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return a}function mT(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function GG(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===xv?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Tp?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===so&&(e="SHADOWMAP_TYPE_VSM"),e}function zG(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case nc:case fu:e="ENVMAP_TYPE_CUBE";break;case b0:e="ENVMAP_TYPE_CUBE_UV";break}return e}function VG(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case fu:e="ENVMAP_MODE_REFRACTION";break}return e}function kG(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case dg:e="ENVMAP_BLENDING_MULTIPLY";break;case _w:e="ENVMAP_BLENDING_MIX";break;case bw:e="ENVMAP_BLENDING_ADD";break}return e}function WG(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}function ZG(n,e,t,i){const a=n.getContext(),r=t.defines;let l=t.vertexShader,u=t.fragmentShader;const m=GG(t),g=zG(t),v=VG(t),d=kG(t),p=WG(t),b=NG(t),C=LG(r),w=a.createProgram();let E,M,I=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(E=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,C].filter(bp).join(`
`),E.length>0&&(E+=`
`),M=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,C].filter(bp).join(`
`),M.length>0&&(M+=`
`)):(E=[mT(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,C,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+v:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+m:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(bp).join(`
`),M=[mT(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,C,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+g:"",t.envMap?"#define "+v:"",t.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+m:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==$o?"#define TONE_MAPPING":"",t.toneMapping!==$o?nn.tonemapping_pars_fragment:"",t.toneMapping!==$o?BG("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",nn.colorspace_pars_fragment,IG("linearToOutputTexel",t.outputColorSpace),DG(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(bp).join(`
`)),l=cb(l),l=hT(l,t),l=fT(l,t),u=cb(u),u=hT(u,t),u=fT(u,t),l=dT(l),u=dT(u),t.isRawShaderMaterial!==!0&&(I=`#version 300 es
`,E=[b,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+E,M=["#define varying in",t.glslVersion===tb?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===tb?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+M);const B=I+E+l,N=I+M+u,P=lT(a,a.VERTEX_SHADER,B),U=lT(a,a.FRAGMENT_SHADER,N);a.attachShader(w,P),a.attachShader(w,U),t.index0AttributeName!==void 0?a.bindAttribLocation(w,0,t.index0AttributeName):t.morphTargets===!0&&a.bindAttribLocation(w,0,"position"),a.linkProgram(w);function F(J){if(n.debug.checkShaderErrors){const ie=a.getProgramInfoLog(w)||"",oe=a.getShaderInfoLog(P)||"",ge=a.getShaderInfoLog(U)||"",ce=ie.trim(),G=oe.trim(),Z=ge.trim();let Q=!0,le=!0;if(a.getProgramParameter(w,a.LINK_STATUS)===!1)if(Q=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(a,w,P,U);else{const ye=uT(a,P,"vertex"),X=uT(a,U,"fragment");console.error("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(w,a.VALIDATE_STATUS)+`

Material Name: `+J.name+`
Material Type: `+J.type+`

Program Info Log: `+ce+`
`+ye+`
`+X)}else ce!==""?console.warn("THREE.WebGLProgram: Program Info Log:",ce):(G===""||Z==="")&&(le=!1);le&&(J.diagnostics={runnable:Q,programLog:ce,vertexShader:{log:G,prefix:E},fragmentShader:{log:Z,prefix:M}})}a.deleteShader(P),a.deleteShader(U),j=new s2(a,w),O=OG(a,w)}let j;this.getUniforms=function(){return j===void 0&&F(this),j};let O;this.getAttributes=function(){return O===void 0&&F(this),O};let H=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return H===!1&&(H=a.getProgramParameter(w,EG)),H},this.destroy=function(){i.releaseStatesOfProgram(this),a.deleteProgram(w),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=TG++,this.cacheKey=e,this.usedTimes=1,this.program=w,this.vertexShader=P,this.fragmentShader=U,this}let XG=0;class JG{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,a=this._getShaderStage(t),r=this._getShaderStage(i),l=this._getShaderCacheForMaterial(e);return l.has(a)===!1&&(l.add(a),a.usedTimes++),l.has(r)===!1&&(l.add(r),r.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new YG(e),t.set(e,i)),i}}class YG{constructor(e){this.id=XG++,this.code=e,this.usedTimes=0}}function KG(n,e,t,i,a,r,l){const u=new c0,m=new JG,g=new Set,v=[],d=a.logarithmicDepthBuffer,p=a.vertexTextures;let b=a.precision;const C={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function w(O){return g.add(O),O===0?"uv":`uv${O}`}function E(O,H,J,ie,oe){const ge=ie.fog,ce=oe.geometry,G=O.isMeshStandardMaterial?ie.environment:null,Z=(O.isMeshStandardMaterial?t:e).get(O.envMap||G),Q=Z&&Z.mapping===b0?Z.image.height:null,le=C[O.type];O.precision!==null&&(b=a.getMaxPrecision(O.precision),b!==O.precision&&console.warn("THREE.WebGLProgram.getParameters:",O.precision,"not supported, using",b,"instead."));const ye=ce.morphAttributes.position||ce.morphAttributes.normal||ce.morphAttributes.color,X=ye!==void 0?ye.length:0;let ae=0;ce.morphAttributes.position!==void 0&&(ae=1),ce.morphAttributes.normal!==void 0&&(ae=2),ce.morphAttributes.color!==void 0&&(ae=3);let Ce,Re,Ze,ve;if(le){const sn=ro[le];Ce=sn.vertexShader,Re=sn.fragmentShader}else Ce=O.vertexShader,Re=O.fragmentShader,m.update(O),Ze=m.getVertexShaderID(O),ve=m.getFragmentShaderID(O);const we=n.getRenderTarget(),Ke=n.state.buffers.depth.getReversed(),it=oe.isInstancedMesh===!0,at=oe.isBatchedMesh===!0,ht=!!O.map,kt=!!O.matcap,$=!!Z,Pe=!!O.aoMap,Ne=!!O.lightMap,Le=!!O.bumpMap,Be=!!O.normalMap,$e=!!O.displacementMap,ke=!!O.emissiveMap,Je=!!O.metalnessMap,Rt=!!O.roughnessMap,Lt=O.anisotropy>0,q=O.clearcoat>0,z=O.dispersion>0,me=O.iridescence>0,Te=O.sheen>0,He=O.transmission>0,Ie=Lt&&!!O.anisotropyMap,_t=q&&!!O.clearcoatMap,et=q&&!!O.clearcoatNormalMap,yt=q&&!!O.clearcoatRoughnessMap,vt=me&&!!O.iridescenceMap,Ve=me&&!!O.iridescenceThicknessMap,qe=Te&&!!O.sheenColorMap,At=Te&&!!O.sheenRoughnessMap,ut=!!O.specularMap,st=!!O.specularColorMap,jt=!!O.specularIntensityMap,se=He&&!!O.transmissionMap,Ye=He&&!!O.thicknessMap,tt=!!O.gradientMap,dt=!!O.alphaMap,We=O.alphaTest>0,je=!!O.alphaHash,mt=!!O.extensions;let Pt=$o;O.toneMapped&&(we===null||we.isXRRenderTarget===!0)&&(Pt=n.toneMapping);const yn={shaderID:le,shaderType:O.type,shaderName:O.name,vertexShader:Ce,fragmentShader:Re,defines:O.defines,customVertexShaderID:Ze,customFragmentShaderID:ve,isRawShaderMaterial:O.isRawShaderMaterial===!0,glslVersion:O.glslVersion,precision:b,batching:at,batchingColor:at&&oe._colorsTexture!==null,instancing:it,instancingColor:it&&oe.instanceColor!==null,instancingMorph:it&&oe.morphTexture!==null,supportsVertexTextures:p,outputColorSpace:we===null?n.outputColorSpace:we.isXRRenderTarget===!0?we.texture.colorSpace:mu,alphaToCoverage:!!O.alphaToCoverage,map:ht,matcap:kt,envMap:$,envMapMode:$&&Z.mapping,envMapCubeUVHeight:Q,aoMap:Pe,lightMap:Ne,bumpMap:Le,normalMap:Be,displacementMap:p&&$e,emissiveMap:ke,normalMapObjectSpace:Be&&O.normalMapType===Ow,normalMapTangentSpace:Be&&O.normalMapType===yu,metalnessMap:Je,roughnessMap:Rt,anisotropy:Lt,anisotropyMap:Ie,clearcoat:q,clearcoatMap:_t,clearcoatNormalMap:et,clearcoatRoughnessMap:yt,dispersion:z,iridescence:me,iridescenceMap:vt,iridescenceThicknessMap:Ve,sheen:Te,sheenColorMap:qe,sheenRoughnessMap:At,specularMap:ut,specularColorMap:st,specularIntensityMap:jt,transmission:He,transmissionMap:se,thicknessMap:Ye,gradientMap:tt,opaque:O.transparent===!1&&O.blending===Zh&&O.alphaToCoverage===!1,alphaMap:dt,alphaTest:We,alphaHash:je,combine:O.combine,mapUv:ht&&w(O.map.channel),aoMapUv:Pe&&w(O.aoMap.channel),lightMapUv:Ne&&w(O.lightMap.channel),bumpMapUv:Le&&w(O.bumpMap.channel),normalMapUv:Be&&w(O.normalMap.channel),displacementMapUv:$e&&w(O.displacementMap.channel),emissiveMapUv:ke&&w(O.emissiveMap.channel),metalnessMapUv:Je&&w(O.metalnessMap.channel),roughnessMapUv:Rt&&w(O.roughnessMap.channel),anisotropyMapUv:Ie&&w(O.anisotropyMap.channel),clearcoatMapUv:_t&&w(O.clearcoatMap.channel),clearcoatNormalMapUv:et&&w(O.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:yt&&w(O.clearcoatRoughnessMap.channel),iridescenceMapUv:vt&&w(O.iridescenceMap.channel),iridescenceThicknessMapUv:Ve&&w(O.iridescenceThicknessMap.channel),sheenColorMapUv:qe&&w(O.sheenColorMap.channel),sheenRoughnessMapUv:At&&w(O.sheenRoughnessMap.channel),specularMapUv:ut&&w(O.specularMap.channel),specularColorMapUv:st&&w(O.specularColorMap.channel),specularIntensityMapUv:jt&&w(O.specularIntensityMap.channel),transmissionMapUv:se&&w(O.transmissionMap.channel),thicknessMapUv:Ye&&w(O.thicknessMap.channel),alphaMapUv:dt&&w(O.alphaMap.channel),vertexTangents:!!ce.attributes.tangent&&(Be||Lt),vertexColors:O.vertexColors,vertexAlphas:O.vertexColors===!0&&!!ce.attributes.color&&ce.attributes.color.itemSize===4,pointsUvs:oe.isPoints===!0&&!!ce.attributes.uv&&(ht||dt),fog:!!ge,useFog:O.fog===!0,fogExp2:!!ge&&ge.isFogExp2,flatShading:O.flatShading===!0&&O.wireframe===!1,sizeAttenuation:O.sizeAttenuation===!0,logarithmicDepthBuffer:d,reversedDepthBuffer:Ke,skinning:oe.isSkinnedMesh===!0,morphTargets:ce.morphAttributes.position!==void 0,morphNormals:ce.morphAttributes.normal!==void 0,morphColors:ce.morphAttributes.color!==void 0,morphTargetsCount:X,morphTextureStride:ae,numDirLights:H.directional.length,numPointLights:H.point.length,numSpotLights:H.spot.length,numSpotLightMaps:H.spotLightMap.length,numRectAreaLights:H.rectArea.length,numHemiLights:H.hemi.length,numDirLightShadows:H.directionalShadowMap.length,numPointLightShadows:H.pointShadowMap.length,numSpotLightShadows:H.spotShadowMap.length,numSpotLightShadowsWithMaps:H.numSpotLightShadowsWithMaps,numLightProbes:H.numLightProbes,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:O.dithering,shadowMapEnabled:n.shadowMap.enabled&&J.length>0,shadowMapType:n.shadowMap.type,toneMapping:Pt,decodeVideoTexture:ht&&O.map.isVideoTexture===!0&&An.getTransfer(O.map.colorSpace)===Fn,decodeVideoTextureEmissive:ke&&O.emissiveMap.isVideoTexture===!0&&An.getTransfer(O.emissiveMap.colorSpace)===Fn,premultipliedAlpha:O.premultipliedAlpha,doubleSided:O.side===Sr,flipSided:O.side===vs,useDepthPacking:O.depthPacking>=0,depthPacking:O.depthPacking||0,index0AttributeName:O.index0AttributeName,extensionClipCullDistance:mt&&O.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(mt&&O.extensions.multiDraw===!0||at)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:O.customProgramCacheKey()};return yn.vertexUv1s=g.has(1),yn.vertexUv2s=g.has(2),yn.vertexUv3s=g.has(3),g.clear(),yn}function M(O){const H=[];if(O.shaderID?H.push(O.shaderID):(H.push(O.customVertexShaderID),H.push(O.customFragmentShaderID)),O.defines!==void 0)for(const J in O.defines)H.push(J),H.push(O.defines[J]);return O.isRawShaderMaterial===!1&&(I(H,O),B(H,O),H.push(n.outputColorSpace)),H.push(O.customProgramCacheKey),H.join()}function I(O,H){O.push(H.precision),O.push(H.outputColorSpace),O.push(H.envMapMode),O.push(H.envMapCubeUVHeight),O.push(H.mapUv),O.push(H.alphaMapUv),O.push(H.lightMapUv),O.push(H.aoMapUv),O.push(H.bumpMapUv),O.push(H.normalMapUv),O.push(H.displacementMapUv),O.push(H.emissiveMapUv),O.push(H.metalnessMapUv),O.push(H.roughnessMapUv),O.push(H.anisotropyMapUv),O.push(H.clearcoatMapUv),O.push(H.clearcoatNormalMapUv),O.push(H.clearcoatRoughnessMapUv),O.push(H.iridescenceMapUv),O.push(H.iridescenceThicknessMapUv),O.push(H.sheenColorMapUv),O.push(H.sheenRoughnessMapUv),O.push(H.specularMapUv),O.push(H.specularColorMapUv),O.push(H.specularIntensityMapUv),O.push(H.transmissionMapUv),O.push(H.thicknessMapUv),O.push(H.combine),O.push(H.fogExp2),O.push(H.sizeAttenuation),O.push(H.morphTargetsCount),O.push(H.morphAttributeCount),O.push(H.numDirLights),O.push(H.numPointLights),O.push(H.numSpotLights),O.push(H.numSpotLightMaps),O.push(H.numHemiLights),O.push(H.numRectAreaLights),O.push(H.numDirLightShadows),O.push(H.numPointLightShadows),O.push(H.numSpotLightShadows),O.push(H.numSpotLightShadowsWithMaps),O.push(H.numLightProbes),O.push(H.shadowMapType),O.push(H.toneMapping),O.push(H.numClippingPlanes),O.push(H.numClipIntersection),O.push(H.depthPacking)}function B(O,H){u.disableAll(),H.supportsVertexTextures&&u.enable(0),H.instancing&&u.enable(1),H.instancingColor&&u.enable(2),H.instancingMorph&&u.enable(3),H.matcap&&u.enable(4),H.envMap&&u.enable(5),H.normalMapObjectSpace&&u.enable(6),H.normalMapTangentSpace&&u.enable(7),H.clearcoat&&u.enable(8),H.iridescence&&u.enable(9),H.alphaTest&&u.enable(10),H.vertexColors&&u.enable(11),H.vertexAlphas&&u.enable(12),H.vertexUv1s&&u.enable(13),H.vertexUv2s&&u.enable(14),H.vertexUv3s&&u.enable(15),H.vertexTangents&&u.enable(16),H.anisotropy&&u.enable(17),H.alphaHash&&u.enable(18),H.batching&&u.enable(19),H.dispersion&&u.enable(20),H.batchingColor&&u.enable(21),H.gradientMap&&u.enable(22),O.push(u.mask),u.disableAll(),H.fog&&u.enable(0),H.useFog&&u.enable(1),H.flatShading&&u.enable(2),H.logarithmicDepthBuffer&&u.enable(3),H.reversedDepthBuffer&&u.enable(4),H.skinning&&u.enable(5),H.morphTargets&&u.enable(6),H.morphNormals&&u.enable(7),H.morphColors&&u.enable(8),H.premultipliedAlpha&&u.enable(9),H.shadowMapEnabled&&u.enable(10),H.doubleSided&&u.enable(11),H.flipSided&&u.enable(12),H.useDepthPacking&&u.enable(13),H.dithering&&u.enable(14),H.transmission&&u.enable(15),H.sheen&&u.enable(16),H.opaque&&u.enable(17),H.pointsUvs&&u.enable(18),H.decodeVideoTexture&&u.enable(19),H.decodeVideoTextureEmissive&&u.enable(20),H.alphaToCoverage&&u.enable(21),O.push(u.mask)}function N(O){const H=C[O.type];let J;if(H){const ie=ro[H];J=Yw.clone(ie.uniforms)}else J=O.uniforms;return J}function P(O,H){let J;for(let ie=0,oe=v.length;ie<oe;ie++){const ge=v[ie];if(ge.cacheKey===H){J=ge,++J.usedTimes;break}}return J===void 0&&(J=new ZG(n,H,O,r),v.push(J)),J}function U(O){if(--O.usedTimes===0){const H=v.indexOf(O);v[H]=v[v.length-1],v.pop(),O.destroy()}}function F(O){m.remove(O)}function j(){m.dispose()}return{getParameters:E,getProgramCacheKey:M,getUniforms:N,acquireProgram:P,releaseProgram:U,releaseShaderCache:F,programs:v,dispose:j}}function qG(){let n=new WeakMap;function e(l){return n.has(l)}function t(l){let u=n.get(l);return u===void 0&&(u={},n.set(l,u)),u}function i(l){n.delete(l)}function a(l,u,m){n.get(l)[u]=m}function r(){n=new WeakMap}return{has:e,get:t,remove:i,update:a,dispose:r}}function QG(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function pT(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function gT(){const n=[];let e=0;const t=[],i=[],a=[];function r(){e=0,t.length=0,i.length=0,a.length=0}function l(d,p,b,C,w,E){let M=n[e];return M===void 0?(M={id:d.id,object:d,geometry:p,material:b,groupOrder:C,renderOrder:d.renderOrder,z:w,group:E},n[e]=M):(M.id=d.id,M.object=d,M.geometry=p,M.material=b,M.groupOrder=C,M.renderOrder=d.renderOrder,M.z=w,M.group=E),e++,M}function u(d,p,b,C,w,E){const M=l(d,p,b,C,w,E);b.transmission>0?i.push(M):b.transparent===!0?a.push(M):t.push(M)}function m(d,p,b,C,w,E){const M=l(d,p,b,C,w,E);b.transmission>0?i.unshift(M):b.transparent===!0?a.unshift(M):t.unshift(M)}function g(d,p){t.length>1&&t.sort(d||QG),i.length>1&&i.sort(p||pT),a.length>1&&a.sort(p||pT)}function v(){for(let d=e,p=n.length;d<p;d++){const b=n[d];if(b.id===null)break;b.id=null,b.object=null,b.geometry=null,b.material=null,b.group=null}}return{opaque:t,transmissive:i,transparent:a,init:r,push:u,unshift:m,finish:v,sort:g}}function $G(){let n=new WeakMap;function e(i,a){const r=n.get(i);let l;return r===void 0?(l=new gT,n.set(i,[l])):a>=r.length?(l=new gT,r.push(l)):l=r[a],l}function t(){n=new WeakMap}return{get:e,dispose:t}}function ez(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new K,color:new ot};break;case"SpotLight":t={position:new K,direction:new K,color:new ot,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new K,color:new ot,distance:0,decay:0};break;case"HemisphereLight":t={direction:new K,skyColor:new ot,groundColor:new ot};break;case"RectAreaLight":t={color:new ot,position:new K,halfWidth:new K,halfHeight:new K};break}return n[e.id]=t,t}}}function tz(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let nz=0;function iz(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function az(n){const e=new ez,t=tz(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let g=0;g<9;g++)i.probe.push(new K);const a=new K,r=new Nt,l=new Nt;function u(g){let v=0,d=0,p=0;for(let O=0;O<9;O++)i.probe[O].set(0,0,0);let b=0,C=0,w=0,E=0,M=0,I=0,B=0,N=0,P=0,U=0,F=0;g.sort(iz);for(let O=0,H=g.length;O<H;O++){const J=g[O],ie=J.color,oe=J.intensity,ge=J.distance,ce=J.shadow&&J.shadow.map?J.shadow.map.texture:null;if(J.isAmbientLight)v+=ie.r*oe,d+=ie.g*oe,p+=ie.b*oe;else if(J.isLightProbe){for(let G=0;G<9;G++)i.probe[G].addScaledVector(J.sh.coefficients[G],oe);F++}else if(J.isDirectionalLight){const G=e.get(J);if(G.color.copy(J.color).multiplyScalar(J.intensity),J.castShadow){const Z=J.shadow,Q=t.get(J);Q.shadowIntensity=Z.intensity,Q.shadowBias=Z.bias,Q.shadowNormalBias=Z.normalBias,Q.shadowRadius=Z.radius,Q.shadowMapSize=Z.mapSize,i.directionalShadow[b]=Q,i.directionalShadowMap[b]=ce,i.directionalShadowMatrix[b]=J.shadow.matrix,I++}i.directional[b]=G,b++}else if(J.isSpotLight){const G=e.get(J);G.position.setFromMatrixPosition(J.matrixWorld),G.color.copy(ie).multiplyScalar(oe),G.distance=ge,G.coneCos=Math.cos(J.angle),G.penumbraCos=Math.cos(J.angle*(1-J.penumbra)),G.decay=J.decay,i.spot[w]=G;const Z=J.shadow;if(J.map&&(i.spotLightMap[P]=J.map,P++,Z.updateMatrices(J),J.castShadow&&U++),i.spotLightMatrix[w]=Z.matrix,J.castShadow){const Q=t.get(J);Q.shadowIntensity=Z.intensity,Q.shadowBias=Z.bias,Q.shadowNormalBias=Z.normalBias,Q.shadowRadius=Z.radius,Q.shadowMapSize=Z.mapSize,i.spotShadow[w]=Q,i.spotShadowMap[w]=ce,N++}w++}else if(J.isRectAreaLight){const G=e.get(J);G.color.copy(ie).multiplyScalar(oe),G.halfWidth.set(J.width*.5,0,0),G.halfHeight.set(0,J.height*.5,0),i.rectArea[E]=G,E++}else if(J.isPointLight){const G=e.get(J);if(G.color.copy(J.color).multiplyScalar(J.intensity),G.distance=J.distance,G.decay=J.decay,J.castShadow){const Z=J.shadow,Q=t.get(J);Q.shadowIntensity=Z.intensity,Q.shadowBias=Z.bias,Q.shadowNormalBias=Z.normalBias,Q.shadowRadius=Z.radius,Q.shadowMapSize=Z.mapSize,Q.shadowCameraNear=Z.camera.near,Q.shadowCameraFar=Z.camera.far,i.pointShadow[C]=Q,i.pointShadowMap[C]=ce,i.pointShadowMatrix[C]=J.shadow.matrix,B++}i.point[C]=G,C++}else if(J.isHemisphereLight){const G=e.get(J);G.skyColor.copy(J.color).multiplyScalar(oe),G.groundColor.copy(J.groundColor).multiplyScalar(oe),i.hemi[M]=G,M++}}E>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=ct.LTC_FLOAT_1,i.rectAreaLTC2=ct.LTC_FLOAT_2):(i.rectAreaLTC1=ct.LTC_HALF_1,i.rectAreaLTC2=ct.LTC_HALF_2)),i.ambient[0]=v,i.ambient[1]=d,i.ambient[2]=p;const j=i.hash;(j.directionalLength!==b||j.pointLength!==C||j.spotLength!==w||j.rectAreaLength!==E||j.hemiLength!==M||j.numDirectionalShadows!==I||j.numPointShadows!==B||j.numSpotShadows!==N||j.numSpotMaps!==P||j.numLightProbes!==F)&&(i.directional.length=b,i.spot.length=w,i.rectArea.length=E,i.point.length=C,i.hemi.length=M,i.directionalShadow.length=I,i.directionalShadowMap.length=I,i.pointShadow.length=B,i.pointShadowMap.length=B,i.spotShadow.length=N,i.spotShadowMap.length=N,i.directionalShadowMatrix.length=I,i.pointShadowMatrix.length=B,i.spotLightMatrix.length=N+P-U,i.spotLightMap.length=P,i.numSpotLightShadowsWithMaps=U,i.numLightProbes=F,j.directionalLength=b,j.pointLength=C,j.spotLength=w,j.rectAreaLength=E,j.hemiLength=M,j.numDirectionalShadows=I,j.numPointShadows=B,j.numSpotShadows=N,j.numSpotMaps=P,j.numLightProbes=F,i.version=nz++)}function m(g,v){let d=0,p=0,b=0,C=0,w=0;const E=v.matrixWorldInverse;for(let M=0,I=g.length;M<I;M++){const B=g[M];if(B.isDirectionalLight){const N=i.directional[d];N.direction.setFromMatrixPosition(B.matrixWorld),a.setFromMatrixPosition(B.target.matrixWorld),N.direction.sub(a),N.direction.transformDirection(E),d++}else if(B.isSpotLight){const N=i.spot[b];N.position.setFromMatrixPosition(B.matrixWorld),N.position.applyMatrix4(E),N.direction.setFromMatrixPosition(B.matrixWorld),a.setFromMatrixPosition(B.target.matrixWorld),N.direction.sub(a),N.direction.transformDirection(E),b++}else if(B.isRectAreaLight){const N=i.rectArea[C];N.position.setFromMatrixPosition(B.matrixWorld),N.position.applyMatrix4(E),l.identity(),r.copy(B.matrixWorld),r.premultiply(E),l.extractRotation(r),N.halfWidth.set(B.width*.5,0,0),N.halfHeight.set(0,B.height*.5,0),N.halfWidth.applyMatrix4(l),N.halfHeight.applyMatrix4(l),C++}else if(B.isPointLight){const N=i.point[p];N.position.setFromMatrixPosition(B.matrixWorld),N.position.applyMatrix4(E),p++}else if(B.isHemisphereLight){const N=i.hemi[w];N.direction.setFromMatrixPosition(B.matrixWorld),N.direction.transformDirection(E),w++}}}return{setup:u,setupView:m,state:i}}function yT(n){const e=new az(n),t=[],i=[];function a(v){g.camera=v,t.length=0,i.length=0}function r(v){t.push(v)}function l(v){i.push(v)}function u(){e.setup(t)}function m(v){e.setupView(t,v)}const g={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:a,state:g,setupLights:u,setupLightsView:m,pushLight:r,pushShadow:l}}function sz(n){let e=new WeakMap;function t(a,r=0){const l=e.get(a);let u;return l===void 0?(u=new yT(n),e.set(a,[u])):r>=l.length?(u=new yT(n),l.push(u)):u=l[r],u}function i(){e=new WeakMap}return{get:t,dispose:i}}const rz=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,oz=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function lz(n,e,t){let i=new M0;const a=new ze,r=new ze,l=new wn,u=new GA({depthPacking:Lw}),m=new zA,g={},v=t.maxTextureSize,d={[tl]:vs,[vs]:tl,[Sr]:Sr},p=new co({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ze},radius:{value:4}},vertexShader:rz,fragmentShader:oz}),b=p.clone();b.defines.HORIZONTAL_PASS=1;const C=new Zt;C.setAttribute("position",new Rn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const w=new Di(C,p),E=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=xv;let M=this.type;this.render=function(U,F,j){if(E.enabled===!1||E.autoUpdate===!1&&E.needsUpdate===!1||U.length===0)return;const O=n.getRenderTarget(),H=n.getActiveCubeFace(),J=n.getActiveMipmapLevel(),ie=n.state;ie.setBlending(Yl),ie.buffers.depth.getReversed()===!0?ie.buffers.color.setClear(0,0,0,0):ie.buffers.color.setClear(1,1,1,1),ie.buffers.depth.setTest(!0),ie.setScissorTest(!1);const oe=M!==so&&this.type===so,ge=M===so&&this.type!==so;for(let ce=0,G=U.length;ce<G;ce++){const Z=U[ce],Q=Z.shadow;if(Q===void 0){console.warn("THREE.WebGLShadowMap:",Z,"has no shadow.");continue}if(Q.autoUpdate===!1&&Q.needsUpdate===!1)continue;a.copy(Q.mapSize);const le=Q.getFrameExtents();if(a.multiply(le),r.copy(Q.mapSize),(a.x>v||a.y>v)&&(a.x>v&&(r.x=Math.floor(v/le.x),a.x=r.x*le.x,Q.mapSize.x=r.x),a.y>v&&(r.y=Math.floor(v/le.y),a.y=r.y*le.y,Q.mapSize.y=r.y)),Q.map===null||oe===!0||ge===!0){const X=this.type!==so?{minFilter:fa,magFilter:fa}:{};Q.map!==null&&Q.map.dispose(),Q.map=new nl(a.x,a.y,X),Q.map.texture.name=Z.name+".shadowMap",Q.camera.updateProjectionMatrix()}n.setRenderTarget(Q.map),n.clear();const ye=Q.getViewportCount();for(let X=0;X<ye;X++){const ae=Q.getViewport(X);l.set(r.x*ae.x,r.y*ae.y,r.x*ae.z,r.y*ae.w),ie.viewport(l),Q.updateMatrices(Z,X),i=Q.getFrustum(),N(F,j,Q.camera,Z,this.type)}Q.isPointLightShadow!==!0&&this.type===so&&I(Q,j),Q.needsUpdate=!1}M=this.type,E.needsUpdate=!1,n.setRenderTarget(O,H,J)};function I(U,F){const j=e.update(w);p.defines.VSM_SAMPLES!==U.blurSamples&&(p.defines.VSM_SAMPLES=U.blurSamples,b.defines.VSM_SAMPLES=U.blurSamples,p.needsUpdate=!0,b.needsUpdate=!0),U.mapPass===null&&(U.mapPass=new nl(a.x,a.y)),p.uniforms.shadow_pass.value=U.map.texture,p.uniforms.resolution.value=U.mapSize,p.uniforms.radius.value=U.radius,n.setRenderTarget(U.mapPass),n.clear(),n.renderBufferDirect(F,null,j,p,w,null),b.uniforms.shadow_pass.value=U.mapPass.texture,b.uniforms.resolution.value=U.mapSize,b.uniforms.radius.value=U.radius,n.setRenderTarget(U.map),n.clear(),n.renderBufferDirect(F,null,j,b,w,null)}function B(U,F,j,O){let H=null;const J=j.isPointLight===!0?U.customDistanceMaterial:U.customDepthMaterial;if(J!==void 0)H=J;else if(H=j.isPointLight===!0?m:u,n.localClippingEnabled&&F.clipShadows===!0&&Array.isArray(F.clippingPlanes)&&F.clippingPlanes.length!==0||F.displacementMap&&F.displacementScale!==0||F.alphaMap&&F.alphaTest>0||F.map&&F.alphaTest>0||F.alphaToCoverage===!0){const ie=H.uuid,oe=F.uuid;let ge=g[ie];ge===void 0&&(ge={},g[ie]=ge);let ce=ge[oe];ce===void 0&&(ce=H.clone(),ge[oe]=ce,F.addEventListener("dispose",P)),H=ce}if(H.visible=F.visible,H.wireframe=F.wireframe,O===so?H.side=F.shadowSide!==null?F.shadowSide:F.side:H.side=F.shadowSide!==null?F.shadowSide:d[F.side],H.alphaMap=F.alphaMap,H.alphaTest=F.alphaToCoverage===!0?.5:F.alphaTest,H.map=F.map,H.clipShadows=F.clipShadows,H.clippingPlanes=F.clippingPlanes,H.clipIntersection=F.clipIntersection,H.displacementMap=F.displacementMap,H.displacementScale=F.displacementScale,H.displacementBias=F.displacementBias,H.wireframeLinewidth=F.wireframeLinewidth,H.linewidth=F.linewidth,j.isPointLight===!0&&H.isMeshDistanceMaterial===!0){const ie=n.properties.get(H);ie.light=j}return H}function N(U,F,j,O,H){if(U.visible===!1)return;if(U.layers.test(F.layers)&&(U.isMesh||U.isLine||U.isPoints)&&(U.castShadow||U.receiveShadow&&H===so)&&(!U.frustumCulled||i.intersectsObject(U))){U.modelViewMatrix.multiplyMatrices(j.matrixWorldInverse,U.matrixWorld);const oe=e.update(U),ge=U.material;if(Array.isArray(ge)){const ce=oe.groups;for(let G=0,Z=ce.length;G<Z;G++){const Q=ce[G],le=ge[Q.materialIndex];if(le&&le.visible){const ye=B(U,le,O,H);U.onBeforeShadow(n,U,F,j,oe,ye,Q),n.renderBufferDirect(j,null,oe,ye,U,Q),U.onAfterShadow(n,U,F,j,oe,ye,Q)}}}else if(ge.visible){const ce=B(U,ge,O,H);U.onBeforeShadow(n,U,F,j,oe,ce,null),n.renderBufferDirect(j,null,oe,ce,U,null),U.onAfterShadow(n,U,F,j,oe,ce,null)}}const ie=U.children;for(let oe=0,ge=ie.length;oe<ge;oe++)N(ie[oe],F,j,O,H)}function P(U){U.target.removeEventListener("dispose",P);for(const j in g){const O=g[j],H=U.target.uuid;H in O&&(O[H].dispose(),delete O[H])}}}const cz={[y2]:v2,[x2]:A2,[_2]:S2,[Yh]:b2,[v2]:y2,[A2]:x2,[S2]:_2,[b2]:Yh};function uz(n,e){function t(){let se=!1;const Ye=new wn;let tt=null;const dt=new wn(0,0,0,0);return{setMask:function(We){tt!==We&&!se&&(n.colorMask(We,We,We,We),tt=We)},setLocked:function(We){se=We},setClear:function(We,je,mt,Pt,yn){yn===!0&&(We*=Pt,je*=Pt,mt*=Pt),Ye.set(We,je,mt,Pt),dt.equals(Ye)===!1&&(n.clearColor(We,je,mt,Pt),dt.copy(Ye))},reset:function(){se=!1,tt=null,dt.set(-1,0,0,0)}}}function i(){let se=!1,Ye=!1,tt=null,dt=null,We=null;return{setReversed:function(je){if(Ye!==je){const mt=e.get("EXT_clip_control");je?mt.clipControlEXT(mt.LOWER_LEFT_EXT,mt.ZERO_TO_ONE_EXT):mt.clipControlEXT(mt.LOWER_LEFT_EXT,mt.NEGATIVE_ONE_TO_ONE_EXT),Ye=je;const Pt=We;We=null,this.setClear(Pt)}},getReversed:function(){return Ye},setTest:function(je){je?we(n.DEPTH_TEST):Ke(n.DEPTH_TEST)},setMask:function(je){tt!==je&&!se&&(n.depthMask(je),tt=je)},setFunc:function(je){if(Ye&&(je=cz[je]),dt!==je){switch(je){case y2:n.depthFunc(n.NEVER);break;case v2:n.depthFunc(n.ALWAYS);break;case x2:n.depthFunc(n.LESS);break;case Yh:n.depthFunc(n.LEQUAL);break;case _2:n.depthFunc(n.EQUAL);break;case b2:n.depthFunc(n.GEQUAL);break;case A2:n.depthFunc(n.GREATER);break;case S2:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}dt=je}},setLocked:function(je){se=je},setClear:function(je){We!==je&&(Ye&&(je=1-je),n.clearDepth(je),We=je)},reset:function(){se=!1,tt=null,dt=null,We=null,Ye=!1}}}function a(){let se=!1,Ye=null,tt=null,dt=null,We=null,je=null,mt=null,Pt=null,yn=null;return{setTest:function(sn){se||(sn?we(n.STENCIL_TEST):Ke(n.STENCIL_TEST))},setMask:function(sn){Ye!==sn&&!se&&(n.stencilMask(sn),Ye=sn)},setFunc:function(sn,$i,Xa){(tt!==sn||dt!==$i||We!==Xa)&&(n.stencilFunc(sn,$i,Xa),tt=sn,dt=$i,We=Xa)},setOp:function(sn,$i,Xa){(je!==sn||mt!==$i||Pt!==Xa)&&(n.stencilOp(sn,$i,Xa),je=sn,mt=$i,Pt=Xa)},setLocked:function(sn){se=sn},setClear:function(sn){yn!==sn&&(n.clearStencil(sn),yn=sn)},reset:function(){se=!1,Ye=null,tt=null,dt=null,We=null,je=null,mt=null,Pt=null,yn=null}}}const r=new t,l=new i,u=new a,m=new WeakMap,g=new WeakMap;let v={},d={},p=new WeakMap,b=[],C=null,w=!1,E=null,M=null,I=null,B=null,N=null,P=null,U=null,F=new ot(0,0,0),j=0,O=!1,H=null,J=null,ie=null,oe=null,ge=null;const ce=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let G=!1,Z=0;const Q=n.getParameter(n.VERSION);Q.indexOf("WebGL")!==-1?(Z=parseFloat(/^WebGL (\d)/.exec(Q)[1]),G=Z>=1):Q.indexOf("OpenGL ES")!==-1&&(Z=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),G=Z>=2);let le=null,ye={};const X=n.getParameter(n.SCISSOR_BOX),ae=n.getParameter(n.VIEWPORT),Ce=new wn().fromArray(X),Re=new wn().fromArray(ae);function Ze(se,Ye,tt,dt){const We=new Uint8Array(4),je=n.createTexture();n.bindTexture(se,je),n.texParameteri(se,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(se,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let mt=0;mt<tt;mt++)se===n.TEXTURE_3D||se===n.TEXTURE_2D_ARRAY?n.texImage3D(Ye,0,n.RGBA,1,1,dt,0,n.RGBA,n.UNSIGNED_BYTE,We):n.texImage2D(Ye+mt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,We);return je}const ve={};ve[n.TEXTURE_2D]=Ze(n.TEXTURE_2D,n.TEXTURE_2D,1),ve[n.TEXTURE_CUBE_MAP]=Ze(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),ve[n.TEXTURE_2D_ARRAY]=Ze(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ve[n.TEXTURE_3D]=Ze(n.TEXTURE_3D,n.TEXTURE_3D,1,1),r.setClear(0,0,0,1),l.setClear(1),u.setClear(0),we(n.DEPTH_TEST),l.setFunc(Yh),Le(!1),Be(Y3),we(n.CULL_FACE),Pe(Yl);function we(se){v[se]!==!0&&(n.enable(se),v[se]=!0)}function Ke(se){v[se]!==!1&&(n.disable(se),v[se]=!1)}function it(se,Ye){return d[se]!==Ye?(n.bindFramebuffer(se,Ye),d[se]=Ye,se===n.DRAW_FRAMEBUFFER&&(d[n.FRAMEBUFFER]=Ye),se===n.FRAMEBUFFER&&(d[n.DRAW_FRAMEBUFFER]=Ye),!0):!1}function at(se,Ye){let tt=b,dt=!1;if(se){tt=p.get(Ye),tt===void 0&&(tt=[],p.set(Ye,tt));const We=se.textures;if(tt.length!==We.length||tt[0]!==n.COLOR_ATTACHMENT0){for(let je=0,mt=We.length;je<mt;je++)tt[je]=n.COLOR_ATTACHMENT0+je;tt.length=We.length,dt=!0}}else tt[0]!==n.BACK&&(tt[0]=n.BACK,dt=!0);dt&&n.drawBuffers(tt)}function ht(se){return C!==se?(n.useProgram(se),C=se,!0):!1}const kt={[au]:n.FUNC_ADD,[iw]:n.FUNC_SUBTRACT,[aw]:n.FUNC_REVERSE_SUBTRACT};kt[sw]=n.MIN,kt[rw]=n.MAX;const $={[ow]:n.ZERO,[lw]:n.ONE,[cw]:n.SRC_COLOR,[p2]:n.SRC_ALPHA,[pw]:n.SRC_ALPHA_SATURATE,[dw]:n.DST_COLOR,[hw]:n.DST_ALPHA,[uw]:n.ONE_MINUS_SRC_COLOR,[g2]:n.ONE_MINUS_SRC_ALPHA,[mw]:n.ONE_MINUS_DST_COLOR,[fw]:n.ONE_MINUS_DST_ALPHA,[gw]:n.CONSTANT_COLOR,[yw]:n.ONE_MINUS_CONSTANT_COLOR,[vw]:n.CONSTANT_ALPHA,[xw]:n.ONE_MINUS_CONSTANT_ALPHA};function Pe(se,Ye,tt,dt,We,je,mt,Pt,yn,sn){if(se===Yl){w===!0&&(Ke(n.BLEND),w=!1);return}if(w===!1&&(we(n.BLEND),w=!0),se!==nw){if(se!==E||sn!==O){if((M!==au||N!==au)&&(n.blendEquation(n.FUNC_ADD),M=au,N=au),sn)switch(se){case Zh:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case K3:n.blendFunc(n.ONE,n.ONE);break;case q3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Q3:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",se);break}else switch(se){case Zh:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case K3:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case q3:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case Q3:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",se);break}I=null,B=null,P=null,U=null,F.set(0,0,0),j=0,E=se,O=sn}return}We=We||Ye,je=je||tt,mt=mt||dt,(Ye!==M||We!==N)&&(n.blendEquationSeparate(kt[Ye],kt[We]),M=Ye,N=We),(tt!==I||dt!==B||je!==P||mt!==U)&&(n.blendFuncSeparate($[tt],$[dt],$[je],$[mt]),I=tt,B=dt,P=je,U=mt),(Pt.equals(F)===!1||yn!==j)&&(n.blendColor(Pt.r,Pt.g,Pt.b,yn),F.copy(Pt),j=yn),E=se,O=!1}function Ne(se,Ye){se.side===Sr?Ke(n.CULL_FACE):we(n.CULL_FACE);let tt=se.side===vs;Ye&&(tt=!tt),Le(tt),se.blending===Zh&&se.transparent===!1?Pe(Yl):Pe(se.blending,se.blendEquation,se.blendSrc,se.blendDst,se.blendEquationAlpha,se.blendSrcAlpha,se.blendDstAlpha,se.blendColor,se.blendAlpha,se.premultipliedAlpha),l.setFunc(se.depthFunc),l.setTest(se.depthTest),l.setMask(se.depthWrite),r.setMask(se.colorWrite);const dt=se.stencilWrite;u.setTest(dt),dt&&(u.setMask(se.stencilWriteMask),u.setFunc(se.stencilFunc,se.stencilRef,se.stencilFuncMask),u.setOp(se.stencilFail,se.stencilZFail,se.stencilZPass)),ke(se.polygonOffset,se.polygonOffsetFactor,se.polygonOffsetUnits),se.alphaToCoverage===!0?we(n.SAMPLE_ALPHA_TO_COVERAGE):Ke(n.SAMPLE_ALPHA_TO_COVERAGE)}function Le(se){H!==se&&(se?n.frontFace(n.CW):n.frontFace(n.CCW),H=se)}function Be(se){se!==$5?(we(n.CULL_FACE),se!==J&&(se===Y3?n.cullFace(n.BACK):se===ew?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Ke(n.CULL_FACE),J=se}function $e(se){se!==ie&&(G&&n.lineWidth(se),ie=se)}function ke(se,Ye,tt){se?(we(n.POLYGON_OFFSET_FILL),(oe!==Ye||ge!==tt)&&(n.polygonOffset(Ye,tt),oe=Ye,ge=tt)):Ke(n.POLYGON_OFFSET_FILL)}function Je(se){se?we(n.SCISSOR_TEST):Ke(n.SCISSOR_TEST)}function Rt(se){se===void 0&&(se=n.TEXTURE0+ce-1),le!==se&&(n.activeTexture(se),le=se)}function Lt(se,Ye,tt){tt===void 0&&(le===null?tt=n.TEXTURE0+ce-1:tt=le);let dt=ye[tt];dt===void 0&&(dt={type:void 0,texture:void 0},ye[tt]=dt),(dt.type!==se||dt.texture!==Ye)&&(le!==tt&&(n.activeTexture(tt),le=tt),n.bindTexture(se,Ye||ve[se]),dt.type=se,dt.texture=Ye)}function q(){const se=ye[le];se!==void 0&&se.type!==void 0&&(n.bindTexture(se.type,null),se.type=void 0,se.texture=void 0)}function z(){try{n.compressedTexImage2D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function me(){try{n.compressedTexImage3D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Te(){try{n.texSubImage2D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function He(){try{n.texSubImage3D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Ie(){try{n.compressedTexSubImage2D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function _t(){try{n.compressedTexSubImage3D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function et(){try{n.texStorage2D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function yt(){try{n.texStorage3D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function vt(){try{n.texImage2D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Ve(){try{n.texImage3D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function qe(se){Ce.equals(se)===!1&&(n.scissor(se.x,se.y,se.z,se.w),Ce.copy(se))}function At(se){Re.equals(se)===!1&&(n.viewport(se.x,se.y,se.z,se.w),Re.copy(se))}function ut(se,Ye){let tt=g.get(Ye);tt===void 0&&(tt=new WeakMap,g.set(Ye,tt));let dt=tt.get(se);dt===void 0&&(dt=n.getUniformBlockIndex(Ye,se.name),tt.set(se,dt))}function st(se,Ye){const dt=g.get(Ye).get(se);m.get(Ye)!==dt&&(n.uniformBlockBinding(Ye,dt,se.__bindingPointIndex),m.set(Ye,dt))}function jt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),l.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),v={},le=null,ye={},d={},p=new WeakMap,b=[],C=null,w=!1,E=null,M=null,I=null,B=null,N=null,P=null,U=null,F=new ot(0,0,0),j=0,O=!1,H=null,J=null,ie=null,oe=null,ge=null,Ce.set(0,0,n.canvas.width,n.canvas.height),Re.set(0,0,n.canvas.width,n.canvas.height),r.reset(),l.reset(),u.reset()}return{buffers:{color:r,depth:l,stencil:u},enable:we,disable:Ke,bindFramebuffer:it,drawBuffers:at,useProgram:ht,setBlending:Pe,setMaterial:Ne,setFlipSided:Le,setCullFace:Be,setLineWidth:$e,setPolygonOffset:ke,setScissorTest:Je,activeTexture:Rt,bindTexture:Lt,unbindTexture:q,compressedTexImage2D:z,compressedTexImage3D:me,texImage2D:vt,texImage3D:Ve,updateUBOMapping:ut,uniformBlockBinding:st,texStorage2D:et,texStorage3D:yt,texSubImage2D:Te,texSubImage3D:He,compressedTexSubImage2D:Ie,compressedTexSubImage3D:_t,scissor:qe,viewport:At,reset:jt}}function hz(n,e,t,i,a,r,l){const u=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),g=new ze,v=new WeakMap;let d;const p=new WeakMap;let b=!1;try{b=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function C(q,z){return b?new OffscreenCanvas(q,z):Yp("canvas")}function w(q,z,me){let Te=1;const He=Lt(q);if((He.width>me||He.height>me)&&(Te=me/Math.max(He.width,He.height)),Te<1)if(typeof HTMLImageElement<"u"&&q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&q instanceof ImageBitmap||typeof VideoFrame<"u"&&q instanceof VideoFrame){const Ie=Math.floor(Te*He.width),_t=Math.floor(Te*He.height);d===void 0&&(d=C(Ie,_t));const et=z?C(Ie,_t):d;return et.width=Ie,et.height=_t,et.getContext("2d").drawImage(q,0,0,Ie,_t),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+He.width+"x"+He.height+") to ("+Ie+"x"+_t+")."),et}else return"data"in q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+He.width+"x"+He.height+")."),q;return q}function E(q){return q.generateMipmaps}function M(q){n.generateMipmap(q)}function I(q){return q.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:q.isWebGL3DRenderTarget?n.TEXTURE_3D:q.isWebGLArrayRenderTarget||q.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function B(q,z,me,Te,He=!1){if(q!==null){if(n[q]!==void 0)return n[q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+q+"'")}let Ie=z;if(z===n.RED&&(me===n.FLOAT&&(Ie=n.R32F),me===n.HALF_FLOAT&&(Ie=n.R16F),me===n.UNSIGNED_BYTE&&(Ie=n.R8)),z===n.RED_INTEGER&&(me===n.UNSIGNED_BYTE&&(Ie=n.R8UI),me===n.UNSIGNED_SHORT&&(Ie=n.R16UI),me===n.UNSIGNED_INT&&(Ie=n.R32UI),me===n.BYTE&&(Ie=n.R8I),me===n.SHORT&&(Ie=n.R16I),me===n.INT&&(Ie=n.R32I)),z===n.RG&&(me===n.FLOAT&&(Ie=n.RG32F),me===n.HALF_FLOAT&&(Ie=n.RG16F),me===n.UNSIGNED_BYTE&&(Ie=n.RG8)),z===n.RG_INTEGER&&(me===n.UNSIGNED_BYTE&&(Ie=n.RG8UI),me===n.UNSIGNED_SHORT&&(Ie=n.RG16UI),me===n.UNSIGNED_INT&&(Ie=n.RG32UI),me===n.BYTE&&(Ie=n.RG8I),me===n.SHORT&&(Ie=n.RG16I),me===n.INT&&(Ie=n.RG32I)),z===n.RGB_INTEGER&&(me===n.UNSIGNED_BYTE&&(Ie=n.RGB8UI),me===n.UNSIGNED_SHORT&&(Ie=n.RGB16UI),me===n.UNSIGNED_INT&&(Ie=n.RGB32UI),me===n.BYTE&&(Ie=n.RGB8I),me===n.SHORT&&(Ie=n.RGB16I),me===n.INT&&(Ie=n.RGB32I)),z===n.RGBA_INTEGER&&(me===n.UNSIGNED_BYTE&&(Ie=n.RGBA8UI),me===n.UNSIGNED_SHORT&&(Ie=n.RGBA16UI),me===n.UNSIGNED_INT&&(Ie=n.RGBA32UI),me===n.BYTE&&(Ie=n.RGBA8I),me===n.SHORT&&(Ie=n.RGBA16I),me===n.INT&&(Ie=n.RGBA32I)),z===n.RGB&&(me===n.UNSIGNED_INT_5_9_9_9_REV&&(Ie=n.RGB9_E5),me===n.UNSIGNED_INT_10F_11F_11F_REV&&(Ie=n.R11F_G11F_B10F)),z===n.RGBA){const _t=He?Xp:An.getTransfer(Te);me===n.FLOAT&&(Ie=n.RGBA32F),me===n.HALF_FLOAT&&(Ie=n.RGBA16F),me===n.UNSIGNED_BYTE&&(Ie=_t===Fn?n.SRGB8_ALPHA8:n.RGBA8),me===n.UNSIGNED_SHORT_4_4_4_4&&(Ie=n.RGBA4),me===n.UNSIGNED_SHORT_5_5_5_1&&(Ie=n.RGB5_A1)}return(Ie===n.R16F||Ie===n.R32F||Ie===n.RG16F||Ie===n.RG32F||Ie===n.RGBA16F||Ie===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ie}function N(q,z){let me;return q?z===null||z===ic||z===n0?me=n.DEPTH24_STENCIL8:z===Ds?me=n.DEPTH32F_STENCIL8:z===t0&&(me=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):z===null||z===ic||z===n0?me=n.DEPTH_COMPONENT24:z===Ds?me=n.DEPTH_COMPONENT32F:z===t0&&(me=n.DEPTH_COMPONENT16),me}function P(q,z){return E(q)===!0||q.isFramebufferTexture&&q.minFilter!==fa&&q.minFilter!==Bi?Math.log2(Math.max(z.width,z.height))+1:q.mipmaps!==void 0&&q.mipmaps.length>0?q.mipmaps.length:q.isCompressedTexture&&Array.isArray(q.image)?z.mipmaps.length:1}function U(q){const z=q.target;z.removeEventListener("dispose",U),j(z),z.isVideoTexture&&v.delete(z)}function F(q){const z=q.target;z.removeEventListener("dispose",F),H(z)}function j(q){const z=i.get(q);if(z.__webglInit===void 0)return;const me=q.source,Te=p.get(me);if(Te){const He=Te[z.__cacheKey];He.usedTimes--,He.usedTimes===0&&O(q),Object.keys(Te).length===0&&p.delete(me)}i.remove(q)}function O(q){const z=i.get(q);n.deleteTexture(z.__webglTexture);const me=q.source,Te=p.get(me);delete Te[z.__cacheKey],l.memory.textures--}function H(q){const z=i.get(q);if(q.depthTexture&&(q.depthTexture.dispose(),i.remove(q.depthTexture)),q.isWebGLCubeRenderTarget)for(let Te=0;Te<6;Te++){if(Array.isArray(z.__webglFramebuffer[Te]))for(let He=0;He<z.__webglFramebuffer[Te].length;He++)n.deleteFramebuffer(z.__webglFramebuffer[Te][He]);else n.deleteFramebuffer(z.__webglFramebuffer[Te]);z.__webglDepthbuffer&&n.deleteRenderbuffer(z.__webglDepthbuffer[Te])}else{if(Array.isArray(z.__webglFramebuffer))for(let Te=0;Te<z.__webglFramebuffer.length;Te++)n.deleteFramebuffer(z.__webglFramebuffer[Te]);else n.deleteFramebuffer(z.__webglFramebuffer);if(z.__webglDepthbuffer&&n.deleteRenderbuffer(z.__webglDepthbuffer),z.__webglMultisampledFramebuffer&&n.deleteFramebuffer(z.__webglMultisampledFramebuffer),z.__webglColorRenderbuffer)for(let Te=0;Te<z.__webglColorRenderbuffer.length;Te++)z.__webglColorRenderbuffer[Te]&&n.deleteRenderbuffer(z.__webglColorRenderbuffer[Te]);z.__webglDepthRenderbuffer&&n.deleteRenderbuffer(z.__webglDepthRenderbuffer)}const me=q.textures;for(let Te=0,He=me.length;Te<He;Te++){const Ie=i.get(me[Te]);Ie.__webglTexture&&(n.deleteTexture(Ie.__webglTexture),l.memory.textures--),i.remove(me[Te])}i.remove(q)}let J=0;function ie(){J=0}function oe(){const q=J;return q>=a.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+q+" texture units while this GPU supports only "+a.maxTextures),J+=1,q}function ge(q){const z=[];return z.push(q.wrapS),z.push(q.wrapT),z.push(q.wrapR||0),z.push(q.magFilter),z.push(q.minFilter),z.push(q.anisotropy),z.push(q.internalFormat),z.push(q.format),z.push(q.type),z.push(q.generateMipmaps),z.push(q.premultiplyAlpha),z.push(q.flipY),z.push(q.unpackAlignment),z.push(q.colorSpace),z.join()}function ce(q,z){const me=i.get(q);if(q.isVideoTexture&&Je(q),q.isRenderTargetTexture===!1&&q.isExternalTexture!==!0&&q.version>0&&me.__version!==q.version){const Te=q.image;if(Te===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Te.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ve(me,q,z);return}}else q.isExternalTexture&&(me.__webglTexture=q.sourceTexture?q.sourceTexture:null);t.bindTexture(n.TEXTURE_2D,me.__webglTexture,n.TEXTURE0+z)}function G(q,z){const me=i.get(q);if(q.isRenderTargetTexture===!1&&q.version>0&&me.__version!==q.version){ve(me,q,z);return}t.bindTexture(n.TEXTURE_2D_ARRAY,me.__webglTexture,n.TEXTURE0+z)}function Z(q,z){const me=i.get(q);if(q.isRenderTargetTexture===!1&&q.version>0&&me.__version!==q.version){ve(me,q,z);return}t.bindTexture(n.TEXTURE_3D,me.__webglTexture,n.TEXTURE0+z)}function Q(q,z){const me=i.get(q);if(q.version>0&&me.__version!==q.version){we(me,q,z);return}t.bindTexture(n.TEXTURE_CUBE_MAP,me.__webglTexture,n.TEXTURE0+z)}const le={[du]:n.REPEAT,[Zs]:n.CLAMP_TO_EDGE,[e0]:n.MIRRORED_REPEAT},ye={[fa]:n.NEAREST,[bv]:n.NEAREST_MIPMAP_NEAREST,[Hh]:n.NEAREST_MIPMAP_LINEAR,[Bi]:n.LINEAR,[Jd]:n.LINEAR_MIPMAP_NEAREST,[Er]:n.LINEAR_MIPMAP_LINEAR},X={[Pw]:n.NEVER,[zw]:n.ALWAYS,[Uw]:n.LESS,[AA]:n.LEQUAL,[Hw]:n.EQUAL,[Gw]:n.GEQUAL,[jw]:n.GREATER,[Fw]:n.NOTEQUAL};function ae(q,z){if(z.type===Ds&&e.has("OES_texture_float_linear")===!1&&(z.magFilter===Bi||z.magFilter===Jd||z.magFilter===Hh||z.magFilter===Er||z.minFilter===Bi||z.minFilter===Jd||z.minFilter===Hh||z.minFilter===Er)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(q,n.TEXTURE_WRAP_S,le[z.wrapS]),n.texParameteri(q,n.TEXTURE_WRAP_T,le[z.wrapT]),(q===n.TEXTURE_3D||q===n.TEXTURE_2D_ARRAY)&&n.texParameteri(q,n.TEXTURE_WRAP_R,le[z.wrapR]),n.texParameteri(q,n.TEXTURE_MAG_FILTER,ye[z.magFilter]),n.texParameteri(q,n.TEXTURE_MIN_FILTER,ye[z.minFilter]),z.compareFunction&&(n.texParameteri(q,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(q,n.TEXTURE_COMPARE_FUNC,X[z.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(z.magFilter===fa||z.minFilter!==Hh&&z.minFilter!==Er||z.type===Ds&&e.has("OES_texture_float_linear")===!1)return;if(z.anisotropy>1||i.get(z).__currentAnisotropy){const me=e.get("EXT_texture_filter_anisotropic");n.texParameterf(q,me.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(z.anisotropy,a.getMaxAnisotropy())),i.get(z).__currentAnisotropy=z.anisotropy}}}function Ce(q,z){let me=!1;q.__webglInit===void 0&&(q.__webglInit=!0,z.addEventListener("dispose",U));const Te=z.source;let He=p.get(Te);He===void 0&&(He={},p.set(Te,He));const Ie=ge(z);if(Ie!==q.__cacheKey){He[Ie]===void 0&&(He[Ie]={texture:n.createTexture(),usedTimes:0},l.memory.textures++,me=!0),He[Ie].usedTimes++;const _t=He[q.__cacheKey];_t!==void 0&&(He[q.__cacheKey].usedTimes--,_t.usedTimes===0&&O(z)),q.__cacheKey=Ie,q.__webglTexture=He[Ie].texture}return me}function Re(q,z,me){return Math.floor(Math.floor(q/me)/z)}function Ze(q,z,me,Te){const Ie=q.updateRanges;if(Ie.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,z.width,z.height,me,Te,z.data);else{Ie.sort((Ve,qe)=>Ve.start-qe.start);let _t=0;for(let Ve=1;Ve<Ie.length;Ve++){const qe=Ie[_t],At=Ie[Ve],ut=qe.start+qe.count,st=Re(At.start,z.width,4),jt=Re(qe.start,z.width,4);At.start<=ut+1&&st===jt&&Re(At.start+At.count-1,z.width,4)===st?qe.count=Math.max(qe.count,At.start+At.count-qe.start):(++_t,Ie[_t]=At)}Ie.length=_t+1;const et=n.getParameter(n.UNPACK_ROW_LENGTH),yt=n.getParameter(n.UNPACK_SKIP_PIXELS),vt=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,z.width);for(let Ve=0,qe=Ie.length;Ve<qe;Ve++){const At=Ie[Ve],ut=Math.floor(At.start/4),st=Math.ceil(At.count/4),jt=ut%z.width,se=Math.floor(ut/z.width),Ye=st,tt=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,jt),n.pixelStorei(n.UNPACK_SKIP_ROWS,se),t.texSubImage2D(n.TEXTURE_2D,0,jt,se,Ye,tt,me,Te,z.data)}q.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,et),n.pixelStorei(n.UNPACK_SKIP_PIXELS,yt),n.pixelStorei(n.UNPACK_SKIP_ROWS,vt)}}function ve(q,z,me){let Te=n.TEXTURE_2D;(z.isDataArrayTexture||z.isCompressedArrayTexture)&&(Te=n.TEXTURE_2D_ARRAY),z.isData3DTexture&&(Te=n.TEXTURE_3D);const He=Ce(q,z),Ie=z.source;t.bindTexture(Te,q.__webglTexture,n.TEXTURE0+me);const _t=i.get(Ie);if(Ie.version!==_t.__version||He===!0){t.activeTexture(n.TEXTURE0+me);const et=An.getPrimaries(An.workingColorSpace),yt=z.colorSpace===kl?null:An.getPrimaries(z.colorSpace),vt=z.colorSpace===kl||et===yt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,z.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,z.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,z.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,vt);let Ve=w(z.image,!1,a.maxTextureSize);Ve=Rt(z,Ve);const qe=r.convert(z.format,z.colorSpace),At=r.convert(z.type);let ut=B(z.internalFormat,qe,At,z.colorSpace,z.isVideoTexture);ae(Te,z);let st;const jt=z.mipmaps,se=z.isVideoTexture!==!0,Ye=_t.__version===void 0||He===!0,tt=Ie.dataReady,dt=P(z,Ve);if(z.isDepthTexture)ut=N(z.format===a0,z.type),Ye&&(se?t.texStorage2D(n.TEXTURE_2D,1,ut,Ve.width,Ve.height):t.texImage2D(n.TEXTURE_2D,0,ut,Ve.width,Ve.height,0,qe,At,null));else if(z.isDataTexture)if(jt.length>0){se&&Ye&&t.texStorage2D(n.TEXTURE_2D,dt,ut,jt[0].width,jt[0].height);for(let We=0,je=jt.length;We<je;We++)st=jt[We],se?tt&&t.texSubImage2D(n.TEXTURE_2D,We,0,0,st.width,st.height,qe,At,st.data):t.texImage2D(n.TEXTURE_2D,We,ut,st.width,st.height,0,qe,At,st.data);z.generateMipmaps=!1}else se?(Ye&&t.texStorage2D(n.TEXTURE_2D,dt,ut,Ve.width,Ve.height),tt&&Ze(z,Ve,qe,At)):t.texImage2D(n.TEXTURE_2D,0,ut,Ve.width,Ve.height,0,qe,At,Ve.data);else if(z.isCompressedTexture)if(z.isCompressedArrayTexture){se&&Ye&&t.texStorage3D(n.TEXTURE_2D_ARRAY,dt,ut,jt[0].width,jt[0].height,Ve.depth);for(let We=0,je=jt.length;We<je;We++)if(st=jt[We],z.format!==Va)if(qe!==null)if(se){if(tt)if(z.layerUpdates.size>0){const mt=ob(st.width,st.height,z.format,z.type);for(const Pt of z.layerUpdates){const yn=st.data.subarray(Pt*mt/st.data.BYTES_PER_ELEMENT,(Pt+1)*mt/st.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,We,0,0,Pt,st.width,st.height,1,qe,yn)}z.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,We,0,0,0,st.width,st.height,Ve.depth,qe,st.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,We,ut,st.width,st.height,Ve.depth,0,st.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else se?tt&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,We,0,0,0,st.width,st.height,Ve.depth,qe,At,st.data):t.texImage3D(n.TEXTURE_2D_ARRAY,We,ut,st.width,st.height,Ve.depth,0,qe,At,st.data)}else{se&&Ye&&t.texStorage2D(n.TEXTURE_2D,dt,ut,jt[0].width,jt[0].height);for(let We=0,je=jt.length;We<je;We++)st=jt[We],z.format!==Va?qe!==null?se?tt&&t.compressedTexSubImage2D(n.TEXTURE_2D,We,0,0,st.width,st.height,qe,st.data):t.compressedTexImage2D(n.TEXTURE_2D,We,ut,st.width,st.height,0,st.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):se?tt&&t.texSubImage2D(n.TEXTURE_2D,We,0,0,st.width,st.height,qe,At,st.data):t.texImage2D(n.TEXTURE_2D,We,ut,st.width,st.height,0,qe,At,st.data)}else if(z.isDataArrayTexture)if(se){if(Ye&&t.texStorage3D(n.TEXTURE_2D_ARRAY,dt,ut,Ve.width,Ve.height,Ve.depth),tt)if(z.layerUpdates.size>0){const We=ob(Ve.width,Ve.height,z.format,z.type);for(const je of z.layerUpdates){const mt=Ve.data.subarray(je*We/Ve.data.BYTES_PER_ELEMENT,(je+1)*We/Ve.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,je,Ve.width,Ve.height,1,qe,At,mt)}z.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Ve.width,Ve.height,Ve.depth,qe,At,Ve.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,ut,Ve.width,Ve.height,Ve.depth,0,qe,At,Ve.data);else if(z.isData3DTexture)se?(Ye&&t.texStorage3D(n.TEXTURE_3D,dt,ut,Ve.width,Ve.height,Ve.depth),tt&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Ve.width,Ve.height,Ve.depth,qe,At,Ve.data)):t.texImage3D(n.TEXTURE_3D,0,ut,Ve.width,Ve.height,Ve.depth,0,qe,At,Ve.data);else if(z.isFramebufferTexture){if(Ye)if(se)t.texStorage2D(n.TEXTURE_2D,dt,ut,Ve.width,Ve.height);else{let We=Ve.width,je=Ve.height;for(let mt=0;mt<dt;mt++)t.texImage2D(n.TEXTURE_2D,mt,ut,We,je,0,qe,At,null),We>>=1,je>>=1}}else if(jt.length>0){if(se&&Ye){const We=Lt(jt[0]);t.texStorage2D(n.TEXTURE_2D,dt,ut,We.width,We.height)}for(let We=0,je=jt.length;We<je;We++)st=jt[We],se?tt&&t.texSubImage2D(n.TEXTURE_2D,We,0,0,qe,At,st):t.texImage2D(n.TEXTURE_2D,We,ut,qe,At,st);z.generateMipmaps=!1}else if(se){if(Ye){const We=Lt(Ve);t.texStorage2D(n.TEXTURE_2D,dt,ut,We.width,We.height)}tt&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,qe,At,Ve)}else t.texImage2D(n.TEXTURE_2D,0,ut,qe,At,Ve);E(z)&&M(Te),_t.__version=Ie.version,z.onUpdate&&z.onUpdate(z)}q.__version=z.version}function we(q,z,me){if(z.image.length!==6)return;const Te=Ce(q,z),He=z.source;t.bindTexture(n.TEXTURE_CUBE_MAP,q.__webglTexture,n.TEXTURE0+me);const Ie=i.get(He);if(He.version!==Ie.__version||Te===!0){t.activeTexture(n.TEXTURE0+me);const _t=An.getPrimaries(An.workingColorSpace),et=z.colorSpace===kl?null:An.getPrimaries(z.colorSpace),yt=z.colorSpace===kl||_t===et?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,z.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,z.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,z.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,yt);const vt=z.isCompressedTexture||z.image[0].isCompressedTexture,Ve=z.image[0]&&z.image[0].isDataTexture,qe=[];for(let je=0;je<6;je++)!vt&&!Ve?qe[je]=w(z.image[je],!0,a.maxCubemapSize):qe[je]=Ve?z.image[je].image:z.image[je],qe[je]=Rt(z,qe[je]);const At=qe[0],ut=r.convert(z.format,z.colorSpace),st=r.convert(z.type),jt=B(z.internalFormat,ut,st,z.colorSpace),se=z.isVideoTexture!==!0,Ye=Ie.__version===void 0||Te===!0,tt=He.dataReady;let dt=P(z,At);ae(n.TEXTURE_CUBE_MAP,z);let We;if(vt){se&&Ye&&t.texStorage2D(n.TEXTURE_CUBE_MAP,dt,jt,At.width,At.height);for(let je=0;je<6;je++){We=qe[je].mipmaps;for(let mt=0;mt<We.length;mt++){const Pt=We[mt];z.format!==Va?ut!==null?se?tt&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,mt,0,0,Pt.width,Pt.height,ut,Pt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,mt,jt,Pt.width,Pt.height,0,Pt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):se?tt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,mt,0,0,Pt.width,Pt.height,ut,st,Pt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,mt,jt,Pt.width,Pt.height,0,ut,st,Pt.data)}}}else{if(We=z.mipmaps,se&&Ye){We.length>0&&dt++;const je=Lt(qe[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,dt,jt,je.width,je.height)}for(let je=0;je<6;je++)if(Ve){se?tt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,0,0,qe[je].width,qe[je].height,ut,st,qe[je].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,jt,qe[je].width,qe[je].height,0,ut,st,qe[je].data);for(let mt=0;mt<We.length;mt++){const yn=We[mt].image[je].image;se?tt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,mt+1,0,0,yn.width,yn.height,ut,st,yn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,mt+1,jt,yn.width,yn.height,0,ut,st,yn.data)}}else{se?tt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,0,0,ut,st,qe[je]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,jt,ut,st,qe[je]);for(let mt=0;mt<We.length;mt++){const Pt=We[mt];se?tt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,mt+1,0,0,ut,st,Pt.image[je]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+je,mt+1,jt,ut,st,Pt.image[je])}}}E(z)&&M(n.TEXTURE_CUBE_MAP),Ie.__version=He.version,z.onUpdate&&z.onUpdate(z)}q.__version=z.version}function Ke(q,z,me,Te,He,Ie){const _t=r.convert(me.format,me.colorSpace),et=r.convert(me.type),yt=B(me.internalFormat,_t,et,me.colorSpace),vt=i.get(z),Ve=i.get(me);if(Ve.__renderTarget=z,!vt.__hasExternalTextures){const qe=Math.max(1,z.width>>Ie),At=Math.max(1,z.height>>Ie);He===n.TEXTURE_3D||He===n.TEXTURE_2D_ARRAY?t.texImage3D(He,Ie,yt,qe,At,z.depth,0,_t,et,null):t.texImage2D(He,Ie,yt,qe,At,0,_t,et,null)}t.bindFramebuffer(n.FRAMEBUFFER,q),ke(z)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Te,He,Ve.__webglTexture,0,$e(z)):(He===n.TEXTURE_2D||He>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&He<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Te,He,Ve.__webglTexture,Ie),t.bindFramebuffer(n.FRAMEBUFFER,null)}function it(q,z,me){if(n.bindRenderbuffer(n.RENDERBUFFER,q),z.depthBuffer){const Te=z.depthTexture,He=Te&&Te.isDepthTexture?Te.type:null,Ie=N(z.stencilBuffer,He),_t=z.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,et=$e(z);ke(z)?u.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,et,Ie,z.width,z.height):me?n.renderbufferStorageMultisample(n.RENDERBUFFER,et,Ie,z.width,z.height):n.renderbufferStorage(n.RENDERBUFFER,Ie,z.width,z.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,_t,n.RENDERBUFFER,q)}else{const Te=z.textures;for(let He=0;He<Te.length;He++){const Ie=Te[He],_t=r.convert(Ie.format,Ie.colorSpace),et=r.convert(Ie.type),yt=B(Ie.internalFormat,_t,et,Ie.colorSpace),vt=$e(z);me&&ke(z)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,vt,yt,z.width,z.height):ke(z)?u.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,vt,yt,z.width,z.height):n.renderbufferStorage(n.RENDERBUFFER,yt,z.width,z.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function at(q,z){if(z&&z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,q),!(z.depthTexture&&z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Te=i.get(z.depthTexture);Te.__renderTarget=z,(!Te.__webglTexture||z.depthTexture.image.width!==z.width||z.depthTexture.image.height!==z.height)&&(z.depthTexture.image.width=z.width,z.depthTexture.image.height=z.height,z.depthTexture.needsUpdate=!0),ce(z.depthTexture,0);const He=Te.__webglTexture,Ie=$e(z);if(z.depthTexture.format===i0)ke(z)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,He,0,Ie):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,He,0);else if(z.depthTexture.format===a0)ke(z)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,He,0,Ie):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,He,0);else throw new Error("Unknown depthTexture format")}function ht(q){const z=i.get(q),me=q.isWebGLCubeRenderTarget===!0;if(z.__boundDepthTexture!==q.depthTexture){const Te=q.depthTexture;if(z.__depthDisposeCallback&&z.__depthDisposeCallback(),Te){const He=()=>{delete z.__boundDepthTexture,delete z.__depthDisposeCallback,Te.removeEventListener("dispose",He)};Te.addEventListener("dispose",He),z.__depthDisposeCallback=He}z.__boundDepthTexture=Te}if(q.depthTexture&&!z.__autoAllocateDepthBuffer){if(me)throw new Error("target.depthTexture not supported in Cube render targets");const Te=q.texture.mipmaps;Te&&Te.length>0?at(z.__webglFramebuffer[0],q):at(z.__webglFramebuffer,q)}else if(me){z.__webglDepthbuffer=[];for(let Te=0;Te<6;Te++)if(t.bindFramebuffer(n.FRAMEBUFFER,z.__webglFramebuffer[Te]),z.__webglDepthbuffer[Te]===void 0)z.__webglDepthbuffer[Te]=n.createRenderbuffer(),it(z.__webglDepthbuffer[Te],q,!1);else{const He=q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ie=z.__webglDepthbuffer[Te];n.bindRenderbuffer(n.RENDERBUFFER,Ie),n.framebufferRenderbuffer(n.FRAMEBUFFER,He,n.RENDERBUFFER,Ie)}}else{const Te=q.texture.mipmaps;if(Te&&Te.length>0?t.bindFramebuffer(n.FRAMEBUFFER,z.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,z.__webglFramebuffer),z.__webglDepthbuffer===void 0)z.__webglDepthbuffer=n.createRenderbuffer(),it(z.__webglDepthbuffer,q,!1);else{const He=q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ie=z.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Ie),n.framebufferRenderbuffer(n.FRAMEBUFFER,He,n.RENDERBUFFER,Ie)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function kt(q,z,me){const Te=i.get(q);z!==void 0&&Ke(Te.__webglFramebuffer,q,q.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),me!==void 0&&ht(q)}function $(q){const z=q.texture,me=i.get(q),Te=i.get(z);q.addEventListener("dispose",F);const He=q.textures,Ie=q.isWebGLCubeRenderTarget===!0,_t=He.length>1;if(_t||(Te.__webglTexture===void 0&&(Te.__webglTexture=n.createTexture()),Te.__version=z.version,l.memory.textures++),Ie){me.__webglFramebuffer=[];for(let et=0;et<6;et++)if(z.mipmaps&&z.mipmaps.length>0){me.__webglFramebuffer[et]=[];for(let yt=0;yt<z.mipmaps.length;yt++)me.__webglFramebuffer[et][yt]=n.createFramebuffer()}else me.__webglFramebuffer[et]=n.createFramebuffer()}else{if(z.mipmaps&&z.mipmaps.length>0){me.__webglFramebuffer=[];for(let et=0;et<z.mipmaps.length;et++)me.__webglFramebuffer[et]=n.createFramebuffer()}else me.__webglFramebuffer=n.createFramebuffer();if(_t)for(let et=0,yt=He.length;et<yt;et++){const vt=i.get(He[et]);vt.__webglTexture===void 0&&(vt.__webglTexture=n.createTexture(),l.memory.textures++)}if(q.samples>0&&ke(q)===!1){me.__webglMultisampledFramebuffer=n.createFramebuffer(),me.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,me.__webglMultisampledFramebuffer);for(let et=0;et<He.length;et++){const yt=He[et];me.__webglColorRenderbuffer[et]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,me.__webglColorRenderbuffer[et]);const vt=r.convert(yt.format,yt.colorSpace),Ve=r.convert(yt.type),qe=B(yt.internalFormat,vt,Ve,yt.colorSpace,q.isXRRenderTarget===!0),At=$e(q);n.renderbufferStorageMultisample(n.RENDERBUFFER,At,qe,q.width,q.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+et,n.RENDERBUFFER,me.__webglColorRenderbuffer[et])}n.bindRenderbuffer(n.RENDERBUFFER,null),q.depthBuffer&&(me.__webglDepthRenderbuffer=n.createRenderbuffer(),it(me.__webglDepthRenderbuffer,q,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Ie){t.bindTexture(n.TEXTURE_CUBE_MAP,Te.__webglTexture),ae(n.TEXTURE_CUBE_MAP,z);for(let et=0;et<6;et++)if(z.mipmaps&&z.mipmaps.length>0)for(let yt=0;yt<z.mipmaps.length;yt++)Ke(me.__webglFramebuffer[et][yt],q,z,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+et,yt);else Ke(me.__webglFramebuffer[et],q,z,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+et,0);E(z)&&M(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(_t){for(let et=0,yt=He.length;et<yt;et++){const vt=He[et],Ve=i.get(vt);let qe=n.TEXTURE_2D;(q.isWebGL3DRenderTarget||q.isWebGLArrayRenderTarget)&&(qe=q.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(qe,Ve.__webglTexture),ae(qe,vt),Ke(me.__webglFramebuffer,q,vt,n.COLOR_ATTACHMENT0+et,qe,0),E(vt)&&M(qe)}t.unbindTexture()}else{let et=n.TEXTURE_2D;if((q.isWebGL3DRenderTarget||q.isWebGLArrayRenderTarget)&&(et=q.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(et,Te.__webglTexture),ae(et,z),z.mipmaps&&z.mipmaps.length>0)for(let yt=0;yt<z.mipmaps.length;yt++)Ke(me.__webglFramebuffer[yt],q,z,n.COLOR_ATTACHMENT0,et,yt);else Ke(me.__webglFramebuffer,q,z,n.COLOR_ATTACHMENT0,et,0);E(z)&&M(et),t.unbindTexture()}q.depthBuffer&&ht(q)}function Pe(q){const z=q.textures;for(let me=0,Te=z.length;me<Te;me++){const He=z[me];if(E(He)){const Ie=I(q),_t=i.get(He).__webglTexture;t.bindTexture(Ie,_t),M(Ie),t.unbindTexture()}}}const Ne=[],Le=[];function Be(q){if(q.samples>0){if(ke(q)===!1){const z=q.textures,me=q.width,Te=q.height;let He=n.COLOR_BUFFER_BIT;const Ie=q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,_t=i.get(q),et=z.length>1;if(et)for(let vt=0;vt<z.length;vt++)t.bindFramebuffer(n.FRAMEBUFFER,_t.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+vt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,_t.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+vt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,_t.__webglMultisampledFramebuffer);const yt=q.texture.mipmaps;yt&&yt.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,_t.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,_t.__webglFramebuffer);for(let vt=0;vt<z.length;vt++){if(q.resolveDepthBuffer&&(q.depthBuffer&&(He|=n.DEPTH_BUFFER_BIT),q.stencilBuffer&&q.resolveStencilBuffer&&(He|=n.STENCIL_BUFFER_BIT)),et){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,_t.__webglColorRenderbuffer[vt]);const Ve=i.get(z[vt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Ve,0)}n.blitFramebuffer(0,0,me,Te,0,0,me,Te,He,n.NEAREST),m===!0&&(Ne.length=0,Le.length=0,Ne.push(n.COLOR_ATTACHMENT0+vt),q.depthBuffer&&q.resolveDepthBuffer===!1&&(Ne.push(Ie),Le.push(Ie),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,Le)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ne))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),et)for(let vt=0;vt<z.length;vt++){t.bindFramebuffer(n.FRAMEBUFFER,_t.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+vt,n.RENDERBUFFER,_t.__webglColorRenderbuffer[vt]);const Ve=i.get(z[vt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,_t.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+vt,n.TEXTURE_2D,Ve,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,_t.__webglMultisampledFramebuffer)}else if(q.depthBuffer&&q.resolveDepthBuffer===!1&&m){const z=q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[z])}}}function $e(q){return Math.min(a.maxSamples,q.samples)}function ke(q){const z=i.get(q);return q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&z.__useRenderToTexture!==!1}function Je(q){const z=l.render.frame;v.get(q)!==z&&(v.set(q,z),q.update())}function Rt(q,z){const me=q.colorSpace,Te=q.format,He=q.type;return q.isCompressedTexture===!0||q.isVideoTexture===!0||me!==mu&&me!==kl&&(An.getTransfer(me)===Fn?(Te!==Va||He!==Rr)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",me)),z}function Lt(q){return typeof HTMLImageElement<"u"&&q instanceof HTMLImageElement?(g.width=q.naturalWidth||q.width,g.height=q.naturalHeight||q.height):typeof VideoFrame<"u"&&q instanceof VideoFrame?(g.width=q.displayWidth,g.height=q.displayHeight):(g.width=q.width,g.height=q.height),g}this.allocateTextureUnit=oe,this.resetTextureUnits=ie,this.setTexture2D=ce,this.setTexture2DArray=G,this.setTexture3D=Z,this.setTextureCube=Q,this.rebindTextures=kt,this.setupRenderTarget=$,this.updateRenderTargetMipmap=Pe,this.updateMultisampleRenderTarget=Be,this.setupDepthRenderbuffer=ht,this.setupFrameBufferTexture=Ke,this.useMultisampledRTT=ke}function YR(n,e){function t(i,a=kl){let r;const l=An.getTransfer(a);if(i===Rr)return n.UNSIGNED_BYTE;if(i===Sv)return n.UNSIGNED_SHORT_4_4_4_4;if(i===Mv)return n.UNSIGNED_SHORT_5_5_5_1;if(i===pA)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===gA)return n.UNSIGNED_INT_10F_11F_11F_REV;if(i===dA)return n.BYTE;if(i===mA)return n.SHORT;if(i===t0)return n.UNSIGNED_SHORT;if(i===Av)return n.INT;if(i===ic)return n.UNSIGNED_INT;if(i===Ds)return n.FLOAT;if(i===A0)return n.HALF_FLOAT;if(i===yA)return n.ALPHA;if(i===vA)return n.RGB;if(i===Va)return n.RGBA;if(i===i0)return n.DEPTH_COMPONENT;if(i===a0)return n.DEPTH_STENCIL;if(i===Cv)return n.RED;if(i===mg)return n.RED_INTEGER;if(i===xA)return n.RG;if(i===Ev)return n.RG_INTEGER;if(i===Tv)return n.RGBA_INTEGER;if(i===wp||i===Rp||i===Ip||i===Bp)if(l===Fn)if(r=e.get("WEBGL_compressed_texture_s3tc_srgb"),r!==null){if(i===wp)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Rp)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Ip)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Bp)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(r=e.get("WEBGL_compressed_texture_s3tc"),r!==null){if(i===wp)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Rp)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Ip)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Bp)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===M2||i===C2||i===E2||i===T2)if(r=e.get("WEBGL_compressed_texture_pvrtc"),r!==null){if(i===M2)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===C2)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===E2)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===T2)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===w2||i===R2||i===I2)if(r=e.get("WEBGL_compressed_texture_etc"),r!==null){if(i===w2||i===R2)return l===Fn?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(i===I2)return l===Fn?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===B2||i===D2||i===N2||i===L2||i===O2||i===P2||i===U2||i===H2||i===j2||i===F2||i===G2||i===z2||i===V2||i===k2)if(r=e.get("WEBGL_compressed_texture_astc"),r!==null){if(i===B2)return l===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===D2)return l===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===N2)return l===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===L2)return l===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===O2)return l===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===P2)return l===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===U2)return l===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===H2)return l===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===j2)return l===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===F2)return l===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===G2)return l===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===z2)return l===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===V2)return l===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===k2)return l===Fn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===W2||i===Z2||i===X2)if(r=e.get("EXT_texture_compression_bptc"),r!==null){if(i===W2)return l===Fn?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===Z2)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===X2)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===J2||i===Y2||i===K2||i===q2)if(r=e.get("EXT_texture_compression_rgtc"),r!==null){if(i===J2)return r.COMPRESSED_RED_RGTC1_EXT;if(i===Y2)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===K2)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===q2)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===n0?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const fz=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,dz=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class mz{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const i=new LA(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new co({vertexShader:fz,fragmentShader:dz,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Di(new C0(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class pz extends al{constructor(e,t){super();const i=this;let a=null,r=1,l=null,u="local-floor",m=1,g=null,v=null,d=null,p=null,b=null,C=null;const w=typeof XRWebGLBinding<"u",E=new mz,M={},I=t.getContextAttributes();let B=null,N=null;const P=[],U=[],F=new ze;let j=null;const O=new Ii;O.viewport=new wn;const H=new Ii;H.viewport=new wn;const J=[O,H],ie=new UR;let oe=null,ge=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ve){let we=P[ve];return we===void 0&&(we=new a2,P[ve]=we),we.getTargetRaySpace()},this.getControllerGrip=function(ve){let we=P[ve];return we===void 0&&(we=new a2,P[ve]=we),we.getGripSpace()},this.getHand=function(ve){let we=P[ve];return we===void 0&&(we=new a2,P[ve]=we),we.getHandSpace()};function ce(ve){const we=U.indexOf(ve.inputSource);if(we===-1)return;const Ke=P[we];Ke!==void 0&&(Ke.update(ve.inputSource,ve.frame,g||l),Ke.dispatchEvent({type:ve.type,data:ve.inputSource}))}function G(){a.removeEventListener("select",ce),a.removeEventListener("selectstart",ce),a.removeEventListener("selectend",ce),a.removeEventListener("squeeze",ce),a.removeEventListener("squeezestart",ce),a.removeEventListener("squeezeend",ce),a.removeEventListener("end",G),a.removeEventListener("inputsourceschange",Z);for(let ve=0;ve<P.length;ve++){const we=U[ve];we!==null&&(U[ve]=null,P[ve].disconnect(we))}oe=null,ge=null,E.reset();for(const ve in M)delete M[ve];e.setRenderTarget(B),b=null,p=null,d=null,a=null,N=null,Ze.stop(),i.isPresenting=!1,e.setPixelRatio(j),e.setSize(F.width,F.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ve){r=ve,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ve){u=ve,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return g||l},this.setReferenceSpace=function(ve){g=ve},this.getBaseLayer=function(){return p!==null?p:b},this.getBinding=function(){return d===null&&w&&(d=new XRWebGLBinding(a,t)),d},this.getFrame=function(){return C},this.getSession=function(){return a},this.setSession=async function(ve){if(a=ve,a!==null){if(B=e.getRenderTarget(),a.addEventListener("select",ce),a.addEventListener("selectstart",ce),a.addEventListener("selectend",ce),a.addEventListener("squeeze",ce),a.addEventListener("squeezestart",ce),a.addEventListener("squeezeend",ce),a.addEventListener("end",G),a.addEventListener("inputsourceschange",Z),I.xrCompatible!==!0&&await t.makeXRCompatible(),j=e.getPixelRatio(),e.getSize(F),w&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ke=null,it=null,at=null;I.depth&&(at=I.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Ke=I.stencil?a0:i0,it=I.stencil?n0:ic);const ht={colorFormat:t.RGBA8,depthFormat:at,scaleFactor:r};d=this.getBinding(),p=d.createProjectionLayer(ht),a.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),N=new nl(p.textureWidth,p.textureHeight,{format:Va,type:Rr,depthTexture:new NA(p.textureWidth,p.textureHeight,it,void 0,void 0,void 0,void 0,void 0,void 0,Ke),stencilBuffer:I.stencil,colorSpace:e.outputColorSpace,samples:I.antialias?4:0,resolveDepthBuffer:p.ignoreDepthValues===!1,resolveStencilBuffer:p.ignoreDepthValues===!1})}else{const Ke={antialias:I.antialias,alpha:!0,depth:I.depth,stencil:I.stencil,framebufferScaleFactor:r};b=new XRWebGLLayer(a,t,Ke),a.updateRenderState({baseLayer:b}),e.setPixelRatio(1),e.setSize(b.framebufferWidth,b.framebufferHeight,!1),N=new nl(b.framebufferWidth,b.framebufferHeight,{format:Va,type:Rr,colorSpace:e.outputColorSpace,stencilBuffer:I.stencil,resolveDepthBuffer:b.ignoreDepthValues===!1,resolveStencilBuffer:b.ignoreDepthValues===!1})}N.isXRRenderTarget=!0,this.setFoveation(m),g=null,l=await a.requestReferenceSpace(u),Ze.setContext(a),Ze.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(a!==null)return a.environmentBlendMode},this.getDepthTexture=function(){return E.getDepthTexture()};function Z(ve){for(let we=0;we<ve.removed.length;we++){const Ke=ve.removed[we],it=U.indexOf(Ke);it>=0&&(U[it]=null,P[it].disconnect(Ke))}for(let we=0;we<ve.added.length;we++){const Ke=ve.added[we];let it=U.indexOf(Ke);if(it===-1){for(let ht=0;ht<P.length;ht++)if(ht>=U.length){U.push(Ke),it=ht;break}else if(U[ht]===null){U[ht]=Ke,it=ht;break}if(it===-1)break}const at=P[it];at&&at.connect(Ke)}}const Q=new K,le=new K;function ye(ve,we,Ke){Q.setFromMatrixPosition(we.matrixWorld),le.setFromMatrixPosition(Ke.matrixWorld);const it=Q.distanceTo(le),at=we.projectionMatrix.elements,ht=Ke.projectionMatrix.elements,kt=at[14]/(at[10]-1),$=at[14]/(at[10]+1),Pe=(at[9]+1)/at[5],Ne=(at[9]-1)/at[5],Le=(at[8]-1)/at[0],Be=(ht[8]+1)/ht[0],$e=kt*Le,ke=kt*Be,Je=it/(-Le+Be),Rt=Je*-Le;if(we.matrixWorld.decompose(ve.position,ve.quaternion,ve.scale),ve.translateX(Rt),ve.translateZ(Je),ve.matrixWorld.compose(ve.position,ve.quaternion,ve.scale),ve.matrixWorldInverse.copy(ve.matrixWorld).invert(),at[10]===-1)ve.projectionMatrix.copy(we.projectionMatrix),ve.projectionMatrixInverse.copy(we.projectionMatrixInverse);else{const Lt=kt+Je,q=$+Je,z=$e-Rt,me=ke+(it-Rt),Te=Pe*$/q*Lt,He=Ne*$/q*Lt;ve.projectionMatrix.makePerspective(z,me,Te,He,Lt,q),ve.projectionMatrixInverse.copy(ve.projectionMatrix).invert()}}function X(ve,we){we===null?ve.matrixWorld.copy(ve.matrix):ve.matrixWorld.multiplyMatrices(we.matrixWorld,ve.matrix),ve.matrixWorldInverse.copy(ve.matrixWorld).invert()}this.updateCamera=function(ve){if(a===null)return;let we=ve.near,Ke=ve.far;E.texture!==null&&(E.depthNear>0&&(we=E.depthNear),E.depthFar>0&&(Ke=E.depthFar)),ie.near=H.near=O.near=we,ie.far=H.far=O.far=Ke,(oe!==ie.near||ge!==ie.far)&&(a.updateRenderState({depthNear:ie.near,depthFar:ie.far}),oe=ie.near,ge=ie.far),ie.layers.mask=ve.layers.mask|6,O.layers.mask=ie.layers.mask&3,H.layers.mask=ie.layers.mask&5;const it=ve.parent,at=ie.cameras;X(ie,it);for(let ht=0;ht<at.length;ht++)X(at[ht],it);at.length===2?ye(ie,O,H):ie.projectionMatrix.copy(O.projectionMatrix),ae(ve,ie,it)};function ae(ve,we,Ke){Ke===null?ve.matrix.copy(we.matrixWorld):(ve.matrix.copy(Ke.matrixWorld),ve.matrix.invert(),ve.matrix.multiply(we.matrixWorld)),ve.matrix.decompose(ve.position,ve.quaternion,ve.scale),ve.updateMatrixWorld(!0),ve.projectionMatrix.copy(we.projectionMatrix),ve.projectionMatrixInverse.copy(we.projectionMatrixInverse),ve.isPerspectiveCamera&&(ve.fov=l0*2*Math.atan(1/ve.projectionMatrix.elements[5]),ve.zoom=1)}this.getCamera=function(){return ie},this.getFoveation=function(){if(!(p===null&&b===null))return m},this.setFoveation=function(ve){m=ve,p!==null&&(p.fixedFoveation=ve),b!==null&&b.fixedFoveation!==void 0&&(b.fixedFoveation=ve)},this.hasDepthSensing=function(){return E.texture!==null},this.getDepthSensingMesh=function(){return E.getMesh(ie)},this.getCameraTexture=function(ve){return M[ve]};let Ce=null;function Re(ve,we){if(v=we.getViewerPose(g||l),C=we,v!==null){const Ke=v.views;b!==null&&(e.setRenderTargetFramebuffer(N,b.framebuffer),e.setRenderTarget(N));let it=!1;Ke.length!==ie.cameras.length&&(ie.cameras.length=0,it=!0);for(let $=0;$<Ke.length;$++){const Pe=Ke[$];let Ne=null;if(b!==null)Ne=b.getViewport(Pe);else{const Be=d.getViewSubImage(p,Pe);Ne=Be.viewport,$===0&&(e.setRenderTargetTextures(N,Be.colorTexture,Be.depthStencilTexture),e.setRenderTarget(N))}let Le=J[$];Le===void 0&&(Le=new Ii,Le.layers.enable($),Le.viewport=new wn,J[$]=Le),Le.matrix.fromArray(Pe.transform.matrix),Le.matrix.decompose(Le.position,Le.quaternion,Le.scale),Le.projectionMatrix.fromArray(Pe.projectionMatrix),Le.projectionMatrixInverse.copy(Le.projectionMatrix).invert(),Le.viewport.set(Ne.x,Ne.y,Ne.width,Ne.height),$===0&&(ie.matrix.copy(Le.matrix),ie.matrix.decompose(ie.position,ie.quaternion,ie.scale)),it===!0&&ie.cameras.push(Le)}const at=a.enabledFeatures;if(at&&at.includes("depth-sensing")&&a.depthUsage=="gpu-optimized"&&w){d=i.getBinding();const $=d.getDepthInformation(Ke[0]);$&&$.isValid&&$.texture&&E.init($,a.renderState)}if(at&&at.includes("camera-access")&&w){e.state.unbindTexture(),d=i.getBinding();for(let $=0;$<Ke.length;$++){const Pe=Ke[$].camera;if(Pe){let Ne=M[Pe];Ne||(Ne=new LA,M[Pe]=Ne);const Le=d.getCameraImage(Pe);Ne.sourceTexture=Le}}}}for(let Ke=0;Ke<P.length;Ke++){const it=U[Ke],at=P[Ke];it!==null&&at!==void 0&&at.update(it,we,g||l)}Ce&&Ce(ve,we),we.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:we}),C=null}const Ze=new kR;Ze.setAnimationLoop(Re),this.setAnimationLoop=function(ve){Ce=ve},this.dispose=function(){}}}const Th=new Ks,gz=new Nt;function yz(n,e){function t(E,M){E.matrixAutoUpdate===!0&&E.updateMatrix(),M.value.copy(E.matrix)}function i(E,M){M.color.getRGB(E.fogColor.value,Jw(n)),M.isFog?(E.fogNear.value=M.near,E.fogFar.value=M.far):M.isFogExp2&&(E.fogDensity.value=M.density)}function a(E,M,I,B,N){M.isMeshBasicMaterial||M.isMeshLambertMaterial?r(E,M):M.isMeshToonMaterial?(r(E,M),d(E,M)):M.isMeshPhongMaterial?(r(E,M),v(E,M)):M.isMeshStandardMaterial?(r(E,M),p(E,M),M.isMeshPhysicalMaterial&&b(E,M,N)):M.isMeshMatcapMaterial?(r(E,M),C(E,M)):M.isMeshDepthMaterial?r(E,M):M.isMeshDistanceMaterial?(r(E,M),w(E,M)):M.isMeshNormalMaterial?r(E,M):M.isLineBasicMaterial?(l(E,M),M.isLineDashedMaterial&&u(E,M)):M.isPointsMaterial?m(E,M,I,B):M.isSpriteMaterial?g(E,M):M.isShadowMaterial?(E.color.value.copy(M.color),E.opacity.value=M.opacity):M.isShaderMaterial&&(M.uniformsNeedUpdate=!1)}function r(E,M){E.opacity.value=M.opacity,M.color&&E.diffuse.value.copy(M.color),M.emissive&&E.emissive.value.copy(M.emissive).multiplyScalar(M.emissiveIntensity),M.map&&(E.map.value=M.map,t(M.map,E.mapTransform)),M.alphaMap&&(E.alphaMap.value=M.alphaMap,t(M.alphaMap,E.alphaMapTransform)),M.bumpMap&&(E.bumpMap.value=M.bumpMap,t(M.bumpMap,E.bumpMapTransform),E.bumpScale.value=M.bumpScale,M.side===vs&&(E.bumpScale.value*=-1)),M.normalMap&&(E.normalMap.value=M.normalMap,t(M.normalMap,E.normalMapTransform),E.normalScale.value.copy(M.normalScale),M.side===vs&&E.normalScale.value.negate()),M.displacementMap&&(E.displacementMap.value=M.displacementMap,t(M.displacementMap,E.displacementMapTransform),E.displacementScale.value=M.displacementScale,E.displacementBias.value=M.displacementBias),M.emissiveMap&&(E.emissiveMap.value=M.emissiveMap,t(M.emissiveMap,E.emissiveMapTransform)),M.specularMap&&(E.specularMap.value=M.specularMap,t(M.specularMap,E.specularMapTransform)),M.alphaTest>0&&(E.alphaTest.value=M.alphaTest);const I=e.get(M),B=I.envMap,N=I.envMapRotation;B&&(E.envMap.value=B,Th.copy(N),Th.x*=-1,Th.y*=-1,Th.z*=-1,B.isCubeTexture&&B.isRenderTargetTexture===!1&&(Th.y*=-1,Th.z*=-1),E.envMapRotation.value.setFromMatrix4(gz.makeRotationFromEuler(Th)),E.flipEnvMap.value=B.isCubeTexture&&B.isRenderTargetTexture===!1?-1:1,E.reflectivity.value=M.reflectivity,E.ior.value=M.ior,E.refractionRatio.value=M.refractionRatio),M.lightMap&&(E.lightMap.value=M.lightMap,E.lightMapIntensity.value=M.lightMapIntensity,t(M.lightMap,E.lightMapTransform)),M.aoMap&&(E.aoMap.value=M.aoMap,E.aoMapIntensity.value=M.aoMapIntensity,t(M.aoMap,E.aoMapTransform))}function l(E,M){E.diffuse.value.copy(M.color),E.opacity.value=M.opacity,M.map&&(E.map.value=M.map,t(M.map,E.mapTransform))}function u(E,M){E.dashSize.value=M.dashSize,E.totalSize.value=M.dashSize+M.gapSize,E.scale.value=M.scale}function m(E,M,I,B){E.diffuse.value.copy(M.color),E.opacity.value=M.opacity,E.size.value=M.size*I,E.scale.value=B*.5,M.map&&(E.map.value=M.map,t(M.map,E.uvTransform)),M.alphaMap&&(E.alphaMap.value=M.alphaMap,t(M.alphaMap,E.alphaMapTransform)),M.alphaTest>0&&(E.alphaTest.value=M.alphaTest)}function g(E,M){E.diffuse.value.copy(M.color),E.opacity.value=M.opacity,E.rotation.value=M.rotation,M.map&&(E.map.value=M.map,t(M.map,E.mapTransform)),M.alphaMap&&(E.alphaMap.value=M.alphaMap,t(M.alphaMap,E.alphaMapTransform)),M.alphaTest>0&&(E.alphaTest.value=M.alphaTest)}function v(E,M){E.specular.value.copy(M.specular),E.shininess.value=Math.max(M.shininess,1e-4)}function d(E,M){M.gradientMap&&(E.gradientMap.value=M.gradientMap)}function p(E,M){E.metalness.value=M.metalness,M.metalnessMap&&(E.metalnessMap.value=M.metalnessMap,t(M.metalnessMap,E.metalnessMapTransform)),E.roughness.value=M.roughness,M.roughnessMap&&(E.roughnessMap.value=M.roughnessMap,t(M.roughnessMap,E.roughnessMapTransform)),M.envMap&&(E.envMapIntensity.value=M.envMapIntensity)}function b(E,M,I){E.ior.value=M.ior,M.sheen>0&&(E.sheenColor.value.copy(M.sheenColor).multiplyScalar(M.sheen),E.sheenRoughness.value=M.sheenRoughness,M.sheenColorMap&&(E.sheenColorMap.value=M.sheenColorMap,t(M.sheenColorMap,E.sheenColorMapTransform)),M.sheenRoughnessMap&&(E.sheenRoughnessMap.value=M.sheenRoughnessMap,t(M.sheenRoughnessMap,E.sheenRoughnessMapTransform))),M.clearcoat>0&&(E.clearcoat.value=M.clearcoat,E.clearcoatRoughness.value=M.clearcoatRoughness,M.clearcoatMap&&(E.clearcoatMap.value=M.clearcoatMap,t(M.clearcoatMap,E.clearcoatMapTransform)),M.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=M.clearcoatRoughnessMap,t(M.clearcoatRoughnessMap,E.clearcoatRoughnessMapTransform)),M.clearcoatNormalMap&&(E.clearcoatNormalMap.value=M.clearcoatNormalMap,t(M.clearcoatNormalMap,E.clearcoatNormalMapTransform),E.clearcoatNormalScale.value.copy(M.clearcoatNormalScale),M.side===vs&&E.clearcoatNormalScale.value.negate())),M.dispersion>0&&(E.dispersion.value=M.dispersion),M.iridescence>0&&(E.iridescence.value=M.iridescence,E.iridescenceIOR.value=M.iridescenceIOR,E.iridescenceThicknessMinimum.value=M.iridescenceThicknessRange[0],E.iridescenceThicknessMaximum.value=M.iridescenceThicknessRange[1],M.iridescenceMap&&(E.iridescenceMap.value=M.iridescenceMap,t(M.iridescenceMap,E.iridescenceMapTransform)),M.iridescenceThicknessMap&&(E.iridescenceThicknessMap.value=M.iridescenceThicknessMap,t(M.iridescenceThicknessMap,E.iridescenceThicknessMapTransform))),M.transmission>0&&(E.transmission.value=M.transmission,E.transmissionSamplerMap.value=I.texture,E.transmissionSamplerSize.value.set(I.width,I.height),M.transmissionMap&&(E.transmissionMap.value=M.transmissionMap,t(M.transmissionMap,E.transmissionMapTransform)),E.thickness.value=M.thickness,M.thicknessMap&&(E.thicknessMap.value=M.thicknessMap,t(M.thicknessMap,E.thicknessMapTransform)),E.attenuationDistance.value=M.attenuationDistance,E.attenuationColor.value.copy(M.attenuationColor)),M.anisotropy>0&&(E.anisotropyVector.value.set(M.anisotropy*Math.cos(M.anisotropyRotation),M.anisotropy*Math.sin(M.anisotropyRotation)),M.anisotropyMap&&(E.anisotropyMap.value=M.anisotropyMap,t(M.anisotropyMap,E.anisotropyMapTransform))),E.specularIntensity.value=M.specularIntensity,E.specularColor.value.copy(M.specularColor),M.specularColorMap&&(E.specularColorMap.value=M.specularColorMap,t(M.specularColorMap,E.specularColorMapTransform)),M.specularIntensityMap&&(E.specularIntensityMap.value=M.specularIntensityMap,t(M.specularIntensityMap,E.specularIntensityMapTransform))}function C(E,M){M.matcap&&(E.matcap.value=M.matcap)}function w(E,M){const I=e.get(M).light;E.referencePosition.value.setFromMatrixPosition(I.matrixWorld),E.nearDistance.value=I.shadow.camera.near,E.farDistance.value=I.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:a}}function vz(n,e,t,i){let a={},r={},l=[];const u=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function m(I,B){const N=B.program;i.uniformBlockBinding(I,N)}function g(I,B){let N=a[I.id];N===void 0&&(C(I),N=v(I),a[I.id]=N,I.addEventListener("dispose",E));const P=B.program;i.updateUBOMapping(I,P);const U=e.render.frame;r[I.id]!==U&&(p(I),r[I.id]=U)}function v(I){const B=d();I.__bindingPointIndex=B;const N=n.createBuffer(),P=I.__size,U=I.usage;return n.bindBuffer(n.UNIFORM_BUFFER,N),n.bufferData(n.UNIFORM_BUFFER,P,U),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,B,N),N}function d(){for(let I=0;I<u;I++)if(l.indexOf(I)===-1)return l.push(I),I;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(I){const B=a[I.id],N=I.uniforms,P=I.__cache;n.bindBuffer(n.UNIFORM_BUFFER,B);for(let U=0,F=N.length;U<F;U++){const j=Array.isArray(N[U])?N[U]:[N[U]];for(let O=0,H=j.length;O<H;O++){const J=j[O];if(b(J,U,O,P)===!0){const ie=J.__offset,oe=Array.isArray(J.value)?J.value:[J.value];let ge=0;for(let ce=0;ce<oe.length;ce++){const G=oe[ce],Z=w(G);typeof G=="number"||typeof G=="boolean"?(J.__data[0]=G,n.bufferSubData(n.UNIFORM_BUFFER,ie+ge,J.__data)):G.isMatrix3?(J.__data[0]=G.elements[0],J.__data[1]=G.elements[1],J.__data[2]=G.elements[2],J.__data[3]=0,J.__data[4]=G.elements[3],J.__data[5]=G.elements[4],J.__data[6]=G.elements[5],J.__data[7]=0,J.__data[8]=G.elements[6],J.__data[9]=G.elements[7],J.__data[10]=G.elements[8],J.__data[11]=0):(G.toArray(J.__data,ge),ge+=Z.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,ie,J.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function b(I,B,N,P){const U=I.value,F=B+"_"+N;if(P[F]===void 0)return typeof U=="number"||typeof U=="boolean"?P[F]=U:P[F]=U.clone(),!0;{const j=P[F];if(typeof U=="number"||typeof U=="boolean"){if(j!==U)return P[F]=U,!0}else if(j.equals(U)===!1)return j.copy(U),!0}return!1}function C(I){const B=I.uniforms;let N=0;const P=16;for(let F=0,j=B.length;F<j;F++){const O=Array.isArray(B[F])?B[F]:[B[F]];for(let H=0,J=O.length;H<J;H++){const ie=O[H],oe=Array.isArray(ie.value)?ie.value:[ie.value];for(let ge=0,ce=oe.length;ge<ce;ge++){const G=oe[ge],Z=w(G),Q=N%P,le=Q%Z.boundary,ye=Q+le;N+=le,ye!==0&&P-ye<Z.storage&&(N+=P-ye),ie.__data=new Float32Array(Z.storage/Float32Array.BYTES_PER_ELEMENT),ie.__offset=N,N+=Z.storage}}}const U=N%P;return U>0&&(N+=P-U),I.__size=N,I.__cache={},this}function w(I){const B={boundary:0,storage:0};return typeof I=="number"||typeof I=="boolean"?(B.boundary=4,B.storage=4):I.isVector2?(B.boundary=8,B.storage=8):I.isVector3||I.isColor?(B.boundary=16,B.storage=12):I.isVector4?(B.boundary=16,B.storage=16):I.isMatrix3?(B.boundary=48,B.storage=48):I.isMatrix4?(B.boundary=64,B.storage=64):I.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",I),B}function E(I){const B=I.target;B.removeEventListener("dispose",E);const N=l.indexOf(B.__bindingPointIndex);l.splice(N,1),n.deleteBuffer(a[B.id]),delete a[B.id],delete r[B.id]}function M(){for(const I in a)n.deleteBuffer(a[I]);l=[],a={},r={}}return{bind:m,update:g,dispose:M}}class KR{constructor(e={}){const{canvas:t=Ww(),context:i=null,depth:a=!0,stencil:r=!1,alpha:l=!1,antialias:u=!1,premultipliedAlpha:m=!0,preserveDrawingBuffer:g=!1,powerPreference:v="default",failIfMajorPerformanceCaveat:d=!1,reversedDepthBuffer:p=!1}=e;this.isWebGLRenderer=!0;let b;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");b=i.getContextAttributes().alpha}else b=l;const C=new Uint32Array(4),w=new Int32Array(4);let E=null,M=null;const I=[],B=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=$o,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const N=this;let P=!1;this._outputColorSpace=Ga;let U=0,F=0,j=null,O=-1,H=null;const J=new wn,ie=new wn;let oe=null;const ge=new ot(0);let ce=0,G=t.width,Z=t.height,Q=1,le=null,ye=null;const X=new wn(0,0,G,Z),ae=new wn(0,0,G,Z);let Ce=!1;const Re=new M0;let Ze=!1,ve=!1;const we=new Nt,Ke=new K,it=new wn,at={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ht=!1;function kt(){return j===null?Q:1}let $=i;function Pe(W,re){return t.getContext(W,re)}try{const W={alpha:!0,depth:a,stencil:r,antialias:u,premultipliedAlpha:m,preserveDrawingBuffer:g,powerPreference:v,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${fg}`),t.addEventListener("webglcontextlost",tt,!1),t.addEventListener("webglcontextrestored",dt,!1),t.addEventListener("webglcontextcreationerror",We,!1),$===null){const re="webgl2";if($=Pe(re,W),$===null)throw Pe(re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(W){throw console.error("THREE.WebGLRenderer: "+W.message),W}let Ne,Le,Be,$e,ke,Je,Rt,Lt,q,z,me,Te,He,Ie,_t,et,yt,vt,Ve,qe,At,ut,st,jt;function se(){Ne=new IF($),Ne.init(),ut=new YR($,Ne),Le=new SF($,Ne,e,ut),Be=new uz($,Ne),Le.reversedDepthBuffer&&p&&Be.buffers.depth.setReversed(!0),$e=new NF($),ke=new qG,Je=new hz($,Ne,Be,ke,Le,ut,$e),Rt=new CF(N),Lt=new RF(N),q=new jU($),st=new bF($,q),z=new BF($,q,$e,st),me=new OF($,z,q,$e),Ve=new LF($,Le,Je),et=new MF(ke),Te=new KG(N,Rt,Lt,Ne,Le,st,et),He=new yz(N,ke),Ie=new $G,_t=new sz(Ne),vt=new _F(N,Rt,Lt,Be,me,b,m),yt=new lz(N,me,Le),jt=new vz($,$e,Le,Be),qe=new AF($,Ne,$e),At=new DF($,Ne,$e),$e.programs=Te.programs,N.capabilities=Le,N.extensions=Ne,N.properties=ke,N.renderLists=Ie,N.shadowMap=yt,N.state=Be,N.info=$e}se();const Ye=new pz(N,$);this.xr=Ye,this.getContext=function(){return $},this.getContextAttributes=function(){return $.getContextAttributes()},this.forceContextLoss=function(){const W=Ne.get("WEBGL_lose_context");W&&W.loseContext()},this.forceContextRestore=function(){const W=Ne.get("WEBGL_lose_context");W&&W.restoreContext()},this.getPixelRatio=function(){return Q},this.setPixelRatio=function(W){W!==void 0&&(Q=W,this.setSize(G,Z,!1))},this.getSize=function(W){return W.set(G,Z)},this.setSize=function(W,re,pe=!0){if(Ye.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}G=W,Z=re,t.width=Math.floor(W*Q),t.height=Math.floor(re*Q),pe===!0&&(t.style.width=W+"px",t.style.height=re+"px"),this.setViewport(0,0,W,re)},this.getDrawingBufferSize=function(W){return W.set(G*Q,Z*Q).floor()},this.setDrawingBufferSize=function(W,re,pe){G=W,Z=re,Q=pe,t.width=Math.floor(W*pe),t.height=Math.floor(re*pe),this.setViewport(0,0,W,re)},this.getCurrentViewport=function(W){return W.copy(J)},this.getViewport=function(W){return W.copy(X)},this.setViewport=function(W,re,pe,Se){W.isVector4?X.set(W.x,W.y,W.z,W.w):X.set(W,re,pe,Se),Be.viewport(J.copy(X).multiplyScalar(Q).round())},this.getScissor=function(W){return W.copy(ae)},this.setScissor=function(W,re,pe,Se){W.isVector4?ae.set(W.x,W.y,W.z,W.w):ae.set(W,re,pe,Se),Be.scissor(ie.copy(ae).multiplyScalar(Q).round())},this.getScissorTest=function(){return Ce},this.setScissorTest=function(W){Be.setScissorTest(Ce=W)},this.setOpaqueSort=function(W){le=W},this.setTransparentSort=function(W){ye=W},this.getClearColor=function(W){return W.copy(vt.getClearColor())},this.setClearColor=function(){vt.setClearColor(...arguments)},this.getClearAlpha=function(){return vt.getClearAlpha()},this.setClearAlpha=function(){vt.setClearAlpha(...arguments)},this.clear=function(W=!0,re=!0,pe=!0){let Se=0;if(W){let ue=!1;if(j!==null){const Ge=j.texture.format;ue=Ge===Tv||Ge===Ev||Ge===mg}if(ue){const Ge=j.texture.type,nt=Ge===Rr||Ge===ic||Ge===t0||Ge===n0||Ge===Sv||Ge===Mv,pt=vt.getClearColor(),rt=vt.getClearAlpha(),Mt=pt.r,Dt=pt.g,Et=pt.b;nt?(C[0]=Mt,C[1]=Dt,C[2]=Et,C[3]=rt,$.clearBufferuiv($.COLOR,0,C)):(w[0]=Mt,w[1]=Dt,w[2]=Et,w[3]=rt,$.clearBufferiv($.COLOR,0,w))}else Se|=$.COLOR_BUFFER_BIT}re&&(Se|=$.DEPTH_BUFFER_BIT),pe&&(Se|=$.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),$.clear(Se)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",tt,!1),t.removeEventListener("webglcontextrestored",dt,!1),t.removeEventListener("webglcontextcreationerror",We,!1),vt.dispose(),Ie.dispose(),_t.dispose(),ke.dispose(),Rt.dispose(),Lt.dispose(),me.dispose(),st.dispose(),jt.dispose(),Te.dispose(),Ye.dispose(),Ye.removeEventListener("sessionstart",Xa),Ye.removeEventListener("sessionend",rc),xs.stop()};function tt(W){W.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),P=!0}function dt(){console.log("THREE.WebGLRenderer: Context Restored."),P=!1;const W=$e.autoReset,re=yt.enabled,pe=yt.autoUpdate,Se=yt.needsUpdate,ue=yt.type;se(),$e.autoReset=W,yt.enabled=re,yt.autoUpdate=pe,yt.needsUpdate=Se,yt.type=ue}function We(W){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",W.statusMessage)}function je(W){const re=W.target;re.removeEventListener("dispose",je),mt(re)}function mt(W){Pt(W),ke.remove(W)}function Pt(W){const re=ke.get(W).programs;re!==void 0&&(re.forEach(function(pe){Te.releaseProgram(pe)}),W.isShaderMaterial&&Te.releaseShaderCache(W))}this.renderBufferDirect=function(W,re,pe,Se,ue,Ge){re===null&&(re=at);const nt=ue.isMesh&&ue.matrixWorld.determinant()<0,pt=Qs(W,re,pe,Se,ue);Be.setMaterial(Se,nt);let rt=pe.index,Mt=1;if(Se.wireframe===!0){if(rt=z.getWireframeAttribute(pe),rt===void 0)return;Mt=2}const Dt=pe.drawRange,Et=pe.attributes.position;let qt=Dt.start*Mt,Cn=(Dt.start+Dt.count)*Mt;Ge!==null&&(qt=Math.max(qt,Ge.start*Mt),Cn=Math.min(Cn,(Ge.start+Ge.count)*Mt)),rt!==null?(qt=Math.max(qt,0),Cn=Math.min(Cn,rt.count)):Et!=null&&(qt=Math.max(qt,0),Cn=Math.min(Cn,Et.count));const Pn=Cn-qt;if(Pn<0||Pn===1/0)return;st.setup(ue,Se,pt,pe,rt);let En,$t=qe;if(rt!==null&&(En=q.get(rt),$t=At,$t.setIndex(En)),ue.isMesh)Se.wireframe===!0?(Be.setLineWidth(Se.wireframeLinewidth*kt()),$t.setMode($.LINES)):$t.setMode($.TRIANGLES);else if(ue.isLine){let gt=Se.linewidth;gt===void 0&&(gt=1),Be.setLineWidth(gt*kt()),ue.isLineSegments?$t.setMode($.LINES):ue.isLineLoop?$t.setMode($.LINE_LOOP):$t.setMode($.LINE_STRIP)}else ue.isPoints?$t.setMode($.POINTS):ue.isSprite&&$t.setMode($.TRIANGLES);if(ue.isBatchedMesh)if(ue._multiDrawInstances!==null)Kp("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),$t.renderMultiDrawInstances(ue._multiDrawStarts,ue._multiDrawCounts,ue._multiDrawCount,ue._multiDrawInstances);else if(Ne.get("WEBGL_multi_draw"))$t.renderMultiDraw(ue._multiDrawStarts,ue._multiDrawCounts,ue._multiDrawCount);else{const gt=ue._multiDrawStarts,Gn=ue._multiDrawCounts,cn=ue._multiDrawCount,Ni=rt?q.get(rt).bytesPerElement:1,$s=ke.get(Se).currentProgram.getUniforms();for(let gi=0;gi<cn;gi++)$s.setValue($,"_gl_DrawID",gi),$t.render(gt[gi]/Ni,Gn[gi])}else if(ue.isInstancedMesh)$t.renderInstances(qt,Pn,ue.count);else if(pe.isInstancedBufferGeometry){const gt=pe._maxInstanceCount!==void 0?pe._maxInstanceCount:1/0,Gn=Math.min(pe.instanceCount,gt);$t.renderInstances(qt,Pn,Gn)}else $t.render(qt,Pn)};function yn(W,re,pe){W.transparent===!0&&W.side===Sr&&W.forceSinglePass===!1?(W.side=vs,W.needsUpdate=!0,ea(W,re,pe),W.side=tl,W.needsUpdate=!0,ea(W,re,pe),W.side=Sr):ea(W,re,pe)}this.compile=function(W,re,pe=null){pe===null&&(pe=W),M=_t.get(pe),M.init(re),B.push(M),pe.traverseVisible(function(ue){ue.isLight&&ue.layers.test(re.layers)&&(M.pushLight(ue),ue.castShadow&&M.pushShadow(ue))}),W!==pe&&W.traverseVisible(function(ue){ue.isLight&&ue.layers.test(re.layers)&&(M.pushLight(ue),ue.castShadow&&M.pushShadow(ue))}),M.setupLights();const Se=new Set;return W.traverse(function(ue){if(!(ue.isMesh||ue.isPoints||ue.isLine||ue.isSprite))return;const Ge=ue.material;if(Ge)if(Array.isArray(Ge))for(let nt=0;nt<Ge.length;nt++){const pt=Ge[nt];yn(pt,pe,ue),Se.add(pt)}else yn(Ge,pe,ue),Se.add(Ge)}),M=B.pop(),Se},this.compileAsync=function(W,re,pe=null){const Se=this.compile(W,re,pe);return new Promise(ue=>{function Ge(){if(Se.forEach(function(nt){ke.get(nt).currentProgram.isReady()&&Se.delete(nt)}),Se.size===0){ue(W);return}setTimeout(Ge,10)}Ne.get("KHR_parallel_shader_compile")!==null?Ge():setTimeout(Ge,10)})};let sn=null;function $i(W){sn&&sn(W)}function Xa(){xs.stop()}function rc(){xs.start()}const xs=new kR;xs.setAnimationLoop($i),typeof self<"u"&&xs.setContext(self),this.setAnimationLoop=function(W){sn=W,Ye.setAnimationLoop(W),W===null?xs.stop():xs.start()},Ye.addEventListener("sessionstart",Xa),Ye.addEventListener("sessionend",rc),this.render=function(W,re){if(re!==void 0&&re.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(P===!0)return;if(W.matrixWorldAutoUpdate===!0&&W.updateMatrixWorld(),re.parent===null&&re.matrixWorldAutoUpdate===!0&&re.updateMatrixWorld(),Ye.enabled===!0&&Ye.isPresenting===!0&&(Ye.cameraAutoUpdate===!0&&Ye.updateCamera(re),re=Ye.getCamera()),W.isScene===!0&&W.onBeforeRender(N,W,re,j),M=_t.get(W,B.length),M.init(re),B.push(M),we.multiplyMatrices(re.projectionMatrix,re.matrixWorldInverse),Re.setFromProjectionMatrix(we,Xs,re.reversedDepth),ve=this.localClippingEnabled,Ze=et.init(this.clippingPlanes,ve),E=Ie.get(W,I.length),E.init(),I.push(E),Ye.enabled===!0&&Ye.isPresenting===!0){const Ge=N.xr.getDepthSensingMesh();Ge!==null&&mo(Ge,re,-1/0,N.sortObjects)}mo(W,re,0,N.sortObjects),E.finish(),N.sortObjects===!0&&E.sort(le,ye),ht=Ye.enabled===!1||Ye.isPresenting===!1||Ye.hasDepthSensing()===!1,ht&&vt.addToRenderList(E,W),this.info.render.frame++,Ze===!0&&et.beginShadows();const pe=M.state.shadowsArray;yt.render(pe,W,re),Ze===!0&&et.endShadows(),this.info.autoReset===!0&&this.info.reset();const Se=E.opaque,ue=E.transmissive;if(M.setupLights(),re.isArrayCamera){const Ge=re.cameras;if(ue.length>0)for(let nt=0,pt=Ge.length;nt<pt;nt++){const rt=Ge[nt];sl(Se,ue,W,rt)}ht&&vt.render(W);for(let nt=0,pt=Ge.length;nt<pt;nt++){const rt=Ge[nt];Ja(E,W,rt,rt.viewport)}}else ue.length>0&&sl(Se,ue,W,re),ht&&vt.render(W),Ja(E,W,re);j!==null&&F===0&&(Je.updateMultisampleRenderTarget(j),Je.updateRenderTargetMipmap(j)),W.isScene===!0&&W.onAfterRender(N,W,re),st.resetDefaultState(),O=-1,H=null,B.pop(),B.length>0?(M=B[B.length-1],Ze===!0&&et.setGlobalState(N.clippingPlanes,M.state.camera)):M=null,I.pop(),I.length>0?E=I[I.length-1]:E=null};function mo(W,re,pe,Se){if(W.visible===!1)return;if(W.layers.test(re.layers)){if(W.isGroup)pe=W.renderOrder;else if(W.isLOD)W.autoUpdate===!0&&W.update(re);else if(W.isLight)M.pushLight(W),W.castShadow&&M.pushShadow(W);else if(W.isSprite){if(!W.frustumCulled||Re.intersectsSprite(W)){Se&&it.setFromMatrixPosition(W.matrixWorld).applyMatrix4(we);const nt=me.update(W),pt=W.material;pt.visible&&E.push(W,nt,pt,pe,it.z,null)}}else if((W.isMesh||W.isLine||W.isPoints)&&(!W.frustumCulled||Re.intersectsObject(W))){const nt=me.update(W),pt=W.material;if(Se&&(W.boundingSphere!==void 0?(W.boundingSphere===null&&W.computeBoundingSphere(),it.copy(W.boundingSphere.center)):(nt.boundingSphere===null&&nt.computeBoundingSphere(),it.copy(nt.boundingSphere.center)),it.applyMatrix4(W.matrixWorld).applyMatrix4(we)),Array.isArray(pt)){const rt=nt.groups;for(let Mt=0,Dt=rt.length;Mt<Dt;Mt++){const Et=rt[Mt],qt=pt[Et.materialIndex];qt&&qt.visible&&E.push(W,nt,qt,pe,it.z,Et)}}else pt.visible&&E.push(W,nt,pt,pe,it.z,null)}}const Ge=W.children;for(let nt=0,pt=Ge.length;nt<pt;nt++)mo(Ge[nt],re,pe,Se)}function Ja(W,re,pe,Se){const ue=W.opaque,Ge=W.transmissive,nt=W.transparent;M.setupLightsView(pe),Ze===!0&&et.setGlobalState(N.clippingPlanes,pe),Se&&Be.viewport(J.copy(Se)),ue.length>0&&Ca(ue,re,pe),Ge.length>0&&Ca(Ge,re,pe),nt.length>0&&Ca(nt,re,pe),Be.buffers.depth.setTest(!0),Be.buffers.depth.setMask(!0),Be.buffers.color.setMask(!0),Be.setPolygonOffset(!1)}function sl(W,re,pe,Se){if((pe.isScene===!0?pe.overrideMaterial:null)!==null)return;M.state.transmissionRenderTarget[Se.id]===void 0&&(M.state.transmissionRenderTarget[Se.id]=new nl(1,1,{generateMipmaps:!0,type:Ne.has("EXT_color_buffer_half_float")||Ne.has("EXT_color_buffer_float")?A0:Rr,minFilter:Er,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:An.workingColorSpace}));const Ge=M.state.transmissionRenderTarget[Se.id],nt=Se.viewport||J;Ge.setSize(nt.z*N.transmissionResolutionScale,nt.w*N.transmissionResolutionScale);const pt=N.getRenderTarget(),rt=N.getActiveCubeFace(),Mt=N.getActiveMipmapLevel();N.setRenderTarget(Ge),N.getClearColor(ge),ce=N.getClearAlpha(),ce<1&&N.setClearColor(16777215,.5),N.clear(),ht&&vt.render(pe);const Dt=N.toneMapping;N.toneMapping=$o;const Et=Se.viewport;if(Se.viewport!==void 0&&(Se.viewport=void 0),M.setupLightsView(Se),Ze===!0&&et.setGlobalState(N.clippingPlanes,Se),Ca(W,pe,Se),Je.updateMultisampleRenderTarget(Ge),Je.updateRenderTargetMipmap(Ge),Ne.has("WEBGL_multisampled_render_to_texture")===!1){let qt=!1;for(let Cn=0,Pn=re.length;Cn<Pn;Cn++){const En=re[Cn],$t=En.object,gt=En.geometry,Gn=En.material,cn=En.group;if(Gn.side===Sr&&$t.layers.test(Se.layers)){const Ni=Gn.side;Gn.side=vs,Gn.needsUpdate=!0,Ya($t,pe,Se,gt,Gn,cn),Gn.side=Ni,Gn.needsUpdate=!0,qt=!0}}qt===!0&&(Je.updateMultisampleRenderTarget(Ge),Je.updateRenderTargetMipmap(Ge))}N.setRenderTarget(pt,rt,Mt),N.setClearColor(ge,ce),Et!==void 0&&(Se.viewport=Et),N.toneMapping=Dt}function Ca(W,re,pe){const Se=re.isScene===!0?re.overrideMaterial:null;for(let ue=0,Ge=W.length;ue<Ge;ue++){const nt=W[ue],pt=nt.object,rt=nt.geometry,Mt=nt.group;let Dt=nt.material;Dt.allowOverride===!0&&Se!==null&&(Dt=Se),pt.layers.test(pe.layers)&&Ya(pt,re,pe,rt,Dt,Mt)}}function Ya(W,re,pe,Se,ue,Ge){W.onBeforeRender(N,re,pe,Se,ue,Ge),W.modelViewMatrix.multiplyMatrices(pe.matrixWorldInverse,W.matrixWorld),W.normalMatrix.getNormalMatrix(W.modelViewMatrix),ue.onBeforeRender(N,re,pe,Se,W,Ge),ue.transparent===!0&&ue.side===Sr&&ue.forceSinglePass===!1?(ue.side=vs,ue.needsUpdate=!0,N.renderBufferDirect(pe,re,Se,ue,W,Ge),ue.side=tl,ue.needsUpdate=!0,N.renderBufferDirect(pe,re,Se,ue,W,Ge),ue.side=Sr):N.renderBufferDirect(pe,re,Se,ue,W,Ge),W.onAfterRender(N,re,pe,Se,ue,Ge)}function ea(W,re,pe){re.isScene!==!0&&(re=at);const Se=ke.get(W),ue=M.state.lights,Ge=M.state.shadowsArray,nt=ue.state.version,pt=Te.getParameters(W,ue.state,Ge,re,pe),rt=Te.getProgramCacheKey(pt);let Mt=Se.programs;Se.environment=W.isMeshStandardMaterial?re.environment:null,Se.fog=re.fog,Se.envMap=(W.isMeshStandardMaterial?Lt:Rt).get(W.envMap||Se.environment),Se.envMapRotation=Se.environment!==null&&W.envMap===null?re.environmentRotation:W.envMapRotation,Mt===void 0&&(W.addEventListener("dispose",je),Mt=new Map,Se.programs=Mt);let Dt=Mt.get(rt);if(Dt!==void 0){if(Se.currentProgram===Dt&&Se.lightsStateVersion===nt)return Mi(W,pt),Dt}else pt.uniforms=Te.getUniforms(W),W.onBeforeCompile(pt,N),Dt=Te.acquireProgram(pt,rt),Mt.set(rt,Dt),Se.uniforms=pt.uniforms;const Et=Se.uniforms;return(!W.isShaderMaterial&&!W.isRawShaderMaterial||W.clipping===!0)&&(Et.clippingPlanes=et.uniform),Mi(W,pt),Se.needsLights=of(W),Se.lightsStateVersion=nt,Se.needsLights&&(Et.ambientLightColor.value=ue.state.ambient,Et.lightProbe.value=ue.state.probe,Et.directionalLights.value=ue.state.directional,Et.directionalLightShadows.value=ue.state.directionalShadow,Et.spotLights.value=ue.state.spot,Et.spotLightShadows.value=ue.state.spotShadow,Et.rectAreaLights.value=ue.state.rectArea,Et.ltc_1.value=ue.state.rectAreaLTC1,Et.ltc_2.value=ue.state.rectAreaLTC2,Et.pointLights.value=ue.state.point,Et.pointLightShadows.value=ue.state.pointShadow,Et.hemisphereLights.value=ue.state.hemi,Et.directionalShadowMap.value=ue.state.directionalShadowMap,Et.directionalShadowMatrix.value=ue.state.directionalShadowMatrix,Et.spotShadowMap.value=ue.state.spotShadowMap,Et.spotLightMatrix.value=ue.state.spotLightMatrix,Et.spotLightMap.value=ue.state.spotLightMap,Et.pointShadowMap.value=ue.state.pointShadowMap,Et.pointShadowMatrix.value=ue.state.pointShadowMatrix),Se.currentProgram=Dt,Se.uniformsList=null,Dt}function Kt(W){if(W.uniformsList===null){const re=W.currentProgram.getUniforms();W.uniformsList=s2.seqWithValue(re.seq,W.uniforms)}return W.uniformsList}function Mi(W,re){const pe=ke.get(W);pe.outputColorSpace=re.outputColorSpace,pe.batching=re.batching,pe.batchingColor=re.batchingColor,pe.instancing=re.instancing,pe.instancingColor=re.instancingColor,pe.instancingMorph=re.instancingMorph,pe.skinning=re.skinning,pe.morphTargets=re.morphTargets,pe.morphNormals=re.morphNormals,pe.morphColors=re.morphColors,pe.morphTargetsCount=re.morphTargetsCount,pe.numClippingPlanes=re.numClippingPlanes,pe.numIntersection=re.numClipIntersection,pe.vertexAlphas=re.vertexAlphas,pe.vertexTangents=re.vertexTangents,pe.toneMapping=re.toneMapping}function Qs(W,re,pe,Se,ue){re.isScene!==!0&&(re=at),Je.resetTextureUnits();const Ge=re.fog,nt=Se.isMeshStandardMaterial?re.environment:null,pt=j===null?N.outputColorSpace:j.isXRRenderTarget===!0?j.texture.colorSpace:mu,rt=(Se.isMeshStandardMaterial?Lt:Rt).get(Se.envMap||nt),Mt=Se.vertexColors===!0&&!!pe.attributes.color&&pe.attributes.color.itemSize===4,Dt=!!pe.attributes.tangent&&(!!Se.normalMap||Se.anisotropy>0),Et=!!pe.morphAttributes.position,qt=!!pe.morphAttributes.normal,Cn=!!pe.morphAttributes.color;let Pn=$o;Se.toneMapped&&(j===null||j.isXRRenderTarget===!0)&&(Pn=N.toneMapping);const En=pe.morphAttributes.position||pe.morphAttributes.normal||pe.morphAttributes.color,$t=En!==void 0?En.length:0,gt=ke.get(Se),Gn=M.state.lights;if(Ze===!0&&(ve===!0||W!==H)){const yi=W===H&&Se.id===O;et.setState(Se,W,yi)}let cn=!1;Se.version===gt.__version?(gt.needsLights&&gt.lightsStateVersion!==Gn.state.version||gt.outputColorSpace!==pt||ue.isBatchedMesh&&gt.batching===!1||!ue.isBatchedMesh&&gt.batching===!0||ue.isBatchedMesh&&gt.batchingColor===!0&&ue.colorTexture===null||ue.isBatchedMesh&&gt.batchingColor===!1&&ue.colorTexture!==null||ue.isInstancedMesh&&gt.instancing===!1||!ue.isInstancedMesh&&gt.instancing===!0||ue.isSkinnedMesh&&gt.skinning===!1||!ue.isSkinnedMesh&&gt.skinning===!0||ue.isInstancedMesh&&gt.instancingColor===!0&&ue.instanceColor===null||ue.isInstancedMesh&&gt.instancingColor===!1&&ue.instanceColor!==null||ue.isInstancedMesh&&gt.instancingMorph===!0&&ue.morphTexture===null||ue.isInstancedMesh&&gt.instancingMorph===!1&&ue.morphTexture!==null||gt.envMap!==rt||Se.fog===!0&&gt.fog!==Ge||gt.numClippingPlanes!==void 0&&(gt.numClippingPlanes!==et.numPlanes||gt.numIntersection!==et.numIntersection)||gt.vertexAlphas!==Mt||gt.vertexTangents!==Dt||gt.morphTargets!==Et||gt.morphNormals!==qt||gt.morphColors!==Cn||gt.toneMapping!==Pn||gt.morphTargetsCount!==$t)&&(cn=!0):(cn=!0,gt.__version=Se.version);let Ni=gt.currentProgram;cn===!0&&(Ni=ea(Se,re,ue));let $s=!1,gi=!1,po=!1;const rn=Ni.getUniforms(),Gi=gt.uniforms;if(Be.useProgram(Ni.program)&&($s=!0,gi=!0,po=!0),Se.id!==O&&(O=Se.id,gi=!0),$s||H!==W){Be.buffers.depth.getReversed()&&W.reversedDepth!==!0&&(W._reversedDepth=!0,W.updateProjectionMatrix()),rn.setValue($,"projectionMatrix",W.projectionMatrix),rn.setValue($,"viewMatrix",W.matrixWorldInverse);const li=rn.map.cameraPosition;li!==void 0&&li.setValue($,Ke.setFromMatrixPosition(W.matrixWorld)),Le.logarithmicDepthBuffer&&rn.setValue($,"logDepthBufFC",2/(Math.log(W.far+1)/Math.LN2)),(Se.isMeshPhongMaterial||Se.isMeshToonMaterial||Se.isMeshLambertMaterial||Se.isMeshBasicMaterial||Se.isMeshStandardMaterial||Se.isShaderMaterial)&&rn.setValue($,"isOrthographic",W.isOrthographicCamera===!0),H!==W&&(H=W,gi=!0,po=!0)}if(ue.isSkinnedMesh){rn.setOptional($,ue,"bindMatrix"),rn.setOptional($,ue,"bindMatrixInverse");const yi=ue.skeleton;yi&&(yi.boneTexture===null&&yi.computeBoneTexture(),rn.setValue($,"boneTexture",yi.boneTexture,Je))}ue.isBatchedMesh&&(rn.setOptional($,ue,"batchingTexture"),rn.setValue($,"batchingTexture",ue._matricesTexture,Je),rn.setOptional($,ue,"batchingIdTexture"),rn.setValue($,"batchingIdTexture",ue._indirectTexture,Je),rn.setOptional($,ue,"batchingColorTexture"),ue._colorsTexture!==null&&rn.setValue($,"batchingColorTexture",ue._colorsTexture,Je));const ta=pe.morphAttributes;if((ta.position!==void 0||ta.normal!==void 0||ta.color!==void 0)&&Ve.update(ue,pe,Ni),(gi||gt.receiveShadow!==ue.receiveShadow)&&(gt.receiveShadow=ue.receiveShadow,rn.setValue($,"receiveShadow",ue.receiveShadow)),Se.isMeshGouraudMaterial&&Se.envMap!==null&&(Gi.envMap.value=rt,Gi.flipEnvMap.value=rt.isCubeTexture&&rt.isRenderTargetTexture===!1?-1:1),Se.isMeshStandardMaterial&&Se.envMap===null&&re.environment!==null&&(Gi.envMapIntensity.value=re.environmentIntensity),gi&&(rn.setValue($,"toneMappingExposure",N.toneMappingExposure),gt.needsLights&&oc(Gi,po),Ge&&Se.fog===!0&&He.refreshFogUniforms(Gi,Ge),He.refreshMaterialUniforms(Gi,Se,Q,Z,M.state.transmissionRenderTarget[W.id]),s2.upload($,Kt(gt),Gi,Je)),Se.isShaderMaterial&&Se.uniformsNeedUpdate===!0&&(s2.upload($,Kt(gt),Gi,Je),Se.uniformsNeedUpdate=!1),Se.isSpriteMaterial&&rn.setValue($,"center",ue.center),rn.setValue($,"modelViewMatrix",ue.modelViewMatrix),rn.setValue($,"normalMatrix",ue.normalMatrix),rn.setValue($,"modelMatrix",ue.matrixWorld),Se.isShaderMaterial||Se.isRawShaderMaterial){const yi=Se.uniformsGroups;for(let li=0,rl=yi.length;li<rl;li++){const ma=yi[li];jt.update(ma,Ni),jt.bind(ma,Ni)}}return Ni}function oc(W,re){W.ambientLightColor.needsUpdate=re,W.lightProbe.needsUpdate=re,W.directionalLights.needsUpdate=re,W.directionalLightShadows.needsUpdate=re,W.pointLights.needsUpdate=re,W.pointLightShadows.needsUpdate=re,W.spotLights.needsUpdate=re,W.spotLightShadows.needsUpdate=re,W.rectAreaLights.needsUpdate=re,W.hemisphereLights.needsUpdate=re}function of(W){return W.isMeshLambertMaterial||W.isMeshToonMaterial||W.isMeshPhongMaterial||W.isMeshStandardMaterial||W.isShadowMaterial||W.isShaderMaterial&&W.lights===!0}this.getActiveCubeFace=function(){return U},this.getActiveMipmapLevel=function(){return F},this.getRenderTarget=function(){return j},this.setRenderTargetTextures=function(W,re,pe){const Se=ke.get(W);Se.__autoAllocateDepthBuffer=W.resolveDepthBuffer===!1,Se.__autoAllocateDepthBuffer===!1&&(Se.__useRenderToTexture=!1),ke.get(W.texture).__webglTexture=re,ke.get(W.depthTexture).__webglTexture=Se.__autoAllocateDepthBuffer?void 0:pe,Se.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(W,re){const pe=ke.get(W);pe.__webglFramebuffer=re,pe.__useDefaultFramebuffer=re===void 0};const R0=$.createFramebuffer();this.setRenderTarget=function(W,re=0,pe=0){j=W,U=re,F=pe;let Se=!0,ue=null,Ge=!1,nt=!1;if(W){const rt=ke.get(W);if(rt.__useDefaultFramebuffer!==void 0)Be.bindFramebuffer($.FRAMEBUFFER,null),Se=!1;else if(rt.__webglFramebuffer===void 0)Je.setupRenderTarget(W);else if(rt.__hasExternalTextures)Je.rebindTextures(W,ke.get(W.texture).__webglTexture,ke.get(W.depthTexture).__webglTexture);else if(W.depthBuffer){const Et=W.depthTexture;if(rt.__boundDepthTexture!==Et){if(Et!==null&&ke.has(Et)&&(W.width!==Et.image.width||W.height!==Et.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Je.setupDepthRenderbuffer(W)}}const Mt=W.texture;(Mt.isData3DTexture||Mt.isDataArrayTexture||Mt.isCompressedArrayTexture)&&(nt=!0);const Dt=ke.get(W).__webglFramebuffer;W.isWebGLCubeRenderTarget?(Array.isArray(Dt[re])?ue=Dt[re][pe]:ue=Dt[re],Ge=!0):W.samples>0&&Je.useMultisampledRTT(W)===!1?ue=ke.get(W).__webglMultisampledFramebuffer:Array.isArray(Dt)?ue=Dt[pe]:ue=Dt,J.copy(W.viewport),ie.copy(W.scissor),oe=W.scissorTest}else J.copy(X).multiplyScalar(Q).floor(),ie.copy(ae).multiplyScalar(Q).floor(),oe=Ce;if(pe!==0&&(ue=R0),Be.bindFramebuffer($.FRAMEBUFFER,ue)&&Se&&Be.drawBuffers(W,ue),Be.viewport(J),Be.scissor(ie),Be.setScissorTest(oe),Ge){const rt=ke.get(W.texture);$.framebufferTexture2D($.FRAMEBUFFER,$.COLOR_ATTACHMENT0,$.TEXTURE_CUBE_MAP_POSITIVE_X+re,rt.__webglTexture,pe)}else if(nt){const rt=re;for(let Mt=0;Mt<W.textures.length;Mt++){const Dt=ke.get(W.textures[Mt]);$.framebufferTextureLayer($.FRAMEBUFFER,$.COLOR_ATTACHMENT0+Mt,Dt.__webglTexture,pe,rt)}}else if(W!==null&&pe!==0){const rt=ke.get(W.texture);$.framebufferTexture2D($.FRAMEBUFFER,$.COLOR_ATTACHMENT0,$.TEXTURE_2D,rt.__webglTexture,pe)}O=-1},this.readRenderTargetPixels=function(W,re,pe,Se,ue,Ge,nt,pt=0){if(!(W&&W.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let rt=ke.get(W).__webglFramebuffer;if(W.isWebGLCubeRenderTarget&&nt!==void 0&&(rt=rt[nt]),rt){Be.bindFramebuffer($.FRAMEBUFFER,rt);try{const Mt=W.textures[pt],Dt=Mt.format,Et=Mt.type;if(!Le.textureFormatReadable(Dt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Le.textureTypeReadable(Et)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}re>=0&&re<=W.width-Se&&pe>=0&&pe<=W.height-ue&&(W.textures.length>1&&$.readBuffer($.COLOR_ATTACHMENT0+pt),$.readPixels(re,pe,Se,ue,ut.convert(Dt),ut.convert(Et),Ge))}finally{const Mt=j!==null?ke.get(j).__webglFramebuffer:null;Be.bindFramebuffer($.FRAMEBUFFER,Mt)}}},this.readRenderTargetPixelsAsync=async function(W,re,pe,Se,ue,Ge,nt,pt=0){if(!(W&&W.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let rt=ke.get(W).__webglFramebuffer;if(W.isWebGLCubeRenderTarget&&nt!==void 0&&(rt=rt[nt]),rt)if(re>=0&&re<=W.width-Se&&pe>=0&&pe<=W.height-ue){Be.bindFramebuffer($.FRAMEBUFFER,rt);const Mt=W.textures[pt],Dt=Mt.format,Et=Mt.type;if(!Le.textureFormatReadable(Dt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Le.textureTypeReadable(Et))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const qt=$.createBuffer();$.bindBuffer($.PIXEL_PACK_BUFFER,qt),$.bufferData($.PIXEL_PACK_BUFFER,Ge.byteLength,$.STREAM_READ),W.textures.length>1&&$.readBuffer($.COLOR_ATTACHMENT0+pt),$.readPixels(re,pe,Se,ue,ut.convert(Dt),ut.convert(Et),0);const Cn=j!==null?ke.get(j).__webglFramebuffer:null;Be.bindFramebuffer($.FRAMEBUFFER,Cn);const Pn=$.fenceSync($.SYNC_GPU_COMMANDS_COMPLETE,0);return $.flush(),await sO($,Pn,4),$.bindBuffer($.PIXEL_PACK_BUFFER,qt),$.getBufferSubData($.PIXEL_PACK_BUFFER,0,Ge),$.deleteBuffer(qt),$.deleteSync(Pn),Ge}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(W,re=null,pe=0){const Se=Math.pow(2,-pe),ue=Math.floor(W.image.width*Se),Ge=Math.floor(W.image.height*Se),nt=re!==null?re.x:0,pt=re!==null?re.y:0;Je.setTexture2D(W,0),$.copyTexSubImage2D($.TEXTURE_2D,pe,0,0,nt,pt,ue,Ge),Be.unbindTexture()};const lc=$.createFramebuffer(),Dr=$.createFramebuffer();this.copyTextureToTexture=function(W,re,pe=null,Se=null,ue=0,Ge=null){Ge===null&&(ue!==0?(Kp("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ge=ue,ue=0):Ge=0);let nt,pt,rt,Mt,Dt,Et,qt,Cn,Pn;const En=W.isCompressedTexture?W.mipmaps[Ge]:W.image;if(pe!==null)nt=pe.max.x-pe.min.x,pt=pe.max.y-pe.min.y,rt=pe.isBox3?pe.max.z-pe.min.z:1,Mt=pe.min.x,Dt=pe.min.y,Et=pe.isBox3?pe.min.z:0;else{const ta=Math.pow(2,-ue);nt=Math.floor(En.width*ta),pt=Math.floor(En.height*ta),W.isDataArrayTexture?rt=En.depth:W.isData3DTexture?rt=Math.floor(En.depth*ta):rt=1,Mt=0,Dt=0,Et=0}Se!==null?(qt=Se.x,Cn=Se.y,Pn=Se.z):(qt=0,Cn=0,Pn=0);const $t=ut.convert(re.format),gt=ut.convert(re.type);let Gn;re.isData3DTexture?(Je.setTexture3D(re,0),Gn=$.TEXTURE_3D):re.isDataArrayTexture||re.isCompressedArrayTexture?(Je.setTexture2DArray(re,0),Gn=$.TEXTURE_2D_ARRAY):(Je.setTexture2D(re,0),Gn=$.TEXTURE_2D),$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,re.flipY),$.pixelStorei($.UNPACK_PREMULTIPLY_ALPHA_WEBGL,re.premultiplyAlpha),$.pixelStorei($.UNPACK_ALIGNMENT,re.unpackAlignment);const cn=$.getParameter($.UNPACK_ROW_LENGTH),Ni=$.getParameter($.UNPACK_IMAGE_HEIGHT),$s=$.getParameter($.UNPACK_SKIP_PIXELS),gi=$.getParameter($.UNPACK_SKIP_ROWS),po=$.getParameter($.UNPACK_SKIP_IMAGES);$.pixelStorei($.UNPACK_ROW_LENGTH,En.width),$.pixelStorei($.UNPACK_IMAGE_HEIGHT,En.height),$.pixelStorei($.UNPACK_SKIP_PIXELS,Mt),$.pixelStorei($.UNPACK_SKIP_ROWS,Dt),$.pixelStorei($.UNPACK_SKIP_IMAGES,Et);const rn=W.isDataArrayTexture||W.isData3DTexture,Gi=re.isDataArrayTexture||re.isData3DTexture;if(W.isDepthTexture){const ta=ke.get(W),yi=ke.get(re),li=ke.get(ta.__renderTarget),rl=ke.get(yi.__renderTarget);Be.bindFramebuffer($.READ_FRAMEBUFFER,li.__webglFramebuffer),Be.bindFramebuffer($.DRAW_FRAMEBUFFER,rl.__webglFramebuffer);for(let ma=0;ma<rt;ma++)rn&&($.framebufferTextureLayer($.READ_FRAMEBUFFER,$.COLOR_ATTACHMENT0,ke.get(W).__webglTexture,ue,Et+ma),$.framebufferTextureLayer($.DRAW_FRAMEBUFFER,$.COLOR_ATTACHMENT0,ke.get(re).__webglTexture,Ge,Pn+ma)),$.blitFramebuffer(Mt,Dt,nt,pt,qt,Cn,nt,pt,$.DEPTH_BUFFER_BIT,$.NEAREST);Be.bindFramebuffer($.READ_FRAMEBUFFER,null),Be.bindFramebuffer($.DRAW_FRAMEBUFFER,null)}else if(ue!==0||W.isRenderTargetTexture||ke.has(W)){const ta=ke.get(W),yi=ke.get(re);Be.bindFramebuffer($.READ_FRAMEBUFFER,lc),Be.bindFramebuffer($.DRAW_FRAMEBUFFER,Dr);for(let li=0;li<rt;li++)rn?$.framebufferTextureLayer($.READ_FRAMEBUFFER,$.COLOR_ATTACHMENT0,ta.__webglTexture,ue,Et+li):$.framebufferTexture2D($.READ_FRAMEBUFFER,$.COLOR_ATTACHMENT0,$.TEXTURE_2D,ta.__webglTexture,ue),Gi?$.framebufferTextureLayer($.DRAW_FRAMEBUFFER,$.COLOR_ATTACHMENT0,yi.__webglTexture,Ge,Pn+li):$.framebufferTexture2D($.DRAW_FRAMEBUFFER,$.COLOR_ATTACHMENT0,$.TEXTURE_2D,yi.__webglTexture,Ge),ue!==0?$.blitFramebuffer(Mt,Dt,nt,pt,qt,Cn,nt,pt,$.COLOR_BUFFER_BIT,$.NEAREST):Gi?$.copyTexSubImage3D(Gn,Ge,qt,Cn,Pn+li,Mt,Dt,nt,pt):$.copyTexSubImage2D(Gn,Ge,qt,Cn,Mt,Dt,nt,pt);Be.bindFramebuffer($.READ_FRAMEBUFFER,null),Be.bindFramebuffer($.DRAW_FRAMEBUFFER,null)}else Gi?W.isDataTexture||W.isData3DTexture?$.texSubImage3D(Gn,Ge,qt,Cn,Pn,nt,pt,rt,$t,gt,En.data):re.isCompressedArrayTexture?$.compressedTexSubImage3D(Gn,Ge,qt,Cn,Pn,nt,pt,rt,$t,En.data):$.texSubImage3D(Gn,Ge,qt,Cn,Pn,nt,pt,rt,$t,gt,En):W.isDataTexture?$.texSubImage2D($.TEXTURE_2D,Ge,qt,Cn,nt,pt,$t,gt,En.data):W.isCompressedTexture?$.compressedTexSubImage2D($.TEXTURE_2D,Ge,qt,Cn,En.width,En.height,$t,En.data):$.texSubImage2D($.TEXTURE_2D,Ge,qt,Cn,nt,pt,$t,gt,En);$.pixelStorei($.UNPACK_ROW_LENGTH,cn),$.pixelStorei($.UNPACK_IMAGE_HEIGHT,Ni),$.pixelStorei($.UNPACK_SKIP_PIXELS,$s),$.pixelStorei($.UNPACK_SKIP_ROWS,gi),$.pixelStorei($.UNPACK_SKIP_IMAGES,po),Ge===0&&re.generateMipmaps&&$.generateMipmap(Gn),Be.unbindTexture()},this.initRenderTarget=function(W){ke.get(W).__webglFramebuffer===void 0&&Je.setupRenderTarget(W)},this.initTexture=function(W){W.isCubeTexture?Je.setTextureCube(W,0):W.isData3DTexture?Je.setTexture3D(W,0):W.isDataArrayTexture||W.isCompressedArrayTexture?Je.setTexture2DArray(W,0):Je.setTexture2D(W,0),Be.unbindTexture()},this.resetState=function(){U=0,F=0,j=null,Be.reset(),st.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Xs}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=An._getDrawingBufferColorSpace(e),t.unpackColorSpace=An._getUnpackColorSpace()}}const qR=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:fA,AddEquation:au,AddOperation:bw,AdditiveAnimationBlendMode:_A,AdditiveBlending:K3,AgXToneMapping:Ew,AlphaFormat:yA,AlwaysCompare:zw,AlwaysDepth:v2,AlwaysStencilFunc:eb,AmbientLight:IR,AnimationAction:FR,AnimationClip:f0,AnimationLoader:DP,AnimationMixer:GR,AnimationObjectGroup:iU,AnimationUtils:wP,ArcCurve:aR,ArrayCamera:UR,ArrowHelper:IU,AttachedBindMode:$3,Audio:HR,AudioAnalyser:XP,AudioContext:qA,AudioListener:kP,AudioLoader:GP,AxesHelper:BU,BackSide:vs,BasicDepthPacking:Nw,BasicShadowMap:tw,BatchedMesh:tR,Bone:Lv,BooleanKeyframeTrack:sf,Box2:mU,Box3:Ma,Box3Helper:wU,BoxGeometry:af,BoxHelper:TU,BufferAttribute:Rn,BufferGeometry:Zt,BufferGeometryLoader:OR,ByteType:dA,Cache:Ko,Camera:Bv,CameraHelper:EU,CanvasTexture:qO,CapsuleGeometry:Hv,CatmullRomCurve3:sR,CineonToneMapping:Mw,CircleGeometry:jv,ClampToEdgeWrapping:Zs,Clock:QA,Color:ot,ColorKeyframeTrack:WA,ColorManagement:An,CompressedArrayTexture:YO,CompressedCubeTexture:KO,CompressedTexture:Uv,CompressedTextureLoader:NP,ConeGeometry:xg,ConstantAlphaFactor:vw,ConstantColorFactor:gw,Controls:NU,CubeCamera:Kw,CubeReflectionMapping:nc,CubeRefractionMapping:fu,CubeTexture:pg,CubeTextureLoader:LP,CubeUVReflectionMapping:b0,CubicBezierCurve:PA,CubicBezierCurve3:rR,CubicInterpolant:MR,CullFaceBack:Y3,CullFaceFront:ew,CullFaceFrontBack:lL,CullFaceNone:$5,Curve:fo,CurvePath:lR,CustomBlending:nw,CustomToneMapping:Cw,CylinderGeometry:vg,Cylindrical:dU,Data3DTexture:Iv,DataArrayTexture:Rv,DataTexture:el,DataTextureLoader:OP,DataUtils:_O,DecrementStencilOp:xL,DecrementWrapStencilOp:bL,DefaultLoadingManager:TR,DepthFormat:i0,DepthStencilFormat:a0,DepthTexture:NA,DetachedBindMode:ww,DirectionalLight:KA,DirectionalLightHelper:CU,DiscreteInterpolant:CR,DodecahedronGeometry:Fv,DoubleSide:Sr,DstAlphaFactor:hw,DstColorFactor:dw,DynamicCopyUsage:PL,DynamicDrawUsage:IL,DynamicReadUsage:NL,EdgesGeometry:iR,EllipseCurve:Gv,EqualCompare:Hw,EqualDepth:_2,EqualStencilFunc:CL,EquirectangularReflectionMapping:kp,EquirectangularRefractionMapping:Wp,Euler:Ks,EventDispatcher:al,ExternalTexture:LA,ExtrudeGeometry:zv,FileLoader:qs,Float16BufferAttribute:TO,Float32BufferAttribute:bt,FloatType:Ds,Fog:Nv,FogExp2:Dv,FramebufferTexture:JO,FrontSide:tl,Frustum:M0,FrustumArray:Ov,GLBufferAttribute:cU,GLSL1:HL,GLSL3:tb,GreaterCompare:jw,GreaterDepth:A2,GreaterEqualCompare:Gw,GreaterEqualDepth:b2,GreaterEqualStencilFunc:RL,GreaterStencilFunc:TL,GridHelper:SU,Group:Xl,HalfFloatType:A0,HemisphereLight:RR,HemisphereLightHelper:AU,IcosahedronGeometry:Vv,ImageBitmapLoader:PR,ImageLoader:eg,ImageUtils:Zw,IncrementStencilOp:vL,IncrementWrapStencilOp:_L,InstancedBufferAttribute:Kh,InstancedBufferGeometry:LR,InstancedInterleavedBuffer:lU,InstancedMesh:IA,Int16BufferAttribute:CO,Int32BufferAttribute:EO,Int8BufferAttribute:AO,IntType:Av,InterleavedBuffer:gg,InterleavedBufferAttribute:pu,Interpolant:E0,InterpolateDiscrete:s0,InterpolateLinear:r0,InterpolateSmooth:i2,InterpolationSamplingMode:GL,InterpolationSamplingType:FL,InvertStencilOp:AL,KeepStencilOp:Nh,KeyframeTrack:Br,LOD:eR,LatheGeometry:kv,Layers:c0,LessCompare:Uw,LessDepth:x2,LessEqualCompare:AA,LessEqualDepth:Yh,LessEqualStencilFunc:EL,LessStencilFunc:ML,Light:xu,LightProbe:NR,Line:ac,Line3:yU,LineBasicMaterial:Wa,LineCurve:UA,LineCurve3:oR,LineDashedMaterial:bR,LineLoop:BA,LineSegments:ho,LinearFilter:Bi,LinearInterpolant:kA,LinearMipMapLinearFilter:fL,LinearMipMapNearestFilter:hL,LinearMipmapLinearFilter:Er,LinearMipmapNearestFilter:Jd,LinearSRGBColorSpace:mu,LinearToneMapping:Aw,LinearTransfer:Xp,Loader:Za,LoaderUtils:lu,LoadingManager:ZA,LoopOnce:Rw,LoopPingPong:Bw,LoopRepeat:Iw,MOUSE:rL,Material:Ki,MaterialLoader:qv,MathUtils:Vw,Matrix2:nS,Matrix3:Yt,Matrix4:Nt,MaxEquation:rw,Mesh:Di,MeshBasicMaterial:Js,MeshDepthMaterial:GA,MeshDistanceMaterial:zA,MeshLambertMaterial:xR,MeshMatcapMaterial:_R,MeshNormalMaterial:vR,MeshPhongMaterial:gR,MeshPhysicalMaterial:Ir,MeshStandardMaterial:Ag,MeshToonMaterial:yR,MinEquation:sw,MirroredRepeatWrapping:e0,MixOperation:_w,MultiplyBlending:Q3,MultiplyOperation:dg,NearestFilter:fa,NearestMipMapLinearFilter:uL,NearestMipMapNearestFilter:cL,NearestMipmapLinearFilter:Hh,NearestMipmapNearestFilter:bv,NeutralToneMapping:Tw,NeverCompare:Pw,NeverDepth:y2,NeverStencilFunc:SL,NoBlending:Yl,NoColorSpace:kl,NoToneMapping:$o,NormalAnimationBlendMode:wv,NormalBlending:Zh,NotEqualCompare:Fw,NotEqualDepth:S2,NotEqualStencilFunc:wL,NumberKeyframeTrack:Qh,Object3D:dn,ObjectLoader:jP,ObjectSpaceNormalMap:Ow,OctahedronGeometry:_g,OneFactor:lw,OneMinusConstantAlphaFactor:xw,OneMinusConstantColorFactor:yw,OneMinusDstAlphaFactor:fw,OneMinusDstColorFactor:mw,OneMinusSrcAlphaFactor:g2,OneMinusSrcColorFactor:uw,OrthographicCamera:_u,PCFShadowMap:xv,PCFSoftShadowMap:Tp,PMREMGenerator:lb,Path:nv,PerspectiveCamera:Ii,Plane:nu,PlaneGeometry:C0,PlaneHelper:RU,PointLight:YA,PointLightHelper:_U,Points:DA,PointsMaterial:Pv,PolarGridHelper:MU,PolyhedronGeometry:vu,PositionalAudio:ZP,PropertyBinding:Sn,PropertyMixer:jR,QuadraticBezierCurve:HA,QuadraticBezierCurve3:jA,Quaternion:ka,QuaternionKeyframeTrack:$h,QuaternionLinearInterpolant:ER,RED_GREEN_RGTC2_Format:K2,RED_RGTC1_Format:J2,REVISION:fg,RGBADepthPacking:Lw,RGBAFormat:Va,RGBAIntegerFormat:Tv,RGBA_ASTC_10x10_Format:z2,RGBA_ASTC_10x5_Format:j2,RGBA_ASTC_10x6_Format:F2,RGBA_ASTC_10x8_Format:G2,RGBA_ASTC_12x10_Format:V2,RGBA_ASTC_12x12_Format:k2,RGBA_ASTC_4x4_Format:B2,RGBA_ASTC_5x4_Format:D2,RGBA_ASTC_5x5_Format:N2,RGBA_ASTC_6x5_Format:L2,RGBA_ASTC_6x6_Format:O2,RGBA_ASTC_8x5_Format:P2,RGBA_ASTC_8x6_Format:U2,RGBA_ASTC_8x8_Format:H2,RGBA_BPTC_Format:W2,RGBA_ETC2_EAC_Format:I2,RGBA_PVRTC_2BPPV1_Format:T2,RGBA_PVRTC_4BPPV1_Format:E2,RGBA_S3TC_DXT1_Format:Rp,RGBA_S3TC_DXT3_Format:Ip,RGBA_S3TC_DXT5_Format:Bp,RGBDepthPacking:mL,RGBFormat:vA,RGBIntegerFormat:dL,RGB_BPTC_SIGNED_Format:Z2,RGB_BPTC_UNSIGNED_Format:X2,RGB_ETC1_Format:w2,RGB_ETC2_Format:R2,RGB_PVRTC_2BPPV1_Format:C2,RGB_PVRTC_4BPPV1_Format:M2,RGB_S3TC_DXT1_Format:wp,RGDepthPacking:pL,RGFormat:xA,RGIntegerFormat:Ev,RawShaderMaterial:pR,Ray:S0,Raycaster:zR,RectAreaLight:BR,RedFormat:Cv,RedIntegerFormat:mg,ReinhardToneMapping:Sw,RenderTarget:MA,RenderTarget3D:sU,RepeatWrapping:du,ReplaceStencilOp:yL,ReverseSubtractEquation:aw,RingGeometry:Wv,SIGNED_RED_GREEN_RGTC2_Format:q2,SIGNED_RED_RGTC1_Format:Y2,SRGBColorSpace:Ga,SRGBTransfer:Fn,Scene:TA,ShaderChunk:nn,ShaderLib:ro,ShaderMaterial:co,ShadowMaterial:mR,Shape:Jh,ShapeGeometry:Zv,ShapePath:DU,ShapeUtils:oo,ShortType:mA,Skeleton:yg,SkeletonHelper:xU,SkinnedMesh:RA,Source:su,Sphere:da,SphereGeometry:bg,Spherical:fU,SphericalHarmonics3:DR,SplineCurve:FA,SpotLight:JA,SpotLightHelper:vU,Sprite:$w,SpriteMaterial:wA,SrcAlphaFactor:p2,SrcAlphaSaturateFactor:pw,SrcColorFactor:cw,StaticCopyUsage:OL,StaticDrawUsage:Jp,StaticReadUsage:DL,StereoCamera:zP,StreamCopyUsage:UL,StreamDrawUsage:BL,StreamReadUsage:LL,StringKeyframeTrack:rf,SubtractEquation:iw,SubtractiveBlending:q3,TOUCH:oL,TangentSpaceNormalMap:yu,TetrahedronGeometry:Xv,Texture:oi,TextureLoader:wR,TextureUtils:HU,Timer:uU,TimestampQuery:jL,TorusGeometry:Jv,TorusKnotGeometry:Yv,Triangle:Is,TriangleFanDrawMode:Q2,TriangleStripDrawMode:bA,TrianglesDrawMode:Dw,TubeGeometry:Kv,UVMapping:_v,Uint16BufferAttribute:CA,Uint32BufferAttribute:EA,Uint8BufferAttribute:SO,Uint8ClampedBufferAttribute:MO,Uniform:tS,UniformsGroup:oU,UniformsLib:ct,UniformsUtils:Yw,UnsignedByteType:Rr,UnsignedInt101111Type:gA,UnsignedInt248Type:n0,UnsignedInt5999Type:pA,UnsignedIntType:ic,UnsignedShort4444Type:Sv,UnsignedShort5551Type:Mv,UnsignedShortType:t0,VSMShadowMap:so,Vector2:ze,Vector3:K,Vector4:wn,VectorKeyframeTrack:ef,VideoFrameTexture:XO,VideoTexture:nR,WebGL3DRenderTarget:uO,WebGLArrayRenderTarget:cO,WebGLCoordinateSystem:Xs,WebGLCubeRenderTarget:qw,WebGLRenderTarget:nl,WebGLRenderer:KR,WebGLUtils:YR,WebGPUCoordinateSystem:o0,WebXRController:a2,WireframeGeometry:dR,WrapAroundEnding:Zp,ZeroCurvatureEnding:jh,ZeroFactor:ow,ZeroSlopeEnding:Fh,ZeroStencilOp:gL,createCanvasElement:Ww},Symbol.toStringTag,{value:"Module"}));var q_={exports:{}},zl={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT;function xz(){return vT||(vT=1,zl.ConcurrentRoot=1,zl.ContinuousEventPriority=8,zl.DefaultEventPriority=32,zl.DiscreteEventPriority=2,zl.IdleEventPriority=268435456,zl.LegacyRoot=0,zl.NoEventPriority=0),zl}var xT;function _z(){return xT||(xT=1,q_.exports=xz()),q_.exports}var r2=_z(),Q_={exports:{}},$_={},e3={exports:{}},t3={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _T;function bz(){if(_T)return t3;_T=1;var n=p0();function e(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,a=n.useEffect,r=n.useLayoutEffect,l=n.useDebugValue;function u(d,p){var b=p(),C=i({inst:{value:b,getSnapshot:p}}),w=C[0].inst,E=C[1];return r(function(){w.value=b,w.getSnapshot=p,m(w)&&E({inst:w})},[d,b,p]),a(function(){return m(w)&&E({inst:w}),d(function(){m(w)&&E({inst:w})})},[d]),l(b),b}function m(d){var p=d.getSnapshot;d=d.value;try{var b=p();return!t(d,b)}catch{return!0}}function g(d,p){return p()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:u;return t3.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:v,t3}var bT;function Az(){return bT||(bT=1,e3.exports=bz()),e3.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AT;function Sz(){if(AT)return $_;AT=1;var n=p0(),e=Az();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var i=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,r=n.useRef,l=n.useEffect,u=n.useMemo,m=n.useDebugValue;return $_.useSyncExternalStoreWithSelector=function(g,v,d,p,b){var C=r(null);if(C.current===null){var w={hasValue:!1,value:null};C.current=w}else w=C.current;C=u(function(){function M(U){if(!I){if(I=!0,B=U,U=p(U),b!==void 0&&w.hasValue){var F=w.value;if(b(F,U))return N=F}return N=U}if(F=N,i(B,U))return F;var j=p(U);return b!==void 0&&b(F,j)?(B=U,F):(B=U,N=j)}var I=!1,B,N,P=d===void 0?null:d;return[function(){return M(v())},P===null?void 0:function(){return M(P())}]},[v,d,p,b]);var E=a(g,C[0],C[1]);return l(function(){w.hasValue=!0,w.value=E},[E]),m(E),E},$_}var ST;function Mz(){return ST||(ST=1,Q_.exports=Sz()),Q_.exports}var Cz=Mz();const Ez=Mb(Cz),MT=n=>{let e;const t=new Set,i=(g,v)=>{const d=typeof g=="function"?g(e):g;if(!Object.is(d,e)){const p=e;e=v??(typeof d!="object"||d===null)?d:Object.assign({},e,d),t.forEach(b=>b(e,p))}},a=()=>e,u={setState:i,getState:a,getInitialState:()=>m,subscribe:g=>(t.add(g),()=>t.delete(g))},m=e=n(i,a,u);return u},Tz=(n=>n?MT(n):MT),{useSyncExternalStoreWithSelector:wz}=Ez,Rz=n=>n;function Iz(n,e=Rz,t){const i=wz(n.subscribe,n.getState,n.getInitialState,e,t);return J9.useDebugValue(i),i}const CT=(n,e)=>{const t=Tz(n),i=(a,r=e)=>Iz(t,a,r);return Object.assign(i,t),i},Bz=((n,e)=>n?CT(n,e):CT),Dz=n=>typeof n=="object"&&typeof n.then=="function",zh=[];function QR(n,e,t=(i,a)=>i===a){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let a=0;a<i;a++)if(!t(n[a],e[a]))return!1;return!0}function $R(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const r of zh)if(QR(e,r.keys,r.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(r,"error"))throw r.error;if(Object.prototype.hasOwnProperty.call(r,"response"))return i.lifespan&&i.lifespan>0&&(r.timeout&&clearTimeout(r.timeout),r.timeout=setTimeout(r.remove,i.lifespan)),r.response;if(!t)throw r.promise}const a={keys:e,equal:i.equal,remove:()=>{const r=zh.indexOf(a);r!==-1&&zh.splice(r,1)},promise:(Dz(n)?n:n(...e)).then(r=>{a.response=r,i.lifespan&&i.lifespan>0&&(a.timeout=setTimeout(a.remove,i.lifespan))}).catch(r=>a.error=r)};if(zh.push(a),!t)throw a.promise}const Nz=(n,e,t)=>$R(n,e,!1,t),Lz=(n,e,t)=>void $R(n,e,!0,t),Oz=n=>{if(n===void 0||n.length===0)zh.splice(0,zh.length);else{const e=zh.find(t=>QR(n,t.keys,t.equal));e&&e.remove()}};var n3={exports:{}},i3={exports:{}},a3={exports:{}},s3={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET;function Pz(){return ET||(ET=1,(function(n){function e(G,Z){var Q=G.length;G.push(Z);e:for(;0<Q;){var le=Q-1>>>1,ye=G[le];if(0<a(ye,Z))G[le]=Z,G[Q]=ye,Q=le;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var Z=G[0],Q=G.pop();if(Q!==Z){G[0]=Q;e:for(var le=0,ye=G.length,X=ye>>>1;le<X;){var ae=2*(le+1)-1,Ce=G[ae],Re=ae+1,Ze=G[Re];if(0>a(Ce,Q))Re<ye&&0>a(Ze,Ce)?(G[le]=Ze,G[Re]=Q,le=Re):(G[le]=Ce,G[ae]=Q,le=ae);else if(Re<ye&&0>a(Ze,Q))G[le]=Ze,G[Re]=Q,le=Re;else break e}}return Z}function a(G,Z){var Q=G.sortIndex-Z.sortIndex;return Q!==0?Q:G.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var m=[],g=[],v=1,d=null,p=3,b=!1,C=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function B(G){for(var Z=t(g);Z!==null;){if(Z.callback===null)i(g);else if(Z.startTime<=G)i(g),Z.sortIndex=Z.expirationTime,e(m,Z);else break;Z=t(g)}}function N(G){if(w=!1,B(G),!C)if(t(m)!==null)C=!0,ge();else{var Z=t(g);Z!==null&&ce(N,Z.startTime-G)}}var P=!1,U=-1,F=5,j=-1;function O(){return!(n.unstable_now()-j<F)}function H(){if(P){var G=n.unstable_now();j=G;var Z=!0;try{e:{C=!1,w&&(w=!1,M(U),U=-1),b=!0;var Q=p;try{t:{for(B(G),d=t(m);d!==null&&!(d.expirationTime>G&&O());){var le=d.callback;if(typeof le=="function"){d.callback=null,p=d.priorityLevel;var ye=le(d.expirationTime<=G);if(G=n.unstable_now(),typeof ye=="function"){d.callback=ye,B(G),Z=!0;break t}d===t(m)&&i(m),B(G)}else i(m);d=t(m)}if(d!==null)Z=!0;else{var X=t(g);X!==null&&ce(N,X.startTime-G),Z=!1}}break e}finally{d=null,p=Q,b=!1}Z=void 0}}finally{Z?J():P=!1}}}var J;if(typeof I=="function")J=function(){I(H)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,oe=ie.port2;ie.port1.onmessage=H,J=function(){oe.postMessage(null)}}else J=function(){E(H,0)};function ge(){P||(P=!0,J())}function ce(G,Z){U=E(function(){G(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){C||b||(C=!0,ge())},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(G){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var Q=p;p=Z;try{return G()}finally{p=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,Z){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Q=p;p=G;try{return Z()}finally{p=Q}},n.unstable_scheduleCallback=function(G,Z,Q){var le=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?le+Q:le):Q=le,G){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=Q+ye,G={id:v++,callback:Z,priorityLevel:G,startTime:Q,expirationTime:ye,sortIndex:-1},Q>le?(G.sortIndex=Q,e(g,G),t(m)===null&&G===t(g)&&(w?(M(U),U=-1):w=!0,ce(N,Q-le))):(G.sortIndex=ye,e(m,G),C||b||(C=!0,ge())),G},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(G){var Z=p;return function(){var Q=p;p=Z;try{return G.apply(this,arguments)}finally{p=Q}}}})(s3)),s3}var TT;function Uz(){return TT||(TT=1,a3.exports=Pz()),a3.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT;function Hz(){return wT||(wT=1,(function(n){n.exports=function(e){function t(c,h,x,S){return new tm(c,h,x,S)}function i(){}function a(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(c){return c===null||typeof c!="object"?null:(c=lm&&c[lm]||c["@@iterator"],typeof c=="function"?c:null)}function l(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===bl?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case Mc:return"Fragment";case Ps:return"Portal";case om:return"Profiler";case rm:return"StrictMode";case Lf:return"Suspense";case Lo:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case or:return(c.displayName||"Context")+".Provider";case No:return(c._context.displayName||"Context")+".Consumer";case Cc:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case Vu:return h=c.displayName||null,h!==null?h:l(c.type)||"Memo";case Us:h=c._payload,c=c._init;try{return l(c(h))}catch{}}return null}function u(c){if(Of===void 0)try{throw Error()}catch(x){var h=x.stack.trim().match(/\n( *(at )?)/);Of=h&&h[1]||"",cm=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Of+c+cm}function m(c,h){if(!c||Oo)return"";Oo=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(h){var lt=function(){throw Error()};if(Object.defineProperty(lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(lt,[])}catch(zt){var ft=zt}Reflect.construct(c,[],lt)}else{try{lt.call()}catch(zt){ft=zt}c.call(lt.prototype)}}else{try{throw Error()}catch(zt){ft=zt}(lt=c())&&typeof lt.catch=="function"&&lt.catch(function(){})}}catch(zt){if(zt&&ft&&typeof zt.stack=="string")return[zt.stack,ft.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=S.DetermineComponentFrameRoot(),k=D[0],ee=D[1];if(k&&ee){var de=k.split(`
`),Oe=ee.split(`
`);for(R=S=0;S<de.length&&!de[S].includes("DetermineComponentFrameRoot");)S++;for(;R<Oe.length&&!Oe[R].includes("DetermineComponentFrameRoot");)R++;if(S===de.length||R===Oe.length)for(S=de.length-1,R=Oe.length-1;1<=S&&0<=R&&de[S]!==Oe[R];)R--;for(;1<=S&&0<=R;S--,R--)if(de[S]!==Oe[R]){if(S!==1||R!==1)do if(S--,R--,0>R||de[S]!==Oe[R]){var Qe=`
`+de[S].replace(" at new "," at ");return c.displayName&&Qe.includes("<anonymous>")&&(Qe=Qe.replace("<anonymous>",c.displayName)),Qe}while(1<=S&&0<=R);break}}}finally{Oo=!1,Error.prepareStackTrace=x}return(x=c?c.displayName||c.name:"")?u(x):""}function g(c){switch(c.tag){case 26:case 27:case 5:return u(c.type);case 16:return u("Lazy");case 13:return u("Suspense");case 19:return u("SuspenseList");case 0:case 15:return c=m(c.type,!1),c;case 11:return c=m(c.type.render,!1),c;case 1:return c=m(c.type,!0),c;default:return""}}function v(c){try{var h="";do h+=g(c),c=c.return;while(c);return h}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function d(c){var h=c,x=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,(h.flags&4098)!==0&&(x=h.return),c=h.return;while(c)}return h.tag===3?x:null}function p(c){if(d(c)!==c)throw Error(a(188))}function b(c){var h=c.alternate;if(!h){if(h=d(c),h===null)throw Error(a(188));return h!==c?null:c}for(var x=c,S=h;;){var R=x.return;if(R===null)break;var D=R.alternate;if(D===null){if(S=R.return,S!==null){x=S;continue}break}if(R.child===D.child){for(D=R.child;D;){if(D===x)return p(R),c;if(D===S)return p(R),h;D=D.sibling}throw Error(a(188))}if(x.return!==S.return)x=R,S=D;else{for(var k=!1,ee=R.child;ee;){if(ee===x){k=!0,x=R,S=D;break}if(ee===S){k=!0,S=R,x=D;break}ee=ee.sibling}if(!k){for(ee=D.child;ee;){if(ee===x){k=!0,x=D,S=R;break}if(ee===S){k=!0,S=D,x=R;break}ee=ee.sibling}if(!k)throw Error(a(189))}}if(x.alternate!==S)throw Error(a(190))}if(x.tag!==3)throw Error(a(188));return x.stateNode.current===x?c:h}function C(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c;for(c=c.child;c!==null;){if(h=C(c),h!==null)return h;c=c.sibling}return null}function w(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c;for(c=c.child;c!==null;){if(c.tag!==4&&(h=w(c),h!==null))return h;c=c.sibling}return null}function E(c){return{current:c}}function M(c){0>Zr||(c.current=Qu[Zr],Qu[Zr]=null,Zr--)}function I(c,h){Zr++,Qu[Zr]=c.current,c.current=h}function B(c){return c>>>=0,c===0?32:31-($u(c)/A1|0)|0}function N(c){var h=c&42;if(h!==0)return h;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function P(c,h){var x=c.pendingLanes;if(x===0)return 0;var S=0,R=c.suspendedLanes,D=c.pingedLanes,k=c.warmLanes;c=c.finishedLanes!==0;var ee=x&134217727;return ee!==0?(x=ee&~R,x!==0?S=N(x):(D&=ee,D!==0?S=N(D):c||(k=ee&~k,k!==0&&(S=N(k))))):(ee=x&~R,ee!==0?S=N(ee):D!==0?S=N(D):c||(k=x&~k,k!==0&&(S=N(k)))),S===0?0:h!==0&&h!==S&&(h&R)===0&&(R=S&-S,k=h&-h,R>=k||R===32&&(k&4194176)!==0)?h:S}function U(c,h){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&h)===0}function F(c,h){switch(c){case 1:case 2:case 4:case 8:return h+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function j(){var c=Rc;return Rc<<=1,(Rc&4194176)===0&&(Rc=128),c}function O(){var c=eh;return eh<<=1,(eh&62914560)===0&&(eh=4194304),c}function H(c){for(var h=[],x=0;31>x;x++)h.push(c);return h}function J(c,h){c.pendingLanes|=h,h!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function ie(c,h,x,S,R,D){var k=c.pendingLanes;c.pendingLanes=x,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=x,c.entangledLanes&=x,c.errorRecoveryDisabledLanes&=x,c.shellSuspendCounter=0;var ee=c.entanglements,de=c.expirationTimes,Oe=c.hiddenUpdates;for(x=k&~x;0<x;){var Qe=31-Ia(x),lt=1<<Qe;ee[Qe]=0,de[Qe]=-1;var ft=Oe[Qe];if(ft!==null)for(Oe[Qe]=null,Qe=0;Qe<ft.length;Qe++){var zt=ft[Qe];zt!==null&&(zt.lane&=-536870913)}x&=~lt}S!==0&&oe(c,S,0),D!==0&&R===0&&c.tag!==0&&(c.suspendedLanes|=D&~(k&~h))}function oe(c,h,x){c.pendingLanes|=h,c.suspendedLanes&=~h;var S=31-Ia(h);c.entangledLanes|=h,c.entanglements[S]=c.entanglements[S]|1073741824|x&4194218}function ge(c,h){var x=c.entangledLanes|=h;for(c=c.entanglements;x;){var S=31-Ia(x),R=1<<S;R&h|c[S]&h&&(c[S]|=h),x&=~R}}function ce(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function G(c){if(Ba&&typeof Ba.onCommitFiberRoot=="function")try{Ba.onCommitFiberRoot(Bc,c,void 0,(c.current.flags&128)===128)}catch{}}function Z(c){if(typeof E1=="function"&&Fm(c),Ba&&typeof Ba.setStrictMode=="function")try{Ba.setStrictMode(Bc,c)}catch{}}function Q(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}function le(c,h){if(typeof c=="object"&&c!==null){var x=Qf.get(c);return x!==void 0?x:(h={value:c,source:h,stack:v(h)},Qf.set(c,h),h)}return{value:c,source:h,stack:v(h)}}function ye(c,h){Jn[ei++]=ih,Jn[ei++]=nh,nh=c,ih=h}function X(c,h,x){is[as++]=fr,is[as++]=As,is[as++]=Hs,Hs=c;var S=fr;c=As;var R=32-Ia(S)-1;S&=~(1<<R),x+=1;var D=32-Ia(h)+R;if(30<D){var k=R-R%5;D=(S&(1<<k)-1).toString(32),S>>=k,R-=k,fr=1<<32-Ia(h)+R|x<<R|S,As=D+c}else fr=1<<D|x<<R|S,As=c}function ae(c){c.return!==null&&(ye(c,1),X(c,1,0))}function Ce(c){for(;c===nh;)nh=Jn[--ei],Jn[ei]=null,ih=Jn[--ei],Jn[ei]=null;for(;c===Hs;)Hs=is[--as],is[as]=null,As=is[--as],is[as]=null,fr=is[--as],is[as]=null}function Re(c,h){I(js,h),I(ah,c),I(Hi,null),c=Al(h),M(Hi),I(Hi,c)}function Ze(){M(Hi),M(ah),M(js)}function ve(c){c.memoizedState!==null&&I(Dc,c);var h=Hi.current,x=t1(h,c.type);h!==x&&(I(ah,c),I(Hi,x))}function we(c){ah.current===c&&(M(Hi),M(ah)),Dc.current===c&&(M(Dc),cr?Ut._currentValue=Ra:Ut._currentValue2=Ra)}function Ke(c){var h=Error(a(418,""));throw $(le(h,c)),sh}function it(c,h){if(!va)throw Error(a(175));ox(c.stateNode,c.type,c.memoizedProps,h,c)||Ke(c)}function at(c){for(oa=c.return;oa;)switch(oa.tag){case 3:case 27:Ss=!0;return;case 5:case 13:Ss=!1;return;default:oa=oa.return}}function ht(c){if(!va||c!==oa)return!1;if(!vn)return at(c),vn=!0,!1;var h=!1;if(Zi?c.tag!==3&&c.tag!==27&&(c.tag!==5||y1(c.type)&&!Ho(c.type,c.memoizedProps))&&(h=!0):c.tag!==3&&(c.tag!==5||y1(c.type)&&!Ho(c.type,c.memoizedProps))&&(h=!0),h&&Ji&&Ke(c),at(c),c.tag===13){if(!va)throw Error(a(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));Ji=p1(c)}else Ji=oa?Tm(c.stateNode):null;return!0}function kt(){va&&(Ji=oa=null,vn=!1)}function $(c){ss===null?ss=[c]:ss.push(c)}function Pe(){for(var c=Fo,h=Nc=Fo=0;h<c;){var x=rs[h];rs[h++]=null;var S=rs[h];rs[h++]=null;var R=rs[h];rs[h++]=null;var D=rs[h];if(rs[h++]=null,S!==null&&R!==null){var k=S.pending;k===null?R.next=R:(R.next=k.next,k.next=R),S.pending=R}D!==0&&$e(x,R,D)}}function Ne(c,h,x,S){rs[Fo++]=c,rs[Fo++]=h,rs[Fo++]=x,rs[Fo++]=S,Nc|=S,c.lanes|=S,c=c.alternate,c!==null&&(c.lanes|=S)}function Le(c,h,x,S){return Ne(c,h,x,S),ke(c)}function Be(c,h){return Ne(c,null,null,h),ke(c)}function $e(c,h,x){c.lanes|=x;var S=c.alternate;S!==null&&(S.lanes|=x);for(var R=!1,D=c.return;D!==null;)D.childLanes|=x,S=D.alternate,S!==null&&(S.childLanes|=x),D.tag===22&&(c=D.stateNode,c===null||c._visibility&1||(R=!0)),c=D,D=D.return;R&&h!==null&&c.tag===3&&(D=c.stateNode,R=31-Ia(x),D=D.hiddenUpdates,c=D[R],c===null?D[R]=[h]:c.push(h),h.lane=x|536870912)}function ke(c){if(50<Nl)throw Nl=0,ba=null,Error(a(185));for(var h=c.return;h!==null;)c=h,h=c.return;return c.tag===3?c.stateNode:null}function Je(c){c!==El&&c.next===null&&(El===null?Lc=El=c:El=El.next=c),oh=!0,rh||(rh=!0,Te(Lt))}function Rt(c,h){if(!Fs&&oh){Fs=!0;do for(var x=!1,S=Lc;S!==null;){if(c!==0){var R=S.pendingLanes;if(R===0)var D=0;else{var k=S.suspendedLanes,ee=S.pingedLanes;D=(1<<31-Ia(42|c)+1)-1,D&=R&~(k&~ee),D=D&201326677?D&201326677|1:D?D|2:0}D!==0&&(x=!0,me(S,D))}else D=en,D=P(S,S===an?D:0),(D&3)===0||U(S,D)||(x=!0,me(S,D));S=S.next}while(x);Fs=!1}}function Lt(){oh=rh=!1;var c=0;Go!==0&&(jo()&&(c=Go),Go=0);for(var h=Xi(),x=null,S=Lc;S!==null;){var R=S.next,D=q(S,h);D===0?(S.next=null,x===null?Lc=R:x.next=R,R===null&&(El=x)):(x=S,(c!==0||(D&3)!==0)&&(oh=!0)),S=R}Rt(c)}function q(c,h){for(var x=c.suspendedLanes,S=c.pingedLanes,R=c.expirationTimes,D=c.pendingLanes&-62914561;0<D;){var k=31-Ia(D),ee=1<<k,de=R[k];de===-1?((ee&x)===0||(ee&S)!==0)&&(R[k]=F(ee,h)):de<=h&&(c.expiredLanes|=ee),D&=~ee}if(h=an,x=en,x=P(c,c===h?x:0),S=c.callbackNode,x===0||c===h&&Hn===2||c.cancelPendingCommit!==null)return S!==null&&S!==null&&th(S),c.callbackNode=null,c.callbackPriority=0;if((x&3)===0||U(c,x)){if(h=x&-x,h===c.callbackPriority)return h;switch(S!==null&&th(S),ce(x)){case 2:case 8:x=C1;break;case 32:x=Kf;break;case 268435456:x=qf;break;default:x=Kf}return S=z.bind(null,c),x=Ic(x,S),c.callbackPriority=h,c.callbackNode=x,h}return S!==null&&S!==null&&th(S),c.callbackPriority=2,c.callbackNode=null,2}function z(c,h){var x=c.callbackNode;if(Pi()&&c.callbackNode!==x)return null;var S=en;return S=P(c,c===an?S:0),S===0?null:(Hu(c,S,h),q(c,Xi()),c.callbackNode!=null&&c.callbackNode===x?z.bind(null,c):null)}function me(c,h){if(Pi())return null;Hu(c,h,!0)}function Te(c){vi?jf(function(){(wt&6)!==0?Ic(jm,c):c()}):Ic(jm,c)}function He(){return Go===0&&(Go=j()),Go}function Ie(c,h){if(lh===null){var x=lh=[];$f=0,Da=He(),zo={status:"pending",value:void 0,then:function(S){x.push(S)}}}return $f++,h.then(_t,_t),h}function _t(){if(--$f===0&&lh!==null){zo!==null&&(zo.status="fulfilled");var c=lh;lh=null,Da=0,zo=null;for(var h=0;h<c.length;h++)(0,c[h])()}}function et(c,h){var x=[],S={status:"pending",value:null,reason:null,then:function(R){x.push(R)}};return c.then(function(){S.status="fulfilled",S.value=h;for(var R=0;R<x.length;R++)(0,x[R])(h)},function(R){for(S.status="rejected",S.reason=R,R=0;R<x.length;R++)(0,x[R])(void 0)}),S}function yt(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vt(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function Ve(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function qe(c,h,x){var S=c.updateQueue;if(S===null)return null;if(S=S.shared,(wt&2)!==0){var R=S.pending;return R===null?h.next=h:(h.next=R.next,R.next=h),S.pending=h,h=ke(c),$e(c,null,x),h}return Ne(c,S,h,x),ke(c)}function At(c,h,x){if(h=h.updateQueue,h!==null&&(h=h.shared,(x&4194176)!==0)){var S=h.lanes;S&=c.pendingLanes,x|=S,h.lanes=x,ge(c,x)}}function ut(c,h){var x=c.updateQueue,S=c.alternate;if(S!==null&&(S=S.updateQueue,x===S)){var R=null,D=null;if(x=x.firstBaseUpdate,x!==null){do{var k={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};D===null?R=D=k:D=D.next=k,x=x.next}while(x!==null);D===null?R=D=h:D=D.next=h}else R=D=h;x={baseState:S.baseState,firstBaseUpdate:R,lastBaseUpdate:D,shared:S.shared,callbacks:S.callbacks},c.updateQueue=x;return}c=x.lastBaseUpdate,c===null?x.firstBaseUpdate=h:c.next=h,x.lastBaseUpdate=h}function st(){if(Oc){var c=zo;if(c!==null)throw c}}function jt(c,h,x,S){Oc=!1;var R=c.updateQueue;Xr=!1;var D=R.firstBaseUpdate,k=R.lastBaseUpdate,ee=R.shared.pending;if(ee!==null){R.shared.pending=null;var de=ee,Oe=de.next;de.next=null,k===null?D=Oe:k.next=Oe,k=de;var Qe=c.alternate;Qe!==null&&(Qe=Qe.updateQueue,ee=Qe.lastBaseUpdate,ee!==k&&(ee===null?Qe.firstBaseUpdate=Oe:ee.next=Oe,Qe.lastBaseUpdate=de))}if(D!==null){var lt=R.baseState;k=0,Qe=Oe=de=null,ee=D;do{var ft=ee.lane&-536870913,zt=ft!==ee.lane;if(zt?(en&ft)===ft:(S&ft)===ft){ft!==0&&ft===Da&&(Oc=!0),Qe!==null&&(Qe=Qe.next={lane:0,tag:ee.tag,payload:ee.payload,callback:null,next:null});e:{var Pa=c,fh=ee;ft=h;var Ll=x;switch(fh.tag){case 1:if(Pa=fh.payload,typeof Pa=="function"){lt=Pa.call(Ll,lt,ft);break e}lt=Pa;break e;case 3:Pa.flags=Pa.flags&-65537|128;case 0:if(Pa=fh.payload,ft=typeof Pa=="function"?Pa.call(Ll,lt,ft):Pa,ft==null)break e;lt=_l({},lt,ft);break e;case 2:Xr=!0}}ft=ee.callback,ft!==null&&(c.flags|=64,zt&&(c.flags|=8192),zt=R.callbacks,zt===null?R.callbacks=[ft]:zt.push(ft))}else zt={lane:ft,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},Qe===null?(Oe=Qe=zt,de=lt):Qe=Qe.next=zt,k|=ft;if(ee=ee.next,ee===null){if(ee=R.shared.pending,ee===null)break;zt=ee,ee=zt.next,zt.next=null,R.lastBaseUpdate=zt,R.shared.pending=null}}while(!0);Qe===null&&(de=lt),R.baseState=de,R.firstBaseUpdate=Oe,R.lastBaseUpdate=Qe,D===null&&(R.shared.lanes=0),us|=k,c.lanes=k,c.memoizedState=lt}}function se(c,h){if(typeof c!="function")throw Error(a(191,c));c.call(h)}function Ye(c,h){var x=c.callbacks;if(x!==null)for(c.callbacks=null,c=0;c<x.length;c++)se(x[c],h)}function tt(c,h){if(ns(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var x=Object.keys(c),S=Object.keys(h);if(x.length!==S.length)return!1;for(S=0;S<x.length;S++){var R=x[S];if(!ch.call(h,R)||!ns(c[R],h[R]))return!1}return!0}function dt(c){return c=c.status,c==="fulfilled"||c==="rejected"}function We(){}function je(c,h,x){switch(x=c[x],x===void 0?c.push(h):x!==h&&(h.then(We,We),h=x),h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,c===On?Error(a(483)):c;default:if(typeof h.status=="string")h.then(We,We);else{if(c=an,c!==null&&100<c.shellSuspendCounter)throw Error(a(482));c=h,c.status="pending",c.then(function(S){if(h.status==="pending"){var R=h;R.status="fulfilled",R.value=S}},function(S){if(h.status==="pending"){var R=h;R.status="rejected",R.reason=S}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,c===On?Error(a(483)):c}throw Tl=h,On}}function mt(){if(Tl===null)throw Error(a(459));var c=Tl;return Tl=null,c}function Pt(c){var h=Ms;return Ms+=1,dr===null&&(dr=[]),je(dr,c,h)}function yn(c,h){h=h.props.ref,c.ref=h!==void 0?h:null}function sn(c,h){throw h.$$typeof===sm?Error(a(525)):(c=Object.prototype.toString.call(h),Error(a(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c)))}function $i(c){var h=c._init;return h(c._payload)}function Xa(c){function h(be,he){if(c){var Me=be.deletions;Me===null?(be.deletions=[he],be.flags|=16):Me.push(he)}}function x(be,he){if(!c)return null;for(;he!==null;)h(be,he),he=he.sibling;return null}function S(be){for(var he=new Map;be!==null;)be.key!==null?he.set(be.key,be):he.set(be.index,be),be=be.sibling;return he}function R(be,he){return be=sa(be,he),be.index=0,be.sibling=null,be}function D(be,he,Me){return be.index=Me,c?(Me=be.alternate,Me!==null?(Me=Me.index,Me<he?(be.flags|=33554434,he):Me):(be.flags|=33554434,he)):(be.flags|=1048576,he)}function k(be){return c&&be.alternate===null&&(be.flags|=33554434),be}function ee(be,he,Me,Xe){return he===null||he.tag!==6?(he=Do(Me,be.mode,Xe),he.return=be,he):(he=R(he,Me),he.return=be,he)}function de(be,he,Me,Xe){var Ct=Me.type;return Ct===Mc?Qe(be,he,Me.props.children,Xe,Me.key):he!==null&&(he.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===Us&&$i(Ct)===he.type)?(he=R(he,Me.props),yn(he,Me),he.return=be,he):(he=_s(Me.type,Me.key,Me.props,null,be.mode,Xe),yn(he,Me),he.return=be,he)}function Oe(be,he,Me,Xe){return he===null||he.tag!==4||he.stateNode.containerInfo!==Me.containerInfo||he.stateNode.implementation!==Me.implementation?(he=Sc(Me,be.mode,Xe),he.return=be,he):(he=R(he,Me.children||[]),he.return=be,he)}function Qe(be,he,Me,Xe,Ct){return he===null||he.tag!==7?(he=Gr(Me,be.mode,Xe,Ct),he.return=be,he):(he=R(he,Me),he.return=be,he)}function lt(be,he,Me){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return he=Do(""+he,be.mode,Me),he.return=be,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case zr:return Me=_s(he.type,he.key,he.props,null,be.mode,Me),yn(Me,he),Me.return=be,Me;case Ps:return he=Sc(he,be.mode,Me),he.return=be,he;case Us:var Xe=he._init;return he=Xe(he._payload),lt(be,he,Me)}if(Po(he)||r(he))return he=Gr(he,be.mode,Me,null),he.return=be,he;if(typeof he.then=="function")return lt(be,Pt(he),Me);if(he.$$typeof===or)return lt(be,Nu(be,he),Me);sn(be,he)}return null}function ft(be,he,Me,Xe){var Ct=he!==null?he.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return Ct!==null?null:ee(be,he,""+Me,Xe);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case zr:return Me.key===Ct?de(be,he,Me,Xe):null;case Ps:return Me.key===Ct?Oe(be,he,Me,Xe):null;case Us:return Ct=Me._init,Me=Ct(Me._payload),ft(be,he,Me,Xe)}if(Po(Me)||r(Me))return Ct!==null?null:Qe(be,he,Me,Xe,null);if(typeof Me.then=="function")return ft(be,he,Pt(Me),Xe);if(Me.$$typeof===or)return ft(be,he,Nu(be,Me),Xe);sn(be,Me)}return null}function zt(be,he,Me,Xe,Ct){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return be=be.get(Me)||null,ee(he,be,""+Xe,Ct);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case zr:return be=be.get(Xe.key===null?Me:Xe.key)||null,de(he,be,Xe,Ct);case Ps:return be=be.get(Xe.key===null?Me:Xe.key)||null,Oe(he,be,Xe,Ct);case Us:var Vn=Xe._init;return Xe=Vn(Xe._payload),zt(be,he,Me,Xe,Ct)}if(Po(Xe)||r(Xe))return be=be.get(Me)||null,Qe(he,be,Xe,Ct,null);if(typeof Xe.then=="function")return zt(be,he,Me,Pt(Xe),Ct);if(Xe.$$typeof===or)return zt(be,he,Me,Nu(he,Xe),Ct);sn(he,Xe)}return null}function Pa(be,he,Me,Xe){for(var Ct=null,Vn=null,Ht=he,_n=he=0,Ti=null;Ht!==null&&_n<Me.length;_n++){Ht.index>_n?(Ti=Ht,Ht=null):Ti=Ht.sibling;var bn=ft(be,Ht,Me[_n],Xe);if(bn===null){Ht===null&&(Ht=Ti);break}c&&Ht&&bn.alternate===null&&h(be,Ht),he=D(bn,he,_n),Vn===null?Ct=bn:Vn.sibling=bn,Vn=bn,Ht=Ti}if(_n===Me.length)return x(be,Ht),vn&&ye(be,_n),Ct;if(Ht===null){for(;_n<Me.length;_n++)Ht=lt(be,Me[_n],Xe),Ht!==null&&(he=D(Ht,he,_n),Vn===null?Ct=Ht:Vn.sibling=Ht,Vn=Ht);return vn&&ye(be,_n),Ct}for(Ht=S(Ht);_n<Me.length;_n++)Ti=zt(Ht,be,_n,Me[_n],Xe),Ti!==null&&(c&&Ti.alternate!==null&&Ht.delete(Ti.key===null?_n:Ti.key),he=D(Ti,he,_n),Vn===null?Ct=Ti:Vn.sibling=Ti,Vn=Ti);return c&&Ht.forEach(function(eo){return h(be,eo)}),vn&&ye(be,_n),Ct}function fh(be,he,Me,Xe){if(Me==null)throw Error(a(151));for(var Ct=null,Vn=null,Ht=he,_n=he=0,Ti=null,bn=Me.next();Ht!==null&&!bn.done;_n++,bn=Me.next()){Ht.index>_n?(Ti=Ht,Ht=null):Ti=Ht.sibling;var eo=ft(be,Ht,bn.value,Xe);if(eo===null){Ht===null&&(Ht=Ti);break}c&&Ht&&eo.alternate===null&&h(be,Ht),he=D(eo,he,_n),Vn===null?Ct=eo:Vn.sibling=eo,Vn=eo,Ht=Ti}if(bn.done)return x(be,Ht),vn&&ye(be,_n),Ct;if(Ht===null){for(;!bn.done;_n++,bn=Me.next())bn=lt(be,bn.value,Xe),bn!==null&&(he=D(bn,he,_n),Vn===null?Ct=bn:Vn.sibling=bn,Vn=bn);return vn&&ye(be,_n),Ct}for(Ht=S(Ht);!bn.done;_n++,bn=Me.next())bn=zt(Ht,be,_n,bn.value,Xe),bn!==null&&(c&&bn.alternate!==null&&Ht.delete(bn.key===null?_n:bn.key),he=D(bn,he,_n),Vn===null?Ct=bn:Vn.sibling=bn,Vn=bn);return c&&Ht.forEach(function(ld){return h(be,ld)}),vn&&ye(be,_n),Ct}function Ll(be,he,Me,Xe){if(typeof Me=="object"&&Me!==null&&Me.type===Mc&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case zr:e:{for(var Ct=Me.key;he!==null;){if(he.key===Ct){if(Ct=Me.type,Ct===Mc){if(he.tag===7){x(be,he.sibling),Xe=R(he,Me.props.children),Xe.return=be,be=Xe;break e}}else if(he.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===Us&&$i(Ct)===he.type){x(be,he.sibling),Xe=R(he,Me.props),yn(Xe,Me),Xe.return=be,be=Xe;break e}x(be,he);break}else h(be,he);he=he.sibling}Me.type===Mc?(Xe=Gr(Me.props.children,be.mode,Xe,Me.key),Xe.return=be,be=Xe):(Xe=_s(Me.type,Me.key,Me.props,null,be.mode,Xe),yn(Xe,Me),Xe.return=be,be=Xe)}return k(be);case Ps:e:{for(Ct=Me.key;he!==null;){if(he.key===Ct)if(he.tag===4&&he.stateNode.containerInfo===Me.containerInfo&&he.stateNode.implementation===Me.implementation){x(be,he.sibling),Xe=R(he,Me.children||[]),Xe.return=be,be=Xe;break e}else{x(be,he);break}else h(be,he);he=he.sibling}Xe=Sc(Me,be.mode,Xe),Xe.return=be,be=Xe}return k(be);case Us:return Ct=Me._init,Me=Ct(Me._payload),Ll(be,he,Me,Xe)}if(Po(Me))return Pa(be,he,Me,Xe);if(r(Me)){if(Ct=r(Me),typeof Ct!="function")throw Error(a(150));return Me=Ct.call(Me),fh(be,he,Me,Xe)}if(typeof Me.then=="function")return Ll(be,he,Pt(Me),Xe);if(Me.$$typeof===or)return Ll(be,he,Nu(be,Me),Xe);sn(be,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint"?(Me=""+Me,he!==null&&he.tag===6?(x(be,he.sibling),Xe=R(he,Me),Xe.return=be,be=Xe):(x(be,he),Xe=Do(Me,be.mode,Xe),Xe.return=be,be=Xe),k(be)):x(be,he)}return function(be,he,Me,Xe){try{Ms=0;var Ct=Ll(be,he,Me,Xe);return dr=null,Ct}catch(Ht){if(Ht===On)throw Ht;var Vn=t(29,Ht,null,be.mode);return Vn.lanes=Xe,Vn.return=be,Vn}finally{}}}function rc(c,h){c=Gs,I(os,c),I(mr,h),Gs=c|h.baseLanes}function xs(){I(os,Gs),I(mr,mr.current)}function mo(){Gs=os.current,M(mr),M(os)}function Ja(c){var h=c.alternate;I(xi,xi.current&1),I(ls,c),Cs===null&&(h===null||mr.current!==null||h.memoizedState!==null)&&(Cs=c)}function sl(c){if(c.tag===22){if(I(xi,xi.current),I(ls,c),Cs===null){var h=c.alternate;h!==null&&h.memoizedState!==null&&(Cs=c)}}else Ca()}function Ca(){I(xi,xi.current),I(ls,ls.current)}function Ya(c){M(ls),Cs===c&&(Cs=null),M(xi)}function ea(c){for(var h=c;h!==null;){if(h.tag===13){var x=h.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||kf(x)||qu(x)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function Kt(){throw Error(a(321))}function Mi(c,h){if(h===null)return!1;for(var x=0;x<h.length&&x<c.length;x++)if(!ns(c[x],h[x]))return!1;return!0}function Qs(c,h,x,S,R,D){return pr=D,Xt=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Bt.H=c===null||c.memoizedState===null?_i:la,Jr=!1,D=x(S,R),Jr=!1,Yn&&(D=of(h,x,S,R)),oc(c),D}function oc(c){Bt.H=xn;var h=Tn!==null&&Tn.next!==null;if(pr=0,ui=Tn=Xt=null,Es=!1,ti=0,Pc=null,h)throw Error(a(300));c===null||hi||(c=c.dependencies,c!==null&&bo(c)&&(hi=!0))}function of(c,h,x,S){Xt=c;var R=0;do{if(Yn&&(Pc=null),ti=0,Yn=!1,25<=R)throw Error(a(301));if(R+=1,ui=Tn=null,c.updateQueue!=null){var D=c.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}Bt.H=ko,D=h(x,S)}while(Yn);return D}function R0(){var c=Bt.H,h=c.useState()[0];return h=typeof h.then=="function"?Se(h):h,c=c.useState()[0],(Tn!==null?Tn.memoizedState:null)!==c&&(Xt.flags|=1024),h}function lc(){var c=uh!==0;return uh=0,c}function Dr(c,h,x){h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~x}function W(c){if(Es){for(c=c.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Es=!1}pr=0,ui=Tn=Xt=null,Yn=!1,ti=uh=0,Pc=null}function re(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ui===null?Xt.memoizedState=ui=c:ui=ui.next=c,ui}function pe(){if(Tn===null){var c=Xt.alternate;c=c!==null?c.memoizedState:null}else c=Tn.next;var h=ui===null?Xt.memoizedState:ui.next;if(h!==null)ui=h,Tn=c;else{if(c===null)throw Xt.alternate===null?Error(a(467)):Error(a(310));Tn=c,c={memoizedState:Tn.memoizedState,baseState:Tn.baseState,baseQueue:Tn.baseQueue,queue:Tn.queue,next:null},ui===null?Xt.memoizedState=ui=c:ui=ui.next=c}return ui}function Se(c){var h=ti;return ti+=1,Pc===null&&(Pc=[]),c=je(Pc,c,h),h=Xt,(ui===null?h.memoizedState:ui.next)===null&&(h=h.alternate,Bt.H=h===null||h.memoizedState===null?_i:la),c}function ue(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Se(c);if(c.$$typeof===or)return Vi(c)}throw Error(a(438,String(c)))}function Ge(c){var h=null,x=Xt.updateQueue;if(x!==null&&(h=x.memoCache),h==null){var S=Xt.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(h={data:S.data.map(function(R){return R.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),x===null&&(x=td(),Xt.updateQueue=x),x.memoCache=h,x=h.data[h.index],x===void 0)for(x=h.data[h.index]=Array(c),S=0;S<c;S++)x[S]=e1;return h.index++,x}function nt(c,h){return typeof h=="function"?h(c):h}function pt(c){var h=pe();return rt(h,Tn,c)}function rt(c,h,x){var S=c.queue;if(S===null)throw Error(a(311));S.lastRenderedReducer=x;var R=c.baseQueue,D=S.pending;if(D!==null){if(R!==null){var k=R.next;R.next=D.next,D.next=k}h.baseQueue=R=D,S.pending=null}if(D=c.baseState,R===null)c.memoizedState=D;else{h=R.next;var ee=k=null,de=null,Oe=h,Qe=!1;do{var lt=Oe.lane&-536870913;if(lt!==Oe.lane?(en&lt)===lt:(pr&lt)===lt){var ft=Oe.revertLane;if(ft===0)de!==null&&(de=de.next={lane:0,revertLane:0,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),lt===Da&&(Qe=!0);else if((pr&ft)===ft){Oe=Oe.next,ft===Da&&(Qe=!0);continue}else lt={lane:0,revertLane:Oe.revertLane,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},de===null?(ee=de=lt,k=D):de=de.next=lt,Xt.lanes|=ft,us|=ft;lt=Oe.action,Jr&&x(D,lt),D=Oe.hasEagerState?Oe.eagerState:x(D,lt)}else ft={lane:lt,revertLane:Oe.revertLane,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},de===null?(ee=de=ft,k=D):de=de.next=ft,Xt.lanes|=lt,us|=lt;Oe=Oe.next}while(Oe!==null&&Oe!==h);if(de===null?k=D:de.next=ee,!ns(D,c.memoizedState)&&(hi=!0,Qe&&(x=zo,x!==null)))throw x;c.memoizedState=D,c.baseState=k,c.baseQueue=de,S.lastRenderedState=D}return R===null&&(S.lanes=0),[c.memoizedState,S.dispatch]}function Mt(c){var h=pe(),x=h.queue;if(x===null)throw Error(a(311));x.lastRenderedReducer=c;var S=x.dispatch,R=x.pending,D=h.memoizedState;if(R!==null){x.pending=null;var k=R=R.next;do D=c(D,k.action),k=k.next;while(k!==R);ns(D,h.memoizedState)||(hi=!0),h.memoizedState=D,h.baseQueue===null&&(h.baseState=D),x.lastRenderedState=D}return[D,S]}function Dt(c,h,x){var S=Xt,R=pe(),D=vn;if(D){if(x===void 0)throw Error(a(407));x=x()}else x=h();var k=!ns((Tn||R).memoizedState,x);if(k&&(R.memoizedState=x,hi=!0),R=R.queue,Su(Cn.bind(null,S,R,c),[c]),R.getSnapshot!==h||k||ui!==null&&ui.memoizedState.tag&1){if(S.flags|=2048,ma(9,qt.bind(null,S,R,x,h),{destroy:void 0},null),an===null)throw Error(a(349));D||(pr&60)!==0||Et(S,h,x)}return x}function Et(c,h,x){c.flags|=16384,c={getSnapshot:h,value:x},h=Xt.updateQueue,h===null?(h=td(),Xt.updateQueue=h,h.stores=[c]):(x=h.stores,x===null?h.stores=[c]:x.push(c))}function qt(c,h,x,S){h.value=x,h.getSnapshot=S,Pn(h)&&En(c)}function Cn(c,h,x){return x(function(){Pn(h)&&En(c)})}function Pn(c){var h=c.getSnapshot;c=c.value;try{var x=h();return!ns(c,x)}catch{return!0}}function En(c){var h=Be(c,2);h!==null&&aa(h,c,2)}function $t(c){var h=re();if(typeof c=="function"){var x=c;if(c=x(),Jr){Z(!0);try{x()}finally{Z(!1)}}}return h.memoizedState=h.baseState=c,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nt,lastRenderedState:c},h}function gt(c,h,x,S){return c.baseState=x,rt(c,Tn,typeof S=="function"?S:nt)}function Gn(c,h,x,S,R){if(ul(c))throw Error(a(485));if(c=h.action,c!==null){var D={payload:R,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){D.listeners.push(k)}};Bt.T!==null?x(!0):D.isTransition=!1,S(D),x=h.pending,x===null?(D.next=h.pending=D,cn(h,D)):(D.next=x.next,h.pending=x.next=D)}}function cn(c,h){var x=h.action,S=h.payload,R=c.state;if(h.isTransition){var D=Bt.T,k={};Bt.T=k;try{var ee=x(R,S),de=Bt.S;de!==null&&de(k,ee),Ni(c,h,ee)}catch(Oe){gi(c,h,Oe)}finally{Bt.T=D}}else try{D=x(R,S),Ni(c,h,D)}catch(Oe){gi(c,h,Oe)}}function Ni(c,h,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(S){$s(c,h,S)},function(S){return gi(c,h,S)}):$s(c,h,x)}function $s(c,h,x){h.status="fulfilled",h.value=x,po(h),c.state=x,h=c.pending,h!==null&&(x=h.next,x===h?c.pending=null:(x=x.next,h.next=x,cn(c,x)))}function gi(c,h,x){var S=c.pending;if(c.pending=null,S!==null){S=S.next;do h.status="rejected",h.reason=x,po(h),h=h.next;while(h!==S)}c.action=null}function po(c){c=c.listeners;for(var h=0;h<c.length;h++)(0,c[h])()}function rn(c,h){return h}function Gi(c,h){if(vn){var x=an.formState;if(x!==null){e:{var S=Xt;if(vn){if(Ji){var R=o1(Ji,Ss);if(R){Ji=Tm(R),S=l1(R);break e}}Ke(S)}S=!1}S&&(h=x[0])}}x=re(),x.memoizedState=x.baseState=h,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rn,lastRenderedState:h},x.queue=S,x=ff.bind(null,Xt,S),S.dispatch=x,S=$t(!1);var D=df.bind(null,Xt,!1,S.queue);return S=re(),R={state:h,dispatch:null,action:c,pending:null},S.queue=R,x=Gn.bind(null,Xt,R,D,x),R.dispatch=x,S.memoizedState=c,[h,x,!1]}function ta(c){var h=pe();return yi(h,Tn,c)}function yi(c,h,x){h=rt(c,h,rn)[0],c=pt(nt)[0],h=typeof h=="object"&&h!==null&&typeof h.then=="function"?Se(h):h;var S=pe(),R=S.queue,D=R.dispatch;return x!==S.memoizedState&&(Xt.flags|=2048,ma(9,li.bind(null,R,x),{destroy:void 0},null)),[h,D,c]}function li(c,h){c.action=h}function rl(c){var h=pe(),x=Tn;if(x!==null)return yi(h,x,c);pe(),h=h.memoizedState,x=pe();var S=x.queue.dispatch;return x.memoizedState=c,[h,S,!1]}function ma(c,h,x,S){return c={tag:c,create:h,inst:x,deps:S,next:null},h=Xt.updateQueue,h===null&&(h=td(),Xt.updateQueue=h),x=h.lastEffect,x===null?h.lastEffect=c.next=c:(S=x.next,x.next=c,c.next=S,h.lastEffect=c),c}function ol(){return pe().memoizedState}function lf(c,h,x,S){var R=re();Xt.flags|=c,R.memoizedState=ma(1|h,x,{destroy:void 0},S===void 0?null:S)}function Au(c,h,x,S){var R=pe();S=S===void 0?null:S;var D=R.memoizedState.inst;Tn!==null&&S!==null&&Mi(S,Tn.memoizedState.deps)?R.memoizedState=ma(h,x,D,S):(Xt.flags|=c,R.memoizedState=ma(1|h,x,D,S))}function I0(c,h){lf(8390656,8,c,h)}function Su(c,h){Au(2048,8,c,h)}function Rg(c,h){return Au(4,2,c,h)}function Ig(c,h){return Au(4,4,c,h)}function Mu(c,h){if(typeof h=="function"){c=c();var x=h(c);return function(){typeof x=="function"?x():h(null)}}if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function er(c,h,x){x=x!=null?x.concat([c]):null,Au(4,4,Mu.bind(null,h,c),x)}function Cu(){}function cf(c,h){var x=pe();h=h===void 0?null:h;var S=x.memoizedState;return h!==null&&Mi(h,S[1])?S[0]:(x.memoizedState=[c,h],c)}function ll(c,h){var x=pe();h=h===void 0?null:h;var S=x.memoizedState;if(h!==null&&Mi(h,S[1]))return S[0];if(S=c(),Jr){Z(!0);try{c()}finally{Z(!1)}}return x.memoizedState=[S,h],S}function go(c,h,x){return x===void 0||(pr&1073741824)!==0?c.memoizedState=h:(c.memoizedState=x,c=ir(),Xt.lanes|=c,us|=c,x)}function B0(c,h,x,S){return ns(x,h)?x:mr.current!==null?(c=go(c,x,S),ns(c,h)||(hi=!0),c):(pr&42)===0?(hi=!0,c.memoizedState=x):(c=ir(),Xt.lanes|=c,us|=c,h)}function uf(c,h,x,S,R){var D=Ci();ra(D!==0&&8>D?D:8);var k=Bt.T,ee={};Bt.T=ee,df(c,!1,h,x);try{var de=R(),Oe=Bt.S;if(Oe!==null&&Oe(ee,de),de!==null&&typeof de=="object"&&typeof de.then=="function"){var Qe=et(de,S);vo(c,h,Qe,ya(c))}else vo(c,h,S,ya(c))}catch(lt){vo(c,h,{then:function(){},status:"rejected",reason:lt},ya())}finally{ra(D),Bt.T=k}}function D0(c){var h=c.memoizedState;if(h!==null)return h;h={memoizedState:Ra,baseState:Ra,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nt,lastRenderedState:Ra},next:null};var x={};return h.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nt,lastRenderedState:x},next:null},c.memoizedState=h,c=c.alternate,c!==null&&(c.memoizedState=h),h}function cl(){return Vi(Ut)}function tr(){return pe().memoizedState}function hf(){return pe().memoizedState}function Eu(c){for(var h=c.return;h!==null;){switch(h.tag){case 24:case 3:var x=ya();c=Ve(x);var S=qe(h,c,x);S!==null&&(aa(S,h,x),At(S,h,x)),h={cache:vf()},c.payload=h;return}h=h.return}}function yo(c,h,x){var S=ya();x={lane:S,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},ul(c)?Tu(h,x):(x=Le(c,h,x,S),x!==null&&(aa(x,c,S),N0(x,h,S)))}function ff(c,h,x){var S=ya();vo(c,h,x,S)}function vo(c,h,x,S){var R={lane:S,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(ul(c))Tu(h,R);else{var D=c.alternate;if(c.lanes===0&&(D===null||D.lanes===0)&&(D=h.lastRenderedReducer,D!==null))try{var k=h.lastRenderedState,ee=D(k,x);if(R.hasEagerState=!0,R.eagerState=ee,ns(ee,k))return Ne(c,h,R,0),an===null&&Pe(),!1}catch{}finally{}if(x=Le(c,h,R,S),x!==null)return aa(x,c,S),N0(x,h,S),!0}return!1}function df(c,h,x,S){if(S={lane:2,revertLane:He(),action:S,hasEagerState:!1,eagerState:null,next:null},ul(c)){if(h)throw Error(a(479))}else h=Le(c,x,S,2),h!==null&&aa(h,c,2)}function ul(c){var h=c.alternate;return c===Xt||h!==null&&h===Xt}function Tu(c,h){Yn=Es=!0;var x=c.pending;x===null?h.next=h:(h.next=x.next,x.next=h),c.pending=h}function N0(c,h,x){if((x&4194176)!==0){var S=h.lanes;S&=c.pendingLanes,x|=S,h.lanes=x,ge(c,x)}}function na(c,h,x,S){h=c.memoizedState,x=x(S,h),x=x==null?h:_l({},h,x),c.memoizedState=x,c.lanes===0&&(c.updateQueue.baseState=x)}function xo(c,h,x,S,R,D,k){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(S,D,k):h.prototype&&h.prototype.isPureReactComponent?!tt(x,S)||!tt(R,D):!0}function wu(c,h,x,S){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(x,S),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(x,S),h.state!==c&&nd.enqueueReplaceState(h,h.state,null)}function Ns(c,h){var x=h;if("ref"in h){x={};for(var S in h)S!=="ref"&&(x[S]=h[S])}if(c=c.defaultProps){x===h&&(x=_l({},x));for(var R in c)x[R]===void 0&&(x[R]=c[R])}return x}function mf(c,h){try{var x=c.onUncaughtError;x(h.value,{componentStack:h.stack})}catch(S){setTimeout(function(){throw S})}}function pf(c,h,x){try{var S=c.onCaughtError;S(x.value,{componentStack:x.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function Ru(c,h,x){return x=Ve(x),x.tag=3,x.payload={element:null},x.callback=function(){mf(c,h)},x}function cc(c){return c=Ve(c),c.tag=3,c}function Iu(c,h,x,S){var R=x.type.getDerivedStateFromError;if(typeof R=="function"){var D=S.value;c.payload=function(){return R(D)},c.callback=function(){pf(h,x,S)}}var k=x.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(c.callback=function(){pf(h,x,S),typeof R!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var ee=S.stack;this.componentDidCatch(S.value,{componentStack:ee!==null?ee:""})})}function Bg(c,h,x,S,R){if(x.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(h=x.alternate,h!==null&&hl(h,x,R,!0),x=ls.current,x!==null){switch(x.tag){case 13:return Cs===null?wa():x.alternate===null&&pn===0&&(pn=3),x.flags&=-257,x.flags|=65536,x.lanes=R,S===ed?x.flags|=16384:(h=x.updateQueue,h===null?x.updateQueue=new Set([S]):h.add(S),Df(c,S,R)),!1;case 22:return x.flags|=65536,S===ed?x.flags|=16384:(h=x.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([S])},x.updateQueue=h):(x=h.retryQueue,x===null?h.retryQueue=new Set([S]):x.add(S)),Df(c,S,R)),!1}throw Error(a(435,x.tag))}return Df(c,S,R),wa(),!1}if(vn)return h=ls.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=R,S!==sh&&(c=Error(a(422),{cause:S}),$(le(c,x)))):(S!==sh&&(h=Error(a(423),{cause:S}),$(le(h,x))),c=c.current.alternate,c.flags|=65536,R&=-R,c.lanes|=R,S=le(S,x),R=Ru(c.stateNode,S,R),ut(c,R),pn!==4&&(pn=2)),!1;var D=Error(a(520),{cause:S});if(D=le(D,x),Hc===null?Hc=[D]:Hc.push(D),pn!==4&&(pn=2),h===null)return!0;S=le(S,x),x=h;do{switch(x.tag){case 3:return x.flags|=65536,c=R&-R,x.lanes|=c,c=Ru(x.stateNode,S,c),ut(x,c),!1;case 1:if(h=x.type,D=x.stateNode,(x.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(fs===null||!fs.has(D))))return x.flags|=65536,R&=-R,x.lanes|=R,R=cc(R),Iu(R,c,x,S),ut(x,R),!1}x=x.return}while(x!==null);return!1}function zi(c,h,x,S){h.child=c===null?zm(h,null,x,S):Vo(h,c.child,x,S)}function Dg(c,h,x,S,R){x=x.render;var D=h.ref;if("ref"in S){var k={};for(var ee in S)ee!=="ref"&&(k[ee]=S[ee])}else k=S;return fl(h),S=Qs(c,h,x,k,D,R),ee=lc(),c!==null&&!hi?(Dr(c,h,R),Nr(c,h,R)):(vn&&ee&&ae(h),h.flags|=1,zi(c,h,S,R),h.child)}function Ng(c,h,x,S,R){if(c===null){var D=x.type;return typeof D=="function"&&!jr(D)&&D.defaultProps===void 0&&x.compare===null?(h.tag=15,h.type=D,gf(c,h,D,S,R)):(c=_s(x.type,null,S,h,h.mode,R),c.ref=h.ref,c.return=h,h.child=c)}if(D=c.child,!F0(c,R)){var k=D.memoizedProps;if(x=x.compare,x=x!==null?x:tt,x(k,S)&&c.ref===h.ref)return Nr(c,h,R)}return h.flags|=1,c=sa(D,S),c.ref=h.ref,c.return=h,h.child=c}function gf(c,h,x,S,R){if(c!==null){var D=c.memoizedProps;if(tt(D,S)&&c.ref===h.ref)if(hi=!1,h.pendingProps=S=D,F0(c,R))(c.flags&131072)!==0&&(hi=!0);else return h.lanes=c.lanes,Nr(c,h,R)}return L0(c,h,x,S,R)}function Lg(c,h,x){var S=h.pendingProps,R=S.children,D=(h.stateNode._pendingVisibility&2)!==0,k=c!==null?c.memoizedState:null;if(Bu(c,h),S.mode==="hidden"||D){if((h.flags&128)!==0){if(S=k!==null?k.baseLanes|x:x,c!==null){for(R=h.child=c.child,D=0;R!==null;)D=D|R.lanes|R.childLanes,R=R.sibling;h.childLanes=D&~S}else h.childLanes=0,h.child=null;return Og(c,h,S,x)}if((x&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},c!==null&&xf(h,k!==null?k.cachePool:null),k!==null?rc(h,k):xs(),sl(h);else return h.lanes=h.childLanes=536870912,Og(c,h,k!==null?k.baseLanes|x:x,x)}else k!==null?(xf(h,k.cachePool),rc(h,k),Ca(),h.memoizedState=null):(c!==null&&xf(h,null),xs(),Ca());return zi(c,h,R,x),h.child}function Og(c,h,x,S){var R=Ao();return R=R===null?null:{parent:cr?In._currentValue:In._currentValue2,pool:R},h.memoizedState={baseLanes:x,cachePool:R},c!==null&&xf(h,null),xs(),sl(h),c!==null&&hl(c,h,S,!0),null}function Bu(c,h){var x=h.ref;if(x===null)c!==null&&c.ref!==null&&(h.flags|=2097664);else{if(typeof x!="function"&&typeof x!="object")throw Error(a(284));(c===null||c.ref!==x)&&(h.flags|=2097664)}}function L0(c,h,x,S,R){return fl(h),x=Qs(c,h,x,S,void 0,R),S=lc(),c!==null&&!hi?(Dr(c,h,R),Nr(c,h,R)):(vn&&S&&ae(h),h.flags|=1,zi(c,h,x,R),h.child)}function Pg(c,h,x,S,R,D){return fl(h),h.updateQueue=null,x=of(h,S,x,R),oc(c),S=lc(),c!==null&&!hi?(Dr(c,h,D),Nr(c,h,D)):(vn&&S&&ae(h),h.flags|=1,zi(c,h,x,D),h.child)}function O0(c,h,x,S,R){if(fl(h),h.stateNode===null){var D=Cl,k=x.contextType;typeof k=="object"&&k!==null&&(D=Vi(k)),D=new x(S,D),h.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=nd,h.stateNode=D,D._reactInternals=h,D=h.stateNode,D.props=S,D.state=h.memoizedState,D.refs={},yt(h),k=x.contextType,D.context=typeof k=="object"&&k!==null?Vi(k):Cl,D.state=h.memoizedState,k=x.getDerivedStateFromProps,typeof k=="function"&&(na(h,x,k,S),D.state=h.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(k=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),k!==D.state&&nd.enqueueReplaceState(D,D.state,null),jt(h,S,D,R),st(),D.state=h.memoizedState),typeof D.componentDidMount=="function"&&(h.flags|=4194308),S=!0}else if(c===null){D=h.stateNode;var ee=h.memoizedProps,de=Ns(x,ee);D.props=de;var Oe=D.context,Qe=x.contextType;k=Cl,typeof Qe=="object"&&Qe!==null&&(k=Vi(Qe));var lt=x.getDerivedStateFromProps;Qe=typeof lt=="function"||typeof D.getSnapshotBeforeUpdate=="function",ee=h.pendingProps!==ee,Qe||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(ee||Oe!==k)&&wu(h,D,S,k),Xr=!1;var ft=h.memoizedState;D.state=ft,jt(h,S,D,R),st(),Oe=h.memoizedState,ee||ft!==Oe||Xr?(typeof lt=="function"&&(na(h,x,lt,S),Oe=h.memoizedState),(de=Xr||xo(h,x,de,S,ft,Oe,k))?(Qe||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(h.flags|=4194308)):(typeof D.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=S,h.memoizedState=Oe),D.props=S,D.state=Oe,D.context=k,S=de):(typeof D.componentDidMount=="function"&&(h.flags|=4194308),S=!1)}else{D=h.stateNode,vt(c,h),k=h.memoizedProps,Qe=Ns(x,k),D.props=Qe,lt=h.pendingProps,ft=D.context,Oe=x.contextType,de=Cl,typeof Oe=="object"&&Oe!==null&&(de=Vi(Oe)),ee=x.getDerivedStateFromProps,(Oe=typeof ee=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(k!==lt||ft!==de)&&wu(h,D,S,de),Xr=!1,ft=h.memoizedState,D.state=ft,jt(h,S,D,R),st();var zt=h.memoizedState;k!==lt||ft!==zt||Xr||c!==null&&c.dependencies!==null&&bo(c.dependencies)?(typeof ee=="function"&&(na(h,x,ee,S),zt=h.memoizedState),(Qe=Xr||xo(h,x,Qe,S,ft,zt,de)||c!==null&&c.dependencies!==null&&bo(c.dependencies))?(Oe||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(S,zt,de),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(S,zt,de)),typeof D.componentDidUpdate=="function"&&(h.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof D.componentDidUpdate!="function"||k===c.memoizedProps&&ft===c.memoizedState||(h.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||k===c.memoizedProps&&ft===c.memoizedState||(h.flags|=1024),h.memoizedProps=S,h.memoizedState=zt),D.props=S,D.state=zt,D.context=de,S=Qe):(typeof D.componentDidUpdate!="function"||k===c.memoizedProps&&ft===c.memoizedState||(h.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||k===c.memoizedProps&&ft===c.memoizedState||(h.flags|=1024),S=!1)}return D=S,Bu(c,h),S=(h.flags&128)!==0,D||S?(D=h.stateNode,x=S&&typeof x.getDerivedStateFromError!="function"?null:D.render(),h.flags|=1,c!==null&&S?(h.child=Vo(h,c.child,null,R),h.child=Vo(h,null,x,R)):zi(c,h,x,R),h.memoizedState=D.state,c=h.child):c=Nr(c,h,R),c}function Ug(c,h,x,S){return kt(),h.flags|=256,zi(c,h,x,S),h.child}function P0(c){return{baseLanes:c,cachePool:zg()}}function U0(c,h,x){return c=c!==null?c.childLanes&~x:0,h&&(c|=Oa),c}function Hg(c,h,x){var S=h.pendingProps,R=!1,D=(h.flags&128)!==0,k;if((k=D)||(k=c!==null&&c.memoizedState===null?!1:(xi.current&2)!==0),k&&(R=!0,h.flags&=-129),k=(h.flags&32)!==0,h.flags&=-33,c===null){if(vn){if(R?Ja(h):Ca(),vn){var ee=Ji,de;(de=ee)&&(ee=d1(ee,Ss),ee!==null?(h.memoizedState={dehydrated:ee,treeContext:Hs!==null?{id:fr,overflow:As}:null,retryLane:536870912},de=t(18,null,null,0),de.stateNode=ee,de.return=h,h.child=de,oa=h,Ji=null,de=!0):de=!1),de||Ke(h)}if(ee=h.memoizedState,ee!==null&&(ee=ee.dehydrated,ee!==null))return qu(ee)?h.lanes=16:h.lanes=536870912,null;Ya(h)}return ee=S.children,S=S.fallback,R?(Ca(),R=h.mode,ee=H0({mode:"hidden",children:ee},R),S=Gr(S,R,x,null),ee.return=h,S.return=h,ee.sibling=S,h.child=ee,R=h.child,R.memoizedState=P0(x),R.childLanes=U0(c,k,x),h.memoizedState=ca,S):(Ja(h),Du(h,ee))}if(de=c.memoizedState,de!==null&&(ee=de.dehydrated,ee!==null)){if(D)h.flags&256?(Ja(h),h.flags&=-257,h=j0(c,h,x)):h.memoizedState!==null?(Ca(),h.child=c.child,h.flags|=128,h=null):(Ca(),R=S.fallback,ee=h.mode,S=H0({mode:"visible",children:S.children},ee),R=Gr(R,ee,x,null),R.flags|=2,S.return=h,R.return=h,S.sibling=R,h.child=S,Vo(h,c.child,null,x),S=h.child,S.memoizedState=P0(x),S.childLanes=U0(c,k,x),h.memoizedState=ca,h=R);else if(Ja(h),qu(ee))k=r1(ee).digest,S=Error(a(419)),S.stack="",S.digest=k,$({value:S,source:null,stack:null}),h=j0(c,h,x);else if(hi||hl(c,h,x,!1),k=(x&c.childLanes)!==0,hi||k){if(k=an,k!==null){if(S=x&-x,(S&42)!==0)S=1;else switch(S){case 2:S=1;break;case 8:S=4;break;case 32:S=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:S=64;break;case 268435456:S=134217728;break;default:S=0}if(S=(S&(k.suspendedLanes|x))!==0?0:S,S!==0&&S!==de.retryLane)throw de.retryLane=S,Be(c,S),aa(k,c,S),w1}kf(ee)||wa(),h=j0(c,h,x)}else kf(ee)?(h.flags|=128,h.child=c.child,h=vl.bind(null,c),rx(ee,h),h=null):(c=de.treeContext,va&&(Ji=u1(ee),oa=h,vn=!0,ss=null,Ss=!1,c!==null&&(is[as++]=fr,is[as++]=As,is[as++]=Hs,fr=c.id,As=c.overflow,Hs=h)),h=Du(h,S.children),h.flags|=4096);return h}return R?(Ca(),R=S.fallback,ee=h.mode,de=c.child,D=de.sibling,S=sa(de,{mode:"hidden",children:S.children}),S.subtreeFlags=de.subtreeFlags&31457280,D!==null?R=sa(D,R):(R=Gr(R,ee,x,null),R.flags|=2),R.return=h,S.return=h,S.sibling=R,h.child=S,S=R,R=h.child,ee=c.child.memoizedState,ee===null?ee=P0(x):(de=ee.cachePool,de!==null?(D=cr?In._currentValue:In._currentValue2,de=de.parent!==D?{parent:D,pool:D}:de):de=zg(),ee={baseLanes:ee.baseLanes|x,cachePool:de}),R.memoizedState=ee,R.childLanes=U0(c,k,x),h.memoizedState=ca,S):(Ja(h),x=c.child,c=x.sibling,x=sa(x,{mode:"visible",children:S.children}),x.return=h,x.sibling=null,c!==null&&(k=h.deletions,k===null?(h.deletions=[c],h.flags|=16):k.push(c)),h.child=x,h.memoizedState=null,x)}function Du(c,h){return h=H0({mode:"visible",children:h},c.mode),h.return=c,c.child=h}function H0(c,h){return Nf(c,h,0,null)}function j0(c,h,x){return Vo(h,c.child,null,x),c=Du(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function jg(c,h,x){c.lanes|=h;var S=c.alternate;S!==null&&(S.lanes|=h),G0(c.return,h,x)}function yf(c,h,x,S,R){var D=c.memoizedState;D===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:S,tail:x,tailMode:R}:(D.isBackwards=h,D.rendering=null,D.renderingStartTime=0,D.last=S,D.tail=x,D.tailMode=R)}function Fg(c,h,x){var S=h.pendingProps,R=S.revealOrder,D=S.tail;if(zi(c,h,S.children,x),S=xi.current,(S&2)!==0)S=S&1|2,h.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&jg(c,x,h);else if(c.tag===19)jg(c,x,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}S&=1}switch(I(xi,S),R){case"forwards":for(x=h.child,R=null;x!==null;)c=x.alternate,c!==null&&ea(c)===null&&(R=x),x=x.sibling;x=R,x===null?(R=h.child,h.child=null):(R=x.sibling,x.sibling=null),yf(h,!1,R,x,D);break;case"backwards":for(x=null,R=h.child,h.child=null;R!==null;){if(c=R.alternate,c!==null&&ea(c)===null){h.child=R;break}c=R.sibling,R.sibling=x,x=R,R=c}yf(h,!0,x,null,D);break;case"together":yf(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Nr(c,h,x){if(c!==null&&(h.dependencies=c.dependencies),us|=h.lanes,(x&h.childLanes)===0)if(c!==null){if(hl(c,h,x,!1),(x&h.childLanes)===0)return null}else return null;if(c!==null&&h.child!==c.child)throw Error(a(153));if(h.child!==null){for(c=h.child,x=sa(c,c.pendingProps),h.child=x,x.return=h;c.sibling!==null;)c=c.sibling,x=x.sibling=sa(c,c.pendingProps),x.return=h;x.sibling=null}return h.child}function F0(c,h){return(c.lanes&h)!==0?!0:(c=c.dependencies,!!(c!==null&&bo(c)))}function ix(c,h,x){switch(h.tag){case 3:Re(h,h.stateNode.containerInfo),_o(h,In,c.memoizedState.cache),kt();break;case 27:case 5:ve(h);break;case 4:Re(h,h.stateNode.containerInfo);break;case 10:_o(h,h.type,h.memoizedProps.value);break;case 13:var S=h.memoizedState;if(S!==null)return S.dehydrated!==null?(Ja(h),h.flags|=128,null):(x&h.child.childLanes)!==0?Hg(c,h,x):(Ja(h),c=Nr(c,h,x),c!==null?c.sibling:null);Ja(h);break;case 19:var R=(c.flags&128)!==0;if(S=(x&h.childLanes)!==0,S||(hl(c,h,x,!1),S=(x&h.childLanes)!==0),R){if(S)return Fg(c,h,x);h.flags|=128}if(R=h.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),I(xi,xi.current),S)break;return null;case 22:case 23:return h.lanes=0,Lg(c,h,x);case 24:_o(h,In,c.memoizedState.cache)}return Nr(c,h,x)}function Gg(c,h,x){if(c!==null)if(c.memoizedProps!==h.pendingProps)hi=!0;else{if(!F0(c,x)&&(h.flags&128)===0)return hi=!1,ix(c,h,x);hi=(c.flags&131072)!==0}else hi=!1,vn&&(h.flags&1048576)!==0&&X(h,ih,h.index);switch(h.lanes=0,h.tag){case 16:e:{c=h.pendingProps;var S=h.elementType,R=S._init;if(S=R(S._payload),h.type=S,typeof S=="function")jr(S)?(c=Ns(S,c),h.tag=1,h=O0(null,h,S,c,x)):(h.tag=0,h=L0(null,h,S,c,x));else{if(S!=null){if(R=S.$$typeof,R===Cc){h.tag=11,h=Dg(null,h,S,c,x);break e}else if(R===Vu){h.tag=14,h=Ng(null,h,S,c,x);break e}}throw h=l(S)||S,Error(a(306,h,""))}}return h;case 0:return L0(c,h,h.type,h.pendingProps,x);case 1:return S=h.type,R=Ns(S,h.pendingProps),O0(c,h,S,R,x);case 3:e:{if(Re(h,h.stateNode.containerInfo),c===null)throw Error(a(387));var D=h.pendingProps;R=h.memoizedState,S=R.element,vt(c,h),jt(h,D,null,x);var k=h.memoizedState;if(D=k.cache,_o(h,In,D),D!==R.cache&&z0(h,[In],x,!0),st(),D=k.element,va&&R.isDehydrated)if(R={element:D,isDehydrated:!1,cache:k.cache},h.updateQueue.baseState=R,h.memoizedState=R,h.flags&256){h=Ug(c,h,D,x);break e}else if(D!==S){S=le(Error(a(424)),h),$(S),h=Ug(c,h,D,x);break e}else for(va&&(Ji=c1(h.stateNode.containerInfo),oa=h,vn=!0,ss=null,Ss=!0),x=zm(h,null,D,x),h.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(kt(),D===S){h=Nr(c,h,x);break e}zi(c,h,D,x)}h=h.child}return h;case 26:if(ts)return Bu(c,h),c===null?(x=Yf(h.type,null,h.pendingProps,null))?h.memoizedState=x:vn||(h.stateNode=lx(h.type,h.pendingProps,js.current,h)):h.memoizedState=Yf(h.type,c.memoizedProps,h.pendingProps,c.memoizedState),null;case 27:if(Zi)return ve(h),c===null&&Zi&&vn&&(S=h.stateNode=Hm(h.type,h.pendingProps,js.current,Hi.current,!1),oa=h,Ss=!0,Ji=Wf(S)),S=h.pendingProps.children,c!==null||vn?zi(c,h,S,x):h.child=Vo(h,null,S,x),Bu(c,h),h.child;case 5:return c===null&&vn&&(v1(h.type,h.pendingProps,Hi.current),(R=S=Ji)&&(S=h1(S,h.type,h.pendingProps,Ss),S!==null?(h.stateNode=S,oa=h,Ji=Wf(S),Ss=!1,R=!0):R=!1),R||Ke(h)),ve(h),R=h.type,D=h.pendingProps,k=c!==null?c.memoizedProps:null,S=D.children,Ho(R,D)?S=null:k!==null&&Ho(R,k)&&(h.flags|=32),h.memoizedState!==null&&(R=Qs(c,h,R0,null,null,x),cr?Ut._currentValue=R:Ut._currentValue2=R),Bu(c,h),zi(c,h,S,x),h.child;case 6:return c===null&&vn&&(x1(h.pendingProps,Hi.current),(c=x=Ji)&&(x=f1(x,h.pendingProps,Ss),x!==null?(h.stateNode=x,oa=h,Ji=null,c=!0):c=!1),c||Ke(h)),null;case 13:return Hg(c,h,x);case 4:return Re(h,h.stateNode.containerInfo),S=h.pendingProps,c===null?h.child=Vo(h,null,S,x):zi(c,h,S,x),h.child;case 11:return Dg(c,h,h.type,h.pendingProps,x);case 7:return zi(c,h,h.pendingProps,x),h.child;case 8:return zi(c,h,h.pendingProps.children,x),h.child;case 12:return zi(c,h,h.pendingProps.children,x),h.child;case 10:return S=h.pendingProps,_o(h,h.type,S.value),zi(c,h,S.children,x),h.child;case 9:return R=h.type._context,S=h.pendingProps.children,fl(h),R=Vi(R),S=S(R),h.flags|=1,zi(c,h,S,x),h.child;case 14:return Ng(c,h,h.type,h.pendingProps,x);case 15:return gf(c,h,h.type,h.pendingProps,x);case 19:return Fg(c,h,x);case 22:return Lg(c,h,x);case 24:return fl(h),S=Vi(In),c===null?(R=Ao(),R===null&&(R=an,D=vf(),R.pooledCache=D,D.refCount++,D!==null&&(R.pooledCacheLanes|=x),R=D),h.memoizedState={parent:S,cache:R},yt(h),_o(h,In,R)):((c.lanes&x)!==0&&(vt(c,h),jt(h,null,null,x),st()),R=c.memoizedState,D=h.memoizedState,R.parent!==S?(R={parent:S,cache:S},h.memoizedState=R,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=R),_o(h,In,S)):(S=D.cache,_o(h,In,S),S!==R.cache&&z0(h,[In],x,!0))),zi(c,h,h.pendingProps.children,x),h.child;case 29:throw h.pendingProps}throw Error(a(156,h.tag))}function _o(c,h,x){cr?(I(Na,h._currentValue),h._currentValue=x):(I(Na,h._currentValue2),h._currentValue2=x)}function Lr(c){var h=Na.current;cr?c._currentValue=h:c._currentValue2=h,M(Na)}function G0(c,h,x){for(;c!==null;){var S=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,S!==null&&(S.childLanes|=h)):S!==null&&(S.childLanes&h)!==h&&(S.childLanes|=h),c===x)break;c=c.return}}function z0(c,h,x,S){var R=c.child;for(R!==null&&(R.return=c);R!==null;){var D=R.dependencies;if(D!==null){var k=R.child;D=D.firstContext;e:for(;D!==null;){var ee=D;D=R;for(var de=0;de<h.length;de++)if(ee.context===h[de]){D.lanes|=x,ee=D.alternate,ee!==null&&(ee.lanes|=x),G0(D.return,x,c),S||(k=null);break e}D=ee.next}}else if(R.tag===18){if(k=R.return,k===null)throw Error(a(341));k.lanes|=x,D=k.alternate,D!==null&&(D.lanes|=x),G0(k,x,c),k=null}else k=R.child;if(k!==null)k.return=R;else for(k=R;k!==null;){if(k===c){k=null;break}if(R=k.sibling,R!==null){R.return=k.return,k=R;break}k=k.return}R=k}}function hl(c,h,x,S){c=null;for(var R=h,D=!1;R!==null;){if(!D){if((R.flags&524288)!==0)D=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var k=R.alternate;if(k===null)throw Error(a(387));if(k=k.memoizedProps,k!==null){var ee=R.type;ns(R.pendingProps.value,k.value)||(c!==null?c.push(ee):c=[ee])}}else if(R===Dc.current){if(k=R.alternate,k===null)throw Error(a(387));k.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(c!==null?c.push(Ut):c=[Ut])}R=R.return}c!==null&&z0(h,c,x,S),h.flags|=262144}function bo(c){for(c=c.firstContext;c!==null;){var h=c.context;if(!ns(cr?h._currentValue:h._currentValue2,c.memoizedValue))return!0;c=c.next}return!1}function fl(c){Wo=c,ni=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Vi(c){return V0(Wo,c)}function Nu(c,h){return Wo===null&&fl(c),V0(c,h)}function V0(c,h){var x=cr?h._currentValue:h._currentValue2;if(h={context:h,memoizedValue:x,next:null},ni===null){if(c===null)throw Error(a(308));ni=h,c.dependencies={lanes:0,firstContext:h},c.flags|=524288}else ni=ni.next=h;return x}function vf(){return{controller:new R1,data:new Map,refCount:0}}function uc(c){c.refCount--,c.refCount===0&&Yr(wl,function(){c.controller.abort()})}function Ao(){var c=Kr.current;return c!==null?c:an.pooledCache}function xf(c,h){h===null?I(Kr,Kr.current):I(Kr,h.pool)}function zg(){var c=Ao();return c===null?null:{parent:cr?In._currentValue:In._currentValue2,pool:c}}function Ka(c){c.flags|=4}function k0(c,h){if(c!==null&&c.child===h.child)return!1;if((h.flags&16)!==0)return!0;for(c=h.child;c!==null;){if((c.flags&13878)!==0||(c.subtreeFlags&13878)!==0)return!0;c=c.sibling}return!1}function _f(c,h,x,S){if(Wi)for(x=h.child;x!==null;){if(x.tag===5||x.tag===6)lr(c,x.stateNode);else if(!(x.tag===4||Zi&&x.tag===27)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return;x=x.return}x.sibling.return=x.return,x=x.sibling}else if($a)for(var R=h.child;R!==null;){if(R.tag===5){var D=R.stateNode;x&&S&&(D=Cm(D,R.type,R.memoizedProps)),lr(c,D)}else if(R.tag===6)D=R.stateNode,x&&S&&(D=Em(D,R.memoizedProps)),lr(c,D);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)D=R.child,D!==null&&(D.return=R),_f(c,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===h)break;for(;R.sibling===null;){if(R.return===null||R.return===h)return;R=R.return}R.sibling.return=R.return,R=R.sibling}}function hc(c,h,x,S){if($a)for(var R=h.child;R!==null;){if(R.tag===5){var D=R.stateNode;x&&S&&(D=Cm(D,R.type,R.memoizedProps)),Sm(c,D)}else if(R.tag===6)D=R.stateNode,x&&S&&(D=Em(D,R.memoizedProps)),Sm(c,D);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)D=R.child,D!==null&&(D.return=R),hc(c,R,!(R.memoizedProps!==null&&R.memoizedProps.mode==="manual"),!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===h)break;for(;R.sibling===null;){if(R.return===null||R.return===h)return;R=R.return}R.sibling.return=R.return,R=R.sibling}}function fc(c,h){if($a&&k0(c,h)){c=h.stateNode;var x=c.containerInfo,S=Vf();hc(S,h,!1,!1),c.pendingChildren=S,Ka(h),s1(x,S)}}function W0(c,h,x,S){if(Wi)c.memoizedProps!==S&&Ka(h);else if($a){var R=c.stateNode,D=c.memoizedProps;if((c=k0(c,h))||D!==S){var k=Hi.current;D=Am(R,x,D,S,!c,null),D===R?h.stateNode=R:(Vr(D,x,S,k)&&Ka(h),h.stateNode=D,c?_f(D,h,!1,!1):Ka(h))}else h.stateNode=R}}function dc(c,h,x){if(n1(h,x)){if(c.flags|=16777216,!kr(h,x))if(ju())c.flags|=8192;else throw Tl=ed,Gm}else c.flags&=-16777217}function Z0(c,h){if(_1(h)){if(c.flags|=16777216,!Pm(h))if(ju())c.flags|=8192;else throw Tl=ed,Gm}else c.flags&=-16777217}function Lu(c,h){h!==null&&(c.flags|=4),c.flags&16384&&(h=c.tag!==22?O():536870912,c.lanes|=h,Qr|=h)}function dl(c,h){if(!vn)switch(c.tailMode){case"hidden":h=c.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?c.tail=null:x.sibling=null;break;case"collapsed":x=c.tail;for(var S=null;x!==null;)x.alternate!==null&&(S=x),x=x.sibling;S===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:S.sibling=null}}function Zn(c){var h=c.alternate!==null&&c.alternate.child===c.child,x=0,S=0;if(h)for(var R=c.child;R!==null;)x|=R.lanes|R.childLanes,S|=R.subtreeFlags&31457280,S|=R.flags&31457280,R.return=c,R=R.sibling;else for(R=c.child;R!==null;)x|=R.lanes|R.childLanes,S|=R.subtreeFlags,S|=R.flags,R.return=c,R=R.sibling;return c.subtreeFlags|=S,c.childLanes=x,h}function Vg(c,h,x){var S=h.pendingProps;switch(Ce(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(h),null;case 1:return Zn(h),null;case 3:return x=h.stateNode,S=null,c!==null&&(S=c.memoizedState.cache),h.memoizedState.cache!==S&&(h.flags|=2048),Lr(In),Ze(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(c===null||c.child===null)&&(ht(h)?Ka(h):c===null||c.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,ss!==null&&(Pr(ss),ss=null))),fc(c,h),Zn(h),null;case 26:if(ts){x=h.type;var R=h.memoizedState;return c===null?(Ka(h),R!==null?(Zn(h),Z0(h,R)):(Zn(h),dc(h,x,S))):R?R!==c.memoizedState?(Ka(h),Zn(h),Z0(h,R)):(Zn(h),h.flags&=-16777217):(Wi?c.memoizedProps!==S&&Ka(h):W0(c,h,x,S),Zn(h),dc(h,x,S)),null}case 27:if(Zi){if(we(h),x=js.current,R=h.type,c!==null&&h.stateNode!=null)Wi?c.memoizedProps!==S&&Ka(h):W0(c,h,R,S);else{if(!S){if(h.stateNode===null)throw Error(a(166));return Zn(h),null}c=Hi.current,ht(h)?it(h,c):(c=Hm(R,S,x,c,!0),h.stateNode=c,Ka(h))}return Zn(h),null}case 5:if(we(h),x=h.type,c!==null&&h.stateNode!=null)W0(c,h,x,S);else{if(!S){if(h.stateNode===null)throw Error(a(166));return Zn(h),null}c=Hi.current,ht(h)?it(h,c):(R=hm(x,S,js.current,c,h),_f(R,h,!1,!1),h.stateNode=R,Vr(R,x,S,c)&&Ka(h))}return Zn(h),dc(h,h.type,h.pendingProps),null;case 6:if(c&&h.stateNode!=null)x=c.memoizedProps,Wi?x!==S&&Ka(h):$a&&(x!==S?(h.stateNode=Uf(S,js.current,Hi.current,h),Ka(h)):h.stateNode=c.stateNode);else{if(typeof S!="string"&&h.stateNode===null)throw Error(a(166));if(c=js.current,x=Hi.current,ht(h)){if(!va)throw Error(a(176));if(c=h.stateNode,x=h.memoizedProps,S=null,R=oa,R!==null)switch(R.tag){case 27:case 5:S=R.memoizedProps}m1(c,x,h,S)||Ke(h)}else h.stateNode=Uf(S,c,x,h)}return Zn(h),null;case 13:if(S=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(R=ht(h),S!==null&&S.dehydrated!==null){if(c===null){if(!R)throw Error(a(318));if(!va)throw Error(a(344));if(R=h.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(a(317));Tc(R,h)}else kt(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Zn(h),R=!1}else ss!==null&&(Pr(ss),ss=null),R=!0;if(!R)return h.flags&256?(Ya(h),h):(Ya(h),null)}if(Ya(h),(h.flags&128)!==0)return h.lanes=x,h;if(x=S!==null,c=c!==null&&c.memoizedState!==null,x){S=h.child,R=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(R=S.alternate.memoizedState.cachePool.pool);var D=null;S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(D=S.memoizedState.cachePool.pool),D!==R&&(S.flags|=2048)}return x!==c&&x&&(h.child.flags|=8192),Lu(h,h.updateQueue),Zn(h),null;case 4:return Ze(),fc(c,h),c===null&&mm(h.stateNode.containerInfo),Zn(h),null;case 10:return Lr(h.type),Zn(h),null;case 19:if(M(xi),R=h.memoizedState,R===null)return Zn(h),null;if(S=(h.flags&128)!==0,D=R.rendering,D===null)if(S)dl(R,!1);else{if(pn!==0||c!==null&&(c.flags&128)!==0)for(c=h.child;c!==null;){if(D=ea(c),D!==null){for(h.flags|=128,dl(R,!1),c=D.updateQueue,h.updateQueue=c,Lu(h,c),h.subtreeFlags=0,c=x,x=h.child;x!==null;)Fr(x,c),x=x.sibling;return I(xi,xi.current&1|2),h.child}c=c.sibling}R.tail!==null&&Xi()>qn&&(h.flags|=128,S=!0,dl(R,!1),h.lanes=4194304)}else{if(!S)if(c=ea(D),c!==null){if(h.flags|=128,S=!0,c=c.updateQueue,h.updateQueue=c,Lu(h,c),dl(R,!0),R.tail===null&&R.tailMode==="hidden"&&!D.alternate&&!vn)return Zn(h),null}else 2*Xi()-R.renderingStartTime>qn&&x!==536870912&&(h.flags|=128,S=!0,dl(R,!1),h.lanes=4194304);R.isBackwards?(D.sibling=h.child,h.child=D):(c=R.last,c!==null?c.sibling=D:h.child=D,R.last=D)}return R.tail!==null?(h=R.tail,R.rendering=h,R.tail=h.sibling,R.renderingStartTime=Xi(),h.sibling=null,c=xi.current,I(xi,S?c&1|2:c&1),h):(Zn(h),null);case 22:case 23:return Ya(h),mo(),S=h.memoizedState!==null,c!==null?c.memoizedState!==null!==S&&(h.flags|=8192):S&&(h.flags|=8192),S?(x&536870912)!==0&&(h.flags&128)===0&&(Zn(h),h.subtreeFlags&6&&(h.flags|=8192)):Zn(h),x=h.updateQueue,x!==null&&Lu(h,x.retryQueue),x=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),S=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(S=h.memoizedState.cachePool.pool),S!==x&&(h.flags|=2048),c!==null&&M(Kr),null;case 24:return x=null,c!==null&&(x=c.memoizedState.cache),h.memoizedState.cache!==x&&(h.flags|=2048),Lr(In),Zn(h),null;case 25:return null}throw Error(a(156,h.tag))}function kg(c,h){switch(Ce(h),h.tag){case 1:return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return Lr(In),Ze(),c=h.flags,(c&65536)!==0&&(c&128)===0?(h.flags=c&-65537|128,h):null;case 26:case 27:case 5:return we(h),null;case 13:if(Ya(h),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(a(340));kt()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return M(xi),null;case 4:return Ze(),null;case 10:return Lr(h.type),null;case 22:case 23:return Ya(h),mo(),c!==null&&M(Kr),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 24:return Lr(In),null;case 25:return null;default:return null}}function X0(c,h){switch(Ce(h),h.tag){case 3:Lr(In),Ze();break;case 26:case 27:case 5:we(h);break;case 4:Ze();break;case 13:Ya(h);break;case 19:M(xi);break;case 10:Lr(h.type);break;case 22:case 23:Ya(h),mo(),c!==null&&M(Kr);break;case 24:Lr(In)}}function Ou(c,h){try{var x=h.updateQueue,S=x!==null?x.lastEffect:null;if(S!==null){var R=S.next;x=R;do{if((x.tag&c)===c){S=void 0;var D=x.create,k=x.inst;S=D(),k.destroy=S}x=x.next}while(x!==R)}}catch(ee){on(h,h.return,ee)}}function So(c,h,x){try{var S=h.updateQueue,R=S!==null?S.lastEffect:null;if(R!==null){var D=R.next;S=D;do{if((S.tag&c)===c){var k=S.inst,ee=k.destroy;if(ee!==void 0){k.destroy=void 0,R=h;var de=x;try{ee()}catch(Oe){on(R,de,Oe)}}}S=S.next}while(S!==D)}}catch(Oe){on(h,h.return,Oe)}}function Wg(c){var h=c.updateQueue;if(h!==null){var x=c.stateNode;try{Ye(h,x)}catch(S){on(c,c.return,S)}}}function Zg(c,h,x){x.props=Ns(c.type,c.memoizedProps),x.state=c.memoizedState;try{x.componentWillUnmount()}catch(S){on(c,h,S)}}function ml(c,h){try{var x=c.ref;if(x!==null){var S=c.stateNode;switch(c.tag){case 26:case 27:case 5:var R=Ec(S);break;default:R=S}typeof x=="function"?c.refCleanup=x(R):x.current=R}}catch(D){on(c,h,D)}}function Xn(c,h){var x=c.ref,S=c.refCleanup;if(x!==null)if(typeof S=="function")try{S()}catch(R){on(c,h,R)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(R){on(c,h,R)}else x.current=null}function mc(c){var h=c.type,x=c.memoizedProps,S=c.stateNode;try{sx(S,h,x,c)}catch(R){on(c,c.return,R)}}function J0(c,h,x){try{vm(c.stateNode,c.type,x,h,c)}catch(S){on(c,c.return,S)}}function Y0(c){return c.tag===5||c.tag===3||(ts?c.tag===26:!1)||(Zi?c.tag===27:!1)||c.tag===4}function bf(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Y0(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&(!Zi||c.tag!==27)&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Af(c,h,x){var S=c.tag;if(S===5||S===6)c=c.stateNode,h?_m(x,c,h):i1(x,c);else if(!(S===4||Zi&&S===27)&&(c=c.child,c!==null))for(Af(c,h,x),c=c.sibling;c!==null;)Af(c,h,x),c=c.sibling}function pc(c,h,x){var S=c.tag;if(S===5||S===6)c=c.stateNode,h?xm(x,c,h):ym(x,c);else if(!(S===4||Zi&&S===27)&&(c=c.child,c!==null))for(pc(c,h,x),c=c.sibling;c!==null;)pc(c,h,x),c=c.sibling}function Xg(c,h,x){c=c.containerInfo;try{Mm(c,x)}catch(S){on(h,h.return,S)}}function gc(c,h){for(Uo(c.containerInfo),ii=h;ii!==null;)if(c=ii,h=c.child,(c.subtreeFlags&1028)!==0&&h!==null)h.return=c,ii=h;else for(;ii!==null;){c=ii;var x=c.alternate;switch(h=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((h&1024)!==0&&x!==null){h=void 0;var S=c,R=x.memoizedProps;x=x.memoizedState;var D=S.stateNode;try{var k=Ns(S.type,R,S.elementType===S.type);h=D.getSnapshotBeforeUpdate(k,x),D.__reactInternalSnapshotBeforeUpdate=h}catch(ee){on(S,S.return,ee)}}break;case 3:(h&1024)!==0&&Wi&&zf(c.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(a(163))}if(h=c.sibling,h!==null){h.return=c.return,ii=h;break}ii=c.return}return k=Rl,Rl=!1,k}function Sf(c,h,x){var S=x.flags;switch(x.tag){case 0:case 11:case 15:nr(c,x),S&4&&Ou(5,x);break;case 1:if(nr(c,x),S&4)if(c=x.stateNode,h===null)try{c.componentDidMount()}catch(ee){on(x,x.return,ee)}else{var R=Ns(x.type,h.memoizedProps);h=h.memoizedState;try{c.componentDidUpdate(R,h,c.__reactInternalSnapshotBeforeUpdate)}catch(ee){on(x,x.return,ee)}}S&64&&Wg(x),S&512&&ml(x,x.return);break;case 3:if(nr(c,x),S&64&&(S=x.updateQueue,S!==null)){if(c=null,x.child!==null)switch(x.child.tag){case 27:case 5:c=Ec(x.child.stateNode);break;case 1:c=x.child.stateNode}try{Ye(S,c)}catch(ee){on(x,x.return,ee)}}break;case 26:if(ts){nr(c,x),S&512&&ml(x,x.return);break}case 27:case 5:nr(c,x),h===null&&S&4&&mc(x),S&512&&ml(x,x.return);break;case 12:nr(c,x);break;case 13:nr(c,x),S&4&&Mo(c,x);break;case 22:if(R=x.memoizedState!==null||Ei,!R){h=h!==null&&h.memoizedState!==null||Kn;var D=Ei,k=Kn;Ei=R,(Kn=h)&&!k?Eo(c,x,(x.subtreeFlags&8772)!==0):nr(c,x),Ei=D,Kn=k}S&512&&(x.memoizedProps.mode==="manual"?ml(x,x.return):Xn(x,x.return));break;default:nr(c,x)}}function yc(c){var h=c.alternate;h!==null&&(c.alternate=null,yc(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&pm(h)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function qa(c,h,x){for(x=x.child;x!==null;)Mf(c,h,x),x=x.sibling}function Mf(c,h,x){if(Ba&&typeof Ba.onCommitFiberUnmount=="function")try{Ba.onCommitFiberUnmount(Bc,x)}catch{}switch(x.tag){case 26:if(ts){Kn||Xn(x,h),qa(c,h,x),x.memoizedState?Bm(x.memoizedState):x.stateNode&&Lm(x.stateNode);break}case 27:if(Zi){Kn||Xn(x,h);var S=fi,R=La;fi=x.stateNode,qa(c,h,x),b1(x.stateNode),fi=S,La=R;break}case 5:Kn||Xn(x,h);case 6:if(Wi){if(S=fi,R=La,fi=null,qa(c,h,x),fi=S,La=R,fi!==null)if(La)try{ci(fi,x.stateNode)}catch(D){on(x,h,D)}else try{xa(fi,x.stateNode)}catch(D){on(x,h,D)}}else qa(c,h,x);break;case 18:Wi&&fi!==null&&(La?wm(fi,x.stateNode):g1(fi,x.stateNode));break;case 4:Wi?(S=fi,R=La,fi=x.stateNode.containerInfo,La=!0,qa(c,h,x),fi=S,La=R):($a&&Xg(x.stateNode,x,Vf()),qa(c,h,x));break;case 0:case 11:case 14:case 15:Kn||So(2,x,h),Kn||So(4,x,h),qa(c,h,x);break;case 1:Kn||(Xn(x,h),S=x.stateNode,typeof S.componentWillUnmount=="function"&&Zg(x,h,S)),qa(c,h,x);break;case 21:qa(c,h,x);break;case 22:Kn||Xn(x,h),Kn=(S=Kn)||x.memoizedState!==null,qa(c,h,x),Kn=S;break;default:qa(c,h,x)}}function Mo(c,h){if(va&&h.memoizedState===null&&(c=h.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{Xf(c)}catch(x){on(h,h.return,x)}}function vc(c){switch(c.tag){case 13:case 19:var h=c.stateNode;return h===null&&(h=c.stateNode=new Uc),h;case 22:return c=c.stateNode,h=c._retryCache,h===null&&(h=c._retryCache=new Uc),h;default:throw Error(a(435,c.tag))}}function Pu(c,h){var x=vc(c);h.forEach(function(S){var R=em.bind(null,c,S);x.has(S)||(x.add(S),S.then(R,R))})}function pa(c,h){var x=h.deletions;if(x!==null)for(var S=0;S<x.length;S++){var R=x[S],D=c,k=h;if(Wi){var ee=k;e:for(;ee!==null;){switch(ee.tag){case 27:case 5:fi=ee.stateNode,La=!1;break e;case 3:fi=ee.stateNode.containerInfo,La=!0;break e;case 4:fi=ee.stateNode.containerInfo,La=!0;break e}ee=ee.return}if(fi===null)throw Error(a(160));Mf(D,k,R),fi=null,La=!1}else Mf(D,k,R);D=R.alternate,D!==null&&(D.return=null),R.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)Co(h,c),h=h.sibling}function Co(c,h){var x=c.alternate,S=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:pa(h,c),Ea(c),S&4&&(So(3,c,c.return),Ou(3,c),So(5,c,c.return));break;case 1:pa(h,c),Ea(c),S&512&&(Kn||x===null||Xn(x,x.return)),S&64&&Ei&&(c=c.updateQueue,c!==null&&(S=c.callbacks,S!==null&&(x=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=x===null?S:x.concat(S))));break;case 26:if(ts){var R=_a;pa(h,c),Ea(c),S&512&&(Kn||x===null||Xn(x,x.return)),S&4&&(S=x!==null?x.memoizedState:null,h=c.memoizedState,x===null?h===null?c.stateNode===null?c.stateNode=Dm(R,c.type,c.memoizedProps,c):Nm(R,c.type,c.stateNode):c.stateNode=Im(R,h,c.memoizedProps):S!==h?(S===null?x.stateNode!==null&&Lm(x.stateNode):Bm(S),h===null?Nm(R,c.type,c.stateNode):Im(R,h,c.memoizedProps)):h===null&&c.stateNode!==null&&J0(c,c.memoizedProps,x.memoizedProps));break}case 27:if(Zi&&S&4&&c.alternate===null){R=c.stateNode;var D=c.memoizedProps;try{cx(R),ux(c.type,D,R,c)}catch(Qe){on(c,c.return,Qe)}}case 5:if(pa(h,c),Ea(c),S&512&&(Kn||x===null||Xn(x,x.return)),Wi){if(c.flags&32){h=c.stateNode;try{Yu(h)}catch(Qe){on(c,c.return,Qe)}}S&4&&c.stateNode!=null&&(h=c.memoizedProps,J0(c,h,x!==null?x.memoizedProps:h)),S&1024&&(Zo=!0)}break;case 6:if(pa(h,c),Ea(c),S&4&&Wi){if(c.stateNode===null)throw Error(a(162));S=c.memoizedProps,x=x!==null?x.memoizedProps:S,h=c.stateNode;try{a1(h,x,S)}catch(Qe){on(c,c.return,Qe)}}break;case 3:if(ts?(Om(),R=_a,_a=Jf(h.containerInfo),pa(h,c),_a=R):pa(h,c),Ea(c),S&4){if(Wi&&va&&x!==null&&x.memoizedState.isDehydrated)try{Zf(h.containerInfo)}catch(Qe){on(c,c.return,Qe)}if($a){S=h.containerInfo,x=h.pendingChildren;try{Mm(S,x)}catch(Qe){on(c,c.return,Qe)}}}Zo&&(Zo=!1,K0(c));break;case 4:ts?(x=_a,_a=Jf(c.stateNode.containerInfo),pa(h,c),Ea(c),_a=x):(pa(h,c),Ea(c)),S&4&&$a&&Xg(c.stateNode,c,c.stateNode.pendingChildren);break;case 12:pa(h,c),Ea(c);break;case 13:pa(h,c),Ea(c),c.child.flags&8192&&c.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(gr=Xi()),S&4&&(S=c.updateQueue,S!==null&&(c.updateQueue=null,Pu(c,S)));break;case 22:S&512&&(Kn||x===null||Xn(x,x.return)),R=c.memoizedState!==null;var k=x!==null&&x.memoizedState!==null,ee=Ei,de=Kn;if(Ei=ee||R,Kn=de||k,pa(h,c),Kn=de,Ei=ee,Ea(c),h=c.stateNode,h._current=c,h._visibility&=-3,h._visibility|=h._pendingVisibility&2,S&8192&&(h._visibility=R?h._visibility&-2:h._visibility|1,R&&(h=Ei||Kn,x===null||k||h||xc(c)),Wi&&(c.memoizedProps===null||c.memoizedProps.mode!=="manual"))){e:if(x=null,Wi)for(h=c;;){if(h.tag===5||ts&&h.tag===26||Zi&&h.tag===27){if(x===null){k=x=h;try{D=k.stateNode,R?Ku(D):bm(k.stateNode,k.memoizedProps)}catch(Qe){on(k,k.return,Qe)}}}else if(h.tag===6){if(x===null){k=h;try{var Oe=k.stateNode;R?Gf(Oe):Wr(Oe,k.memoizedProps)}catch(Qe){on(k,k.return,Qe)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===c)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break e;for(;h.sibling===null;){if(h.return===null||h.return===c)break e;x===h&&(x=null),h=h.return}x===h&&(x=null),h.sibling.return=h.return,h=h.sibling}}S&4&&(S=c.updateQueue,S!==null&&(x=S.retryQueue,x!==null&&(S.retryQueue=null,Pu(c,x))));break;case 19:pa(h,c),Ea(c),S&4&&(S=c.updateQueue,S!==null&&(c.updateQueue=null,Pu(c,S)));break;case 21:break;default:pa(h,c),Ea(c)}}function Ea(c){var h=c.flags;if(h&2){try{if(Wi&&(!Zi||c.tag!==27)){e:{for(var x=c.return;x!==null;){if(Y0(x)){var S=x;break e}x=x.return}throw Error(a(160))}switch(S.tag){case 27:if(Zi){var R=S.stateNode,D=bf(c);pc(c,D,R);break}case 5:var k=S.stateNode;S.flags&32&&(Yu(k),S.flags&=-33);var ee=bf(c);pc(c,ee,k);break;case 3:case 4:var de=S.stateNode.containerInfo,Oe=bf(c);Af(c,Oe,de);break;default:throw Error(a(161))}}}catch(Qe){on(c,c.return,Qe)}c.flags&=-3}h&4096&&(c.flags&=-4097)}function K0(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var h=c;K0(h),h.tag===5&&h.flags&1024&&Un(h.stateNode),c=c.sibling}}function nr(c,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)Sf(c,h.alternate,h),h=h.sibling}function xc(c){for(c=c.child;c!==null;){var h=c;switch(h.tag){case 0:case 11:case 14:case 15:So(4,h,h.return),xc(h);break;case 1:Xn(h,h.return);var x=h.stateNode;typeof x.componentWillUnmount=="function"&&Zg(h,h.return,x),xc(h);break;case 26:case 27:case 5:Xn(h,h.return),xc(h);break;case 22:Xn(h,h.return),h.memoizedState===null&&xc(h);break;default:xc(h)}c=c.sibling}}function Eo(c,h,x){for(x=x&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var S=h.alternate,R=c,D=h,k=D.flags;switch(D.tag){case 0:case 11:case 15:Eo(R,D,x),Ou(4,D);break;case 1:if(Eo(R,D,x),S=D,R=S.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(Oe){on(S,S.return,Oe)}if(S=D,R=S.updateQueue,R!==null){var ee=S.stateNode;try{var de=R.shared.hiddenCallbacks;if(de!==null)for(R.shared.hiddenCallbacks=null,R=0;R<de.length;R++)se(de[R],ee)}catch(Oe){on(S,S.return,Oe)}}x&&k&64&&Wg(D),ml(D,D.return);break;case 26:case 27:case 5:Eo(R,D,x),x&&S===null&&k&4&&mc(D),ml(D,D.return);break;case 12:Eo(R,D,x);break;case 13:Eo(R,D,x),x&&k&4&&Mo(R,D);break;case 22:D.memoizedState===null&&Eo(R,D,x),ml(D,D.return);break;default:Eo(R,D,x)}h=h.sibling}}function q0(c,h){var x=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),c=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(c=h.memoizedState.cachePool.pool),c!==x&&(c!=null&&c.refCount++,x!=null&&uc(x))}function Cf(c,h){c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&uc(c))}function Or(c,h,x,S){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)Ef(c,h,x,S),h=h.sibling}function Ef(c,h,x,S){var R=h.flags;switch(h.tag){case 0:case 11:case 15:Or(c,h,x,S),R&2048&&Ou(9,h);break;case 3:Or(c,h,x,S),R&2048&&(c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&uc(c)));break;case 12:if(R&2048){Or(c,h,x,S),c=h.stateNode;try{var D=h.memoizedProps,k=D.id,ee=D.onPostCommit;typeof ee=="function"&&ee(k,h.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(de){on(h,h.return,de)}}else Or(c,h,x,S);break;case 23:break;case 22:D=h.stateNode,h.memoizedState!==null?D._visibility&4?Or(c,h,x,S):To(c,h):D._visibility&4?Or(c,h,x,S):(D._visibility|=4,ia(c,h,x,S,(h.subtreeFlags&10256)!==0)),R&2048&&q0(h.alternate,h);break;case 24:Or(c,h,x,S),R&2048&&Cf(h.alternate,h);break;default:Or(c,h,x,S)}}function ia(c,h,x,S,R){for(R=R&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var D=c,k=h,ee=x,de=S,Oe=k.flags;switch(k.tag){case 0:case 11:case 15:ia(D,k,ee,de,R),Ou(8,k);break;case 23:break;case 22:var Qe=k.stateNode;k.memoizedState!==null?Qe._visibility&4?ia(D,k,ee,de,R):To(D,k):(Qe._visibility|=4,ia(D,k,ee,de,R)),R&&Oe&2048&&q0(k.alternate,k);break;case 24:ia(D,k,ee,de,R),R&&Oe&2048&&Cf(k.alternate,k);break;default:ia(D,k,ee,de,R)}h=h.sibling}}function To(c,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var x=c,S=h,R=S.flags;switch(S.tag){case 22:To(x,S),R&2048&&q0(S.alternate,S);break;case 24:To(x,S),R&2048&&Cf(S.alternate,S);break;default:To(x,S)}h=h.sibling}}function Li(c){if(c.subtreeFlags&Il)for(c=c.child;c!==null;)pl(c),c=c.sibling}function pl(c){switch(c.tag){case 26:Li(c),c.flags&Il&&(c.memoizedState!==null?Um(_a,c.memoizedState,c.memoizedProps):Qn(c.type,c.memoizedProps));break;case 5:Li(c),c.flags&Il&&Qn(c.type,c.memoizedProps);break;case 3:case 4:if(ts){var h=_a;_a=Jf(c.stateNode.containerInfo),Li(c),_a=h}else Li(c);break;case 22:c.memoizedState===null&&(h=c.alternate,h!==null&&h.memoizedState!==null?(h=Il,Il=16777216,Li(c),Il=h):Li(c));break;default:Li(c)}}function Tf(c){var h=c.alternate;if(h!==null&&(c=h.child,c!==null)){h.child=null;do h=c.sibling,c.sibling=null,c=h;while(c!==null)}}function wo(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var S=h[x];ii=S,Ro(S,c)}Tf(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Uu(c),c=c.sibling}function Uu(c){switch(c.tag){case 0:case 11:case 15:wo(c),c.flags&2048&&So(9,c,c.return);break;case 3:wo(c);break;case 12:wo(c);break;case 22:var h=c.stateNode;c.memoizedState!==null&&h._visibility&4&&(c.return===null||c.return.tag!==13)?(h._visibility&=-5,_c(c)):wo(c);break;default:wo(c)}}function _c(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var S=h[x];ii=S,Ro(S,c)}Tf(c)}for(c=c.child;c!==null;){switch(h=c,h.tag){case 0:case 11:case 15:So(8,h,h.return),_c(h);break;case 22:x=h.stateNode,x._visibility&4&&(x._visibility&=-5,_c(h));break;default:_c(h)}c=c.sibling}}function Ro(c,h){for(;ii!==null;){var x=ii;switch(x.tag){case 0:case 11:case 15:So(8,x,h);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var S=x.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:uc(x.memoizedState.cache)}if(S=x.child,S!==null)S.return=x,ii=S;else e:for(x=c;ii!==null;){S=ii;var R=S.sibling,D=S.return;if(yc(S),S===x){ii=null;break e}if(R!==null){R.return=D,ii=R;break e}ii=D}}}function wf(c){var h=dm(c);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(a(364));return h}if(c=Ml(c),c===null)throw Error(a(362));return c.stateNode.current}function bc(c,h){var x=c.tag;switch(h.$$typeof){case hh:if(c.type===h.value)return!0;break;case sd:e:{for(h=h.value,c=[c,0],x=0;x<c.length;){var S=c[x++],R=S.tag,D=c[x++],k=h[D];if(R!==5&&R!==26&&R!==27||!hr(S)){for(;k!=null&&bc(S,k);)D++,k=h[D];if(D===h.length){h=!0;break e}else for(S=S.child;S!==null;)c.push(S,D),S=S.sibling}}h=!1}return h;case rd:if((x===5||x===26||x===27)&&ax(c.stateNode,h.value))return!0;break;case Bn:if((x===5||x===6||x===26||x===27)&&(c=Ju(c),c!==null&&0<=c.indexOf(h.value)))return!0;break;case mn:if((x===5||x===26||x===27)&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Io(c){switch(c.$$typeof){case hh:return"<"+(l(c.value)||"Unknown")+">";case sd:return":has("+(Io(c)||"")+")";case rd:return'[role="'+c.value+'"]';case Bn:return'"'+c.value+'"';case mn:return'[data-testname="'+c.value+'"]';default:throw Error(a(365))}}function Jg(c,h){var x=[];c=[c,0];for(var S=0;S<c.length;){var R=c[S++],D=R.tag,k=c[S++],ee=h[k];if(D!==5&&D!==26&&D!==27||!hr(R)){for(;ee!=null&&bc(R,ee);)k++,ee=h[k];if(k===h.length)x.push(R);else for(R=R.child;R!==null;)c.push(R,k),R=R.sibling}}return x}function ga(c,h){if(!ur)throw Error(a(363));c=wf(c),c=Jg(c,h),h=[],c=Array.from(c);for(var x=0;x<c.length;){var S=c[x++],R=S.tag;if(R===5||R===26||R===27)hr(S)||h.push(S.stateNode);else for(S=S.child;S!==null;)c.push(S),S=S.sibling}return h}function ya(){if((wt&2)!==0&&en!==0)return en&-en;if(Bt.T!==null){var c=Da;return c!==0?c:He()}return bs()}function ir(){Oa===0&&(Oa=(en&536870912)===0||vn?j():536870912);var c=ls.current;return c!==null&&(c.flags|=32),Oa}function aa(c,h,x){(c===an&&Hn===2||c.cancelPendingCommit!==null)&&(Os(c,0),Ls(c,en,Oa,!1)),J(c,x),((wt&2)===0||c!==an)&&(c===an&&((wt&2)===0&&(zs|=x),pn===4&&Ls(c,en,Oa,!1)),Je(c))}function Hu(c,h,x){if((wt&6)!==0)throw Error(a(327));var S=!x&&(h&60)===0&&(h&c.expiredLanes)===0||U(c,h),R=S?rr(c,h):ar(c,h,!0),D=S;do{if(R===0){cs&&!S&&Ls(c,h,0,!1);break}else if(R===6)Ls(c,h,0,!Dn);else{if(x=c.current.alternate,D&&!Yg(x)){R=ar(c,h,!1),D=!1;continue}if(R===2){if(D=h,c.errorRecoveryDisabledLanes&D)var k=0;else k=c.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){h=k;e:{var ee=c;R=Hc;var de=va&&ee.current.memoizedState.isDehydrated;if(de&&(Os(ee,k).flags|=256),k=ar(ee,k,!1),k!==2){if(qr&&!de){ee.errorRecoveryDisabledLanes|=D,zs|=D,R=4;break e}D=hs,hs=R,D!==null&&Pr(D)}R=k}if(D=!1,R!==2)continue}}if(R===1){Os(c,0),Ls(c,h,0,!0);break}e:{switch(S=c,R){case 0:case 1:throw Error(a(345));case 4:if((h&4194176)===h){Ls(S,h,Oa,!Dn);break e}break;case 2:hs=null;break;case 3:case 5:break;default:throw Error(a(329))}if(S.finishedWork=x,S.finishedLanes=h,(h&62914560)===h&&(D=gr+300-Xi(),10<D)){if(Ls(S,h,Oa,!Dn),P(S,0)!==0)break e;S.timeoutHandle=fm(Rf.bind(null,S,x,hs,Vs,jc,h,Oa,zs,Qr,Dn,2,-0,0),D);break e}Rf(S,x,hs,Vs,jc,h,Oa,zs,Qr,Dn,0,-0,0)}}break}while(!0);Je(c)}function Pr(c){hs===null?hs=c:hs.push.apply(hs,c)}function Rf(c,h,x,S,R,D,k,ee,de,Oe,Qe,lt,ft){var zt=h.subtreeFlags;if((zt&8192||(zt&16785408)===16785408)&&(es(),pl(h),h=Hf(),h!==null)){c.cancelPendingCommit=h(zn.bind(null,c,x,S,R,k,ee,de,1,lt,ft)),Ls(c,D,k,!Oe);return}zn(c,x,S,R,k,ee,de,Qe,lt,ft)}function Yg(c){for(var h=c;;){var x=h.tag;if((x===0||x===11||x===15)&&h.flags&16384&&(x=h.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var S=0;S<x.length;S++){var R=x[S],D=R.getSnapshot;R=R.value;try{if(!ns(D(),R))return!1}catch{return!1}}if(x=h.child,h.subtreeFlags&16384&&x!==null)x.return=h,h=x;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Ls(c,h,x,S){h&=~ua,h&=~zs,c.suspendedLanes|=h,c.pingedLanes&=~h,S&&(c.warmLanes|=h),S=c.expirationTimes;for(var R=h;0<R;){var D=31-Ia(R),k=1<<D;S[D]=-1,R&=~k}x!==0&&oe(c,x,h)}function Q0(){return(wt&6)===0?(Rt(0),!1):!0}function Ta(){if(Vt!==null){if(Hn===0)var c=Vt.return;else c=Vt,ni=Wo=null,W(c),dr=null,Ms=0,c=Vt;for(;c!==null;)X0(c.alternate,c),c=c.return;Vt=null}}function Os(c,h){c.finishedWork=null,c.finishedLanes=0;var x=c.timeoutHandle;x!==Sl&&(c.timeoutHandle=Sl,Xu(x)),x=c.cancelPendingCommit,x!==null&&(c.cancelPendingCommit=null,x()),Ta(),an=c,Vt=x=sa(c.current,null),en=h,Hn=0,di=null,Dn=!1,cs=U(c,h),qr=!1,Qr=Oa=ua=zs=us=pn=0,hs=Hc=null,jc=!1,(h&8)!==0&&(h|=h&32);var S=c.entangledLanes;if(S!==0)for(c=c.entanglements,S&=h;0<S;){var R=31-Ia(S),D=1<<R;h|=c[R],S&=~D}return Gs=h,Pe(),x}function gl(c,h){Xt=null,Bt.H=xn,h===On?(h=mt(),Hn=3):h===Gm?(h=mt(),Hn=4):Hn=h===w1?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,di=h,Vt===null&&(pn=1,mf(c,le(h,c.current)))}function ju(){var c=ls.current;return c===null?!0:(en&4194176)===en?Cs===null:(en&62914560)===en||(en&536870912)!==0?c===Cs:!1}function Ac(){var c=Bt.H;return Bt.H=xn,c===null?xn:c}function Qa(){var c=Bt.A;return Bt.A=ad,c}function wa(){pn=4,Dn||(en&4194176)!==en&&ls.current!==null||(cs=!0),(us&134217727)===0&&(zs&134217727)===0||an===null||Ls(an,en,Oa,!1)}function ar(c,h,x){var S=wt;wt|=2;var R=Ac(),D=Qa();(an!==c||en!==h)&&(Vs=null,Os(c,h)),h=!1;var k=pn;e:do try{if(Hn!==0&&Vt!==null){var ee=Vt,de=di;switch(Hn){case 8:Ta(),k=6;break e;case 3:case 2:case 6:ls.current===null&&(h=!0);var Oe=Hn;if(Hn=0,di=null,Bo(c,ee,de,Oe),x&&cs){k=0;break e}break;default:Oe=Hn,Hn=0,di=null,Bo(c,ee,de,Oe)}}sr(),k=pn;break}catch(Qe){gl(c,Qe)}while(!0);return h&&c.shellSuspendCounter++,ni=Wo=null,wt=S,Bt.H=R,Bt.A=D,Vt===null&&(an=null,en=0,Pe()),k}function sr(){for(;Vt!==null;)$0(Vt)}function rr(c,h){var x=wt;wt|=2;var S=Ac(),R=Qa();an!==c||en!==h?(Vs=null,qn=Xi()+500,Os(c,h)):cs=U(c,h);e:do try{if(Hn!==0&&Vt!==null){h=Vt;var D=di;t:switch(Hn){case 1:Hn=0,di=null,Bo(c,h,D,1);break;case 2:if(dt(D)){Hn=0,di=null,If(h);break}h=function(){Hn===2&&an===c&&(Hn=7),Je(c)},D.then(h,h);break e;case 3:Hn=7;break e;case 4:Hn=5;break e;case 7:dt(D)?(Hn=0,di=null,If(h)):(Hn=0,di=null,Bo(c,h,D,7));break;case 5:var k=null;switch(Vt.tag){case 26:k=Vt.memoizedState;case 5:case 27:var ee=Vt,de=ee.type,Oe=ee.pendingProps;if(k?Pm(k):kr(de,Oe)){Hn=0,di=null;var Qe=ee.sibling;if(Qe!==null)Vt=Qe;else{var lt=ee.return;lt!==null?(Vt=lt,Fu(lt)):Vt=null}break t}}Hn=0,di=null,Bo(c,h,D,5);break;case 6:Hn=0,di=null,Bo(c,h,D,6);break;case 8:Ta(),pn=6;break e;default:throw Error(a(462))}}Ur();break}catch(ft){gl(c,ft)}while(!0);return ni=Wo=null,Bt.H=S,Bt.A=R,wt=x,Vt!==null?0:(an=null,en=0,Pe(),pn)}function Ur(){for(;Vt!==null&&!S1();)$0(Vt)}function $0(c){var h=Gg(c.alternate,c,Gs);c.memoizedProps=c.pendingProps,h===null?Fu(c):Vt=h}function If(c){var h=c,x=h.alternate;switch(h.tag){case 15:case 0:h=Pg(x,h,h.pendingProps,h.type,void 0,en);break;case 11:h=Pg(x,h,h.pendingProps,h.type.render,h.ref,en);break;case 5:W(h);default:X0(x,h),h=Vt=Fr(h,Gs),h=Gg(x,h,Gs)}c.memoizedProps=c.pendingProps,h===null?Fu(c):Vt=h}function Bo(c,h,x,S){ni=Wo=null,W(h),dr=null,Ms=0;var R=h.return;try{if(Bg(c,R,h,x,en)){pn=1,mf(c,le(x,c.current)),Vt=null;return}}catch(D){if(R!==null)throw Vt=R,D;pn=1,mf(c,le(x,c.current)),Vt=null;return}h.flags&32768?(vn||S===1?c=!0:cs||(en&536870912)!==0?c=!1:(Dn=c=!0,(S===2||S===3||S===6)&&(S=ls.current,S!==null&&S.tag===13&&(S.flags|=16384))),Oi(h,c)):Fu(h)}function Fu(c){var h=c;do{if((h.flags&32768)!==0){Oi(h,Dn);return}c=h.return;var x=Vg(h.alternate,h,Gs);if(x!==null){Vt=x;return}if(h=h.sibling,h!==null){Vt=h;return}Vt=h=c}while(h!==null);pn===0&&(pn=5)}function Oi(c,h){do{var x=kg(c.alternate,c);if(x!==null){x.flags&=32767,Vt=x;return}if(x=c.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!h&&(c=c.sibling,c!==null)){Vt=c;return}Vt=c=x}while(c!==null);pn=6,Vt=null}function zn(c,h,x,S,R,D,k,ee,de,Oe){var Qe=Bt.T,lt=Ci();try{ra(2),Bt.T=null,un(c,h,x,S,lt,R,D,k,ee,de,Oe)}finally{Bt.T=Qe,ra(lt)}}function un(c,h,x,S,R,D,k,ee){do Pi();while($r!==null);if((wt&6)!==0)throw Error(a(327));var de=c.finishedWork;if(S=c.finishedLanes,de===null)return null;if(c.finishedWork=null,c.finishedLanes=0,de===c.current)throw Error(a(177));c.callbackNode=null,c.callbackPriority=0,c.cancelPendingCommit=null;var Oe=de.lanes|de.childLanes;if(Oe|=Nc,ie(c,S,Oe,D,k,ee),c===an&&(Vt=an=null,en=0),(de.subtreeFlags&10256)===0&&(de.flags&10256)===0||Ts||(Ts=!0,od=Oe,Dl=x,Gu(Kf,function(){return Pi(),null})),x=(de.flags&15990)!==0,(de.subtreeFlags&15990)!==0||x?(x=Bt.T,Bt.T=null,D=Ci(),ra(2),k=wt,wt|=4,gc(c,de),Co(de,c),um(c.containerInfo),c.current=de,Sf(c,de.alternate,de),M1(),wt=k,ra(D),Bt.T=x):c.current=de,Ts?(Ts=!1,$r=c,Bl=S):Hr(c,Oe),Oe=c.pendingLanes,Oe===0&&(fs=null),G(de.stateNode),Je(c),h!==null)for(R=c.onRecoverableError,de=0;de<h.length;de++)Oe=h[de],R(Oe.value,{componentStack:Oe.stack});return(Bl&3)!==0&&Pi(),Oe=c.pendingLanes,(S&4194218)!==0&&(Oe&42)!==0?c===ba?Nl++:(Nl=0,ba=c):Nl=0,Rt(0),null}function Hr(c,h){(c.pooledCacheLanes&=h)===0&&(h=c.pooledCache,h!=null&&(c.pooledCache=null,uc(h)))}function Pi(){if($r!==null){var c=$r,h=od;od=0;var x=ce(Bl),S=32>x?32:x;x=Bt.T;var R=Ci();try{if(ra(S),Bt.T=null,$r===null)var D=!1;else{S=Dl,Dl=null;var k=$r,ee=Bl;if($r=null,Bl=0,(wt&6)!==0)throw Error(a(331));var de=wt;if(wt|=4,Uu(k.current),Ef(k,k.current,ee,S),wt=de,Rt(0,!1),Ba&&typeof Ba.onPostCommitFiberRoot=="function")try{Ba.onPostCommitFiberRoot(Bc,k)}catch{}D=!0}return D}finally{ra(R),Bt.T=x,Hr(c,h)}}return!1}function Bf(c,h,x){h=le(x,h),h=Ru(c.stateNode,h,2),c=qe(c,h,2),c!==null&&(J(c,2),Je(c))}function on(c,h,x){if(c.tag===3)Bf(c,c,x);else for(;h!==null;){if(h.tag===3){Bf(h,c,x);break}else if(h.tag===1){var S=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(fs===null||!fs.has(S))){c=le(x,c),x=cc(2),S=qe(h,x,2),S!==null&&(Iu(x,S,h,c),J(S,2),Je(S));break}}h=h.return}}function Df(c,h,x){var S=c.pingCache;if(S===null){S=c.pingCache=new ln;var R=new Set;S.set(h,R)}else R=S.get(h),R===void 0&&(R=new Set,S.set(h,R));R.has(x)||(qr=!0,R.add(x),c=Kg.bind(null,c,h,x),h.then(c,c))}function Kg(c,h,x){var S=c.pingCache;S!==null&&S.delete(h),c.pingedLanes|=c.suspendedLanes&x,c.warmLanes&=~x,an===c&&(en&x)===x&&(pn===4||pn===3&&(en&62914560)===en&&300>Xi()-gr?(wt&2)===0&&Os(c,0):ua|=x,Qr===en&&(Qr=0)),Je(c)}function yl(c,h){h===0&&(h=O()),c=Be(c,h),c!==null&&(J(c,h),Je(c))}function vl(c){var h=c.memoizedState,x=0;h!==null&&(x=h.retryLane),yl(c,x)}function em(c,h){var x=0;switch(c.tag){case 13:var S=c.stateNode,R=c.memoizedState;R!==null&&(x=R.retryLane);break;case 19:S=c.stateNode;break;case 22:S=c.stateNode._retryCache;break;default:throw Error(a(314))}S!==null&&S.delete(h),yl(c,x)}function Gu(c,h){return Ic(c,h)}function tm(c,h,x,S){this.tag=c,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(c){return c=c.prototype,!(!c||!c.isReactComponent)}function sa(c,h){var x=c.alternate;return x===null?(x=t(c.tag,h,c.key,c.mode),x.elementType=c.elementType,x.type=c.type,x.stateNode=c.stateNode,x.alternate=c,c.alternate=x):(x.pendingProps=h,x.type=c.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=c.flags&31457280,x.childLanes=c.childLanes,x.lanes=c.lanes,x.child=c.child,x.memoizedProps=c.memoizedProps,x.memoizedState=c.memoizedState,x.updateQueue=c.updateQueue,h=c.dependencies,x.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},x.sibling=c.sibling,x.index=c.index,x.ref=c.ref,x.refCleanup=c.refCleanup,x}function Fr(c,h){c.flags&=31457282;var x=c.alternate;return x===null?(c.childLanes=0,c.lanes=h,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=x.childLanes,c.lanes=x.lanes,c.child=x.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=x.memoizedProps,c.memoizedState=x.memoizedState,c.updateQueue=x.updateQueue,c.type=x.type,h=x.dependencies,c.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),c}function _s(c,h,x,S,R,D){var k=0;if(S=c,typeof c=="function")jr(c)&&(k=1);else if(typeof c=="string")k=ts&&Zi?Rm(c,x,Hi.current)?26:wc(c)?27:5:ts?Rm(c,x,Hi.current)?26:5:Zi&&wc(c)?27:5;else e:switch(c){case Mc:return Gr(x.children,R,D,h);case rm:k=8,R|=24;break;case om:return c=t(12,x,h,R|2),c.elementType=om,c.lanes=D,c;case Lf:return c=t(13,x,h,R),c.elementType=Lf,c.lanes=D,c;case Lo:return c=t(19,x,h,R),c.elementType=Lo,c.lanes=D,c;case ku:return Nf(x,R,D,h);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case $g:case or:k=10;break e;case No:k=9;break e;case Cc:k=11;break e;case Vu:k=14;break e;case Us:k=16,S=null;break e}k=29,x=Error(a(130,c===null?"null":typeof c,"")),S=null}return h=t(k,x,h,R),h.elementType=c,h.type=S,h.lanes=D,h}function Gr(c,h,x,S){return c=t(7,c,S,h),c.lanes=x,c}function Nf(c,h,x,S){c=t(22,c,S,h),c.elementType=ku,c.lanes=x;var R={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var D=R._current;if(D===null)throw Error(a(456));if((R._pendingVisibility&2)===0){var k=Be(D,2);k!==null&&(R._pendingVisibility|=2,aa(k,D,2))}},attach:function(){var D=R._current;if(D===null)throw Error(a(456));if((R._pendingVisibility&2)!==0){var k=Be(D,2);k!==null&&(R._pendingVisibility&=-3,aa(k,D,2))}}};return c.stateNode=R,c}function Do(c,h,x){return c=t(6,c,null,h),c.lanes=x,c}function Sc(c,h,x){return h=t(4,c.children!==null?c.children:[],c.key,h),h.lanes=x,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}function xl(c,h,x,S,R,D,k,ee){this.tag=1,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Sl,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=H(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=H(0),this.hiddenUpdates=H(null),this.identifierPrefix=S,this.onUncaughtError=R,this.onCaughtError=D,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ee,this.incompleteTransitions=new Map}function Ui(c,h,x,S,R,D,k,ee,de,Oe,Qe,lt){return c=new xl(c,h,x,k,ee,de,Oe,lt),h=1,D===!0&&(h|=24),D=t(3,null,null,h),c.current=D,D.stateNode=c,h=vf(),h.refCount++,c.pooledCache=h,h.refCount++,D.memoizedState={element:S,isDehydrated:x,cache:h},yt(D),c}function zu(c){return c?(c=Cl,c):Cl}function nm(c){var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(a(188)):(c=Object.keys(c).join(","),Error(a(268,c)));return c=b(h),c=c!==null?C(c):null,c===null?null:Ec(c.stateNode)}function qg(c,h,x,S,R,D){R=zu(R),S.context===null?S.context=R:S.pendingContext=R,S=Ve(h),S.payload={element:x},D=D===void 0?null:D,D!==null&&(S.callback=D),x=qe(c,S,h),x!==null&&(aa(x,c,h),At(x,c,h))}function Qg(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var x=c.retryLane;c.retryLane=x!==0&&x<h?x:h}}function im(c,h){Qg(c,h),(c=c.alternate)&&Qg(c,h)}var Tt={},am=p0(),ki=Uz(),_l=Object.assign,sm=Symbol.for("react.element"),zr=Symbol.for("react.transitional.element"),Ps=Symbol.for("react.portal"),Mc=Symbol.for("react.fragment"),rm=Symbol.for("react.strict_mode"),om=Symbol.for("react.profiler"),$g=Symbol.for("react.provider"),No=Symbol.for("react.consumer"),or=Symbol.for("react.context"),Cc=Symbol.for("react.forward_ref"),Lf=Symbol.for("react.suspense"),Lo=Symbol.for("react.suspense_list"),Vu=Symbol.for("react.memo"),Us=Symbol.for("react.lazy"),ku=Symbol.for("react.offscreen"),e1=Symbol.for("react.memo_cache_sentinel"),lm=Symbol.iterator,bl=Symbol.for("react.client.reference"),Bt=am.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Of,cm,Oo=!1,Po=Array.isArray,Pf=e.rendererVersion,Wu=e.rendererPackageName,Zu=e.extraDevToolsConfig,Ec=e.getPublicInstance,Al=e.getRootHostContext,t1=e.getChildHostContext,Uo=e.prepareForCommit,um=e.resetAfterCommit,hm=e.createInstance,lr=e.appendInitialChild,Vr=e.finalizeInitialChildren,Ho=e.shouldSetTextContent,Uf=e.createTextInstance,fm=e.scheduleTimeout,Xu=e.cancelTimeout,Sl=e.noTimeout,cr=e.isPrimaryRenderer;e.warnsIfNotActing;var Wi=e.supportsMutation,$a=e.supportsPersistence,va=e.supportsHydration,dm=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var mm=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var ra=e.setCurrentUpdatePriority,Ci=e.getCurrentUpdatePriority,bs=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var jo=e.shouldAttemptEagerTransition,pm=e.detachDeletedInstance;e.requestPostPaintCallback;var n1=e.maySuspendCommit,kr=e.preloadInstance,es=e.startSuspendingCommit,Qn=e.suspendInstance,Hf=e.waitForCommitToBeReady,Ra=e.NotPendingTransition,Ut=e.HostTransitionContext,Un=e.resetFormInstance;e.bindToConsole;var vi=e.supportsMicrotasks,jf=e.scheduleMicrotask,ur=e.supportsTestSelectors,Ml=e.findFiberRoot,Ff=e.getBoundingRect,Ju=e.getTextContent,hr=e.isHiddenSubtree,ax=e.matchAccessibilityRole,$n=e.setFocusIfFocusable,gm=e.setupIntersectionObserver,ym=e.appendChild,i1=e.appendChildToContainer,a1=e.commitTextUpdate,sx=e.commitMount,vm=e.commitUpdate,xm=e.insertBefore,_m=e.insertInContainerBefore,xa=e.removeChild,ci=e.removeChildFromContainer,Yu=e.resetTextContent,Ku=e.hideInstance,Gf=e.hideTextInstance,bm=e.unhideInstance,Wr=e.unhideTextInstance,zf=e.clearContainer,Am=e.cloneInstance,Vf=e.createContainerChildSet,Sm=e.appendChildToContainerChildSet,s1=e.finalizeContainerChildren,Mm=e.replaceContainerChildren,Cm=e.cloneHiddenInstance,Em=e.cloneHiddenTextInstance,kf=e.isSuspenseInstancePending,qu=e.isSuspenseInstanceFallback,r1=e.getSuspenseInstanceFallbackErrorDetails,rx=e.registerSuspenseInstanceRetry,o1=e.canHydrateFormStateMarker,l1=e.isFormStateMarkerMatching,Tm=e.getNextHydratableSibling,Wf=e.getFirstHydratableChild,c1=e.getFirstHydratableChildWithinContainer,u1=e.getFirstHydratableChildWithinSuspenseInstance,h1=e.canHydrateInstance,f1=e.canHydrateTextInstance,d1=e.canHydrateSuspenseInstance,ox=e.hydrateInstance,m1=e.hydrateTextInstance,Tc=e.hydrateSuspenseInstance,p1=e.getNextHydratableInstanceAfterSuspenseInstance,Zf=e.commitHydratedContainer,Xf=e.commitHydratedSuspenseInstance,g1=e.clearSuspenseBoundary,wm=e.clearSuspenseBoundaryFromContainer,y1=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var v1=e.validateHydratableInstance,x1=e.validateHydratableTextInstance,ts=e.supportsResources,Rm=e.isHostHoistableType,Jf=e.getHoistableRoot,Yf=e.getResource,Im=e.acquireResource,Bm=e.releaseResource,Dm=e.hydrateHoistable,Nm=e.mountHoistable,Lm=e.unmountHoistable,lx=e.createHoistableInstance,Om=e.prepareToCommitHoistables,_1=e.mayResourceSuspendCommit,Pm=e.preloadResource,Um=e.suspendResource,Zi=e.supportsSingletons,Hm=e.resolveSingletonInstance,cx=e.clearSingleton,ux=e.acquireSingletonInstance,b1=e.releaseSingletonInstance,wc=e.isHostSingletonType,Qu=[],Zr=-1,Cl={},Ia=Math.clz32?Math.clz32:B,$u=Math.log,A1=Math.LN2,Rc=128,eh=4194304,Ic=ki.unstable_scheduleCallback,th=ki.unstable_cancelCallback,S1=ki.unstable_shouldYield,M1=ki.unstable_requestPaint,Xi=ki.unstable_now,jm=ki.unstable_ImmediatePriority,C1=ki.unstable_UserBlockingPriority,Kf=ki.unstable_NormalPriority,qf=ki.unstable_IdlePriority,E1=ki.log,Fm=ki.unstable_setDisableYieldValue,Bc=null,Ba=null,ns=typeof Object.is=="function"?Object.is:Q,Qf=new WeakMap,Jn=[],ei=0,nh=null,ih=0,is=[],as=0,Hs=null,fr=1,As="",Hi=E(null),ah=E(null),js=E(null),Dc=E(null),oa=null,Ji=null,vn=!1,ss=null,Ss=!1,sh=Error(a(519)),rs=[],Fo=0,Nc=0,Lc=null,El=null,rh=!1,oh=!1,Fs=!1,Go=0,lh=null,$f=0,Da=0,zo=null,Xr=!1,Oc=!1,ch=Object.prototype.hasOwnProperty,On=Error(a(460)),Gm=Error(a(474)),ed={then:function(){}},Tl=null,dr=null,Ms=0,Vo=Xa(!0),zm=Xa(!1),mr=E(null),os=E(0),ls=E(null),Cs=null,xi=E(0),pr=0,Xt=null,Tn=null,ui=null,Es=!1,Yn=!1,Jr=!1,uh=0,ti=0,Pc=null,T1=0,td=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},xn={readContext:Vi,use:ue,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useInsertionEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useSyncExternalStore:Kt,useId:Kt};xn.useCacheRefresh=Kt,xn.useMemoCache=Kt,xn.useHostTransitionStatus=Kt,xn.useFormState=Kt,xn.useActionState=Kt,xn.useOptimistic=Kt;var _i={readContext:Vi,use:ue,useCallback:function(c,h){return re().memoizedState=[c,h===void 0?null:h],c},useContext:Vi,useEffect:I0,useImperativeHandle:function(c,h,x){x=x!=null?x.concat([c]):null,lf(4194308,4,Mu.bind(null,h,c),x)},useLayoutEffect:function(c,h){return lf(4194308,4,c,h)},useInsertionEffect:function(c,h){lf(4,2,c,h)},useMemo:function(c,h){var x=re();h=h===void 0?null:h;var S=c();if(Jr){Z(!0);try{c()}finally{Z(!1)}}return x.memoizedState=[S,h],S},useReducer:function(c,h,x){var S=re();if(x!==void 0){var R=x(h);if(Jr){Z(!0);try{x(h)}finally{Z(!1)}}}else R=h;return S.memoizedState=S.baseState=R,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:R},S.queue=c,c=c.dispatch=yo.bind(null,Xt,c),[S.memoizedState,c]},useRef:function(c){var h=re();return c={current:c},h.memoizedState=c},useState:function(c){c=$t(c);var h=c.queue,x=ff.bind(null,Xt,h);return h.dispatch=x,[c.memoizedState,x]},useDebugValue:Cu,useDeferredValue:function(c,h){var x=re();return go(x,c,h)},useTransition:function(){var c=$t(!1);return c=uf.bind(null,Xt,c.queue,!0,!1),re().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,h,x){var S=Xt,R=re();if(vn){if(x===void 0)throw Error(a(407));x=x()}else{if(x=h(),an===null)throw Error(a(349));(en&60)!==0||Et(S,h,x)}R.memoizedState=x;var D={value:x,getSnapshot:h};return R.queue=D,I0(Cn.bind(null,S,D,c),[c]),S.flags|=2048,ma(9,qt.bind(null,S,D,x,h),{destroy:void 0},null),x},useId:function(){var c=re(),h=an.identifierPrefix;if(vn){var x=As,S=fr;x=(S&~(1<<32-Ia(S)-1)).toString(32)+x,h=":"+h+"R"+x,x=uh++,0<x&&(h+="H"+x.toString(32)),h+=":"}else x=T1++,h=":"+h+"r"+x.toString(32)+":";return c.memoizedState=h},useCacheRefresh:function(){return re().memoizedState=Eu.bind(null,Xt)}};_i.useMemoCache=Ge,_i.useHostTransitionStatus=cl,_i.useFormState=Gi,_i.useActionState=Gi,_i.useOptimistic=function(c){var h=re();h.memoizedState=h.baseState=c;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=x,h=df.bind(null,Xt,!0,x),x.dispatch=h,[c,h]};var la={readContext:Vi,use:ue,useCallback:cf,useContext:Vi,useEffect:Su,useImperativeHandle:er,useInsertionEffect:Rg,useLayoutEffect:Ig,useMemo:ll,useReducer:pt,useRef:ol,useState:function(){return pt(nt)},useDebugValue:Cu,useDeferredValue:function(c,h){var x=pe();return B0(x,Tn.memoizedState,c,h)},useTransition:function(){var c=pt(nt)[0],h=pe().memoizedState;return[typeof c=="boolean"?c:Se(c),h]},useSyncExternalStore:Dt,useId:tr};la.useCacheRefresh=hf,la.useMemoCache=Ge,la.useHostTransitionStatus=cl,la.useFormState=ta,la.useActionState=ta,la.useOptimistic=function(c,h){var x=pe();return gt(x,Tn,c,h)};var ko={readContext:Vi,use:ue,useCallback:cf,useContext:Vi,useEffect:Su,useImperativeHandle:er,useInsertionEffect:Rg,useLayoutEffect:Ig,useMemo:ll,useReducer:Mt,useRef:ol,useState:function(){return Mt(nt)},useDebugValue:Cu,useDeferredValue:function(c,h){var x=pe();return Tn===null?go(x,c,h):B0(x,Tn.memoizedState,c,h)},useTransition:function(){var c=Mt(nt)[0],h=pe().memoizedState;return[typeof c=="boolean"?c:Se(c),h]},useSyncExternalStore:Dt,useId:tr};ko.useCacheRefresh=hf,ko.useMemoCache=Ge,ko.useHostTransitionStatus=cl,ko.useFormState=rl,ko.useActionState=rl,ko.useOptimistic=function(c,h){var x=pe();return Tn!==null?gt(x,Tn,c,h):(x.baseState=c,[c,x.queue.dispatch])};var nd={isMounted:function(c){return(c=c._reactInternals)?d(c)===c:!1},enqueueSetState:function(c,h,x){c=c._reactInternals;var S=ya(),R=Ve(S);R.payload=h,x!=null&&(R.callback=x),h=qe(c,R,S),h!==null&&(aa(h,c,S),At(h,c,S))},enqueueReplaceState:function(c,h,x){c=c._reactInternals;var S=ya(),R=Ve(S);R.tag=1,R.payload=h,x!=null&&(R.callback=x),h=qe(c,R,S),h!==null&&(aa(h,c,S),At(h,c,S))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var x=ya(),S=Ve(x);S.tag=2,h!=null&&(S.callback=h),h=qe(c,S,x),h!==null&&(aa(h,c,x),At(h,c,x))}},Vm=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},w1=Error(a(461)),hi=!1,ca={dehydrated:null,treeContext:null,retryLane:0},Na=E(null),Wo=null,ni=null,R1=typeof AbortController<"u"?AbortController:function(){var c=[],h=this.signal={aborted:!1,addEventListener:function(x,S){c.push(S)}};this.abort=function(){h.aborted=!0,c.forEach(function(x){return x()})}},Yr=ki.unstable_scheduleCallback,wl=ki.unstable_NormalPriority,In={$$typeof:or,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},id=Bt.S;Bt.S=function(c,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&Ie(c,h),id!==null&&id(c,h)};var Kr=E(null),Ei=!1,Kn=!1,Zo=!1,Uc=typeof WeakSet=="function"?WeakSet:Set,ii=null,Rl=!1,fi=null,La=!1,_a=null,Il=8192,ad={getCacheForType:function(c){var h=Vi(In),x=h.data.get(c);return x===void 0&&(x=c(),h.data.set(c,x)),x}},hh=0,sd=1,rd=2,mn=3,Bn=4;if(typeof Symbol=="function"&&Symbol.for){var Jt=Symbol.for;hh=Jt("selector.component"),sd=Jt("selector.has_pseudo_class"),rd=Jt("selector.role"),mn=Jt("selector.test_id"),Bn=Jt("selector.text")}var ln=typeof WeakMap=="function"?WeakMap:Map,wt=0,an=null,Vt=null,en=0,Hn=0,di=null,Dn=!1,cs=!1,qr=!1,Gs=0,pn=0,us=0,zs=0,ua=0,Oa=0,Qr=0,Hc=null,hs=null,jc=!1,gr=0,qn=1/0,Vs=null,fs=null,Ts=!1,$r=null,Bl=0,od=0,Dl=null,Nl=0,ba=null;return Tt.attemptContinuousHydration=function(c){if(c.tag===13){var h=Be(c,67108864);h!==null&&aa(h,c,67108864),im(c,67108864)}},Tt.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var h=ya(),x=Be(c,h);x!==null&&aa(x,c,h),im(c,h)}},Tt.attemptSynchronousHydration=function(c){switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var h=N(c.pendingLanes);if(h!==0){for(c.pendingLanes|=2,c.entangledLanes|=2;h;){var x=1<<31-Ia(h);c.entanglements[1]|=x,h&=~x}Je(c),(wt&6)===0&&(qn=Xi()+500,Rt(0))}}break;case 13:h=Be(c,2),h!==null&&aa(h,c,2),Q0(),im(c,2)}},Tt.batchedUpdates=function(c,h){return c(h)},Tt.createComponentSelector=function(c){return{$$typeof:hh,value:c}},Tt.createContainer=function(c,h,x,S,R,D,k,ee,de,Oe){return Ui(c,h,!1,null,x,S,D,k,ee,de,Oe,null)},Tt.createHasPseudoClassSelector=function(c){return{$$typeof:sd,value:c}},Tt.createHydrationContainer=function(c,h,x,S,R,D,k,ee,de,Oe,Qe,lt,ft){return c=Ui(x,S,!0,c,R,D,ee,de,Oe,Qe,lt,ft),c.context=zu(null),x=c.current,S=ya(),R=Ve(S),R.callback=h??null,qe(x,R,S),c.current.lanes=S,J(c,S),Je(c),c},Tt.createPortal=function(c,h,x){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ps,key:S==null?null:""+S,children:c,containerInfo:h,implementation:x}},Tt.createRoleSelector=function(c){return{$$typeof:rd,value:c}},Tt.createTestNameSelector=function(c){return{$$typeof:mn,value:c}},Tt.createTextSelector=function(c){return{$$typeof:Bn,value:c}},Tt.defaultOnCaughtError=function(c){console.error(c)},Tt.defaultOnRecoverableError=function(c){Vm(c)},Tt.defaultOnUncaughtError=function(c){Vm(c)},Tt.deferredUpdates=function(c){var h=Bt.T,x=Ci();try{return ra(32),Bt.T=null,c()}finally{ra(x),Bt.T=h}},Tt.discreteUpdates=function(c,h,x,S,R){var D=Bt.T,k=Ci();try{return ra(2),Bt.T=null,c(h,x,S,R)}finally{ra(k),Bt.T=D,wt===0&&(qn=Xi()+500)}},Tt.findAllNodes=ga,Tt.findBoundingRects=function(c,h){if(!ur)throw Error(a(363));h=ga(c,h),c=[];for(var x=0;x<h.length;x++)c.push(Ff(h[x]));for(h=c.length-1;0<h;h--){x=c[h];for(var S=x.x,R=S+x.width,D=x.y,k=D+x.height,ee=h-1;0<=ee;ee--)if(h!==ee){var de=c[ee],Oe=de.x,Qe=Oe+de.width,lt=de.y,ft=lt+de.height;if(S>=Oe&&D>=lt&&R<=Qe&&k<=ft){c.splice(h,1);break}else if(S!==Oe||x.width!==de.width||ft<D||lt>k){if(!(D!==lt||x.height!==de.height||Qe<S||Oe>R)){Oe>S&&(de.width+=Oe-S,de.x=S),Qe<R&&(de.width=R-Oe),c.splice(h,1);break}}else{lt>D&&(de.height+=lt-D,de.y=D),ft<k&&(de.height=k-lt),c.splice(h,1);break}}}return c},Tt.findHostInstance=nm,Tt.findHostInstanceWithNoPortals=function(c){return c=b(c),c=c!==null?w(c):null,c===null?null:Ec(c.stateNode)},Tt.findHostInstanceWithWarning=function(c){return nm(c)},Tt.flushPassiveEffects=Pi,Tt.flushSyncFromReconciler=function(c){var h=wt;wt|=1;var x=Bt.T,S=Ci();try{if(ra(2),Bt.T=null,c)return c()}finally{ra(S),Bt.T=x,wt=h,(wt&6)===0&&Rt(0)}},Tt.flushSyncWork=Q0,Tt.focusWithin=function(c,h){if(!ur)throw Error(a(363));for(c=wf(c),h=Jg(c,h),h=Array.from(h),c=0;c<h.length;){var x=h[c++],S=x.tag;if(!hr(x)){if((S===5||S===26||S===27)&&$n(x.stateNode))return!0;for(x=x.child;x!==null;)h.push(x),x=x.sibling}}return!1},Tt.getFindAllNodesFailureDescription=function(c,h){if(!ur)throw Error(a(363));var x=0,S=[];c=[wf(c),0];for(var R=0;R<c.length;){var D=c[R++],k=D.tag,ee=c[R++],de=h[ee];if((k!==5&&k!==26&&k!==27||!hr(D))&&(bc(D,de)&&(S.push(Io(de)),ee++,ee>x&&(x=ee)),ee<h.length))for(D=D.child;D!==null;)c.push(D,ee),D=D.sibling}if(x<h.length){for(c=[];x<h.length;x++)c.push(Io(h[x]));return`findAllNodes was able to match part of the selector:
  `+(S.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},Tt.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 27:case 5:return Ec(c.child.stateNode);default:return c.child.stateNode}},Tt.injectIntoDevTools=function(){var c={bundleType:0,version:Pf,rendererPackageName:Wu,currentDispatcherRef:Bt,findFiberByHostInstance:dm,reconcilerVersion:"19.0.0"};if(Zu!==null&&(c.rendererConfig=Zu),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)c=!0;else{try{Bc=h.inject(c),Ba=h}catch{}c=!!h.checkDCE}}return c},Tt.isAlreadyRendering=function(){return!1},Tt.observeVisibleRects=function(c,h,x,S){if(!ur)throw Error(a(363));c=ga(c,h);var R=gm(c,x,S).disconnect;return{disconnect:function(){R()}}},Tt.shouldError=function(){return null},Tt.shouldSuspend=function(){return!1},Tt.startHostTransition=function(c,h,x,S){if(c.tag!==5)throw Error(a(476));var R=D0(c).queue;uf(c,R,h,Ra,x===null?i:function(){var D=D0(c).next.queue;return vo(c,D,{},ya()),x(S)})},Tt.updateContainer=function(c,h,x,S){var R=h.current,D=ya();return qg(R,D,c,h,x,S),D},Tt.updateContainerSync=function(c,h,x,S){return h.tag===0&&Pi(),qg(h.current,2,c,h,x,S),2},Tt},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})(i3)),i3.exports}var RT;function jz(){return RT||(RT=1,n3.exports=Hz()),n3.exports}var Fz=jz();const Gz=Mb(Fz);var r3={exports:{}},o3={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT;function zz(){return IT||(IT=1,(function(n){function e(G,Z){var Q=G.length;G.push(Z);e:for(;0<Q;){var le=Q-1>>>1,ye=G[le];if(0<a(ye,Z))G[le]=Z,G[Q]=ye,Q=le;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var Z=G[0],Q=G.pop();if(Q!==Z){G[0]=Q;e:for(var le=0,ye=G.length,X=ye>>>1;le<X;){var ae=2*(le+1)-1,Ce=G[ae],Re=ae+1,Ze=G[Re];if(0>a(Ce,Q))Re<ye&&0>a(Ze,Ce)?(G[le]=Ze,G[Re]=Q,le=Re):(G[le]=Ce,G[ae]=Q,le=ae);else if(Re<ye&&0>a(Ze,Q))G[le]=Ze,G[Re]=Q,le=Re;else break e}}return Z}function a(G,Z){var Q=G.sortIndex-Z.sortIndex;return Q!==0?Q:G.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var m=[],g=[],v=1,d=null,p=3,b=!1,C=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function B(G){for(var Z=t(g);Z!==null;){if(Z.callback===null)i(g);else if(Z.startTime<=G)i(g),Z.sortIndex=Z.expirationTime,e(m,Z);else break;Z=t(g)}}function N(G){if(w=!1,B(G),!C)if(t(m)!==null)C=!0,ge();else{var Z=t(g);Z!==null&&ce(N,Z.startTime-G)}}var P=!1,U=-1,F=5,j=-1;function O(){return!(n.unstable_now()-j<F)}function H(){if(P){var G=n.unstable_now();j=G;var Z=!0;try{e:{C=!1,w&&(w=!1,M(U),U=-1),b=!0;var Q=p;try{t:{for(B(G),d=t(m);d!==null&&!(d.expirationTime>G&&O());){var le=d.callback;if(typeof le=="function"){d.callback=null,p=d.priorityLevel;var ye=le(d.expirationTime<=G);if(G=n.unstable_now(),typeof ye=="function"){d.callback=ye,B(G),Z=!0;break t}d===t(m)&&i(m),B(G)}else i(m);d=t(m)}if(d!==null)Z=!0;else{var X=t(g);X!==null&&ce(N,X.startTime-G),Z=!1}}break e}finally{d=null,p=Q,b=!1}Z=void 0}}finally{Z?J():P=!1}}}var J;if(typeof I=="function")J=function(){I(H)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,oe=ie.port2;ie.port1.onmessage=H,J=function(){oe.postMessage(null)}}else J=function(){E(H,0)};function ge(){P||(P=!0,J())}function ce(G,Z){U=E(function(){G(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){C||b||(C=!0,ge())},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(G){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var Q=p;p=Z;try{return G()}finally{p=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,Z){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Q=p;p=G;try{return Z()}finally{p=Q}},n.unstable_scheduleCallback=function(G,Z,Q){var le=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?le+Q:le):Q=le,G){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=Q+ye,G={id:v++,callback:Z,priorityLevel:G,startTime:Q,expirationTime:ye,sortIndex:-1},Q>le?(G.sortIndex=Q,e(g,G),t(m)===null&&G===t(g)&&(w?(M(U),U=-1):w=!0,ce(N,Q-le))):(G.sortIndex=ye,e(m,G),C||b||(C=!0,ge())),G},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(G){var Z=p;return function(){var Q=p;p=Z;try{return G.apply(this,arguments)}finally{p=Q}}}})(o3)),o3}var BT;function Vz(){return BT||(BT=1,r3.exports=zz()),r3.exports}var DT=Vz();function aS(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const a=aS(i,e,t);if(a)return a;i=e?null:i.sibling}}function eI(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const sS=eI(Y.createContext(null));class tI extends Y.Component{render(){return Y.createElement(sS.Provider,{value:this._reactInternals},this.props.children)}}function nI(){const n=Y.useContext(sS);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Y.useId();return Y.useMemo(()=>{for(const t of[n,n?.alternate]){if(!t)continue;const i=aS(t,!1,a=>{let r=a.memoizedState;for(;r;){if(r.memoizedState===e)return!0;r=r.next}});if(i)return i}},[n,e])}const kz=Symbol.for("react.context"),Wz=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===kz;function Zz(){const n=nI(),[e]=Y.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;Wz(i)&&i!==sS&&!e.has(i)&&e.set(i,Y.use(eI(i))),t=t.return}return e}function Xz(){const n=Zz();return Y.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>Y.createElement(e,null,Y.createElement(t.Provider,{...i,value:n.get(t)})),e=>Y.createElement(tI,{...e})),[n])}function iI(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const aI=n=>n&&n.isOrthographicCamera,Jz=n=>n&&n.hasOwnProperty("current"),Yz=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),Sg=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?Y.useLayoutEffect:Y.useEffect;function sI(n){const e=Y.useRef(n);return Sg(()=>void(e.current=n),[n]),e}function Kz(){const n=nI(),e=Xz();return Y.useMemo(()=>({children:t})=>{const a=!!aS(n,!0,r=>r.type===Y.StrictMode)?Y.StrictMode:Y.Fragment;return _.jsx(a,{children:_.jsx(e,{children:t})})},[n,e])}function qz({set:n}){return Sg(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const Qz=(n=>(n=class extends Y.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function rI(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function Od(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const ai={obj:n=>n===Object(n)&&!ai.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:a=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(ai.str(n)||ai.num(n)||ai.boo(n))return n===e;const r=ai.obj(n);if(r&&i==="reference")return n===e;const l=ai.arr(n);if(l&&t==="reference")return n===e;if((l||r)&&n===e)return!0;let u;for(u in n)if(!(u in e))return!1;if(r&&t==="shallow"&&i==="shallow"){for(u in a?e:n)if(!ai.equ(n[u],e[u],{strict:a,objects:"reference"}))return!1}else for(u in a?e:n)if(n[u]!==e[u])return!1;if(ai.und(u)){if(l&&n.length===0&&e.length===0||r&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function $z(n){const e={nodes:{},materials:{},meshes:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function eV(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];t?.type!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const oI=["children","key","ref"];function tV(n){const e={};for(const t in n)oI.includes(t)||(e[t]=n[t]);return e}function iv(n,e,t,i){const a=n;let r=a?.__r3f;return r||(r={root:e,type:t,parent:null,children:[],props:tV(i),object:a,eventCount:0,handlers:{},isHidden:!1},a&&(a.__r3f=r)),r}function tg(n,e){if(!e.includes("-"))return{root:n,key:e,target:n[e]};if(e in n)return{root:n,key:e,target:n[e]};let t=n;const i=e.split("-");for(const a of i){if(typeof t!="object"||t===null){if(t!==void 0){const r=i.slice(i.indexOf(a)).join("-");return{root:t,key:r,target:void 0}}return{root:n,key:e,target:void 0}}e=a,n=t,t=t[e]}return{root:n,key:e,target:t}}const NT=/-\d+$/;function av(n,e){if(ai.str(e.props.attach)){if(NT.test(e.props.attach)){const a=e.props.attach.replace(NT,""),{root:r,key:l}=tg(n.object,a);Array.isArray(r[l])||(r[l]=[])}const{root:t,key:i}=tg(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else ai.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function sv(n,e){if(ai.str(e.props.attach)){const{root:t,key:i}=tg(n.object,e.props.attach),a=e.previousAttach;a===void 0?delete t[i]:t[i]=a}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const ub=[...oI,"args","dispose","attach","object","onUpdate","dispose"],LT=new Map;function nV(n){let e=LT.get(n.constructor);try{e||(e=new n.constructor,LT.set(n.constructor,e))}catch{}return e}function iV(n,e){const t={};for(const i in e)if(!ub.includes(i)&&!ai.equ(e[i],n.props[i])){t[i]=e[i];for(const a in e)a.startsWith(`${i}-`)&&(t[a]=e[a])}for(const i in n.props){if(ub.includes(i)||e.hasOwnProperty(i))continue;const{root:a,key:r}=tg(n.object,i);if(a.constructor&&a.constructor.length===0){const l=nV(a);ai.und(l)||(t[r]=l[r])}else t[r]=0}return t}const aV=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],sV=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Zl(n,e){var t;const i=n.__r3f,a=i&&iI(i).getState(),r=i?.eventCount;for(const u in e){let m=e[u];if(ub.includes(u))continue;if(i&&sV.test(u)){typeof m=="function"?i.handlers[u]=m:delete i.handlers[u],i.eventCount=Object.keys(i.handlers).length;continue}if(m===void 0)continue;let{root:g,key:v,target:d}=tg(n,u);if(d===void 0&&(typeof g!="object"||g===null))throw Error(`R3F: Cannot set "${u}". Ensure it is an object before setting "${v}".`);if(d instanceof c0&&m instanceof c0)d.mask=m.mask;else if(d instanceof ot&&Yz(m))d.set(m);else if(d!==null&&typeof d=="object"&&typeof d.set=="function"&&typeof d.copy=="function"&&m!=null&&m.constructor&&d.constructor===m.constructor)d.copy(m);else if(d!==null&&typeof d=="object"&&typeof d.set=="function"&&Array.isArray(m))typeof d.fromArray=="function"?d.fromArray(m):d.set(...m);else if(d!==null&&typeof d=="object"&&typeof d.set=="function"&&typeof m=="number")typeof d.setScalar=="function"?d.setScalar(m):d.set(m);else{var l;g[v]=m,a&&!a.linear&&aV.includes(v)&&(l=g[v])!=null&&l.isTexture&&g[v].format===Va&&g[v].type===Rr&&(g[v].colorSpace=Ga)}}if(i!=null&&i.parent&&a!=null&&a.internal&&(t=i.object)!=null&&t.isObject3D&&r!==i.eventCount){const u=i.object,m=a.internal.interaction.indexOf(u);m>-1&&a.internal.interaction.splice(m,1),i.eventCount&&u.raycast!==null&&a.internal.interaction.push(u)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&w0(i),n}function w0(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function rV(n,e){n.manual||(aI(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const ps=n=>n?.isObject3D;function ky(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function lI(n,e,t,i){const a=t.get(e);a&&(t.delete(e),t.size===0&&(n.delete(i),a.target.releasePointerCapture(i)))}function oV(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,a)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(a)}),t.capturedMap.forEach((i,a)=>{lI(t.capturedMap,e,i,a)})}function lV(n){function e(m){const{internal:g}=n.getState(),v=m.offsetX-g.initialClick[0],d=m.offsetY-g.initialClick[1];return Math.round(Math.sqrt(v*v+d*d))}function t(m){return m.filter(g=>["Move","Over","Enter","Out","Leave"].some(v=>{var d;return(d=g.__r3f)==null?void 0:d.handlers["onPointer"+v]}))}function i(m,g){const v=n.getState(),d=new Set,p=[],b=g?g(v.internal.interaction):v.internal.interaction;for(let M=0;M<b.length;M++){const I=Od(b[M]);I&&(I.raycaster.camera=void 0)}v.previousRoot||v.events.compute==null||v.events.compute(m,v);function C(M){const I=Od(M);if(!I||!I.events.enabled||I.raycaster.camera===null)return[];if(I.raycaster.camera===void 0){var B;I.events.compute==null||I.events.compute(m,I,(B=I.previousRoot)==null?void 0:B.getState()),I.raycaster.camera===void 0&&(I.raycaster.camera=null)}return I.raycaster.camera?I.raycaster.intersectObject(M,!0):[]}let w=b.flatMap(C).sort((M,I)=>{const B=Od(M.object),N=Od(I.object);return!B||!N?M.distance-I.distance:N.events.priority-B.events.priority||M.distance-I.distance}).filter(M=>{const I=ky(M);return d.has(I)?!1:(d.add(I),!0)});v.events.filter&&(w=v.events.filter(w,v));for(const M of w){let I=M.object;for(;I;){var E;(E=I.__r3f)!=null&&E.eventCount&&p.push({...M,eventObject:I}),I=I.parent}}if("pointerId"in m&&v.internal.capturedMap.has(m.pointerId))for(let M of v.internal.capturedMap.get(m.pointerId).values())d.has(ky(M.intersection))||p.push(M.intersection);return p}function a(m,g,v,d){if(m.length){const p={stopped:!1};for(const b of m){let C=Od(b.object);if(C||b.object.traverseAncestors(w=>{const E=Od(w);if(E)return C=E,!1}),C){const{raycaster:w,pointer:E,camera:M,internal:I}=C,B=new K(E.x,E.y,0).unproject(M),N=O=>{var H,J;return(H=(J=I.capturedMap.get(O))==null?void 0:J.has(b.eventObject))!=null?H:!1},P=O=>{const H={intersection:b,target:g.target};I.capturedMap.has(O)?I.capturedMap.get(O).set(b.eventObject,H):I.capturedMap.set(O,new Map([[b.eventObject,H]])),g.target.setPointerCapture(O)},U=O=>{const H=I.capturedMap.get(O);H&&lI(I.capturedMap,b.eventObject,H,O)};let F={};for(let O in g){let H=g[O];typeof H!="function"&&(F[O]=H)}let j={...b,...F,pointer:E,intersections:m,stopped:p.stopped,delta:v,unprojectedPoint:B,ray:w.ray,camera:M,stopPropagation(){const O="pointerId"in g&&I.capturedMap.get(g.pointerId);if((!O||O.has(b.eventObject))&&(j.stopped=p.stopped=!0,I.hovered.size&&Array.from(I.hovered.values()).find(H=>H.eventObject===b.eventObject))){const H=m.slice(0,m.indexOf(b));r([...H,b])}},target:{hasPointerCapture:N,setPointerCapture:P,releasePointerCapture:U},currentTarget:{hasPointerCapture:N,setPointerCapture:P,releasePointerCapture:U},nativeEvent:g};if(d(j),p.stopped===!0)break}}}return m}function r(m){const{internal:g}=n.getState();for(const v of g.hovered.values())if(!m.length||!m.find(d=>d.object===v.object&&d.index===v.index&&d.instanceId===v.instanceId)){const p=v.eventObject.__r3f;if(g.hovered.delete(ky(v)),p!=null&&p.eventCount){const b=p.handlers,C={...v,intersections:m};b.onPointerOut==null||b.onPointerOut(C),b.onPointerLeave==null||b.onPointerLeave(C)}}}function l(m,g){for(let v=0;v<g.length;v++){const d=g[v].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(m)}}function u(m){switch(m){case"onPointerLeave":case"onPointerCancel":return()=>r([]);case"onLostPointerCapture":return g=>{const{internal:v}=n.getState();"pointerId"in g&&v.capturedMap.has(g.pointerId)&&requestAnimationFrame(()=>{v.capturedMap.has(g.pointerId)&&(v.capturedMap.delete(g.pointerId),r([]))})}}return function(v){const{onPointerMissed:d,internal:p}=n.getState();p.lastEvent.current=v;const b=m==="onPointerMove",C=m==="onClick"||m==="onContextMenu"||m==="onDoubleClick",E=i(v,b?t:void 0),M=C?e(v):0;m==="onPointerDown"&&(p.initialClick=[v.offsetX,v.offsetY],p.initialHits=E.map(B=>B.eventObject)),C&&!E.length&&M<=2&&(l(v,p.interaction),d&&d(v)),b&&r(E);function I(B){const N=B.eventObject,P=N.__r3f;if(!(P!=null&&P.eventCount))return;const U=P.handlers;if(b){if(U.onPointerOver||U.onPointerEnter||U.onPointerOut||U.onPointerLeave){const F=ky(B),j=p.hovered.get(F);j?j.stopped&&B.stopPropagation():(p.hovered.set(F,B),U.onPointerOver==null||U.onPointerOver(B),U.onPointerEnter==null||U.onPointerEnter(B))}U.onPointerMove==null||U.onPointerMove(B)}else{const F=U[m];F?(!C||p.initialHits.includes(N))&&(l(v,p.interaction.filter(j=>!p.initialHits.includes(j))),F(B)):C&&p.initialHits.includes(N)&&l(v,p.interaction.filter(j=>!p.initialHits.includes(j)))}}a(E,v,M,I)}}return{handlePointer:u}}const OT=n=>!!(n!=null&&n.render),cI=Y.createContext(null),cV=(n,e)=>{const t=Bz((u,m)=>{const g=new K,v=new K,d=new K;function p(M=m().camera,I=v,B=m().size){const{width:N,height:P,top:U,left:F}=B,j=N/P;I.isVector3?d.copy(I):d.set(...I);const O=M.getWorldPosition(g).distanceTo(d);if(aI(M))return{width:N/M.zoom,height:P/M.zoom,top:U,left:F,factor:1,distance:O,aspect:j};{const H=M.fov*Math.PI/180,J=2*Math.tan(H/2)*O,ie=J*(N/P);return{width:ie,height:J,top:U,left:F,factor:N/ie,distance:O,aspect:j}}}let b;const C=M=>u(I=>({performance:{...I.performance,current:M}})),w=new ze;return{set:u,get:m,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(M=1)=>n(m(),M),advance:(M,I)=>e(M,I,m()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new QA,pointer:w,mouse:w,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const M=m();b&&clearTimeout(b),M.performance.current!==M.performance.min&&C(M.performance.min),b=setTimeout(()=>C(m().performance.max),M.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:M=>u(I=>({...I,events:{...I.events,...M}})),setSize:(M,I,B=0,N=0)=>{const P=m().camera,U={width:M,height:I,top:B,left:N};u(F=>({size:U,viewport:{...F.viewport,...p(P,v,U)}}))},setDpr:M=>u(I=>{const B=rI(M);return{viewport:{...I.viewport,dpr:B,initialDpr:I.viewport.initialDpr||B}}}),setFrameloop:(M="always")=>{const I=m().clock;I.stop(),I.elapsedTime=0,M!=="never"&&(I.start(),I.elapsedTime=0),u(()=>({frameloop:M}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:Y.createRef(),active:!1,frames:0,priority:0,subscribe:(M,I,B)=>{const N=m().internal;return N.priority=N.priority+(I>0?1:0),N.subscribers.push({ref:M,priority:I,store:B}),N.subscribers=N.subscribers.sort((P,U)=>P.priority-U.priority),()=>{const P=m().internal;P!=null&&P.subscribers&&(P.priority=P.priority-(I>0?1:0),P.subscribers=P.subscribers.filter(U=>U.ref!==M))}}}}}),i=t.getState();let a=i.size,r=i.viewport.dpr,l=i.camera;return t.subscribe(()=>{const{camera:u,size:m,viewport:g,gl:v,set:d}=t.getState();if(m.width!==a.width||m.height!==a.height||g.dpr!==r){a=m,r=g.dpr,rV(u,m),g.dpr>0&&v.setPixelRatio(g.dpr);const p=typeof HTMLCanvasElement<"u"&&v.domElement instanceof HTMLCanvasElement;v.setSize(m.width,m.height,p)}u!==l&&(l=u,d(p=>({viewport:{...p.viewport,...p.viewport.getCurrentViewport(u)}})))}),t.subscribe(u=>n(u)),t};function uI(){const n=Y.useContext(cI);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function hI(n=t=>t,e){return uI()(n,e)}function Mg(n,e=0){const t=uI(),i=t.getState().internal.subscribe,a=sI(n);return Sg(()=>i(a,e,t),[e,i,t]),null}const PT=new WeakMap,uV=n=>{var e;return typeof n=="function"&&(n==null||(e=n.prototype)==null?void 0:e.constructor)===n};function fI(n,e){return function(t,...i){let a;return uV(t)?(a=PT.get(t),a||(a=new t,PT.set(t,a))):a=t,n&&n(a),Promise.all(i.map(r=>new Promise((l,u)=>a.load(r,m=>{ps(m?.scene)&&Object.assign(m,$z(m.scene)),l(m)},e,m=>u(new Error(`Could not load ${r}: ${m?.message}`))))))}}function Cg(n,e,t,i){const a=Array.isArray(e)?e:[e],r=Nz(fI(t,i),[n,...a],{equal:ai.equ});return Array.isArray(e)?r:r[0]}Cg.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return Lz(fI(t),[n,...i])};Cg.clear=function(n,e){const t=Array.isArray(e)?e:[e];return Oz([n,...t])};function hV(n){const e=Gz(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Y.version}),e}const dI=0,d0={},fV=/^three(?=[A-Z])/,$v=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let dV=0;const mV=n=>typeof n=="function";function pV(n){if(mV(n)){const e=`${dV++}`;return d0[e]=n,e}else Object.assign(d0,n)}function mI(n,e){const t=$v(n),i=d0[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function gV(n,e,t){var i;return n=$v(n)in d0?n:n.replace(fV,""),mI(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,iv(e.object,t,n,e)}function yV(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?sv(n.parent,n):ps(n.object)&&(n.object.visible=!1),n.isHidden=!0,w0(n)}}function pI(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?av(n.parent,n):ps(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,w0(n)}}function rS(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var a,r;const l=d0[$v(e.type)];e.object=(a=e.props.object)!=null?a:new l(...(r=e.props.args)!=null?r:[]),e.object.__r3f=e}if(Zl(e.object,e.props),e.props.attach)av(n,e);else if(ps(e.object)&&ps(n.object)){const l=n.object.children.indexOf(t?.object);if(t&&l!==-1){const u=n.object.children.indexOf(e.object);if(u!==-1){n.object.children.splice(u,1);const m=u<l?l-1:l;n.object.children.splice(m,0,e.object)}else e.object.parent=n.object,n.object.children.splice(l,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const l of e.children)rS(e,l);w0(e)}}function l3(n,e){e&&(e.parent=n,n.children.push(e),rS(n,e))}function UT(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),rS(n,e,t)}function gI(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():DT.unstable_scheduleCallback(DT.unstable_IdlePriority,e)}}function hb(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?sv(n,e):ps(e.object)&&ps(n.object)&&(n.object.remove(e.object),oV(iI(e),e.object));const a=e.props.dispose!==null&&t!==!1;for(let r=e.children.length-1;r>=0;r--){const l=e.children[r];hb(e,l,a)}e.children.length=0,delete e.object.__r3f,a&&e.type!=="primitive"&&e.object.type!=="Scene"&&gI(e.object),t===void 0&&w0(e)}function vV(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const o2=[];function xV(){for(const[t]of o2){const i=t.parent;if(i){t.props.attach?sv(i,t):ps(t.object)&&ps(i.object)&&i.object.remove(t.object);for(const a of t.children)a.props.attach?sv(t,a):ps(a.object)&&ps(t.object)&&t.object.remove(a.object)}t.isHidden&&pI(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&gI(t.object)}for(const[t,i,a]of o2){t.props=i;const r=t.parent;if(r){var n,e;const l=d0[$v(t.type)];t.object=(n=t.props.object)!=null?n:new l(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,vV(a,t.object),Zl(t.object,t.props),t.props.attach?av(r,t):ps(t.object)&&ps(r.object)&&r.object.add(t.object);for(const u of t.children)u.props.attach?av(t,u):ps(u.object)&&ps(t.object)&&t.object.add(u.object);w0(t)}}o2.length=0}const c3=()=>{},HT={};let Wy=dI;const _V=0,bV=4,fb=hV({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:gV,removeChild:hb,appendChild:l3,appendInitialChild:l3,insertBefore:UT,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||l3(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||hb(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||UT(i,e,t)},getRootHostContext:()=>HT,getChildHostContext:()=>HT,commitUpdate(n,e,t,i,a){var r,l,u;mI(e,i);let m=!1;if((n.type==="primitive"&&t.object!==i.object||((r=i.args)==null?void 0:r.length)!==((l=t.args)==null?void 0:l.length)||(u=i.args)!=null&&u.some((v,d)=>{var p;return v!==((p=t.args)==null?void 0:p[d])}))&&(m=!0),m)o2.push([n,{...i},a]);else{const v=iV(n,i);Object.keys(v).length&&(Object.assign(n.props,v),Zl(n.object,v))}(a.sibling===null||(a.flags&bV)===_V)&&xV()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n?.object,prepareForCommit:()=>null,preparePortalMount:n=>iv(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:yV,unhideInstance:pI,createTextInstance:c3,hideTextInstance:c3,unhideTextInstance:c3,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:Y.createContext(null),setCurrentUpdatePriority(n){Wy=n},getCurrentUpdatePriority(){return Wy},resolveUpdatePriority(){var n;if(Wy!==dI)return Wy;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return r2.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return r2.ContinuousEventPriority;default:return r2.DefaultEventPriority}},resetFormInstance(){}}),tf=new Map,Pd={objects:"shallow",strict:!1};function AV(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:a,left:r}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:a,left:r}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function SV(n){const e=tf.get(n),t=e?.fiber,i=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const a=typeof reportError=="function"?reportError:console.error,r=i||cV(pb,FT),l=t||fb.createContainer(r,r2.ConcurrentRoot,null,!1,null,"",a,a,a,null);e||tf.set(n,{fiber:l,store:r});let u,m,g=!1,v=null;return{async configure(d={}){let p;v=new Promise(X=>p=X);let{gl:b,size:C,scene:w,events:E,onCreated:M,shadows:I=!1,linear:B=!1,flat:N=!1,legacy:P=!1,orthographic:U=!1,frameloop:F="always",dpr:j=[1,2],performance:O,raycaster:H,camera:J,onPointerMissed:ie}=d,oe=r.getState(),ge=oe.gl;if(!oe.gl){const X={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},ae=typeof b=="function"?await b(X):b;OT(ae)?ge=ae:ge=new KR({...X,...b}),oe.set({gl:ge})}let ce=oe.raycaster;ce||oe.set({raycaster:ce=new zR});const{params:G,...Z}=H||{};if(ai.equ(Z,ce,Pd)||Zl(ce,{...Z}),ai.equ(G,ce.params,Pd)||Zl(ce,{params:{...ce.params,...G}}),!oe.camera||oe.camera===m&&!ai.equ(m,J,Pd)){m=J;const X=J?.isCamera,ae=X?J:U?new _u(0,0,0,0,.1,1e3):new Ii(75,0,.1,1e3);X||(ae.position.z=5,J&&(Zl(ae,J),ae.manual||("aspect"in J||"left"in J||"right"in J||"bottom"in J||"top"in J)&&(ae.manual=!0,ae.updateProjectionMatrix())),!oe.camera&&!(J!=null&&J.rotation)&&ae.lookAt(0,0,0)),oe.set({camera:ae}),ce.camera=ae}if(!oe.scene){let X;w!=null&&w.isScene?(X=w,iv(X,r,"",{})):(X=new TA,iv(X,r,"",{}),w&&Zl(X,w)),oe.set({scene:X})}E&&!oe.events.handlers&&oe.set({events:E(r)});const Q=AV(n,C);if(ai.equ(Q,oe.size,Pd)||oe.setSize(Q.width,Q.height,Q.top,Q.left),j&&oe.viewport.dpr!==rI(j)&&oe.setDpr(j),oe.frameloop!==F&&oe.setFrameloop(F),oe.onPointerMissed||oe.set({onPointerMissed:ie}),O&&!ai.equ(O,oe.performance,Pd)&&oe.set(X=>({performance:{...X.performance,...O}})),!oe.xr){var le;const X=(Re,Ze)=>{const ve=r.getState();ve.frameloop!=="never"&&FT(Re,!0,ve,Ze)},ae=()=>{const Re=r.getState();Re.gl.xr.enabled=Re.gl.xr.isPresenting,Re.gl.xr.setAnimationLoop(Re.gl.xr.isPresenting?X:null),Re.gl.xr.isPresenting||pb(Re)},Ce={connect(){const Re=r.getState().gl;Re.xr.addEventListener("sessionstart",ae),Re.xr.addEventListener("sessionend",ae)},disconnect(){const Re=r.getState().gl;Re.xr.removeEventListener("sessionstart",ae),Re.xr.removeEventListener("sessionend",ae)}};typeof((le=ge.xr)==null?void 0:le.addEventListener)=="function"&&Ce.connect(),oe.set({xr:Ce})}if(ge.shadowMap){const X=ge.shadowMap.enabled,ae=ge.shadowMap.type;if(ge.shadowMap.enabled=!!I,ai.boo(I))ge.shadowMap.type=Tp;else if(ai.str(I)){var ye;const Ce={basic:tw,percentage:xv,soft:Tp,variance:so};ge.shadowMap.type=(ye=Ce[I])!=null?ye:Tp}else ai.obj(I)&&Object.assign(ge.shadowMap,I);(X!==ge.shadowMap.enabled||ae!==ge.shadowMap.type)&&(ge.shadowMap.needsUpdate=!0)}return An.enabled=!P,g||(ge.outputColorSpace=B?mu:Ga,ge.toneMapping=N?$o:fA),oe.legacy!==P&&oe.set(()=>({legacy:P})),oe.linear!==B&&oe.set(()=>({linear:B})),oe.flat!==N&&oe.set(()=>({flat:N})),b&&!ai.fun(b)&&!OT(b)&&!ai.equ(b,ge,Pd)&&Zl(ge,b),u=M,g=!0,p(),this},render(d){return!g&&!v&&this.configure(),v.then(()=>{fb.updateContainer(_.jsx(MV,{store:r,children:d,onCreated:u,rootElement:n}),l,null,()=>{})}),r},unmount(){yI(n)}}}function MV({store:n,children:e,onCreated:t,rootElement:i}){return Sg(()=>{const a=n.getState();a.set(r=>({internal:{...r.internal,active:!0}})),t&&t(a),n.getState().events.connected||a.events.connect==null||a.events.connect(i)},[]),_.jsx(cI.Provider,{value:n,children:e})}function yI(n,e){const t=tf.get(n),i=t?.fiber;if(i){const a=t?.store.getState();a&&(a.internal.active=!1),fb.updateContainer(null,i,null,()=>{a&&setTimeout(()=>{try{var r,l,u,m;a.events.disconnect==null||a.events.disconnect(),(r=a.gl)==null||(l=r.renderLists)==null||l.dispose==null||l.dispose(),(u=a.gl)==null||u.forceContextLoss==null||u.forceContextLoss(),(m=a.gl)!=null&&m.xr&&a.xr.disconnect(),eV(a.scene),tf.delete(n)}catch{}},500)})}}function CV(n,e){const t={callback:n};return e.add(t),()=>void e.delete(t)}const vI=new Set,EV=new Set,TV=new Set,wV=n=>CV(n,vI);function u3(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Op(n,e){switch(n){case"before":return u3(vI,e);case"after":return u3(EV,e);case"tail":return u3(TV,e)}}let h3,f3;function db(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),h3=e.internal.subscribers;for(let a=0;a<h3.length;a++)f3=h3[a],f3.ref.current(f3.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let rv=!1,mb=!1,d3,jT,Ud;function xI(n){jT=requestAnimationFrame(xI),rv=!0,d3=0,Op("before",n),mb=!0;for(const t of tf.values()){var e;Ud=t.store.getState(),Ud.internal.active&&(Ud.frameloop==="always"||Ud.internal.frames>0)&&!((e=Ud.gl.xr)!=null&&e.isPresenting)&&(d3+=db(n,Ud))}if(mb=!1,Op("after",n),d3===0)return Op("tail",n),rv=!1,cancelAnimationFrame(jT)}function pb(n,e=1){var t;if(!n)return tf.forEach(i=>pb(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):mb?n.internal.frames=2:n.internal.frames=1,rv||(rv=!0,requestAnimationFrame(xI)))}function FT(n,e=!0,t,i){if(e&&Op("before",n),t)db(n,t,i);else for(const a of tf.values())db(n,a.store.getState());e&&Op("after",n)}const m3={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function RV(n){const{handlePointer:e}=lV(n);return{priority:1,enabled:!0,compute(t,i,a){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(m3).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:a}=n.getState();(t=a.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(a.lastEvent.current)},connect:t=>{const{set:i,events:a}=n.getState();if(a.disconnect==null||a.disconnect(),i(r=>({events:{...r.events,connected:t}})),a.handlers)for(const r in a.handlers){const l=a.handlers[r],[u,m]=m3[r];t.addEventListener(u,l,{passive:m})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const a in i.handlers){const r=i.handlers[a],[l]=m3[a];i.connected.removeEventListener(l,r)}t(a=>({events:{...a.events,connected:void 0}}))}}}}function GT(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function IV({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const a=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[r,l]=Y.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),u=Y.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:r,orientationHandler:null}),m=n?typeof n=="number"?n:n.scroll:null,g=n?typeof n=="number"?n:n.resize:null,v=Y.useRef(!1);Y.useEffect(()=>(v.current=!0,()=>void(v.current=!1)));const[d,p,b]=Y.useMemo(()=>{const M=()=>{if(!u.current.element)return;const{left:I,top:B,width:N,height:P,bottom:U,right:F,x:j,y:O}=u.current.element.getBoundingClientRect(),H={left:I,top:B,width:N,height:P,bottom:U,right:F,x:j,y:O};u.current.element instanceof HTMLElement&&i&&(H.height=u.current.element.offsetHeight,H.width=u.current.element.offsetWidth),Object.freeze(H),v.current&&!LV(u.current.lastBounds,H)&&l(u.current.lastBounds=H)};return[M,g?GT(M,g):M,m?GT(M,m):M]},[l,i,m,g]);function C(){u.current.scrollContainers&&(u.current.scrollContainers.forEach(M=>M.removeEventListener("scroll",b,!0)),u.current.scrollContainers=null),u.current.resizeObserver&&(u.current.resizeObserver.disconnect(),u.current.resizeObserver=null),u.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",u.current.orientationHandler))}function w(){u.current.element&&(u.current.resizeObserver=new a(b),u.current.resizeObserver.observe(u.current.element),e&&u.current.scrollContainers&&u.current.scrollContainers.forEach(M=>M.addEventListener("scroll",b,{capture:!0,passive:!0})),u.current.orientationHandler=()=>{b()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",u.current.orientationHandler))}const E=M=>{!M||M===u.current.element||(C(),u.current.element=M,u.current.scrollContainers=_I(M),w())};return DV(b,!!e),BV(p),Y.useEffect(()=>{C(),w()},[e,b,p]),Y.useEffect(()=>C,[]),[E,r,d]}function BV(n){Y.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function DV(n,e){Y.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function _I(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:a}=window.getComputedStyle(n);return[t,i,a].some(r=>r==="auto"||r==="scroll")&&e.push(n),[...e,..._I(n.parentElement)]}const NV=["x","y","top","bottom","left","right","width","height"],LV=(n,e)=>NV.every(t=>n[t]===e[t]);function OV({ref:n,children:e,fallback:t,resize:i,style:a,gl:r,events:l=RV,eventSource:u,eventPrefix:m,shadows:g,linear:v,flat:d,legacy:p,orthographic:b,frameloop:C,dpr:w,performance:E,raycaster:M,camera:I,scene:B,onPointerMissed:N,onCreated:P,...U}){Y.useMemo(()=>pV(qR),[]);const F=Kz(),[j,O]=IV({scroll:!0,debounce:{scroll:50,resize:0},...i}),H=Y.useRef(null),J=Y.useRef(null);Y.useImperativeHandle(n,()=>H.current);const ie=sI(N),[oe,ge]=Y.useState(!1),[ce,G]=Y.useState(!1);if(oe)throw oe;if(ce)throw ce;const Z=Y.useRef(null);Sg(()=>{const le=H.current;if(O.width>0&&O.height>0&&le){Z.current||(Z.current=SV(le));async function ye(){await Z.current.configure({gl:r,scene:B,events:l,shadows:g,linear:v,flat:d,legacy:p,orthographic:b,frameloop:C,dpr:w,performance:E,raycaster:M,camera:I,size:O,onPointerMissed:(...X)=>ie.current==null?void 0:ie.current(...X),onCreated:X=>{X.events.connect==null||X.events.connect(u?Jz(u)?u.current:u:J.current),m&&X.setEvents({compute:(ae,Ce)=>{const Re=ae[m+"X"],Ze=ae[m+"Y"];Ce.pointer.set(Re/Ce.size.width*2-1,-(Ze/Ce.size.height)*2+1),Ce.raycaster.setFromCamera(Ce.pointer,Ce.camera)}}),P?.(X)}}),Z.current.render(_.jsx(F,{children:_.jsx(Qz,{set:G,children:_.jsx(Y.Suspense,{fallback:_.jsx(qz,{set:ge}),children:e??null})})}))}ye()}}),Y.useEffect(()=>{const le=H.current;if(le)return()=>yI(le)},[]);const Q=u?"none":"auto";return _.jsx("div",{ref:J,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Q,...a},...U,children:_.jsx("div",{ref:j,style:{width:"100%",height:"100%"},children:_.jsx("canvas",{ref:H,style:{display:"block"},children:t})})})}function PV(n){return _.jsx(tI,{children:_.jsx(OV,{...n})})}const Eg=new K,oS=new K,UV=new K,zT=new ze;function HV(n,e,t){const i=Eg.setFromMatrixPosition(n.matrixWorld);i.project(e);const a=t.width/2,r=t.height/2;return[i.x*a+a,-(i.y*r)+r]}function jV(n,e){const t=Eg.setFromMatrixPosition(n.matrixWorld),i=oS.setFromMatrixPosition(e.matrixWorld),a=t.sub(i),r=e.getWorldDirection(UV);return a.angleTo(r)>Math.PI/2}function FV(n,e,t,i){const a=Eg.setFromMatrixPosition(n.matrixWorld),r=a.clone();r.project(e),zT.set(r.x,r.y),t.setFromCamera(zT,e);const l=t.intersectObjects(i,!0);if(l.length){const u=l[0].distance;return a.distanceTo(t.ray.origin)<u}return!0}function GV(n,e){if(e instanceof _u)return e.zoom;if(e instanceof Ii){const t=Eg.setFromMatrixPosition(n.matrixWorld),i=oS.setFromMatrixPosition(e.matrixWorld),a=e.fov*Math.PI/180,r=t.distanceTo(i);return 1/(2*Math.tan(a/2)*r)}else return 1}function zV(n,e,t){if(e instanceof Ii||e instanceof _u){const i=Eg.setFromMatrixPosition(n.matrixWorld),a=oS.setFromMatrixPosition(e.matrixWorld),r=i.distanceTo(a),l=(t[1]-t[0])/(e.far-e.near),u=t[1]-l*e.far;return Math.round(l*r+u)}}const gb=n=>Math.abs(n)<1e-10?0:n;function bI(n,e,t=""){let i="matrix3d(";for(let a=0;a!==16;a++)i+=gb(e[a]*n.elements[a])+(a!==15?",":")");return t+i}const VV=(n=>e=>bI(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),kV=(n=>(e,t)=>bI(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function WV(n){return n&&typeof n=="object"&&"current"in n}const ZV=Y.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:a,center:r,fullscreen:l,portal:u,distanceFactor:m,sprite:g=!1,transform:v=!1,occlude:d,onOcclude:p,castShadow:b,receiveShadow:C,material:w,geometry:E,zIndexRange:M=[16777271,0],calculatePosition:I=HV,as:B="div",wrapperClass:N,pointerEvents:P="auto",...U},F)=>{const{gl:j,camera:O,scene:H,size:J,raycaster:ie,events:oe,viewport:ge}=hI(),[ce]=Y.useState(()=>document.createElement(B)),G=Y.useRef(null),Z=Y.useRef(null),Q=Y.useRef(0),le=Y.useRef([0,0]),ye=Y.useRef(null),X=Y.useRef(null),ae=u?.current||oe.connected||j.domElement.parentNode,Ce=Y.useRef(null),Re=Y.useRef(!1),Ze=Y.useMemo(()=>d&&d!=="blending"||Array.isArray(d)&&d.length&&WV(d[0]),[d]);Y.useLayoutEffect(()=>{const at=j.domElement;d&&d==="blending"?(at.style.zIndex=`${Math.floor(M[0]/2)}`,at.style.position="absolute",at.style.pointerEvents="none"):(at.style.zIndex=null,at.style.position=null,at.style.pointerEvents=null)},[d]),Y.useLayoutEffect(()=>{if(Z.current){const at=G.current=s4.createRoot(ce);if(H.updateMatrixWorld(),v)ce.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const ht=I(Z.current,O,J);ce.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${ht[0]}px,${ht[1]}px,0);transform-origin:0 0;`}return ae&&(a?ae.prepend(ce):ae.appendChild(ce)),()=>{ae&&ae.removeChild(ce),at.unmount()}}},[ae,v]),Y.useLayoutEffect(()=>{N&&(ce.className=N)},[N]);const ve=Y.useMemo(()=>v?{position:"absolute",top:0,left:0,width:J.width,height:J.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:r?"translate3d(-50%,-50%,0)":"none",...l&&{top:-J.height/2,left:-J.width/2,width:J.width,height:J.height},...t},[t,r,l,J,v]),we=Y.useMemo(()=>({position:"absolute",pointerEvents:P}),[P]);Y.useLayoutEffect(()=>{if(Re.current=!1,v){var at;(at=G.current)==null||at.render(Y.createElement("div",{ref:ye,style:ve},Y.createElement("div",{ref:X,style:we},Y.createElement("div",{ref:F,className:i,style:t,children:n}))))}else{var ht;(ht=G.current)==null||ht.render(Y.createElement("div",{ref:F,style:ve,className:i,children:n}))}});const Ke=Y.useRef(!0);Mg(at=>{if(Z.current){O.updateMatrixWorld(),Z.current.updateWorldMatrix(!0,!1);const ht=v?le.current:I(Z.current,O,J);if(v||Math.abs(Q.current-O.zoom)>e||Math.abs(le.current[0]-ht[0])>e||Math.abs(le.current[1]-ht[1])>e){const kt=jV(Z.current,O);let $=!1;Ze&&(Array.isArray(d)?$=d.map(Be=>Be.current):d!=="blending"&&($=[H]));const Pe=Ke.current;if($){const Be=FV(Z.current,O,ie,$);Ke.current=Be&&!kt}else Ke.current=!kt;Pe!==Ke.current&&(p?p(!Ke.current):ce.style.display=Ke.current?"block":"none");const Ne=Math.floor(M[0]/2),Le=d?Ze?[M[0],Ne]:[Ne-1,0]:M;if(ce.style.zIndex=`${zV(Z.current,O,Le)}`,v){const[Be,$e]=[J.width/2,J.height/2],ke=O.projectionMatrix.elements[5]*$e,{isOrthographicCamera:Je,top:Rt,left:Lt,bottom:q,right:z}=O,me=VV(O.matrixWorldInverse),Te=Je?`scale(${ke})translate(${gb(-(z+Lt)/2)}px,${gb((Rt+q)/2)}px)`:`translateZ(${ke}px)`;let He=Z.current.matrixWorld;g&&(He=O.matrixWorldInverse.clone().transpose().copyPosition(He).scale(Z.current.scale),He.elements[3]=He.elements[7]=He.elements[11]=0,He.elements[15]=1),ce.style.width=J.width+"px",ce.style.height=J.height+"px",ce.style.perspective=Je?"":`${ke}px`,ye.current&&X.current&&(ye.current.style.transform=`${Te}${me}translate(${Be}px,${$e}px)`,X.current.style.transform=kV(He,1/((m||10)/400)))}else{const Be=m===void 0?1:GV(Z.current,O)*m;ce.style.transform=`translate3d(${ht[0]}px,${ht[1]}px,0) scale(${Be})`}le.current=ht,Q.current=O.zoom}}if(!Ze&&Ce.current&&!Re.current)if(v){if(ye.current){const ht=ye.current.children[0];if(ht!=null&&ht.clientWidth&&ht!=null&&ht.clientHeight){const{isOrthographicCamera:kt}=O;if(kt||E)U.scale&&(Array.isArray(U.scale)?U.scale instanceof K?Ce.current.scale.copy(U.scale.clone().divideScalar(1)):Ce.current.scale.set(1/U.scale[0],1/U.scale[1],1/U.scale[2]):Ce.current.scale.setScalar(1/U.scale));else{const $=(m||10)/400,Pe=ht.clientWidth*$,Ne=ht.clientHeight*$;Ce.current.scale.set(Pe,Ne,1)}Re.current=!0}}}else{const ht=ce.children[0];if(ht!=null&&ht.clientWidth&&ht!=null&&ht.clientHeight){const kt=1/ge.factor,$=ht.clientWidth*kt,Pe=ht.clientHeight*kt;Ce.current.scale.set($,Pe,1),Re.current=!0}Ce.current.lookAt(at.camera.position)}});const it=Y.useMemo(()=>({vertexShader:v?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[v]);return Y.createElement("group",J3({},U,{ref:Z}),d&&!Ze&&Y.createElement("mesh",{castShadow:b,receiveShadow:C,ref:Ce},E||Y.createElement("planeGeometry",null),w||Y.createElement("shaderMaterial",{side:Sr,vertexShader:it.vertexShader,fragmentShader:it.fragmentShader})))}),XV=parseInt(fg.replace(/\D+/g,""));function VT(n,e){if(e===Dw)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===Q2||e===bA){let t=n.getIndex();if(t===null){const l=[],u=n.getAttribute("position");if(u!==void 0){for(let m=0;m<u.count;m++)l.push(m);n.setIndex(l),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,a=[];if(t)if(e===Q2)for(let l=1;l<=i;l++)a.push(t.getX(0)),a.push(t.getX(l)),a.push(t.getX(l+1));else for(let l=0;l<i;l++)l%2===0?(a.push(t.getX(l)),a.push(t.getX(l+1)),a.push(t.getX(l+2))):(a.push(t.getX(l+2)),a.push(t.getX(l+1)),a.push(t.getX(l)));a.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=n.clone();return r.setIndex(a),r.clearGroups(),r}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}function ov(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,i=n.length;t<i;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const Vh="srgb",ql="srgb-linear",kT=3001,JV=3e3;class lS extends Za{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new $V(t)}),this.register(function(t){return new ek(t)}),this.register(function(t){return new ck(t)}),this.register(function(t){return new uk(t)}),this.register(function(t){return new hk(t)}),this.register(function(t){return new nk(t)}),this.register(function(t){return new ik(t)}),this.register(function(t){return new ak(t)}),this.register(function(t){return new sk(t)}),this.register(function(t){return new QV(t)}),this.register(function(t){return new rk(t)}),this.register(function(t){return new tk(t)}),this.register(function(t){return new lk(t)}),this.register(function(t){return new ok(t)}),this.register(function(t){return new KV(t)}),this.register(function(t){return new fk(t)}),this.register(function(t){return new dk(t)})}load(e,t,i,a){const r=this;let l;if(this.resourcePath!=="")l=this.resourcePath;else if(this.path!==""){const g=lu.extractUrlBase(e);l=lu.resolveURL(g,this.path)}else l=lu.extractUrlBase(e);this.manager.itemStart(e);const u=function(g){a?a(g):console.error(g),r.manager.itemError(e),r.manager.itemEnd(e)},m=new qs(this.manager);m.setPath(this.path),m.setResponseType("arraybuffer"),m.setRequestHeader(this.requestHeader),m.setWithCredentials(this.withCredentials),m.load(e,function(g){try{r.parse(g,l,function(v){t(v),r.manager.itemEnd(e)},u)}catch(v){u(v)}},i,u)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,a){let r;const l={},u={};if(typeof e=="string")r=JSON.parse(e);else if(e instanceof ArrayBuffer)if(ov(new Uint8Array(e.slice(0,4)))===AI){try{l[fn.KHR_BINARY_GLTF]=new mk(e)}catch(v){a&&a(v);return}r=JSON.parse(l[fn.KHR_BINARY_GLTF].content)}else r=JSON.parse(ov(new Uint8Array(e)));else r=e;if(r.asset===void 0||r.asset.version[0]<2){a&&a(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const m=new Tk(r,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});m.fileLoader.setRequestHeader(this.requestHeader);for(let g=0;g<this.pluginCallbacks.length;g++){const v=this.pluginCallbacks[g](m);v.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),u[v.name]=v,l[v.name]=!0}if(r.extensionsUsed)for(let g=0;g<r.extensionsUsed.length;++g){const v=r.extensionsUsed[g],d=r.extensionsRequired||[];switch(v){case fn.KHR_MATERIALS_UNLIT:l[v]=new qV;break;case fn.KHR_DRACO_MESH_COMPRESSION:l[v]=new pk(r,this.dracoLoader);break;case fn.KHR_TEXTURE_TRANSFORM:l[v]=new gk;break;case fn.KHR_MESH_QUANTIZATION:l[v]=new yk;break;default:d.indexOf(v)>=0&&u[v]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+v+'".')}}m.setExtensions(l),m.setPlugins(u),m.parse(i,a)}parseAsync(e,t){const i=this;return new Promise(function(a,r){i.parse(e,t,a,r)})}}function YV(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const fn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class KV{constructor(e){this.parser=e,this.name=fn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,a=t.length;i<a;i++){const r=t[i];r.extensions&&r.extensions[this.name]&&r.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let a=t.cache.get(i);if(a)return a;const r=t.json,m=((r.extensions&&r.extensions[this.name]||{}).lights||[])[e];let g;const v=new ot(16777215);m.color!==void 0&&v.setRGB(m.color[0],m.color[1],m.color[2],ql);const d=m.range!==void 0?m.range:0;switch(m.type){case"directional":g=new KA(v),g.target.position.set(0,0,-1),g.add(g.target);break;case"point":g=new YA(v),g.distance=d;break;case"spot":g=new JA(v),g.distance=d,m.spot=m.spot||{},m.spot.innerConeAngle=m.spot.innerConeAngle!==void 0?m.spot.innerConeAngle:0,m.spot.outerConeAngle=m.spot.outerConeAngle!==void 0?m.spot.outerConeAngle:Math.PI/4,g.angle=m.spot.outerConeAngle,g.penumbra=1-m.spot.innerConeAngle/m.spot.outerConeAngle,g.target.position.set(0,0,-1),g.add(g.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+m.type)}return g.position.set(0,0,0),g.decay=2,Vl(g,m),m.intensity!==void 0&&(g.intensity=m.intensity),g.name=t.createUniqueName(m.name||"light_"+e),a=Promise.resolve(g),t.cache.add(i,a),a}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,r=i.json.nodes[e],u=(r.extensions&&r.extensions[this.name]||{}).light;return u===void 0?null:this._loadLight(u).then(function(m){return i._getNodeRef(t.cache,u,m)})}}class qV{constructor(){this.name=fn.KHR_MATERIALS_UNLIT}getMaterialType(){return Js}extendParams(e,t,i){const a=[];e.color=new ot(1,1,1),e.opacity=1;const r=t.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const l=r.baseColorFactor;e.color.setRGB(l[0],l[1],l[2],ql),e.opacity=l[3]}r.baseColorTexture!==void 0&&a.push(i.assignTexture(e,"map",r.baseColorTexture,Vh))}return Promise.all(a)}}class QV{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const a=this.parser.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const r=a.extensions[this.name].emissiveStrength;return r!==void 0&&(t.emissiveIntensity=r),Promise.resolve()}}class $V{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ir}extendMaterialParams(e,t){const i=this.parser,a=i.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const r=[],l=a.extensions[this.name];if(l.clearcoatFactor!==void 0&&(t.clearcoat=l.clearcoatFactor),l.clearcoatTexture!==void 0&&r.push(i.assignTexture(t,"clearcoatMap",l.clearcoatTexture)),l.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=l.clearcoatRoughnessFactor),l.clearcoatRoughnessTexture!==void 0&&r.push(i.assignTexture(t,"clearcoatRoughnessMap",l.clearcoatRoughnessTexture)),l.clearcoatNormalTexture!==void 0&&(r.push(i.assignTexture(t,"clearcoatNormalMap",l.clearcoatNormalTexture)),l.clearcoatNormalTexture.scale!==void 0)){const u=l.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new ze(u,u)}return Promise.all(r)}}class ek{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ir}extendMaterialParams(e,t){const a=this.parser.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const r=a.extensions[this.name];return t.dispersion=r.dispersion!==void 0?r.dispersion:0,Promise.resolve()}}class tk{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ir}extendMaterialParams(e,t){const i=this.parser,a=i.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const r=[],l=a.extensions[this.name];return l.iridescenceFactor!==void 0&&(t.iridescence=l.iridescenceFactor),l.iridescenceTexture!==void 0&&r.push(i.assignTexture(t,"iridescenceMap",l.iridescenceTexture)),l.iridescenceIor!==void 0&&(t.iridescenceIOR=l.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),l.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=l.iridescenceThicknessMinimum),l.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=l.iridescenceThicknessMaximum),l.iridescenceThicknessTexture!==void 0&&r.push(i.assignTexture(t,"iridescenceThicknessMap",l.iridescenceThicknessTexture)),Promise.all(r)}}class nk{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ir}extendMaterialParams(e,t){const i=this.parser,a=i.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const r=[];t.sheenColor=new ot(0,0,0),t.sheenRoughness=0,t.sheen=1;const l=a.extensions[this.name];if(l.sheenColorFactor!==void 0){const u=l.sheenColorFactor;t.sheenColor.setRGB(u[0],u[1],u[2],ql)}return l.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=l.sheenRoughnessFactor),l.sheenColorTexture!==void 0&&r.push(i.assignTexture(t,"sheenColorMap",l.sheenColorTexture,Vh)),l.sheenRoughnessTexture!==void 0&&r.push(i.assignTexture(t,"sheenRoughnessMap",l.sheenRoughnessTexture)),Promise.all(r)}}class ik{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ir}extendMaterialParams(e,t){const i=this.parser,a=i.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const r=[],l=a.extensions[this.name];return l.transmissionFactor!==void 0&&(t.transmission=l.transmissionFactor),l.transmissionTexture!==void 0&&r.push(i.assignTexture(t,"transmissionMap",l.transmissionTexture)),Promise.all(r)}}class ak{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ir}extendMaterialParams(e,t){const i=this.parser,a=i.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const r=[],l=a.extensions[this.name];t.thickness=l.thicknessFactor!==void 0?l.thicknessFactor:0,l.thicknessTexture!==void 0&&r.push(i.assignTexture(t,"thicknessMap",l.thicknessTexture)),t.attenuationDistance=l.attenuationDistance||1/0;const u=l.attenuationColor||[1,1,1];return t.attenuationColor=new ot().setRGB(u[0],u[1],u[2],ql),Promise.all(r)}}class sk{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ir}extendMaterialParams(e,t){const a=this.parser.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const r=a.extensions[this.name];return t.ior=r.ior!==void 0?r.ior:1.5,Promise.resolve()}}class rk{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ir}extendMaterialParams(e,t){const i=this.parser,a=i.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const r=[],l=a.extensions[this.name];t.specularIntensity=l.specularFactor!==void 0?l.specularFactor:1,l.specularTexture!==void 0&&r.push(i.assignTexture(t,"specularIntensityMap",l.specularTexture));const u=l.specularColorFactor||[1,1,1];return t.specularColor=new ot().setRGB(u[0],u[1],u[2],ql),l.specularColorTexture!==void 0&&r.push(i.assignTexture(t,"specularColorMap",l.specularColorTexture,Vh)),Promise.all(r)}}class ok{constructor(e){this.parser=e,this.name=fn.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ir}extendMaterialParams(e,t){const i=this.parser,a=i.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const r=[],l=a.extensions[this.name];return t.bumpScale=l.bumpFactor!==void 0?l.bumpFactor:1,l.bumpTexture!==void 0&&r.push(i.assignTexture(t,"bumpMap",l.bumpTexture)),Promise.all(r)}}class lk{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ir}extendMaterialParams(e,t){const i=this.parser,a=i.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const r=[],l=a.extensions[this.name];return l.anisotropyStrength!==void 0&&(t.anisotropy=l.anisotropyStrength),l.anisotropyRotation!==void 0&&(t.anisotropyRotation=l.anisotropyRotation),l.anisotropyTexture!==void 0&&r.push(i.assignTexture(t,"anisotropyMap",l.anisotropyTexture)),Promise.all(r)}}class ck{constructor(e){this.parser=e,this.name=fn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,a=i.textures[e];if(!a.extensions||!a.extensions[this.name])return null;const r=a.extensions[this.name],l=t.options.ktx2Loader;if(!l){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,r.source,l)}}class uk{constructor(e){this.parser=e,this.name=fn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,a=i.json,r=a.textures[e];if(!r.extensions||!r.extensions[t])return null;const l=r.extensions[t],u=a.images[l.source];let m=i.textureLoader;if(u.uri){const g=i.options.manager.getHandler(u.uri);g!==null&&(m=g)}return this.detectSupport().then(function(g){if(g)return i.loadTextureImage(e,l.source,m);if(a.extensionsRequired&&a.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class hk{constructor(e){this.parser=e,this.name=fn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,a=i.json,r=a.textures[e];if(!r.extensions||!r.extensions[t])return null;const l=r.extensions[t],u=a.images[l.source];let m=i.textureLoader;if(u.uri){const g=i.options.manager.getHandler(u.uri);g!==null&&(m=g)}return this.detectSupport().then(function(g){if(g)return i.loadTextureImage(e,l.source,m);if(a.extensionsRequired&&a.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class fk{constructor(e){this.name=fn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const a=i.extensions[this.name],r=this.parser.getDependency("buffer",a.buffer),l=this.parser.options.meshoptDecoder;if(!l||!l.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return r.then(function(u){const m=a.byteOffset||0,g=a.byteLength||0,v=a.count,d=a.byteStride,p=new Uint8Array(u,m,g);return l.decodeGltfBufferAsync?l.decodeGltfBufferAsync(v,d,p,a.mode,a.filter).then(function(b){return b.buffer}):l.ready.then(function(){const b=new ArrayBuffer(v*d);return l.decodeGltfBuffer(new Uint8Array(b),v,d,p,a.mode,a.filter),b})})}else return null}}class dk{constructor(e){this.name=fn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const a=t.meshes[i.mesh];for(const g of a.primitives)if(g.mode!==Ar.TRIANGLES&&g.mode!==Ar.TRIANGLE_STRIP&&g.mode!==Ar.TRIANGLE_FAN&&g.mode!==void 0)return null;const l=i.extensions[this.name].attributes,u=[],m={};for(const g in l)u.push(this.parser.getDependency("accessor",l[g]).then(v=>(m[g]=v,m[g])));return u.length<1?null:(u.push(this.parser.createNodeMesh(e)),Promise.all(u).then(g=>{const v=g.pop(),d=v.isGroup?v.children:[v],p=g[0].count,b=[];for(const C of d){const w=new Nt,E=new K,M=new ka,I=new K(1,1,1),B=new IA(C.geometry,C.material,p);for(let N=0;N<p;N++)m.TRANSLATION&&E.fromBufferAttribute(m.TRANSLATION,N),m.ROTATION&&M.fromBufferAttribute(m.ROTATION,N),m.SCALE&&I.fromBufferAttribute(m.SCALE,N),B.setMatrixAt(N,w.compose(E,M,I));for(const N in m)if(N==="_COLOR_0"){const P=m[N];B.instanceColor=new Kh(P.array,P.itemSize,P.normalized)}else N!=="TRANSLATION"&&N!=="ROTATION"&&N!=="SCALE"&&C.geometry.setAttribute(N,m[N]);dn.prototype.copy.call(B,C),this.parser.assignFinalMaterial(B),b.push(B)}return v.isGroup?(v.clear(),v.add(...b),v):b[0]}))}}const AI="glTF",gp=12,WT={JSON:1313821514,BIN:5130562};class mk{constructor(e){this.name=fn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,gp);if(this.header={magic:ov(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==AI)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-gp,a=new DataView(e,gp);let r=0;for(;r<i;){const l=a.getUint32(r,!0);r+=4;const u=a.getUint32(r,!0);if(r+=4,u===WT.JSON){const m=new Uint8Array(e,gp+r,l);this.content=ov(m)}else if(u===WT.BIN){const m=gp+r;this.body=e.slice(m,m+l)}r+=l}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class pk{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=fn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,a=this.dracoLoader,r=e.extensions[this.name].bufferView,l=e.extensions[this.name].attributes,u={},m={},g={};for(const v in l){const d=yb[v]||v.toLowerCase();u[d]=l[v]}for(const v in e.attributes){const d=yb[v]||v.toLowerCase();if(l[v]!==void 0){const p=i.accessors[e.attributes[v]],b=Kd[p.componentType];g[d]=b.name,m[d]=p.normalized===!0}}return t.getDependency("bufferView",r).then(function(v){return new Promise(function(d,p){a.decodeDracoFile(v,function(b){for(const C in b.attributes){const w=b.attributes[C],E=m[C];E!==void 0&&(w.normalized=E)}d(b)},u,g,ql,p)})})}}class gk{constructor(){this.name=fn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class yk{constructor(){this.name=fn.KHR_MESH_QUANTIZATION}}class SI extends E0{constructor(e,t,i,a){super(e,t,i,a)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,a=this.valueSize,r=e*a*3+a;for(let l=0;l!==a;l++)t[l]=i[r+l];return t}interpolate_(e,t,i,a){const r=this.resultBuffer,l=this.sampleValues,u=this.valueSize,m=u*2,g=u*3,v=a-t,d=(i-t)/v,p=d*d,b=p*d,C=e*g,w=C-g,E=-2*b+3*p,M=b-p,I=1-E,B=M-p+d;for(let N=0;N!==u;N++){const P=l[w+N+u],U=l[w+N+m]*v,F=l[C+N+u],j=l[C+N]*v;r[N]=I*P+B*U+E*F+M*j}return r}}const vk=new ka;class xk extends SI{interpolate_(e,t,i,a){const r=super.interpolate_(e,t,i,a);return vk.fromArray(r).normalize().toArray(r),r}}const Ar={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Kd={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},ZT={9728:fa,9729:Bi,9984:bv,9985:Jd,9986:Hh,9987:Er},XT={33071:Zs,33648:e0,10497:du},p3={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},yb={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...XV>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},eu={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},_k={CUBICSPLINE:void 0,LINEAR:r0,STEP:s0},g3={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function bk(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Ag({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:tl})),n.DefaultMaterial}function wh(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function Vl(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Ak(n,e,t){let i=!1,a=!1,r=!1;for(let g=0,v=e.length;g<v;g++){const d=e[g];if(d.POSITION!==void 0&&(i=!0),d.NORMAL!==void 0&&(a=!0),d.COLOR_0!==void 0&&(r=!0),i&&a&&r)break}if(!i&&!a&&!r)return Promise.resolve(n);const l=[],u=[],m=[];for(let g=0,v=e.length;g<v;g++){const d=e[g];if(i){const p=d.POSITION!==void 0?t.getDependency("accessor",d.POSITION):n.attributes.position;l.push(p)}if(a){const p=d.NORMAL!==void 0?t.getDependency("accessor",d.NORMAL):n.attributes.normal;u.push(p)}if(r){const p=d.COLOR_0!==void 0?t.getDependency("accessor",d.COLOR_0):n.attributes.color;m.push(p)}}return Promise.all([Promise.all(l),Promise.all(u),Promise.all(m)]).then(function(g){const v=g[0],d=g[1],p=g[2];return i&&(n.morphAttributes.position=v),a&&(n.morphAttributes.normal=d),r&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function Sk(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,a=t.length;i<a;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Mk(n){let e;const t=n.extensions&&n.extensions[fn.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+y3(t.attributes):e=n.indices+":"+y3(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,a=n.targets.length;i<a;i++)e+=":"+y3(n.targets[i]);return e}function y3(n){let e="";const t=Object.keys(n).sort();for(let i=0,a=t.length;i<a;i++)e+=t[i]+":"+n[t[i]]+";";return e}function vb(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Ck(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Ek=new Nt;class Tk{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new YV,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,a=!1,r=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,a=navigator.userAgent.indexOf("Firefox")>-1,r=a?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||a&&r<98?this.textureLoader=new wR(this.options.manager):this.textureLoader=new PR(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new qs(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,a=this.json,r=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(l){return l._markDefs&&l._markDefs()}),Promise.all(this._invokeAll(function(l){return l.beforeRoot&&l.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(l){const u={scene:l[0][a.scene||0],scenes:l[0],animations:l[1],cameras:l[2],asset:a.asset,parser:i,userData:{}};return wh(r,u,a),Vl(u,a),Promise.all(i._invokeAll(function(m){return m.afterRoot&&m.afterRoot(u)})).then(function(){for(const m of u.scenes)m.updateMatrixWorld();e(u)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let a=0,r=t.length;a<r;a++){const l=t[a].joints;for(let u=0,m=l.length;u<m;u++)e[l[u]].isBone=!0}for(let a=0,r=e.length;a<r;a++){const l=e[a];l.mesh!==void 0&&(this._addNodeRef(this.meshCache,l.mesh),l.skin!==void 0&&(i[l.mesh].isSkinnedMesh=!0)),l.camera!==void 0&&this._addNodeRef(this.cameraCache,l.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const a=i.clone(),r=(l,u)=>{const m=this.associations.get(l);m!=null&&this.associations.set(u,m);for(const[g,v]of l.children.entries())r(v,u.children[g])};return r(i,a),a.name+="_instance_"+e.uses[t]++,a}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const a=e(t[i]);if(a)return a}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let a=0;a<t.length;a++){const r=e(t[a]);r&&i.push(r)}return i}getDependency(e,t){const i=e+":"+t;let a=this.cache.get(i);if(!a){switch(e){case"scene":a=this.loadScene(t);break;case"node":a=this._invokeOne(function(r){return r.loadNode&&r.loadNode(t)});break;case"mesh":a=this._invokeOne(function(r){return r.loadMesh&&r.loadMesh(t)});break;case"accessor":a=this.loadAccessor(t);break;case"bufferView":a=this._invokeOne(function(r){return r.loadBufferView&&r.loadBufferView(t)});break;case"buffer":a=this.loadBuffer(t);break;case"material":a=this._invokeOne(function(r){return r.loadMaterial&&r.loadMaterial(t)});break;case"texture":a=this._invokeOne(function(r){return r.loadTexture&&r.loadTexture(t)});break;case"skin":a=this.loadSkin(t);break;case"animation":a=this._invokeOne(function(r){return r.loadAnimation&&r.loadAnimation(t)});break;case"camera":a=this.loadCamera(t);break;default:if(a=this._invokeOne(function(r){return r!=this&&r.getDependency&&r.getDependency(e,t)}),!a)throw new Error("Unknown type: "+e);break}this.cache.add(i,a)}return a}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,a=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(a.map(function(r,l){return i.getDependency(e,l)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[fn.KHR_BINARY_GLTF].body);const a=this.options;return new Promise(function(r,l){i.load(lu.resolveURL(t.uri,a.path),r,void 0,function(){l(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const a=t.byteLength||0,r=t.byteOffset||0;return i.slice(r,r+a)})}loadAccessor(e){const t=this,i=this.json,a=this.json.accessors[e];if(a.bufferView===void 0&&a.sparse===void 0){const l=p3[a.type],u=Kd[a.componentType],m=a.normalized===!0,g=new u(a.count*l);return Promise.resolve(new Rn(g,l,m))}const r=[];return a.bufferView!==void 0?r.push(this.getDependency("bufferView",a.bufferView)):r.push(null),a.sparse!==void 0&&(r.push(this.getDependency("bufferView",a.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",a.sparse.values.bufferView))),Promise.all(r).then(function(l){const u=l[0],m=p3[a.type],g=Kd[a.componentType],v=g.BYTES_PER_ELEMENT,d=v*m,p=a.byteOffset||0,b=a.bufferView!==void 0?i.bufferViews[a.bufferView].byteStride:void 0,C=a.normalized===!0;let w,E;if(b&&b!==d){const M=Math.floor(p/b),I="InterleavedBuffer:"+a.bufferView+":"+a.componentType+":"+M+":"+a.count;let B=t.cache.get(I);B||(w=new g(u,M*b,a.count*b/v),B=new gg(w,b/v),t.cache.add(I,B)),E=new pu(B,m,p%b/v,C)}else u===null?w=new g(a.count*m):w=new g(u,p,a.count*m),E=new Rn(w,m,C);if(a.sparse!==void 0){const M=p3.SCALAR,I=Kd[a.sparse.indices.componentType],B=a.sparse.indices.byteOffset||0,N=a.sparse.values.byteOffset||0,P=new I(l[1],B,a.sparse.count*M),U=new g(l[2],N,a.sparse.count*m);u!==null&&(E=new Rn(E.array.slice(),E.itemSize,E.normalized));for(let F=0,j=P.length;F<j;F++){const O=P[F];if(E.setX(O,U[F*m]),m>=2&&E.setY(O,U[F*m+1]),m>=3&&E.setZ(O,U[F*m+2]),m>=4&&E.setW(O,U[F*m+3]),m>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return E})}loadTexture(e){const t=this.json,i=this.options,r=t.textures[e].source,l=t.images[r];let u=this.textureLoader;if(l.uri){const m=i.manager.getHandler(l.uri);m!==null&&(u=m)}return this.loadTextureImage(e,r,u)}loadTextureImage(e,t,i){const a=this,r=this.json,l=r.textures[e],u=r.images[t],m=(u.uri||u.bufferView)+":"+l.sampler;if(this.textureCache[m])return this.textureCache[m];const g=this.loadImageSource(t,i).then(function(v){v.flipY=!1,v.name=l.name||u.name||"",v.name===""&&typeof u.uri=="string"&&u.uri.startsWith("data:image/")===!1&&(v.name=u.uri);const p=(r.samplers||{})[l.sampler]||{};return v.magFilter=ZT[p.magFilter]||Bi,v.minFilter=ZT[p.minFilter]||Er,v.wrapS=XT[p.wrapS]||du,v.wrapT=XT[p.wrapT]||du,a.associations.set(v,{textures:e}),v}).catch(function(){return null});return this.textureCache[m]=g,g}loadImageSource(e,t){const i=this,a=this.json,r=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const l=a.images[e],u=self.URL||self.webkitURL;let m=l.uri||"",g=!1;if(l.bufferView!==void 0)m=i.getDependency("bufferView",l.bufferView).then(function(d){g=!0;const p=new Blob([d],{type:l.mimeType});return m=u.createObjectURL(p),m});else if(l.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const v=Promise.resolve(m).then(function(d){return new Promise(function(p,b){let C=p;t.isImageBitmapLoader===!0&&(C=function(w){const E=new oi(w);E.needsUpdate=!0,p(E)}),t.load(lu.resolveURL(d,r.path),C,void 0,b)})}).then(function(d){return g===!0&&u.revokeObjectURL(m),Vl(d,l),d.userData.mimeType=l.mimeType||Ck(l.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",m),d});return this.sourceCache[e]=v,v}assignTexture(e,t,i,a){const r=this;return this.getDependency("texture",i.index).then(function(l){if(!l)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(l=l.clone(),l.channel=i.texCoord),r.extensions[fn.KHR_TEXTURE_TRANSFORM]){const u=i.extensions!==void 0?i.extensions[fn.KHR_TEXTURE_TRANSFORM]:void 0;if(u){const m=r.associations.get(l);l=r.extensions[fn.KHR_TEXTURE_TRANSFORM].extendTexture(l,u),r.associations.set(l,m)}}return a!==void 0&&(typeof a=="number"&&(a=a===kT?Vh:ql),"colorSpace"in l?l.colorSpace=a:l.encoding=a===Vh?kT:JV),e[t]=l,l})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const a=t.attributes.tangent===void 0,r=t.attributes.color!==void 0,l=t.attributes.normal===void 0;if(e.isPoints){const u="PointsMaterial:"+i.uuid;let m=this.cache.get(u);m||(m=new Pv,Ki.prototype.copy.call(m,i),m.color.copy(i.color),m.map=i.map,m.sizeAttenuation=!1,this.cache.add(u,m)),i=m}else if(e.isLine){const u="LineBasicMaterial:"+i.uuid;let m=this.cache.get(u);m||(m=new Wa,Ki.prototype.copy.call(m,i),m.color.copy(i.color),m.map=i.map,this.cache.add(u,m)),i=m}if(a||r||l){let u="ClonedMaterial:"+i.uuid+":";a&&(u+="derivative-tangents:"),r&&(u+="vertex-colors:"),l&&(u+="flat-shading:");let m=this.cache.get(u);m||(m=i.clone(),r&&(m.vertexColors=!0),l&&(m.flatShading=!0),a&&(m.normalScale&&(m.normalScale.y*=-1),m.clearcoatNormalScale&&(m.clearcoatNormalScale.y*=-1)),this.cache.add(u,m),this.associations.set(m,this.associations.get(i))),i=m}e.material=i}getMaterialType(){return Ag}loadMaterial(e){const t=this,i=this.json,a=this.extensions,r=i.materials[e];let l;const u={},m=r.extensions||{},g=[];if(m[fn.KHR_MATERIALS_UNLIT]){const d=a[fn.KHR_MATERIALS_UNLIT];l=d.getMaterialType(),g.push(d.extendParams(u,r,t))}else{const d=r.pbrMetallicRoughness||{};if(u.color=new ot(1,1,1),u.opacity=1,Array.isArray(d.baseColorFactor)){const p=d.baseColorFactor;u.color.setRGB(p[0],p[1],p[2],ql),u.opacity=p[3]}d.baseColorTexture!==void 0&&g.push(t.assignTexture(u,"map",d.baseColorTexture,Vh)),u.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,u.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(g.push(t.assignTexture(u,"metalnessMap",d.metallicRoughnessTexture)),g.push(t.assignTexture(u,"roughnessMap",d.metallicRoughnessTexture))),l=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),g.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,u)})))}r.doubleSided===!0&&(u.side=Sr);const v=r.alphaMode||g3.OPAQUE;if(v===g3.BLEND?(u.transparent=!0,u.depthWrite=!1):(u.transparent=!1,v===g3.MASK&&(u.alphaTest=r.alphaCutoff!==void 0?r.alphaCutoff:.5)),r.normalTexture!==void 0&&l!==Js&&(g.push(t.assignTexture(u,"normalMap",r.normalTexture)),u.normalScale=new ze(1,1),r.normalTexture.scale!==void 0)){const d=r.normalTexture.scale;u.normalScale.set(d,d)}if(r.occlusionTexture!==void 0&&l!==Js&&(g.push(t.assignTexture(u,"aoMap",r.occlusionTexture)),r.occlusionTexture.strength!==void 0&&(u.aoMapIntensity=r.occlusionTexture.strength)),r.emissiveFactor!==void 0&&l!==Js){const d=r.emissiveFactor;u.emissive=new ot().setRGB(d[0],d[1],d[2],ql)}return r.emissiveTexture!==void 0&&l!==Js&&g.push(t.assignTexture(u,"emissiveMap",r.emissiveTexture,Vh)),Promise.all(g).then(function(){const d=new l(u);return r.name&&(d.name=r.name),Vl(d,r),t.associations.set(d,{materials:e}),r.extensions&&wh(a,d,r),d})}createUniqueName(e){const t=Sn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,a=this.primitiveCache;function r(u){return i[fn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(u,t).then(function(m){return JT(m,u,t)})}const l=[];for(let u=0,m=e.length;u<m;u++){const g=e[u],v=Mk(g),d=a[v];if(d)l.push(d.promise);else{let p;g.extensions&&g.extensions[fn.KHR_DRACO_MESH_COMPRESSION]?p=r(g):p=JT(new Zt,g,t),a[v]={primitive:g,promise:p},l.push(p)}}return Promise.all(l)}loadMesh(e){const t=this,i=this.json,a=this.extensions,r=i.meshes[e],l=r.primitives,u=[];for(let m=0,g=l.length;m<g;m++){const v=l[m].material===void 0?bk(this.cache):this.getDependency("material",l[m].material);u.push(v)}return u.push(t.loadGeometries(l)),Promise.all(u).then(function(m){const g=m.slice(0,m.length-1),v=m[m.length-1],d=[];for(let b=0,C=v.length;b<C;b++){const w=v[b],E=l[b];let M;const I=g[b];if(E.mode===Ar.TRIANGLES||E.mode===Ar.TRIANGLE_STRIP||E.mode===Ar.TRIANGLE_FAN||E.mode===void 0)M=r.isSkinnedMesh===!0?new RA(w,I):new Di(w,I),M.isSkinnedMesh===!0&&M.normalizeSkinWeights(),E.mode===Ar.TRIANGLE_STRIP?M.geometry=VT(M.geometry,bA):E.mode===Ar.TRIANGLE_FAN&&(M.geometry=VT(M.geometry,Q2));else if(E.mode===Ar.LINES)M=new ho(w,I);else if(E.mode===Ar.LINE_STRIP)M=new ac(w,I);else if(E.mode===Ar.LINE_LOOP)M=new BA(w,I);else if(E.mode===Ar.POINTS)M=new DA(w,I);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+E.mode);Object.keys(M.geometry.morphAttributes).length>0&&Sk(M,r),M.name=t.createUniqueName(r.name||"mesh_"+e),Vl(M,r),E.extensions&&wh(a,M,E),t.assignFinalMaterial(M),d.push(M)}for(let b=0,C=d.length;b<C;b++)t.associations.set(d[b],{meshes:e,primitives:b});if(d.length===1)return r.extensions&&wh(a,d[0],r),d[0];const p=new Xl;r.extensions&&wh(a,p,r),t.associations.set(p,{meshes:e});for(let b=0,C=d.length;b<C;b++)p.add(d[b]);return p})}loadCamera(e){let t;const i=this.json.cameras[e],a=i[i.type];if(!a){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new Ii(Vw.radToDeg(a.yfov),a.aspectRatio||1,a.znear||1,a.zfar||2e6):i.type==="orthographic"&&(t=new _u(-a.xmag,a.xmag,a.ymag,-a.ymag,a.znear,a.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),Vl(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let a=0,r=t.joints.length;a<r;a++)i.push(this._loadNodeShallow(t.joints[a]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(a){const r=a.pop(),l=a,u=[],m=[];for(let g=0,v=l.length;g<v;g++){const d=l[g];if(d){u.push(d);const p=new Nt;r!==null&&p.fromArray(r.array,g*16),m.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[g])}return new yg(u,m)})}loadAnimation(e){const t=this.json,i=this,a=t.animations[e],r=a.name?a.name:"animation_"+e,l=[],u=[],m=[],g=[],v=[];for(let d=0,p=a.channels.length;d<p;d++){const b=a.channels[d],C=a.samplers[b.sampler],w=b.target,E=w.node,M=a.parameters!==void 0?a.parameters[C.input]:C.input,I=a.parameters!==void 0?a.parameters[C.output]:C.output;w.node!==void 0&&(l.push(this.getDependency("node",E)),u.push(this.getDependency("accessor",M)),m.push(this.getDependency("accessor",I)),g.push(C),v.push(w))}return Promise.all([Promise.all(l),Promise.all(u),Promise.all(m),Promise.all(g),Promise.all(v)]).then(function(d){const p=d[0],b=d[1],C=d[2],w=d[3],E=d[4],M=[];for(let I=0,B=p.length;I<B;I++){const N=p[I],P=b[I],U=C[I],F=w[I],j=E[I];if(N===void 0)continue;N.updateMatrix&&N.updateMatrix();const O=i._createAnimationTracks(N,P,U,F,j);if(O)for(let H=0;H<O.length;H++)M.push(O[H])}return new f0(r,void 0,M)})}createNodeMesh(e){const t=this.json,i=this,a=t.nodes[e];return a.mesh===void 0?null:i.getDependency("mesh",a.mesh).then(function(r){const l=i._getNodeRef(i.meshCache,a.mesh,r);return a.weights!==void 0&&l.traverse(function(u){if(u.isMesh)for(let m=0,g=a.weights.length;m<g;m++)u.morphTargetInfluences[m]=a.weights[m]}),l})}loadNode(e){const t=this.json,i=this,a=t.nodes[e],r=i._loadNodeShallow(e),l=[],u=a.children||[];for(let g=0,v=u.length;g<v;g++)l.push(i.getDependency("node",u[g]));const m=a.skin===void 0?Promise.resolve(null):i.getDependency("skin",a.skin);return Promise.all([r,Promise.all(l),m]).then(function(g){const v=g[0],d=g[1],p=g[2];p!==null&&v.traverse(function(b){b.isSkinnedMesh&&b.bind(p,Ek)});for(let b=0,C=d.length;b<C;b++)v.add(d[b]);return v})}_loadNodeShallow(e){const t=this.json,i=this.extensions,a=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const r=t.nodes[e],l=r.name?a.createUniqueName(r.name):"",u=[],m=a._invokeOne(function(g){return g.createNodeMesh&&g.createNodeMesh(e)});return m&&u.push(m),r.camera!==void 0&&u.push(a.getDependency("camera",r.camera).then(function(g){return a._getNodeRef(a.cameraCache,r.camera,g)})),a._invokeAll(function(g){return g.createNodeAttachment&&g.createNodeAttachment(e)}).forEach(function(g){u.push(g)}),this.nodeCache[e]=Promise.all(u).then(function(g){let v;if(r.isBone===!0?v=new Lv:g.length>1?v=new Xl:g.length===1?v=g[0]:v=new dn,v!==g[0])for(let d=0,p=g.length;d<p;d++)v.add(g[d]);if(r.name&&(v.userData.name=r.name,v.name=l),Vl(v,r),r.extensions&&wh(i,v,r),r.matrix!==void 0){const d=new Nt;d.fromArray(r.matrix),v.applyMatrix4(d)}else r.translation!==void 0&&v.position.fromArray(r.translation),r.rotation!==void 0&&v.quaternion.fromArray(r.rotation),r.scale!==void 0&&v.scale.fromArray(r.scale);return a.associations.has(v)||a.associations.set(v,{}),a.associations.get(v).nodes=e,v}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],a=this,r=new Xl;i.name&&(r.name=a.createUniqueName(i.name)),Vl(r,i),i.extensions&&wh(t,r,i);const l=i.nodes||[],u=[];for(let m=0,g=l.length;m<g;m++)u.push(a.getDependency("node",l[m]));return Promise.all(u).then(function(m){for(let v=0,d=m.length;v<d;v++)r.add(m[v]);const g=v=>{const d=new Map;for(const[p,b]of a.associations)(p instanceof Ki||p instanceof oi)&&d.set(p,b);return v.traverse(p=>{const b=a.associations.get(p);b!=null&&d.set(p,b)}),d};return a.associations=g(r),r})}_createAnimationTracks(e,t,i,a,r){const l=[],u=e.name?e.name:e.uuid,m=[];eu[r.path]===eu.weights?e.traverse(function(p){p.morphTargetInfluences&&m.push(p.name?p.name:p.uuid)}):m.push(u);let g;switch(eu[r.path]){case eu.weights:g=Qh;break;case eu.rotation:g=$h;break;case eu.position:case eu.scale:g=ef;break;default:switch(i.itemSize){case 1:g=Qh;break;case 2:case 3:default:g=ef;break}break}const v=a.interpolation!==void 0?_k[a.interpolation]:r0,d=this._getArrayFromAccessor(i);for(let p=0,b=m.length;p<b;p++){const C=new g(m[p]+"."+eu[r.path],t.array,d,v);a.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(C),l.push(C)}return l}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=vb(t.constructor),a=new Float32Array(t.length);for(let r=0,l=t.length;r<l;r++)a[r]=t[r]*i;t=a}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const a=this instanceof $h?xk:SI;return new a(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function wk(n,e,t){const i=e.attributes,a=new Ma;if(i.POSITION!==void 0){const u=t.json.accessors[i.POSITION],m=u.min,g=u.max;if(m!==void 0&&g!==void 0){if(a.set(new K(m[0],m[1],m[2]),new K(g[0],g[1],g[2])),u.normalized){const v=vb(Kd[u.componentType]);a.min.multiplyScalar(v),a.max.multiplyScalar(v)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const r=e.targets;if(r!==void 0){const u=new K,m=new K;for(let g=0,v=r.length;g<v;g++){const d=r[g];if(d.POSITION!==void 0){const p=t.json.accessors[d.POSITION],b=p.min,C=p.max;if(b!==void 0&&C!==void 0){if(m.setX(Math.max(Math.abs(b[0]),Math.abs(C[0]))),m.setY(Math.max(Math.abs(b[1]),Math.abs(C[1]))),m.setZ(Math.max(Math.abs(b[2]),Math.abs(C[2]))),p.normalized){const w=vb(Kd[p.componentType]);m.multiplyScalar(w)}u.max(m)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}a.expandByVector(u)}n.boundingBox=a;const l=new da;a.getCenter(l.center),l.radius=a.min.distanceTo(a.max)/2,n.boundingSphere=l}function JT(n,e,t){const i=e.attributes,a=[];function r(l,u){return t.getDependency("accessor",l).then(function(m){n.setAttribute(u,m)})}for(const l in i){const u=yb[l]||l.toLowerCase();u in n.attributes||a.push(r(i[l],u))}if(e.indices!==void 0&&!n.index){const l=t.getDependency("accessor",e.indices).then(function(u){n.setIndex(u)});a.push(l)}return Vl(n,e),wk(n,e,t),Promise.all(a).then(function(){return e.targets!==void 0?Ak(n,e.targets,t):n})}const v3=new WeakMap;class Rk extends Za{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,a){const r=new qs(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,l=>{const u={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(l,u).then(t).catch(a)},i,a)}decodeDracoFile(e,t,i,a){const r={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:a||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,r).then(t)}decodeGeometry(e,t){for(const m in t.attributeTypes){const g=t.attributeTypes[m];g.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[m]=g.name)}const i=JSON.stringify(t);if(v3.has(e)){const m=v3.get(e);if(m.key===i)return m.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let a;const r=this.workerNextTaskID++,l=e.byteLength,u=this._getWorker(r,l).then(m=>(a=m,new Promise((g,v)=>{a._callbacks[r]={resolve:g,reject:v},a.postMessage({type:"decode",id:r,taskConfig:t,buffer:e},[e])}))).then(m=>this._createGeometry(m.geometry));return u.catch(()=>!0).then(()=>{a&&r&&this._releaseTask(a,r)}),v3.set(e,{key:i,promise:u}),u}_createGeometry(e){const t=new Zt;e.index&&t.setIndex(new Rn(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const a=e.attributes[i],r=a.name,l=a.array,u=a.itemSize;t.setAttribute(r,new Rn(l,u))}return t}_loadLibrary(e,t){const i=new qs(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((a,r)=>{i.load(e,a,void 0,r)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const a=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const r=Ik.toString(),l=["/* draco decoder */",a,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([l]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const a=new Worker(this.workerSourceURL);a._callbacks={},a._taskCosts={},a._taskLoad=0,a.postMessage({type:"init",decoderConfig:this.decoderConfig}),a.onmessage=function(r){const l=r.data;switch(l.type){case"decode":a._callbacks[l.id].resolve(l);break;case"error":a._callbacks[l.id].reject(l);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+l.type+'"')}},this.workerPool.push(a)}else this.workerPool.sort(function(a,r){return a._taskLoad>r._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Ik(){let n,e;onmessage=function(l){const u=l.data;switch(u.type){case"init":n=u.decoderConfig,e=new Promise(function(v){n.onModuleLoaded=function(d){v({draco:d})},DracoDecoderModule(n)});break;case"decode":const m=u.buffer,g=u.taskConfig;e.then(v=>{const d=v.draco,p=new d.Decoder,b=new d.DecoderBuffer;b.Init(new Int8Array(m),m.byteLength);try{const C=t(d,p,b,g),w=C.attributes.map(E=>E.array.buffer);C.index&&w.push(C.index.array.buffer),self.postMessage({type:"decode",id:u.id,geometry:C},w)}catch(C){console.error(C),self.postMessage({type:"error",id:u.id,error:C.message})}finally{d.destroy(b),d.destroy(p)}});break}};function t(l,u,m,g){const v=g.attributeIDs,d=g.attributeTypes;let p,b;const C=u.GetEncodedGeometryType(m);if(C===l.TRIANGULAR_MESH)p=new l.Mesh,b=u.DecodeBufferToMesh(m,p);else if(C===l.POINT_CLOUD)p=new l.PointCloud,b=u.DecodeBufferToPointCloud(m,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!b.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+b.error_msg());const w={index:null,attributes:[]};for(const E in v){const M=self[d[E]];let I,B;if(g.useUniqueIDs)B=v[E],I=u.GetAttributeByUniqueId(p,B);else{if(B=u.GetAttributeId(p,l[v[E]]),B===-1)continue;I=u.GetAttribute(p,B)}w.attributes.push(a(l,u,p,E,M,I))}return C===l.TRIANGULAR_MESH&&(w.index=i(l,u,p)),l.destroy(p),w}function i(l,u,m){const v=m.num_faces()*3,d=v*4,p=l._malloc(d);u.GetTrianglesUInt32Array(m,d,p);const b=new Uint32Array(l.HEAPF32.buffer,p,v).slice();return l._free(p),{array:b,itemSize:1}}function a(l,u,m,g,v,d){const p=d.num_components(),C=m.num_points()*p,w=C*v.BYTES_PER_ELEMENT,E=r(l,v),M=l._malloc(w);u.GetAttributeDataArrayForAllPoints(m,d,E,w,M);const I=new v(l.HEAPF32.buffer,M,C).slice();return l._free(M),{name:g,array:I,itemSize:p}}function r(l,u){switch(u){case Float32Array:return l.DT_FLOAT32;case Int8Array:return l.DT_INT8;case Int16Array:return l.DT_INT16;case Int32Array:return l.DT_INT32;case Uint8Array:return l.DT_UINT8;case Uint16Array:return l.DT_UINT16;case Uint32Array:return l.DT_UINT32}}}let Zy;const x3=()=>{if(Zy)return Zy;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let a=n;WebAssembly.validate(t)&&(a=e);let r;const l=WebAssembly.instantiate(u(a),{}).then(d=>{r=d.instance,r.exports.__wasm_call_ctors()});function u(d){const p=new Uint8Array(d.length);for(let C=0;C<d.length;++C){const w=d.charCodeAt(C);p[C]=w>96?w-71:w>64?w-65:w>47?w+4:w>46?63:62}let b=0;for(let C=0;C<d.length;++C)p[b++]=p[C]<60?i[p[C]]:(p[C]-60)*64+p[++C];return p.buffer.slice(0,b)}function m(d,p,b,C,w,E){const M=r.exports.sbrk,I=b+3&-4,B=M(I*C),N=M(w.length),P=new Uint8Array(r.exports.memory.buffer);P.set(w,N);const U=d(B,b,C,N,w.length);if(U===0&&E&&E(B,I,C),p.set(P.subarray(B,B+b*C)),M(B-M(0)),U!==0)throw new Error(`Malformed buffer data: ${U}`)}const g={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},v={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Zy={ready:l,supported:!0,decodeVertexBuffer(d,p,b,C,w){m(r.exports.meshopt_decodeVertexBuffer,d,p,b,C,r.exports[g[w]])},decodeIndexBuffer(d,p,b,C){m(r.exports.meshopt_decodeIndexBuffer,d,p,b,C)},decodeIndexSequence(d,p,b,C){m(r.exports.meshopt_decodeIndexSequence,d,p,b,C)},decodeGltfBuffer(d,p,b,C,w,E){m(r.exports[v[w]],d,p,b,C,r.exports[g[E]])}},Zy};let Xy=null,MI="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function CI(n=!0,e=!0,t){return i=>{t&&t(i),n&&(Xy||(Xy=new Rk),Xy.setDecoderPath(typeof n=="string"?n:MI),i.setDRACOLoader(Xy)),e&&i.setMeshoptDecoder(typeof x3=="function"?x3():x3)}}const bu=(n,e,t,i)=>Cg(lS,n,CI(e,t,i));bu.preload=(n,e,t,i)=>Cg.preload(lS,n,CI(e,t,i));bu.clear=n=>Cg.clear(lS,n);bu.setDecoderPath=n=>{MI=n};function EI(n,e){const t=Y.useRef(null),[i]=Y.useState(()=>e?e instanceof dn?{current:e}:e:t),[a]=Y.useState(()=>new GR(void 0));Y.useLayoutEffect(()=>{e&&(i.current=e instanceof dn?e:e.current),a._root=i.current});const r=Y.useRef({}),l=Y.useMemo(()=>{const u={};return n.forEach(m=>Object.defineProperty(u,m.name,{enumerable:!0,get(){if(i.current)return r.current[m.name]||(r.current[m.name]=a.clipAction(m,i.current))},configurable:!0})),{ref:i,clips:n,actions:u,names:n.map(m=>m.name),mixer:a}},[n]);return Mg((u,m)=>a.update(m)),Y.useEffect(()=>{const u=i.current;return()=>{r.current={},a.stopAllAction(),Object.values(l.actions).forEach(m=>{u&&a.uncacheAction(m,u)})}},[n]),l}const Bk=()=>_.jsx(ZV,{children:_.jsx("div",{className:"flex justify-center items-center",children:_.jsx("div",{className:"w-20 h-20 border-2 border-opacity-20 border-blue-500 border-t-blue-500 rounded-full animate-spin"})})}),Dk="/Portfolio/assets/logo-CIYErqFd.png",Nk="/Portfolio/assets/avatar-TnXjMiPu.png",Lk="/Portfolio/assets/chungchi1-CCy1h4YJ.png",Ok="/Portfolio/assets/chungchi2-CbTMXjo-.png",Pk="/Portfolio/assets/chungchi3-DLllg3pz.png",Uk="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiB2aWV3Qm94PSIwIDAgNDAwIDMwMCI+DQogIDxkZWZzPg0KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iYmciIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6IzY2N2VlYTtzdG9wLW9wYWNpdHk6MSIgLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6Izc2NGJhMjtzdG9wLW9wYWNpdHk6MSIgLz4NCiAgICA8L2xpbmVhckdyYWRpZW50Pg0KICA8L2RlZnM+DQogIDxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiBmaWxsPSJ1cmwoI2JnKSIvPg0KICA8Y2lyY2xlIGN4PSIyMDAiIGN5PSIxMDAiIHI9IjQwIiBmaWxsPSIjZmZmIiBvcGFjaXR5PSIwLjIiLz4NCiAgPGNpcmNsZSBjeD0iMTUwIiBjeT0iMjAwIiByPSI2MCIgZmlsbD0iI2ZmZiIgb3BhY2l0eT0iMC4xNSIvPg0KICA8Y2lyY2xlIGN4PSIyODAiIGN5PSIxODAiIHI9IjUwIiBmaWxsPSIjZmZmIiBvcGFjaXR5PSIwLjEiLz4NCiAgPHRleHQgeD0iMjAwIiB5PSIxNDAiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIzMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGZpbGw9IiNmZmYiIHRleHQtYW5jaG9yPSJtaWRkbGUiPlJlYWN0PC90ZXh0Pg0KICA8dGV4dCB4PSIyMDAiIHk9IjE3MCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE4IiBmaWxsPSIjZmZmIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBvcGFjaXR5PSIwLjkiPlBvcnRmb2xpbyBXZWJzaXRlPC90ZXh0Pg0KICA8cmVjdCB4PSIxMDAiIHk9IjIwMCIgd2lkdGg9IjIwMCIgaGVpZ2h0PSI4IiByeD0iNCIgZmlsbD0iI2ZmZiIgb3BhY2l0eT0iMC4zIi8+DQogIDxyZWN0IHg9IjEwMCIgeT0iMjIwIiB3aWR0aD0iMTUwIiBoZWlnaHQ9IjgiIHJ4PSI0IiBmaWxsPSIjZmZmIiBvcGFjaXR5PSIwLjMiLz4NCiAgPHJlY3QgeD0iMTAwIiB5PSIyNDAiIHdpZHRoPSIxODAiIGhlaWdodD0iOCIgcng9IjQiIGZpbGw9IiNmZmYiIG9wYWNpdHk9IjAuMyIvPg0KPC9zdmc+DQo=",Hk="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiB2aWV3Qm94PSIwIDAgNDAwIDMwMCI+DQogIDxkZWZzPg0KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iZ2FtZUJnIiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiNmYzVjN2Q7c3RvcC1vcGFjaXR5OjEiIC8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiM2YTgyZmI7c3RvcC1vcGFjaXR5OjEiIC8+DQogICAgPC9saW5lYXJHcmFkaWVudD4NCiAgPC9kZWZzPg0KICA8cmVjdCB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgZmlsbD0idXJsKCNnYW1lQmcpIi8+DQogIA0KICA8IS0tIEdhbWUgY29udHJvbGxlciBpY29uIC0tPg0KICA8cGF0aCBkPSJNIDE1MCAxMjAgUSAxNTAgMTAwLCAxNzAgMTAwIEwgMjMwIDEwMCBRIDI1MCAxMDAsIDI1MCAxMjAgTCAyNjAgMTYwIFEgMjYwIDE4MCwgMjQwIDE4MCBMIDE2MCAxODAgUSAxNDAgMTgwLCAxNDAgMTYwIFoiIA0KICAgICAgICBmaWxsPSIjZmZmIiBvcGFjaXR5PSIwLjkiLz4NCiAgDQogIDwhLS0gRC1wYWQgLS0+DQogIDxyZWN0IHg9IjE2NSIgeT0iMTI1IiB3aWR0aD0iOCIgaGVpZ2h0PSIyNSIgZmlsbD0iI2ZjNWM3ZCIgcng9IjIiLz4NCiAgPHJlY3QgeD0iMTU3IiB5PSIxMzMiIHdpZHRoPSIyNSIgaGVpZ2h0PSI4IiBmaWxsPSIjZmM1YzdkIiByeD0iMiIvPg0KICANCiAgPCEtLSBCdXR0b25zIC0tPg0KICA8Y2lyY2xlIGN4PSIyMjUiIGN5PSIxMzUiIHI9IjYiIGZpbGw9IiM2YTgyZmIiLz4NCiAgPGNpcmNsZSBjeD0iMjQwIiBjeT0iMTM1IiByPSI2IiBmaWxsPSIjNmE4MmZiIi8+DQogIDxjaXJjbGUgY3g9IjIyNSIgY3k9IjE1MCIgcj0iNiIgZmlsbD0iIzZhODJmYiIvPg0KICA8Y2lyY2xlIGN4PSIyNDAiIGN5PSIxNTAiIHI9IjYiIGZpbGw9IiM2YTgyZmIiLz4NCiAgDQogIDx0ZXh0IHg9IjIwMCIgeT0iMjIwIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMjgiIGZvbnQtd2VpZ2h0PSJib2xkIiBmaWxsPSIjZmZmIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5DIyBHYW1lPC90ZXh0Pg0KICA8dGV4dCB4PSIyMDAiIHk9IjI0NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE2IiBmaWxsPSIjZmZmIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBvcGFjaXR5PSIwLjkiPlJvZ3VlbGlrZSBEdW5nZW9uPC90ZXh0Pg0KICANCiAgPCEtLSBEZWNvcmF0aXZlIHN0YXJzIC0tPg0KICA8cG9seWdvbiBwb2ludHM9IjgwLDYwIDgyLDY2IDg4LDY2IDgzLDcwIDg1LDc2IDgwLDcyIDc1LDc2IDc3LDcwIDcyLDY2IDc4LDY2IiBmaWxsPSIjZmZmIiBvcGFjaXR5PSIwLjciLz4NCiAgPHBvbHlnb24gcG9pbnRzPSIzMjAsODAgMzIyLDg2IDMyOCw4NiAzMjMsOTAgMzI1LDk2IDMyMCw5MiAzMTUsOTYgMzE3LDkwIDMxMiw4NiAzMTgsODYiIGZpbGw9IiNmZmYiIG9wYWNpdHk9IjAuNiIvPg0KICA8cG9seWdvbiBwb2ludHM9IjEwMCwyNDAgMTAyLDI0NiAxMDgsMjQ2IDEwMywyNTAgMTA1LDI1NiAxMDAsMjUyIDk1LDI1NiA5NywyNTAgOTIsMjQ2IDk4LDI0NiIgZmlsbD0iI2ZmZiIgb3BhY2l0eT0iMC41Ii8+DQo8L3N2Zz4NCg==",jk="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiB2aWV3Qm94PSIwIDAgNDAwIDMwMCI+DQogIDxkZWZzPg0KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0ic2tpbGxCZyIgeDE9IjAlIiB5MT0iMCUiIHgyPSIxMDAlIiB5Mj0iMTAwJSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojMDA2MWZmO3N0b3Atb3BhY2l0eToxIiAvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojNjBlZmZmO3N0b3Atb3BhY2l0eToxIiAvPg0KICAgIDwvbGluZWFyR3JhZGllbnQ+DQogIDwvZGVmcz4NCiAgPHJlY3Qgd2lkdGg9IjQwMCIgaGVpZ2h0PSIzMDAiIGZpbGw9InVybCgjc2tpbGxCZykiLz4NCiAgDQogIDwhLS0gTGFwdG9wIHNjcmVlbiAtLT4NCiAgPHJlY3QgeD0iODAiIHk9IjYwIiB3aWR0aD0iMjQwIiBoZWlnaHQ9IjE0MCIgcng9IjgiIGZpbGw9IiNmZmYiLz4NCiAgPHJlY3QgeD0iOTAiIHk9IjcwIiB3aWR0aD0iMjIwIiBoZWlnaHQ9IjEyMCIgZmlsbD0iIzFhMWEyZSIvPg0KICANCiAgPCEtLSBDb2RlIGxpbmVzIC0tPg0KICA8cmVjdCB4PSIxMDAiIHk9IjgwIiB3aWR0aD0iODAiIGhlaWdodD0iNCIgcng9IjIiIGZpbGw9IiMwMDYxZmYiLz4NCiAgPHJlY3QgeD0iMTAwIiB5PSI5MCIgd2lkdGg9IjEyMCIgaGVpZ2h0PSI0IiByeD0iMiIgZmlsbD0iIzYwZWZmZiIvPg0KICA8cmVjdCB4PSIxMDAiIHk9IjEwMCIgd2lkdGg9IjYwIiBoZWlnaHQ9IjQiIHJ4PSIyIiBmaWxsPSIjMDA2MWZmIi8+DQogIDxyZWN0IHg9IjEwMCIgeT0iMTEwIiB3aWR0aD0iMTQwIiBoZWlnaHQ9IjQiIHJ4PSIyIiBmaWxsPSIjNjBlZmZmIi8+DQogIDxyZWN0IHg9IjEwMCIgeT0iMTMwIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjQiIHJ4PSIyIiBmaWxsPSIjMDA2MWZmIi8+DQogIDxyZWN0IHg9IjEwMCIgeT0iMTQwIiB3aWR0aD0iODAiIGhlaWdodD0iNCIgcng9IjIiIGZpbGw9IiM2MGVmZmYiLz4NCiAgPHJlY3QgeD0iMTAwIiB5PSIxNjAiIHdpZHRoPSIxMjAiIGhlaWdodD0iNCIgcng9IjIiIGZpbGw9IiMwMDYxZmYiLz4NCiAgPHJlY3QgeD0iMTAwIiB5PSIxNzAiIHdpZHRoPSI5MCIgaGVpZ2h0PSI0IiByeD0iMiIgZmlsbD0iIzYwZWZmZiIvPg0KICANCiAgPCEtLSBMYXB0b3AgYmFzZSAtLT4NCiAgPHBhdGggZD0iTSA2MCAyMDAgTCAzNDAgMjAwIEwgMzUwIDIyMCBMIDUwIDIyMCBaIiBmaWxsPSIjZThlOGU4Ii8+DQogIA0KICA8IS0tIFBsYXkgYnV0dG9uIC0tPg0KICA8Y2lyY2xlIGN4PSIzMjAiIGN5PSIxMDAiIHI9IjIwIiBmaWxsPSIjMDA2MWZmIiBvcGFjaXR5PSIwLjkiLz4NCiAgPHBvbHlnb24gcG9pbnRzPSIzMTUsOTAgMzMwLDEwMCAzMTUsMTEwIiBmaWxsPSIjZmZmIi8+DQogIA0KICA8dGV4dCB4PSIyMDAiIHk9IjI2MCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjI0IiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0iI2ZmZiIgdGV4dC1hbmNob3I9Im1pZGRsZSI+U2tpbGxDb2RlciBQbGF0Zm9ybTwvdGV4dD4NCiAgPHRleHQgeD0iMjAwIiB5PSIyODUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iI2ZmZiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgb3BhY2l0eT0iMC45Ij5PbmxpbmUgTGVhcm5pbmcg4oCiIFZpZGVvIENvdXJzZXM8L3RleHQ+DQo8L3N2Zz4NCg==",Fk="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiB2aWV3Qm94PSIwIDAgNDAwIDMwMCI+DQogIDxkZWZzPg0KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icmVudGFsQmciIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6I2FkZmRhMjtzdG9wLW9wYWNpdHk6MSIgLz4NCiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6IzExZDNmMztzdG9wLW9wYWNpdHk6MSIgLz4NCiAgICA8L2xpbmVhckdyYWRpZW50Pg0KICA8L2RlZnM+DQogIDxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiBmaWxsPSJ1cmwoI3JlbnRhbEJnKSIvPg0KICANCiAgPCEtLSBCdWlsZGluZ3MgLS0+DQogIDxyZWN0IHg9IjYwIiB5PSIxMjAiIHdpZHRoPSI4MCIgaGVpZ2h0PSIxMDAiIGZpbGw9IiNmZmYiIG9wYWNpdHk9IjAuOSIvPg0KICA8cmVjdCB4PSI3MCIgeT0iMTMwIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIGZpbGw9IiMxMWQzZjMiLz4NCiAgPHJlY3QgeD0iOTAiIHk9IjEzMCIgd2lkdGg9IjE1IiBoZWlnaHQ9IjE1IiBmaWxsPSIjMTFkM2YzIi8+DQogIDxyZWN0IHg9IjExMCIgeT0iMTMwIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIGZpbGw9IiMxMWQzZjMiLz4NCiAgPHJlY3QgeD0iNzAiIHk9IjE1MCIgd2lkdGg9IjE1IiBoZWlnaHQ9IjE1IiBmaWxsPSIjMTFkM2YzIi8+DQogIDxyZWN0IHg9IjkwIiB5PSIxNTAiIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgZmlsbD0iIzExZDNmMyIvPg0KICA8cmVjdCB4PSIxMTAiIHk9IjE1MCIgd2lkdGg9IjE1IiBoZWlnaHQ9IjE1IiBmaWxsPSIjMTFkM2YzIi8+DQogIDxyZWN0IHg9IjcwIiB5PSIxNzAiIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgZmlsbD0iIzExZDNmMyIvPg0KICA8cmVjdCB4PSI5MCIgeT0iMTcwIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIGZpbGw9IiMxMWQzZjMiLz4NCiAgPHJlY3QgeD0iMTEwIiB5PSIxNzAiIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgZmlsbD0iIzExZDNmMyIvPg0KICANCiAgPHJlY3QgeD0iMTYwIiB5PSIxMDAiIHdpZHRoPSI4MCIgaGVpZ2h0PSIxMjAiIGZpbGw9IiNmZmYiIG9wYWNpdHk9IjAuOSIvPg0KICA8cmVjdCB4PSIxNzAiIHk9IjExMCIgd2lkdGg9IjE1IiBoZWlnaHQ9IjE1IiBmaWxsPSIjMTFkM2YzIi8+DQogIDxyZWN0IHg9IjE5MCIgeT0iMTEwIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIGZpbGw9IiMxMWQzZjMiLz4NCiAgPHJlY3QgeD0iMjEwIiB5PSIxMTAiIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgZmlsbD0iIzExZDNmMyIvPg0KICA8cmVjdCB4PSIxNzAiIHk9IjEzMCIgd2lkdGg9IjE1IiBoZWlnaHQ9IjE1IiBmaWxsPSIjMTFkM2YzIi8+DQogIDxyZWN0IHg9IjE5MCIgeT0iMTMwIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIGZpbGw9IiMxMWQzZjMiLz4NCiAgPHJlY3QgeD0iMjEwIiB5PSIxMzAiIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgZmlsbD0iIzExZDNmMyIvPg0KICA8cmVjdCB4PSIxNzAiIHk9IjE1MCIgd2lkdGg9IjE1IiBoZWlnaHQ9IjE1IiBmaWxsPSIjMTFkM2YzIi8+DQogIDxyZWN0IHg9IjE5MCIgeT0iMTUwIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIGZpbGw9IiMxMWQzZjMiLz4NCiAgPHJlY3QgeD0iMjEwIiB5PSIxNTAiIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgZmlsbD0iIzExZDNmMyIvPg0KICA8cmVjdCB4PSIxNzAiIHk9IjE3MCIgd2lkdGg9IjE1IiBoZWlnaHQ9IjE1IiBmaWxsPSIjMTFkM2YzIi8+DQogIDxyZWN0IHg9IjE5MCIgeT0iMTcwIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIGZpbGw9IiMxMWQzZjMiLz4NCiAgPHJlY3QgeD0iMjEwIiB5PSIxNzAiIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgZmlsbD0iIzExZDNmMyIvPg0KICANCiAgPHJlY3QgeD0iMjYwIiB5PSIxMzAiIHdpZHRoPSI4MCIgaGVpZ2h0PSI5MCIgZmlsbD0iI2ZmZiIgb3BhY2l0eT0iMC45Ii8+DQogIDxyZWN0IHg9IjI3MCIgeT0iMTQwIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIGZpbGw9IiMxMWQzZjMiLz4NCiAgPHJlY3QgeD0iMjkwIiB5PSIxNDAiIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgZmlsbD0iIzExZDNmMyIvPg0KICA8cmVjdCB4PSIzMTAiIHk9IjE0MCIgd2lkdGg9IjE1IiBoZWlnaHQ9IjE1IiBmaWxsPSIjMTFkM2YzIi8+DQogIDxyZWN0IHg9IjI3MCIgeT0iMTYwIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIGZpbGw9IiMxMWQzZjMiLz4NCiAgPHJlY3QgeD0iMjkwIiB5PSIxNjAiIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgZmlsbD0iIzExZDNmMyIvPg0KICA8cmVjdCB4PSIzMTAiIHk9IjE2MCIgd2lkdGg9IjE1IiBoZWlnaHQ9IjE1IiBmaWxsPSIjMTFkM2YzIi8+DQogIDxyZWN0IHg9IjI3MCIgeT0iMTgwIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIGZpbGw9IiMxMWQzZjMiLz4NCiAgPHJlY3QgeD0iMjkwIiB5PSIxODAiIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgZmlsbD0iIzExZDNmMyIvPg0KICA8cmVjdCB4PSIzMTAiIHk9IjE4MCIgd2lkdGg9IjE1IiBoZWlnaHQ9IjE1IiBmaWxsPSIjMTFkM2YzIi8+DQogIA0KICA8IS0tIFNlYXJjaCBpY29uIC0tPg0KICA8Y2lyY2xlIGN4PSIxMDAiIGN5PSI2MCIgcj0iMjUiIGZpbGw9IiNmZmYiIG9wYWNpdHk9IjAuOSIvPg0KICA8Y2lyY2xlIGN4PSIxMDAiIGN5PSI2MCIgcj0iMTUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzExZDNmMyIgc3Ryb2tlLXdpZHRoPSIzIi8+DQogIDxsaW5lIHgxPSIxMTAiIHkxPSI3MCIgeDI9IjEyMCIgeTI9IjgwIiBzdHJva2U9IiMxMWQzZjMiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+DQogIA0KICA8dGV4dCB4PSIyMDAiIHk9IjI2MCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjI0IiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0iI2ZmZiIgdGV4dC1hbmNob3I9Im1pZGRsZSI+UmVudGFsIFJvb20gRmluZGVyPC90ZXh0Pg0KICA8dGV4dCB4PSIyMDAiIHk9IjI4NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmaWxsPSIjZmZmIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBvcGFjaXR5PSIwLjkiPkZpbmQgWW91ciBQZXJmZWN0IFJvb208L3RleHQ+DQo8L3N2Zz4NCg==",Gk="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiB2aWV3Qm94PSIwIDAgNDAwIDMwMCI+DQogIDxkZWZzPg0KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0ic3R1ZGVudEJnIiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiNmNzk3MWU7c3RvcC1vcGFjaXR5OjEiIC8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiNmZmQyMDA7c3RvcC1vcGFjaXR5OjEiIC8+DQogICAgPC9saW5lYXJHcmFkaWVudD4NCiAgPC9kZWZzPg0KICA8cmVjdCB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgZmlsbD0idXJsKCNzdHVkZW50QmcpIi8+DQogIA0KICA8IS0tIERhc2hib2FyZCBzY3JlZW4gLS0+DQogIDxyZWN0IHg9IjYwIiB5PSI1MCIgd2lkdGg9IjI4MCIgaGVpZ2h0PSIxODAiIHJ4PSI4IiBmaWxsPSIjZmZmIiBvcGFjaXR5PSIwLjk1Ii8+DQogIA0KICA8IS0tIEhlYWRlciAtLT4NCiAgPHJlY3QgeD0iNzAiIHk9IjYwIiB3aWR0aD0iMjYwIiBoZWlnaHQ9IjMwIiBmaWxsPSIjZjc5NzFlIiBvcGFjaXR5PSIwLjMiIHJ4PSI0Ii8+DQogIDx0ZXh0IHg9IjIwMCIgeT0iODIiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGZpbGw9IiNmNzk3MWUiIHRleHQtYW5jaG9yPSJtaWRkbGUiPlN0dWRlbnQgRGFzaGJvYXJkPC90ZXh0Pg0KICANCiAgPCEtLSBDYXJkcyAtLT4NCiAgPHJlY3QgeD0iODAiIHk9IjEwNSIgd2lkdGg9IjcwIiBoZWlnaHQ9IjUwIiBmaWxsPSIjZjc5NzFlIiBvcGFjaXR5PSIwLjIiIHJ4PSI2Ii8+DQogIDx0ZXh0IHg9IjExNSIgeT0iMTI1IiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMjAiIGZvbnQtd2VpZ2h0PSJib2xkIiBmaWxsPSIjZjc5NzFlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj4yNTA8L3RleHQ+DQogIDx0ZXh0IHg9IjExNSIgeT0iMTQyIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTAiIGZpbGw9IiM2NjYiIHRleHQtYW5jaG9yPSJtaWRkbGUiPlN0dWRlbnRzPC90ZXh0Pg0KICANCiAgPHJlY3QgeD0iMTY1IiB5PSIxMDUiIHdpZHRoPSI3MCIgaGVpZ2h0PSI1MCIgZmlsbD0iI2ZmZDIwMCIgb3BhY2l0eT0iMC4zIiByeD0iNiIvPg0KICA8dGV4dCB4PSIyMDAiIHk9IjEyNSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjIwIiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0iI2Y3OTcxZSIgdGV4dC1hbmNob3I9Im1pZGRsZSI+NDg8L3RleHQ+DQogIDx0ZXh0IHg9IjIwMCIgeT0iMTQyIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTAiIGZpbGw9IiM2NjYiIHRleHQtYW5jaG9yPSJtaWRkbGUiPkNsYXNzZXM8L3RleHQ+DQogIA0KICA8cmVjdCB4PSIyNTAiIHk9IjEwNSIgd2lkdGg9IjcwIiBoZWlnaHQ9IjUwIiBmaWxsPSIjZjc5NzFlIiBvcGFjaXR5PSIwLjIiIHJ4PSI2Ii8+DQogIDx0ZXh0IHg9IjI4NSIgeT0iMTI1IiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMjAiIGZvbnQtd2VpZ2h0PSJib2xkIiBmaWxsPSIjZjc5NzFlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj4xMjwvdGV4dD4NCiAgPHRleHQgeD0iMjg1IiB5PSIxNDIiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMCIgZmlsbD0iIzY2NiIgdGV4dC1hbmNob3I9Im1pZGRsZSI+VGVhY2hlcnM8L3RleHQ+DQogIA0KICA8IS0tIENoYXJ0IGJhcnMgLS0+DQogIDxyZWN0IHg9IjgwIiB5PSIxOTUiIHdpZHRoPSIyMCIgaGVpZ2h0PSIyNSIgZmlsbD0iI2Y3OTcxZSIgb3BhY2l0eT0iMC42IiByeD0iMiIvPg0KICA8cmVjdCB4PSIxMTAiIHk9IjE4NSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjM1IiBmaWxsPSIjZmZkMjAwIiBvcGFjaXR5PSIwLjYiIHJ4PSIyIi8+DQogIDxyZWN0IHg9IjE0MCIgeT0iMTc1IiB3aWR0aD0iMjAiIGhlaWdodD0iNDUiIGZpbGw9IiNmNzk3MWUiIG9wYWNpdHk9IjAuNiIgcng9IjIiLz4NCiAgPHJlY3QgeD0iMTcwIiB5PSIxODAiIHdpZHRoPSIyMCIgaGVpZ2h0PSI0MCIgZmlsbD0iI2ZmZDIwMCIgb3BhY2l0eT0iMC42IiByeD0iMiIvPg0KICA8cmVjdCB4PSIyMDAiIHk9IjE3MCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjUwIiBmaWxsPSIjZjc5NzFlIiBvcGFjaXR5PSIwLjYiIHJ4PSIyIi8+DQogIDxyZWN0IHg9IjIzMCIgeT0iMTkwIiB3aWR0aD0iMjAiIGhlaWdodD0iMzAiIGZpbGw9IiNmZmQyMDAiIG9wYWNpdHk9IjAuNiIgcng9IjIiLz4NCiAgPHJlY3QgeD0iMjYwIiB5PSIxODUiIHdpZHRoPSIyMCIgaGVpZ2h0PSIzNSIgZmlsbD0iI2Y3OTcxZSIgb3BhY2l0eT0iMC42IiByeD0iMiIvPg0KICA8cmVjdCB4PSIyOTAiIHk9IjE3NSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjQ1IiBmaWxsPSIjZmZkMjAwIiBvcGFjaXR5PSIwLjYiIHJ4PSIyIi8+DQogIA0KICA8IS0tIFN0dWRlbnQgaWNvbiAtLT4NCiAgPGNpcmNsZSBjeD0iMzIwIiBjeT0iODAiIHI9IjE1IiBmaWxsPSIjZmZmIiBvcGFjaXR5PSIwLjkiLz4NCiAgPGNpcmNsZSBjeD0iMzIwIiBjeT0iNzUiIHI9IjYiIGZpbGw9IiNmNzk3MWUiLz4NCiAgPHBhdGggZD0iTSAzMTAgODUgUSAzMjAgODggMzMwIDg1IiBmaWxsPSIjZjc5NzFlIi8+DQogIA0KICA8dGV4dCB4PSIyMDAiIHk9IjI2MCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjI0IiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0iI2ZmZiIgdGV4dC1hbmNob3I9Im1pZGRsZSI+U3R1ZGVudCBNYW5hZ2VtZW50PC90ZXh0Pg0KICA8dGV4dCB4PSIyMDAiIHk9IjI4NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmaWxsPSIjZmZmIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBvcGFjaXR5PSIwLjkiPlRyYWNrICYgQW5hbHl6ZSBQZXJmb3JtYW5jZTwvdGV4dD4NCjwvc3ZnPg0K",zk="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiB2aWV3Qm94PSIwIDAgNDAwIDMwMCI+DQogIDxkZWZzPg0KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0ibXVzaWNCZyIgeDE9IjAlIiB5MT0iMCUiIHgyPSIxMDAlIiB5Mj0iMTAwJSI+DQogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojZmYwZjdiO3N0b3Atb3BhY2l0eToxIiAvPg0KICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojZjg5YjI5O3N0b3Atb3BhY2l0eToxIiAvPg0KICAgIDwvbGluZWFyR3JhZGllbnQ+DQogIDwvZGVmcz4NCiAgPHJlY3Qgd2lkdGg9IjQwMCIgaGVpZ2h0PSIzMDAiIGZpbGw9InVybCgjbXVzaWNCZykiLz4NCiAgDQogIDwhLS0gTXVzaWMgcGxheWVyIGludGVyZmFjZSAtLT4NCiAgPHJlY3QgeD0iODAiIHk9IjcwIiB3aWR0aD0iMjQwIiBoZWlnaHQ9IjE0MCIgcng9IjEyIiBmaWxsPSIjZmZmIiBvcGFjaXR5PSIwLjk1Ii8+DQogIA0KICA8IS0tIEFsYnVtIGFydCBwbGFjZWhvbGRlciAtLT4NCiAgPHJlY3QgeD0iOTUiIHk9Ijg1IiB3aWR0aD0iODAiIGhlaWdodD0iODAiIHJ4PSI4IiBmaWxsPSIjZmYwZjdiIiBvcGFjaXR5PSIwLjMiLz4NCiAgPGNpcmNsZSBjeD0iMTM1IiBjeT0iMTI1IiByPSIxNSIgZmlsbD0iI2ZmZiIgb3BhY2l0eT0iMC44Ii8+DQogIDxwb2x5Z29uIHBvaW50cz0iMTMwLDExOCAxNDUsMTI1IDEzMCwxMzIiIGZpbGw9IiNmZjBmN2IiLz4NCiAgDQogIDwhLS0gU29uZyBpbmZvIC0tPg0KICA8cmVjdCB4PSIxOTAiIHk9IjkwIiB3aWR0aD0iMTEwIiBoZWlnaHQ9IjgiIHJ4PSI0IiBmaWxsPSIjZmYwZjdiIiBvcGFjaXR5PSIwLjQiLz4NCiAgPHJlY3QgeD0iMTkwIiB5PSIxMDUiIHdpZHRoPSI4MCIgaGVpZ2h0PSI2IiByeD0iMyIgZmlsbD0iI2Y4OWIyOSIgb3BhY2l0eT0iMC4zIi8+DQogIA0KICA8IS0tIFdhdmVmb3JtIC0tPg0KICA8cmVjdCB4PSIxOTAiIHk9IjEyNSIgd2lkdGg9IjQiIGhlaWdodD0iMjUiIGZpbGw9IiNmZjBmN2IiIG9wYWNpdHk9IjAuNSIgcng9IjIiLz4NCiAgPHJlY3QgeD0iMTk4IiB5PSIxMjAiIHdpZHRoPSI0IiBoZWlnaHQ9IjM1IiBmaWxsPSIjZjg5YjI5IiBvcGFjaXR5PSIwLjUiIHJ4PSIyIi8+DQogIDxyZWN0IHg9IjIwNiIgeT0iMTE1IiB3aWR0aD0iNCIgaGVpZ2h0PSI0NSIgZmlsbD0iI2ZmMGY3YiIgb3BhY2l0eT0iMC41IiByeD0iMiIvPg0KICA8cmVjdCB4PSIyMTQiIHk9IjEyNSIgd2lkdGg9IjQiIGhlaWdodD0iMjUiIGZpbGw9IiNmODliMjkiIG9wYWNpdHk9IjAuNSIgcng9IjIiLz4NCiAgPHJlY3QgeD0iMjIyIiB5PSIxMTgiIHdpZHRoPSI0IiBoZWlnaHQ9IjM4IiBmaWxsPSIjZmYwZjdiIiBvcGFjaXR5PSIwLjUiIHJ4PSIyIi8+DQogIDxyZWN0IHg9IjIzMCIgeT0iMTIwIiB3aWR0aD0iNCIgaGVpZ2h0PSIzNSIgZmlsbD0iI2Y4OWIyOSIgb3BhY2l0eT0iMC41IiByeD0iMiIvPg0KICA8cmVjdCB4PSIyMzgiIHk9IjEyMiIgd2lkdGg9IjQiIGhlaWdodD0iMzAiIGZpbGw9IiNmZjBmN2IiIG9wYWNpdHk9IjAuNSIgcng9IjIiLz4NCiAgPHJlY3QgeD0iMjQ2IiB5PSIxMjUiIHdpZHRoPSI0IiBoZWlnaHQ9IjI1IiBmaWxsPSIjZjg5YjI5IiBvcGFjaXR5PSIwLjUiIHJ4PSIyIi8+DQogIDxyZWN0IHg9IjI1NCIgeT0iMTIwIiB3aWR0aD0iNCIgaGVpZ2h0PSIzNSIgZmlsbD0iI2ZmMGY3YiIgb3BhY2l0eT0iMC41IiByeD0iMiIvPg0KICA8cmVjdCB4PSIyNjIiIHk9IjExNSIgd2lkdGg9IjQiIGhlaWdodD0iNDUiIGZpbGw9IiNmODliMjkiIG9wYWNpdHk9IjAuNSIgcng9IjIiLz4NCiAgPHJlY3QgeD0iMjcwIiB5PSIxMjMiIHdpZHRoPSI0IiBoZWlnaHQ9IjI4IiBmaWxsPSIjZmYwZjdiIiBvcGFjaXR5PSIwLjUiIHJ4PSIyIi8+DQogIDxyZWN0IHg9IjI3OCIgeT0iMTIwIiB3aWR0aD0iNCIgaGVpZ2h0PSIzNSIgZmlsbD0iI2Y4OWIyOSIgb3BhY2l0eT0iMC41IiByeD0iMiIvPg0KICA8cmVjdCB4PSIyODYiIHk9IjEyNSIgd2lkdGg9IjQiIGhlaWdodD0iMjUiIGZpbGw9IiNmZjBmN2IiIG9wYWNpdHk9IjAuNSIgcng9IjIiLz4NCiAgDQogIDwhLS0gUHJvZ3Jlc3MgYmFyIC0tPg0KICA8cmVjdCB4PSI5NSIgeT0iMTc1IiB3aWR0aD0iMjEwIiBoZWlnaHQ9IjQiIHJ4PSIyIiBmaWxsPSIjZTBlMGUwIi8+DQogIDxyZWN0IHg9Ijk1IiB5PSIxNzUiIHdpZHRoPSIxMzAiIGhlaWdodD0iNCIgcng9IjIiIGZpbGw9IiNmZjBmN2IiLz4NCiAgPGNpcmNsZSBjeD0iMjI1IiBjeT0iMTc3IiByPSI2IiBmaWxsPSIjZmYwZjdiIi8+DQogIA0KICA8IS0tIENvbnRyb2wgYnV0dG9ucyAtLT4NCiAgPGNpcmNsZSBjeD0iMTUwIiBjeT0iMTk1IiByPSIxMCIgZmlsbD0iI2ZmMGY3YiIgb3BhY2l0eT0iMC4zIi8+DQogIDxwb2x5Z29uIHBvaW50cz0iMTQ1LDE5MCAxNTUsMTk1IDE0NSwyMDAiIGZpbGw9IiNmZmYiLz4NCiAgDQogIDxjaXJjbGUgY3g9IjIwMCIgY3k9IjE5NSIgcj0iMTQiIGZpbGw9IiNmZjBmN2IiIG9wYWNpdHk9IjAuNiIvPg0KICA8cG9seWdvbiBwb2ludHM9IjE5MywxODggMjEwLDE5NSAxOTMsMjAyIiBmaWxsPSIjZmZmIi8+DQogIA0KICA8Y2lyY2xlIGN4PSIyNTAiIGN5PSIxOTUiIHI9IjEwIiBmaWxsPSIjZmYwZjdiIiBvcGFjaXR5PSIwLjMiLz4NCiAgPHBvbHlnb24gcG9pbnRzPSIyNDUsMTkwIDI1NSwxOTUgMjQ1LDIwMCIgZmlsbD0iI2ZmZiIvPg0KICANCiAgPCEtLSBNdXNpYyBub3RlcyBkZWNvcmF0aW9uIC0tPg0KICA8Y2lyY2xlIGN4PSIzMjAiIGN5PSIxMDAiIHI9IjgiIGZpbGw9IiNmZmYiIG9wYWNpdHk9IjAuOCIvPg0KICA8cmVjdCB4PSIzMjciIHk9Ijg1IiB3aWR0aD0iMyIgaGVpZ2h0PSIyMCIgZmlsbD0iI2ZmZiIgb3BhY2l0eT0iMC44Ii8+DQogIDxjaXJjbGUgY3g9IjM0MCIgY3k9IjkwIiByPSI2IiBmaWxsPSIjZmZmIiBvcGFjaXR5PSIwLjciLz4NCiAgPHJlY3QgeD0iMzQ1IiB5PSI3OCIgd2lkdGg9IjMiIGhlaWdodD0iMTciIGZpbGw9IiNmZmYiIG9wYWNpdHk9IjAuNyIvPg0KICANCiAgPHRleHQgeD0iMjAwIiB5PSIyNTUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIyNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGZpbGw9IiNmZmYiIHRleHQtYW5jaG9yPSJtaWRkbGUiPk11c2ljIFN0cmVhbWluZzwvdGV4dD4NCiAgPHRleHQgeD0iMjAwIiB5PSIyODAiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iI2ZmZiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgb3BhY2l0eT0iMC45Ij5MaXN0ZW4gJiBFbmpveSBZb3VyIFBsYXlsaXN0PC90ZXh0Pg0KPC9zdmc+DQo=",Vk=()=>_.jsxs("header",{className:"header fixed top-0 left-0 right-0 z-50 bg-white/30 backdrop-blur-md border-b border-white/20 px-4 sm:px-0",style:{fontFamily:"Dosis, sans-serif"},children:[_.jsxs(jd,{to:"/",className:"group flex items-center gap-2 sm:gap-4 transition-all duration-300 hover:scale-105",children:[_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 rounded-full blur-xl opacity-0 group-hover:opacity-40 transition-all duration-500 scale-150"}),_.jsx("div",{className:"relative w-10 h-10 sm:w-14 sm:h-14 rounded-full bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 p-[2px] group-hover:p-[3px] transition-all duration-300",children:_.jsx("div",{className:"w-full h-full rounded-full bg-white flex items-center justify-center overflow-hidden",children:_.jsx("img",{src:Dk,alt:"logo",className:"w-8 h-8 sm:w-12 sm:h-12 object-contain transition-all duration-500 group-hover:scale-110 group-hover:rotate-12"})})}),_.jsx("div",{className:"absolute -top-1 -right-1 w-2 sm:w-3 h-2 sm:h-3 bg-gradient-to-r from-blue-400 to-purple-400 rounded-full opacity-0 group-hover:opacity-100 group-hover:animate-ping"}),_.jsx("div",{className:"absolute -bottom-1 -left-1 w-1.5 sm:w-2 h-1.5 sm:h-2 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full opacity-0 group-hover:opacity-100 group-hover:animate-ping delay-75"})]}),_.jsx("div",{className:"hidden sm:flex flex-col",children:_.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent group-hover:scale-105 transition-transform duration-300",children:"Portfolio"})})]}),_.jsxs("nav",{className:"flex text-sm sm:text-xl gap-2 sm:gap-7 font-medium",children:[_.jsx(jd,{to:"/about",className:({isActive:n})=>`group relative px-2 sm:px-4 py-1 sm:py-2 rounded-lg transition-all duration-300 overflow-hidden ${n?"text-white font-bold":"text-black font-semibold hover:text-blue-600 hover:-translate-y-1"}`,children:({isActive:n})=>_.jsxs(_.Fragment,{children:[n&&_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 animate-gradient-shift"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-100 to-purple-100 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),_.jsx("div",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-500 group-hover:w-full transition-all duration-300"}),_.jsx("span",{className:"relative z-10",children:"About"}),n&&_.jsx("span",{className:"absolute -top-0.5 sm:-top-1 -right-0.5 sm:-right-1 w-1.5 sm:w-2 h-1.5 sm:h-2 bg-white rounded-full animate-ping"})]})}),_.jsx(jd,{to:"/projects",className:({isActive:n})=>`group relative px-2 sm:px-4 py-1 sm:py-2 rounded-lg transition-all duration-300 overflow-hidden ${n?"text-white font-bold":"text-black font-semibold hover:text-blue-600 hover:-translate-y-1"}`,children:({isActive:n})=>_.jsxs(_.Fragment,{children:[n&&_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 animate-gradient-shift"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-100 to-purple-100 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),_.jsx("div",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-500 group-hover:w-full transition-all duration-300"}),_.jsx("span",{className:"relative z-10",children:"Projects"}),n&&_.jsx("span",{className:"absolute -top-0.5 sm:-top-1 -right-0.5 sm:-right-1 w-1.5 sm:w-2 h-1.5 sm:h-2 bg-white rounded-full animate-ping"})]})}),_.jsx(jd,{to:"/blog",className:({isActive:n})=>`group relative px-2 sm:px-4 py-1 sm:py-2 rounded-lg transition-all duration-300 overflow-hidden ${n?"text-white font-bold":"text-black font-semibold hover:text-blue-600 hover:-translate-y-1"}`,children:({isActive:n})=>_.jsxs(_.Fragment,{children:[n&&_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 animate-gradient-shift"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-100 to-purple-100 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),_.jsx("div",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-500 group-hover:w-full transition-all duration-300"}),_.jsx("span",{className:"relative z-10",children:"Blog"}),n&&_.jsx("span",{className:"absolute -top-0.5 sm:-top-1 -right-0.5 sm:-right-1 w-1.5 sm:w-2 h-1.5 sm:h-2 bg-white rounded-full animate-ping"})]})}),_.jsx(jd,{to:"/contact",className:({isActive:n})=>`group relative px-2 sm:px-4 py-1 sm:py-2 rounded-lg transition-all duration-300 overflow-hidden ${n?"text-white font-bold":"text-black font-semibold hover:text-blue-600 hover:-translate-y-1"}`,children:({isActive:n})=>_.jsxs(_.Fragment,{children:[n&&_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 animate-gradient-shift"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-100 to-purple-100 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),_.jsx("div",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-500 group-hover:w-full transition-all duration-300"}),_.jsx("span",{className:"relative z-10",children:"Contact"}),n&&_.jsx("span",{className:"absolute -top-0.5 sm:-top-1 -right-0.5 sm:-right-1 w-1.5 sm:w-2 h-1.5 sm:h-2 bg-white rounded-full animate-ping"})]})})]})]}),kk="data:image/svg+xml,%3csvg%20width='50'%20height='50'%20viewBox='0%200%2050%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.03125%2044.9219L2.92969%200H46.9727L42.9688%2044.9219L25%2050'%20fill='%23264DE4'/%3e%3cpath%20d='M25%203.61328V46.0938L39.5508%2042.0898L42.9688%203.61328'%20fill='%232965F1'/%3e%3cpath%20d='M11.1328%209.17969H25V14.6484H11.6211M12.1094%2020.3125H25V25.8789H12.5977M12.8906%2028.6133H18.3594L18.75%2033.0078L25%2034.668V40.4297L13.5742%2037.3047'%20fill='%23EBEBEB'/%3e%3cpath%20d='M25%2020.3125V25.8789H31.7383L31.0547%2033.0078L25%2034.668V40.4297L36.2305%2037.3047L38.7695%209.17969H25V14.6484H32.8125L32.2754%2020.3125H25Z'%20fill='white'/%3e%3c/svg%3e",Wk="data:image/svg+xml,%3csvg%20width='51'%20height='50'%20viewBox='0%200%2051%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M49%2038.2998C47.254%2038.7303%2046.174%2038.3187%2045.205%2036.908L38.314%2027.6642L37.318%2026.3844L29.2705%2036.9385C28.351%2038.2082%2027.3865%2038.7608%2025.6705%2038.3114L35.9755%2024.8995L26.3815%2012.7849C28.0315%2012.4737%2029.1715%2012.6322%2030.184%2014.0647L37.3315%2023.4234L44.5315%2014.1156C45.454%2012.846%2046.4455%2012.3632%2048.1015%2012.8315L44.3815%2017.6133L39.3415%2023.976C38.7415%2024.7032%2038.824%2025.2006%2039.376%2025.903L49%2038.2998ZM1.012%2024.6756L1.855%2020.6558C4.15%2012.7006%2013.555%209.39485%2020.041%2014.3105C23.8315%2017.2017%2024.7735%2021.2913%2024.586%2025.8725H3.22C2.899%2034.1186%209.0205%2039.0953%2016.825%2036.5561C19.5625%2035.6645%2021.175%2033.5863%2021.982%2030.9859C22.3915%2029.6829%2023.0695%2029.4792%2024.3325%2029.8516C23.6875%2033.1035%2022.2325%2035.8202%2019.1575%2037.5203C14.563%2040.0654%208.005%2039.2422%204.555%2035.7053C2.5%2033.6532%201.651%2031.0528%201.27%2028.2721C1.21%2027.8126%201.09%2027.3748%201%2026.9342C1.008%2026.1818%201.012%2025.4294%201.012%2024.677V24.6756ZM3.259%2024.1229H22.567C22.441%2018.1601%2018.6115%2013.9251%2013.378%2013.8888C7.633%2013.8451%203.508%2017.9798%203.259%2024.1229Z'%20fill='black'/%3e%3c/svg%3e",Zk="data:image/svg+xml,%3csvg%20width='51'%20height='50'%20viewBox='0%200%2051%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1479_21476)'%3e%3cpath%20d='M2.04529%2027.5236C0.651571%2026.1298%200.651571%2023.8702%202.04529%2022.4764L23.4764%201.04529C24.8702%20-0.348429%2027.1298%20-0.348429%2028.5236%201.04529L49.9547%2022.4764C51.3484%2023.8702%2051.3484%2026.1298%2049.9547%2027.5236L28.5236%2048.9547C27.1298%2050.3484%2024.8702%2050.3484%2023.4764%2048.9547L2.04529%2027.5236Z'%20fill='%23EE513B'/%3e%3cpath%20d='M19.1342%205L17%207.17115L22.5122%2012.7787C22.2892%2013.2653%2022.1647%2013.8081%2022.1647%2014.3805C22.1647%2016.0054%2023.1683%2017.3919%2024.5793%2017.9334V31.6509C23.1683%2032.1923%2022.1647%2033.5788%2022.1647%2035.2038C22.1647%2037.3004%2023.8354%2039%2025.8963%2039C27.9573%2039%2029.628%2037.3004%2029.628%2035.2038C29.628%2033.7307%2028.8032%2032.4533%2027.5976%2031.8242V17.9521L32.8668%2023.3124C32.6546%2023.7892%2032.5366%2024.3185%2032.5366%2024.8759C32.5366%2026.9725%2034.2074%2028.6721%2036.2683%2028.6721C38.3293%2028.6721%2040%2026.9725%2040%2024.8759C40%2022.7793%2038.3293%2021.0797%2036.2683%2021.0797C35.8678%2021.0797%2035.4821%2021.1438%2035.1204%2021.2626L29.4614%2015.5058C29.5697%2015.1503%2029.628%2014.7722%2029.628%2014.3805C29.628%2012.2839%2027.9573%2010.5842%2025.8963%2010.5842C25.5112%2010.5842%2025.1398%2010.6436%2024.7902%2010.7538L19.1342%205Z'%20fill='white'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1479_21476'%3e%3crect%20width='50'%20height='50'%20fill='white'%20transform='translate(0.820312)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",TI="data:image/svg+xml,%3csvg%20width='51'%20height='50'%20viewBox='0%200%2051%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1479_21481)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M25.557%200.520996C11.7523%200.520996%200.558594%2011.7575%200.558594%2025.6216C0.558594%2036.7092%207.72108%2046.1167%2017.657%2049.436C18.907%2049.6666%2019.3633%2048.8916%2019.3633%2048.2265C19.3633%2047.6304%2019.3414%2046.0523%2019.3289%2043.9581C12.3742%2045.4751%2010.907%2040.5933%2010.907%2040.5933C9.7711%2037.6944%208.13204%2036.9226%208.13204%2036.9226C5.86173%2035.3648%208.30389%2035.3962%208.30389%2035.3962C10.8117%2035.5734%2012.132%2037.983%2012.132%2037.983C14.3633%2041.8184%2017.9836%2040.7109%2019.4086%2040.0678C19.6352%2038.4457%2020.282%2037.3398%2020.9961%2036.7124C15.4445%2036.0786%209.60858%2033.9263%209.60858%2024.3087C9.60858%2021.5682%2010.582%2019.3281%2012.182%2017.5727C11.9242%2016.9374%2011.0664%2014.3867%2012.4258%2010.9309C12.4258%2010.9309%2014.5258%2010.2563%2019.3008%2013.5035C21.2961%2012.9466%2023.4336%2012.6689%2025.5602%2012.658C27.6836%2012.6689%2029.8227%2012.9466%2031.8195%2013.5035C36.5914%2010.2563%2038.6867%2010.9309%2038.6867%2010.9309C40.0508%2014.3867%2039.193%2016.9374%2038.9351%2017.5727C40.5383%2019.3281%2041.5055%2021.5682%2041.5055%2024.3087C41.5055%2033.9499%2035.6602%2036.0723%2030.0914%2036.6935C30.9883%2037.4684%2031.7883%2038.9995%2031.7883%2041.3416C31.7883%2044.697%2031.757%2047.403%2031.757%2048.2265C31.757%2048.8979%2032.2071%2049.6791%2033.4758%2049.4329C43.4024%2046.1072%2050.5586%2036.706%2050.5586%2025.6216C50.5586%2011.7575%2039.3648%200.520996%2025.557%200.520996Z'%20fill='black'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1479_21481'%3e%3crect%20width='50'%20height='50'%20fill='white'%20transform='translate(0.558594)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Xk="data:image/svg+xml,%3csvg%20width='50'%20height='50'%20viewBox='0%200%2050%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.93359%2044.9219L2.92969%200H46.9727L42.9688%2044.9219L24.9023%2050'%20fill='%23E34F26'/%3e%3cpath%20d='M25%2046.0938L39.5508%2042.0898L42.9688%203.61328H25'%20fill='%23EF652A'/%3e%3cpath%20d='M25%2020.3125H17.6758L17.1875%2014.6484H25V9.17969H11.1328L12.5977%2025.8789H25V20.3125ZM24.9023%2034.668L18.75%2033.0078L18.3594%2028.6133H12.8906L13.5742%2037.3047L24.9023%2040.4297V34.668Z'%20fill='%23EBEBEB'/%3e%3cpath%20d='M24.9023%2020.3125V25.8789H31.7383L31.0547%2033.0078L24.9023%2034.668V40.4297L36.2305%2037.3047L37.793%2020.3125H24.9023ZM24.9023%209.17969V14.6484H38.2812L38.7695%209.17969H24.9023Z'%20fill='white'/%3e%3c/svg%3e",wI="data:image/svg+xml,%3csvg%20width='51'%20height='50'%20viewBox='0%200%2051%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1479_21409)'%3e%3cpath%20d='M43%200H8C3.85786%200%200.5%203.35786%200.5%207.5V42.5C0.5%2046.6421%203.85786%2050%208%2050H43C47.1421%2050%2050.5%2046.6421%2050.5%2042.5V7.5C50.5%203.35786%2047.1421%200%2043%200Z'%20fill='%23F0DB4F'/%3e%3cpath%20d='M32.1406%2036.1328C33.1172%2037.793%2034.4844%2038.9648%2036.7305%2038.9648C38.6836%2038.9648%2039.9531%2037.9883%2039.9531%2036.6211C39.9531%2035.0586%2038.6836%2034.4727%2036.5352%2033.4961L35.3633%2033.0078C31.9453%2031.543%2029.6992%2029.7852%2029.6992%2025.9766C29.6992%2022.4609%2032.3359%2019.7266%2036.5352%2019.7266C39.5625%2019.7266%2041.7109%2020.8008%2043.1758%2023.5352L39.5625%2025.8789C38.7812%2024.4141%2037.9023%2023.8281%2036.5352%2023.8281C35.168%2023.8281%2034.2891%2024.707%2034.2891%2025.8789C34.2891%2027.2461%2035.168%2027.832%2037.2188%2028.7109L38.3906%2029.1992C42.3945%2030.957%2044.6406%2032.6172%2044.6406%2036.6211C44.6406%2040.8203%2041.3203%2043.1641%2036.8281%2043.1641C32.4336%2043.1641%2029.6016%2041.1133%2028.2344%2038.3789L32.1406%2036.1328ZM15.5391%2036.5234C16.3203%2037.793%2016.9062%2038.9648%2018.5664%2038.9648C20.1289%2038.9648%2021.1055%2038.3789%2021.1055%2036.0352V19.8242H25.793V35.8398C25.793%2040.7227%2022.9609%2042.8711%2018.7617%2042.8711C14.9531%2042.8711%2012.8047%2040.918%2011.7305%2038.5742L15.5391%2036.5234Z'%20fill='%23323330'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1479_21409'%3e%3crect%20width='50'%20height='50'%20fill='white'%20transform='translate(0.5)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",RI="data:image/svg+xml,%3csvg%20width='45'%20height='50'%20viewBox='0%200%2045%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22.2977%2049.9072C21.6099%2049.9072%2020.968%2049.7238%2020.372%2049.4029L14.274%2045.7808C13.357%2045.2764%2013.8155%2045.093%2014.0906%2045.0013C15.3285%2044.5887%2015.5578%2044.497%2016.8416%2043.7634C16.9791%2043.6717%2017.1625%2043.7175%2017.3001%2043.8092L21.9767%2046.6061C22.1601%2046.6978%2022.3894%2046.6978%2022.5269%2046.6061L40.8209%2036.0148C41.0043%2035.9231%2041.096%2035.7397%2041.096%2035.5105V14.3738C41.096%2014.1446%2041.0043%2013.9612%2040.8209%2013.8695L22.5269%203.32409C22.3435%203.23239%2022.1143%203.23239%2021.9767%203.32409L3.68276%2013.8695C3.49936%2013.9612%203.40766%2014.1904%203.40766%2014.3738V35.5105C3.40766%2035.6939%203.49936%2035.9231%203.68276%2036.0148L8.68036%2038.9033C11.3855%2040.2788%2013.0819%2038.6741%2013.0819%2037.0694V16.2078C13.0819%2015.9327%2013.3112%2015.6576%2013.6321%2015.6576H15.9704C16.2455%2015.6576%2016.5206%2015.8869%2016.5206%2016.2078V37.0694C16.5206%2040.6915%2014.5491%2042.8005%2011.1104%2042.8005C10.0558%2042.8005%209.23055%2042.8005%206.89223%2041.6543L2.07802%2038.9033C0.885936%2038.2156%200.152344%2036.9318%200.152344%2035.5563V14.4197C0.152344%2013.0442%200.885936%2011.7604%202.07802%2011.0727L20.372%200.48142C21.5182%20-0.160473%2023.0771%20-0.160473%2024.2234%200.48142L42.5173%2011.0727C43.7094%2011.7604%2044.443%2013.0442%2044.443%2014.4197V35.5563C44.443%2036.9318%2043.7094%2038.2156%2042.5173%2038.9033L24.2234%2049.4946C23.6273%2049.7697%2022.9396%2049.9072%2022.2977%2049.9072ZM27.9372%2035.3729C19.9135%2035.3729%2018.2629%2031.705%2018.2629%2028.5872C18.2629%2028.3121%2018.4922%2028.037%2018.8131%2028.037H21.1973C21.4724%2028.037%2021.7016%2028.2204%2021.7016%2028.4955C22.0684%2030.9255%2023.123%2032.1176%2027.983%2032.1176C31.8344%2032.1176%2033.485%2031.2465%2033.485%2029.1832C33.485%2027.9911%2033.0265%2027.12%2027.0202%2026.524C22.0226%2026.0196%2018.9048%2024.9192%2018.9048%2020.9303C18.9048%2017.2165%2022.0226%2015.0157%2027.2494%2015.0157C33.1182%2015.0157%2036.0067%2017.0331%2036.3735%2021.4347C36.3735%2021.5722%2036.3276%2021.7098%2036.2359%2021.8473C36.1442%2021.939%2036.0067%2022.0307%2035.8691%2022.0307H33.485C33.2557%2022.0307%2033.0265%2021.8473%2032.9806%2021.6181C32.4304%2019.0963%2031.0091%2018.271%2027.2494%2018.271C23.0313%2018.271%2022.5269%2019.7382%2022.5269%2020.8386C22.5269%2022.1683%2023.123%2022.5809%2028.8083%2023.3145C34.4478%2024.0481%2037.1071%2025.1026%2037.1071%2029.0457C37.0612%2033.0804%2033.7601%2035.3729%2027.9372%2035.3729Z'%20fill='%23539E43'/%3e%3c/svg%3e",II="data:image/svg+xml,%3csvg%20width='81'%20height='80'%20viewBox='0%200%2081%2080'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1479_21414)'%3e%3cpath%20d='M45.458%2041.5776C46.4212%2038.9707%2045.0226%2036.0517%2042.3335%2035.0581C39.6448%2034.0647%2036.6839%2035.3729%2035.7207%2037.9798C34.7574%2040.5871%2036.1565%2043.506%2038.8452%2044.4994C41.5342%2045.493%2044.4947%2044.1848%2045.458%2041.5776Z'%20fill='%2353C1DE'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M59.6393%2036.8569C62.1641%2033.1859%2066.232%2026.1515%2062.6171%2021.9214C59.0193%2017.7103%2051.3231%2020.3888%2047.1296%2022.154C45.0896%2018.1187%2040.8104%2011.0391%2035.3144%2011.9121C29.8415%2012.7815%2028.5099%2020.6853%2028.0547%2025.1499C23.3961%2024.752%2015.221%2024.5819%2013.3277%2029.7061C11.4398%2034.8158%2017.6725%2040.2198%2021.4461%2042.9362C18.8768%2046.6453%2014.8585%2053.4365%2018.4592%2057.652C22.0844%2061.8945%2029.8773%2059.4062%2034.1115%2057.6197C36.1635%2061.7121%2040.2513%2068.6252%2045.7274%2067.7553C51.2207%2066.8827%2052.774%2059.0337%2053.2378%2054.5454C57.7432%2054.885%2065.9859%2054.8969%2067.8502%2049.851C69.7253%2044.7761%2063.3722%2039.5552%2059.6393%2036.8569ZM53.4062%2052.1383C53.4986%2049.7653%2053.3994%2047.1688%2053.1197%2044.4212C55.0466%2042.5513%2056.7633%2040.6588%2058.2117%2038.8023C60.9457%2040.7872%2066.9143%2045.2201%2065.5212%2048.9905C64.115%2052.7964%2056.9614%2052.402%2053.4062%2052.1383ZM45.2824%2065.3697C41.1967%2066.0185%2037.8496%2059.6152%2036.3318%2056.5991C38.4703%2055.5375%2040.7055%2054.2107%2042.9811%2052.661C45.7008%2053.4083%2048.3278%2053.9576%2050.7731%2054.2858C50.4413%2057.4592%2049.3862%2064.7177%2045.2824%2065.3697ZM20.3459%2056.1254C17.6606%2052.9828%2021.6084%2047.0564%2023.5%2044.3238C25.5561%2045.628%2027.901%2046.886%2030.4664%2048.0699C31.2143%2050.6853%2032.0952%2053.1607%2033.0751%2055.4057C30.4265%2056.5238%2023.0437%2059.2825%2020.3459%2056.1254ZM15.6567%2030.5667C17.0682%2026.7466%2024.4399%2027.2588%2027.8765%2027.5563C27.7639%2029.96%2027.8276%2032.5405%2028.067%2035.2146C26.1199%2037.1192%2024.3678%2039.0692%2022.8747%2040.9918C20.2045%2039.0667%2014.2445%2034.389%2015.6567%2030.5667ZM35.7592%2014.2977C39.862%2013.6461%2043.4186%2020.239%2044.902%2023.163C42.7088%2024.2269%2040.4497%2025.5261%2038.1983%2027.0198C35.549%2026.3028%2032.9576%2025.7659%2030.5178%2025.4279C30.8859%2021.8274%2031.6608%2014.9486%2035.7592%2014.2977ZM51.5018%2034.7248C53.1628%2035.5804%2054.7249%2036.4794%2056.1619%2037.404C55.1526%2038.6905%2054.0029%2040.001%2052.7349%2041.3113C52.4147%2039.1027%2052.0074%2036.9038%2051.5018%2034.7248ZM45.9385%2025.3801C46.5958%2026.9054%2047.2062%2028.563%2047.7595%2030.3211C45.649%2029.4294%2043.4988%2028.6345%2041.3159%2027.9387C42.8757%2026.9757%2044.4257%2026.1185%2045.9385%2025.3801ZM30.3849%2033.0516C30.2829%2031.2413%2030.2692%2029.4933%2030.3425%2027.8372C32.0228%2028.0745%2033.7838%2028.4116%2035.5895%2028.8408C33.7866%2030.1626%2032.0496%2031.5683%2030.3849%2033.0516ZM29.6689%2045.0176C27.9548%2044.1647%2026.3675%2043.2806%2024.9336%2042.3778C25.9718%2041.0486%2027.1437%2039.7012%2028.4252%2038.3638C28.7319%2040.5974%2029.1476%2042.8183%2029.6689%2045.0176ZM35.297%2054.3797C34.6199%2052.8169%2033.9907%2051.1325%2033.423%2049.3612C35.5517%2050.2411%2037.7149%2051.0406%2039.9084%2051.7449C38.3297%2052.7516%2036.7849%2053.6348%2035.297%2054.3797ZM50.8253%2046.548C50.959%2048.4279%2050.9976%2050.2129%2050.9381%2051.8748C49.2279%2051.6405%2047.4171%2051.2916%2045.5415%2050.8363C47.3633%2049.4795%2049.1298%2048.052%2050.8253%2046.548ZM42.4809%2050.0166C39.0937%2049.0251%2035.7715%2047.7948%2032.5445%2046.3666C31.6496%2043.0143%2031.0116%2039.6007%2030.6416%2036.165C33.1475%2033.7986%2035.8375%2031.6209%2038.6866%2029.6567C42.0822%2030.636%2045.4089%2031.8643%2048.6246%2033.3303C49.4962%2036.669%2050.1242%2040.0644%2050.5324%2043.4777C48.0113%2045.8367%2045.3104%2048.0168%2042.4809%2050.0166ZM60.7309%2023.4479C63.4277%2026.6047%2059.4203%2032.7969%2057.593%2035.4583C55.518%2034.1164%2053.2008%2032.8322%2050.7156%2031.648C49.9815%2029.026%2049.1242%2026.5718%2048.1674%2024.3682C51.2411%2023.0767%2058.0602%2020.3219%2060.7309%2023.4479Z'%20fill='%2353C1DE'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1479_21414'%3e%3crect%20width='62'%20height='62'%20fill='white'%20transform='translate(22.2383)%20rotate(20.2782)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Jk="data:image/svg+xml,%3csvg%20width='49'%20height='30'%20viewBox='0%200%2049%2030'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.25%2010C13.8833%203.33333%2017.9667%200%2024.5%200C34.3%200%2035.525%207.5%2040.425%208.75C43.6917%209.58333%2046.55%208.33333%2049%205C47.3667%2011.6667%2043.2833%2015%2036.75%2015C26.95%2015%2025.725%207.5%2020.825%206.25C17.5583%205.41667%2014.7%206.66667%2012.25%2010ZM0%2025C1.63333%2018.3333%205.71667%2015%2012.25%2015C22.05%2015%2023.275%2022.5%2028.175%2023.75C31.4417%2024.5833%2034.3%2023.3333%2036.75%2020C35.1167%2026.6667%2031.0333%2030%2024.5%2030C14.7%2030%2013.475%2022.5%208.575%2021.25C5.30833%2020.4167%202.45%2021.6667%200%2025Z'%20fill='%2344A8B3'/%3e%3c/svg%3e",Yk="data:image/svg+xml,%3csvg%20width='51'%20height='50'%20viewBox='0%200%2051%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1479_21433)'%3e%3cpath%20d='M43.3789%200H8.37891C4.23677%200%200.878906%203.35786%200.878906%207.5V42.5C0.878906%2046.6421%204.23677%2050%208.37891%2050H43.3789C47.521%2050%2050.8789%2046.6421%2050.8789%2042.5V7.5C50.8789%203.35786%2047.521%200%2043.3789%200Z'%20fill='%233178C6'/%3e%3cpath%20d='M23.6328%2027.7344H29.8828V23.7305H12.4023V27.7344H18.6523V45.6055H23.6328V27.7344ZM31.8359%2044.6289C32.627%2045.0391%2033.5938%2045.3418%2034.668%2045.5469C35.7422%2045.752%2036.9141%2045.8496%2038.0859%2045.8496C39.2578%2045.8496%2040.332%2045.7422%2041.4062%2045.5176C42.4805%2045.293%2043.3594%2044.9219%2044.1406%2044.4434C44.9316%2043.9258%2045.6055%2043.2715%2045.9961%2042.3926C46.3867%2041.5137%2046.6895%2040.5371%2046.6895%2039.2676C46.6895%2038.3789%2046.5527%2037.6074%2046.2891%2036.9238C46.0254%2036.2402%2045.6445%2035.6543%2045.1172%2035.166C44.6191%2034.6484%2044.043%2034.1895%2043.3594%2033.7988C42.6758%2033.4082%2041.8945%2032.998%2041.0156%2032.627C40.3711%2032.3633%2039.8438%2032.1094%2039.2578%2031.8555C38.75%2031.6016%2038.3105%2031.3477%2037.9883%2031.0937C37.627%2030.8301%2037.3535%2030.5566%2037.1582%2030.2734C36.9629%2029.9805%2036.8652%2029.6582%2036.8652%2029.2969C36.8652%2028.9648%2036.9522%2028.6621%2037.1289%2028.3887C37.3057%2028.1152%2037.5488%2027.8906%2037.8613%2027.6953C38.1738%2027.5%2038.5645%2027.3535%2039.0332%2027.2461C39.4922%2027.1387%2040%2027.0898%2040.5957%2027.0898C41.0059%2027.0898%2041.4355%2027.1201%2041.8652%2027.1816C42.3145%2027.2432%2042.7734%2027.3379%2043.2324%2027.4648C43.6914%2027.5918%2044.1406%2027.748%2044.5996%2027.9434C45.0293%2028.1387%2045.4297%2028.3633%2045.7715%2028.6172V24.0273C45.0293%2023.7441%2044.209%2023.5293%2043.3301%2023.3926C42.4512%2023.2559%2041.4746%2023.1875%2040.3027%2023.1875C39.1309%2023.1875%2038.0566%2023.3145%2036.9824%2023.5586C35.9082%2023.8027%2035.0293%2024.1934%2034.248%2024.7305C33.457%2025.2578%2032.8809%2025.9023%2032.3926%2026.7812C31.9336%2027.6016%2031.709%2028.5391%2031.709%2029.7109C31.709%2031.1758%2032.1289%2032.4453%2032.9785%2033.4219C33.8184%2034.4961%2035.127%2035.2773%2036.7871%2036.0586C37.4609%2036.332%2038.0566%2036.6055%2038.6426%2036.8691C39.2285%2037.1328%2039.7168%2037.4062%2040.1074%2037.6895C40.5273%2037.9727%2040.8594%2038.2852%2041.084%2038.6172C41.3281%2038.9492%2041.4551%2039.3398%2041.4551%2039.7891C41.4551%2040.1016%2041.3789%2040.3945%2041.2305%2040.668C41.082%2040.9414%2040.8496%2041.1758%2040.5371%2041.3711C40.2246%2041.5664%2039.8438%2041.7227%2039.3652%2041.8398C38.9062%2041.9473%2038.3887%2042.0059%2037.7051%2042.0059C36.6309%2042.0059%2035.5566%2041.8203%2034.5801%2041.4492C33.5059%2041.0781%2032.5293%2040.5215%2031.8359%2039.9414V44.6289Z'%20fill='white'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1479_21433'%3e%3crect%20width='50'%20height='50'%20fill='white'%20transform='translate(0.878906)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Kk="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='25'%20viewBox='0%200%2024%2025'%20fill='none'%3e%3cpath%20d='M22.2975%201H2.69805C1.75918%201%201%201.74121%201%202.65762V22.3379C1%2023.2543%201.75918%2024%202.69805%2024H22.2975C23.2363%2024%2024%2023.2543%2024%2022.3424V2.65762C24%201.74121%2023.2363%201%2022.2975%201ZM7.82363%2020.5994H4.40957V9.62051H7.82363V20.5994ZM6.1166%208.12461C5.02051%208.12461%204.13555%207.23965%204.13555%206.14805C4.13555%205.05645%205.02051%204.17148%206.1166%204.17148C7.2082%204.17148%208.09316%205.05645%208.09316%206.14805C8.09316%207.23516%207.2082%208.12461%206.1166%208.12461ZM20.5994%2020.5994H17.1898V15.2627C17.1898%2013.9914%2017.1674%2012.3518%2015.4154%2012.3518C13.641%2012.3518%2013.3715%2013.7398%2013.3715%2015.1729V20.5994H9.96641V9.62051H13.2367V11.1209H13.2816C13.7354%2010.2584%2014.8494%209.34648%2016.507%209.34648C19.9615%209.34648%2020.5994%2011.6195%2020.5994%2014.5754V20.5994Z'%20fill='%230288D1'/%3e%3c/svg%3e",qk="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='%231877F2'%3e%3cpath%20d='M24%2012.073c0-6.627-5.373-12-12-12s-12%205.373-12%2012c0%205.99%204.388%2010.954%2010.125%2011.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007%201.792-4.669%204.533-4.669%201.312%200%202.686.235%202.686.235v2.953H15.83c-1.491%200-1.956.925-1.956%201.874v2.25h3.328l-.532%203.47h-2.796v8.385C19.612%2023.027%2024%2018.062%2024%2012.073z'/%3e%3c/svg%3e",Qk="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='%235865F2'%3e%3cpath%20d='M20.317%204.37a19.791%2019.791%200%200%200-4.885-1.515a.074.074%200%200%200-.079.037c-.21.375-.444.864-.608%201.25a18.27%2018.27%200%200%200-5.487%200a12.64%2012.64%200%200%200-.617-1.25a.077.077%200%200%200-.079-.037A19.736%2019.736%200%200%200%203.677%204.37a.07.07%200%200%200-.032.027C.533%209.046-.32%2013.58.099%2018.057a.082.082%200%200%200%20.031.057a19.9%2019.9%200%200%200%205.993%203.03a.078.078%200%200%200%20.084-.028a14.09%2014.09%200%200%200%201.226-1.994a.076.076%200%200%200-.041-.106a13.107%2013.107%200%200%201-1.872-.892a.077.077%200%200%201-.008-.128a10.2%2010.2%200%200%200%20.372-.292a.074.074%200%200%201%20.077-.01c3.928%201.793%208.18%201.793%2012.062%200a.074.074%200%200%201%20.078.01c.12.098.246.197.373.292a.077.077%200%200%201-.006.127a12.299%2012.299%200%200%201-1.873.892a.077.077%200%200%200-.041.107c.36.698.772%201.362%201.225%201.993a.076.076%200%200%200%20.084.028a19.839%2019.839%200%200%200%206.002-3.03a.077.077%200%200%200%20.032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061%200%200%200-.031-.03zM8.02%2015.33c-1.183%200-2.157-1.085-2.157-2.419c0-1.333.956-2.419%202.157-2.419c1.21%200%202.176%201.096%202.157%202.42c0%201.333-.956%202.418-2.157%202.418zm7.975%200c-1.183%200-2.157-1.085-2.157-2.419c0-1.333.955-2.419%202.157-2.419c1.21%200%202.176%201.096%202.157%202.42c0%201.333-.946%202.418-2.157%202.418z'/%3e%3c/svg%3e",$k="data:image/svg+xml,%3csvg%20width='30'%20height='27'%20viewBox='0%200%2030%2027'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M23.1209%2012.7698C23.2693%2013.028%2023.3474%2013.3207%2023.3474%2013.6186C23.3474%2013.9165%2023.2693%2014.2092%2023.1209%2014.4675L19.7823%2020.2271C19.6331%2020.4842%2019.4191%2020.6977%2019.1615%2020.8461C18.904%2020.9946%2018.612%2021.0728%2018.3147%2021.073L11.6733%2021.073C11.3781%2021.0707%2011.0886%2020.9915%2010.8333%2020.8432C10.578%2020.6948%2010.3659%2020.4825%2010.2177%2020.2271L6.87911%2014.4675C6.73069%2014.2092%206.65258%2013.9165%206.65258%2013.6186C6.65258%2013.3207%206.73069%2013.028%206.87911%2012.7698L8.72327%209.58956L12.8271%2016.6075C12.8946%2016.7277%2012.9933%2016.8274%2013.1126%2016.8963C13.232%2016.9652%2013.3677%2017.0007%2013.5055%2016.9991L16.4945%2016.9991C16.6323%2017.0007%2016.768%2016.9652%2016.8874%2016.8963C17.0067%2016.8274%2017.1054%2016.7277%2017.1729%2016.6075L18.6674%2013.9982C18.7351%2013.881%2018.7707%2013.748%2018.7707%2013.6126C18.7707%2013.4773%2018.7351%2013.3443%2018.6674%2013.2271L11.9304%201.5703C11.6966%201.16601%2011.3606%200.830295%2010.9562%200.596843C10.5517%200.363393%2010.0929%200.240408%209.62593%200.24023L9.02217%200.24023C8.48786%200.240028%207.96292%200.380525%207.50015%200.647588C7.03738%200.914653%206.65309%201.29887%206.38594%201.76159L0.408109%2012.1003C0.140762%2012.5627%20-6.08137e-07%2013.0874%20-5.84788e-07%2013.6216C-5.61439e-07%2014.1558%200.140762%2014.6805%200.408109%2015.143L6.38594%2025.4816C6.65347%2025.9438%207.03793%2026.3274%207.50067%2026.5939C7.96342%2026.8605%208.48816%2027.0005%209.02217%2027L20.9778%2027C21.5121%2027.0002%2022.0371%2026.8597%2022.4998%2026.5926C22.9626%2026.3256%2023.3469%2025.9414%2023.6141%2025.4786L29.5919%2015.14C29.8592%2014.6775%2030%2014.1528%2030%2013.6186C30%2013.0845%2029.8592%2012.5597%2029.5919%2012.0973L23.6141%201.7586C23.3469%201.29588%2022.9626%200.911664%2022.4998%200.644599C22.0371%200.377534%2021.5121%200.237039%2020.9778%200.237243L15.8967%200.237243L23.1209%2012.7698Z'%20fill='%23fff'/%3e%3c/svg%3e",eW="data:image/svg+xml,%3csvg%20width='30'%20height='30'%20viewBox='0%200%2030%2030'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M27.8333%2015C27.8333%2022.0877%2022.0877%2027.8333%2015%2027.8333C7.91234%2027.8333%202.16666%2022.0877%202.16666%2015C2.16666%207.91234%207.91234%202.16666%2015%202.16666C22.0877%202.16666%2027.8333%207.91234%2027.8333%2015ZM30%2015C30%2023.2843%2023.2843%2030%2015%2030C6.71573%2030%200%2023.2843%200%2015C0%206.71573%206.71573%200%2015%200C23.2843%200%2030%206.71573%2030%2015ZM23.2763%208.27633C23.2763%209.13333%2022.5816%209.82806%2021.7246%209.82806C20.8676%209.82806%2020.1729%209.13333%2020.1729%208.27633C20.1729%207.41934%2020.8676%206.72461%2021.7246%206.72461C22.5816%206.72461%2023.2763%207.41934%2023.2763%208.27633ZM10.4879%2016.2086C11.1556%2018.7005%2013.717%2020.1793%2016.2089%2019.5116C18.7008%2018.8439%2020.1796%2016.2825%2019.5119%2013.7906C18.8442%2011.2987%2016.2828%209.81989%2013.7909%2010.4876C11.299%2011.1553%209.82015%2013.7167%2010.4879%2016.2086ZM8.39503%2016.7694C9.37244%2020.4171%2013.1219%2022.5819%2016.7696%2021.6045C20.4174%2020.627%2022.5821%2016.8776%2021.6047%2013.2298C20.6273%209.58209%2016.8779%207.41735%2013.2301%208.39476C9.58236%209.37218%207.41762%2013.1216%208.39503%2016.7694Z'%20fill='url(%23paint0_linear_1478_19845)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_1478_19845'%20x1='15'%20y1='0'%20x2='15'%20y2='30'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23fff'/%3e%3cstop%20offset='0.461458'%20stop-color='%23fff'/%3e%3cstop%20offset='1'%20stop-color='%23fff'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",tW="data:image/svg+xml,%3csvg%20width='30'%20height='30'%20viewBox='0%200%2030%2030'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M27.8333%2015C27.8333%2022.0877%2022.0877%2027.8333%2015%2027.8333C7.91234%2027.8333%202.16666%2022.0877%202.16666%2015C2.16666%207.91234%207.91234%202.16666%2015%202.16666C22.0877%202.16666%2027.8333%207.91234%2027.8333%2015ZM30%2015C30%2023.2843%2023.2843%2030%2015%2030C6.71573%2030%200%2023.2843%200%2015C0%206.71573%206.71573%200%2015%200C23.2843%200%2030%206.71573%2030%2015ZM23.2763%208.27633C23.2763%209.13333%2022.5816%209.82806%2021.7246%209.82806C20.8676%209.82806%2020.1729%209.13333%2020.1729%208.27633C20.1729%207.41934%2020.8676%206.72461%2021.7246%206.72461C22.5816%206.72461%2023.2763%207.41934%2023.2763%208.27633ZM15.164%2012.8405L15.354%2010.3432L15.5183%208.18279C14.78%208.12663%2014.0416%208.19103%2013.3312%208.36978C12.7441%208.5175%2012.1761%208.74331%2011.643%209.0437C10.4647%209.7076%209.50982%2010.706%208.899%2011.9126C8.28818%2013.1192%208.04887%2014.4798%208.21134%2015.8224C8.37381%2017.165%208.93076%2018.4293%209.81176%2019.4553C10.6928%2020.4814%2011.8582%2021.2232%2013.1608%2021.5869C14.4634%2021.9506%2015.8446%2021.9198%2017.1297%2021.4986C18.4148%2021.0773%2019.5461%2020.2844%2020.3806%2019.2201C20.7582%2018.7386%2021.0673%2018.2113%2021.3021%2017.6533C21.5862%2016.9784%2021.7615%2016.2585%2021.8177%2015.5205L21.8178%2015.5196L19.6574%2015.3553L17.1601%2015.1653L14.9997%2015.0009L15.164%2012.8405ZM18.9617%2017.4752L14.8353%2017.1614L12.6749%2016.997L12.8392%2014.8366L13.1531%2010.7102C13.0009%2010.7757%2012.8519%2010.8495%2012.7066%2010.9313C11.9017%2011.3849%2011.2494%2012.0669%2010.8321%2012.8912C10.4148%2013.7154%2010.2513%2014.6449%2010.3623%2015.5621C10.4733%2016.4793%2010.8538%2017.343%2011.4556%2018.0439C12.0575%2018.7449%2012.8536%2019.2516%2013.7435%2019.5C14.6333%2019.7485%2015.5768%2019.7275%2016.4547%2019.4397C17.3327%2019.1519%2018.1055%2018.6103%2018.6756%2017.8832C18.7785%2017.752%2018.8739%2017.6158%2018.9617%2017.4752Z'%20fill='url(%23paint0_linear_1478_16881)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_1478_16881'%20x1='15'%20y1='0'%20x2='15'%20y2='30'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23FFF'/%3e%3cstop%20offset='0.461458'%20stop-color='%23FFF'/%3e%3cstop%20offset='1'%20stop-color='%23FFF'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",nW="data:image/svg+xml,%3csvg%20width='14'%20height='15'%20viewBox='0%200%2014%2015'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1.16602%207.49984H12.8327M12.8327%207.49984L6.99935%201.6665M12.8327%207.49984L6.99935%2013.3332'%20stroke='%23406AFF'%20stroke-width='1.66667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",iW="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%3e%3cg%20clip-path='url(%23clip0_1616_89)'%3e%3cpath%20d='M24%2048C37.2548%2048%2048%2037.2548%2048%2024C48%2010.7452%2037.2548%200%2024%200C10.7452%200%200%2010.7452%200%2024C0%2037.2548%2010.7452%2048%2024%2048Z'%20fill='%232196F3'/%3e%3cpath%20d='M36%2028.962C33.411%2028.962%2030.942%2028.398%2028.665%2027.285C28.308%2027.114%2027.894%2027.087%2027.516%2027.216C27.138%2027.348%2026.829%2027.624%2026.655%2027.981L25.575%2030.216C22.335%2028.356%2019.647%2025.665%2017.784%2022.425L20.022%2021.345C20.382%2021.171%2020.655%2020.862%2020.787%2020.484C20.916%2020.106%2020.892%2019.692%2020.718%2019.335C19.602%2017.061%2019.038%2014.592%2019.038%2012C19.038%2011.172%2018.366%2010.5%2017.538%2010.5H12C11.172%2010.5%2010.5%2011.172%2010.5%2012C10.5%2026.061%2021.939%2037.5%2036%2037.5C36.828%2037.5%2037.5%2036.828%2037.5%2036V30.462C37.5%2029.634%2036.828%2028.962%2036%2028.962Z'%20fill='%23FAFAFA'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1616_89'%3e%3crect%20width='48'%20height='48'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",aW=[{imageUrl:kk,name:"CSS",type:"Frontend"},{imageUrl:Wk,name:"Express",type:"Backend"},{imageUrl:Zk,name:"Git",type:"Version Control"},{imageUrl:TI,name:"GitHub",type:"Version Control"},{imageUrl:Xk,name:"HTML",type:"Frontend"},{imageUrl:wI,name:"JavaScript",type:"Frontend"},{imageUrl:RI,name:"Node.js",type:"Backend"},{imageUrl:II,name:"React",type:"Frontend"},{imageUrl:Jk,name:"Tailwind CSS",type:"Frontend"},{imageUrl:Yk,name:"TypeScript",type:"Frontend"}],Jy={school:"Đại học Công nghệ TP.HCM",degree:"Cử nhân Công nghệ Thông tin",period:"2022 - 2026",description:"Chuyên ngành: Công nghệ Phần mềm"},sW=[{id:1,image:Lk,title:"Chứng chỉ Networking Basics",issuer:"Cisco Networking Academy",date:"Tháng 9, 2025",description:"Hoàn thành khóa học Networking Basics"},{id:2,image:Ok,title:"Chứng chỉ Javascript 1",issuer:"Cisco Networking Academy",date:"Tháng 9, 2025",description:"Chứng nhận kỹ năng phát triển với Javascript 1"},{id:3,image:Pk,title:"Chứng chỉ Javascript 2",issuer:"Cisco Networking Academy",date:"Tháng 9, 2025",description:"Chứng nhận kỹ năng phát triển với Javascript 2"}],rW=[{year:"2022",title:"Khởi đầu hành trình",description:"Bắt đầu học lập trình với HTML, CSS và JavaScript cơ bản. Tạo ra những website đầu tiên và khám phá đam mê với công nghệ.",icon:"🚀"},{year:"2023",title:"Phát triển kỹ năng",description:"Chuyên sâu vào React, Node.js và PosgreSQL. Hoàn thành nhiều dự án thực tế và nhận được các chứng chỉ chuyên môn.",icon:"📚"},{year:"2024",title:"Mở rộng kiến thức",description:"Học về kiến trúc hệ thống, microservices và các công nghệ cloud. Tham gia các dự án nhóm và đóng góp cho cộng đồng open-source.",icon:"🎯"},{year:"2025",title:"Tiếp tục phát triển",description:"Hoàn thiện kỹ năng Backend, học về AI/ML và xây dựng portfolio chuyên nghiệp. Chuẩn bị cho sự nghiệp trong ngành công nghệ.",icon:"✨"}],oW=[{title:"Chơi Game Cốt Truyện",description:"Đam mê các game RPG và adventure có câu chuyện sâu sắc như The Witcher 3, Red Dead Redemption 2, God of War. Tôi yêu thích việc khám phá thế giới game, phân tích cốt truyện phức tạp và trải nghiệm những hành trình riêng của mỗi nhân vật.",icon:"🎮",examples:["The Witcher 3","Red Dead Redemption 2","God of War","Cyberpunk 2077"]},{title:"Coding & Học Hỏi",description:"Lập trình không chỉ là công việc mà còn là sở thích. Tôi thích khám phá các công nghệ mới, giải quyết các bài toán thuật toán, đóng góp cho open-source và xây dựng các side projects sáng tạo.",icon:"💻",examples:["Open Source","Algorithm","Side Projects","Tech Blogs"]}],lW=[{title:"Ngắn hạn (1-2 năm)",items:["Hoàn thành xuất sắc chương trình đại học với GPA cao","Trở thành Backend Developer thành thạo với React, Node.js, và cloud technologies","Đóng góp tích cực vào các dự án open-source lớn","Xây dựng portfolio với ít nhất 5 dự án thực tế có giá trị"],icon:"🎯"},{title:"Dài hạn (3-5 năm)",items:["Trở thành Senior Software Engineer tại công ty công nghệ hàng đầu","Chuyên sâu về kiến trúc hệ thống phân tán và microservices","Học và ứng dụng AI/Machine Learning vào các sản phẩm thực tế","Chia sẻ kiến thức qua blog, YouTube và các buổi tech talk","Khởi nghiệp hoặc tham gia xây dựng startup công nghệ"],icon:"🚀"}],cW=[{name:"Contact",iconUrl:iW,link:"/contact"},{name:"GitHub",iconUrl:TI,link:"https://github.com/YourGitHubUsername"},{name:"LinkedIn",iconUrl:Kk,link:"https://www.linkedin.com/in/YourLinkedInUsername"},{name:"Facebook",iconUrl:qk,link:"https://www.facebook.com/YourFacebookUsername"},{name:"Discord",iconUrl:Qk,link:"https://discord.com/users/YourDiscordID"}],Rh=[{iconUrl:II,theme:"btn-back-blue",name:"SkillCoder",description:"Nền tảng học lập trình trực tuyến với khóa học đa dạng, bài tập tương tác, video lessons và forum thảo luận.",technologies:["React","Node.js","MongoDB","Express"],link:"https://github.com/yourusername/skillcoder",category:"Full-stack Web",image:jk},{iconUrl:$k,theme:"btn-back-green",name:"Cho Thuê Phòng Trọ",description:"Ứng dụng kết nối người cho thuê và tìm phòng. Tích hợp tìm kiếm, Google Maps, chat real-time và quản lý đặt phòng.",technologies:["React","Node.js","PostgreSQL","Socket.io"],link:"https://github.com/yourusername/rental-room",category:"Full-stack Web",image:Fk},{iconUrl:eW,theme:"btn-back-pink",name:"Portfolio Cá Nhân",description:"Website portfolio hiện đại với 3D animations và interactive UI. Sử dụng Three.js cho hiệu ứng 3D đẹp mắt.",technologies:["React","Three.js","Tailwind CSS"],link:"https://github.com/yourusername/portfolio",category:"Frontend",image:Uk},{iconUrl:wI,theme:"btn-back-yellow",name:"Quản Lý Sinh Viên",description:"Hệ thống quản lý trường học với quản lý thông tin sinh viên, điểm số, lịch học, điểm danh và thống kê báo cáo.",technologies:["React","Node.js","MySQL","Chart.js"],link:"https://github.com/yourusername/student-management",category:"Full-stack Web",image:Gk},{iconUrl:RI,theme:"btn-back-orange",name:"Music Player Online",description:"Ứng dụng streaming nhạc với player tùy chỉnh, playlist cá nhân, lyrics display và audio visualization.",technologies:["React","Node.js","MongoDB","Web Audio API"],link:"https://github.com/yourusername/music-player",category:"Full-stack Web",image:zk},{iconUrl:tW,theme:"btn-back-red",name:"Roguelike Dungeon Game",description:"Game roguelike 2D với procedural generation, combat system, inventory, skill tree và random dungeon. Mỗi lần chơi là một trải nghiệm mới.",technologies:["C#","Unity","Procedural Generation"],link:"https://github.com/yourusername/roguelike-game",category:"Game",image:Hk}],Ih=[{id:1,title:"Giới thiệu về Java: Ngôn ngữ lập trình hướng đối tượng mạnh mẽ",excerpt:"Khám phá Java - một trong những ngôn ngữ lập trình phổ biến nhất thế giới. Tìm hiểu về lịch sử, đặc điểm nổi bật và tại sao Java vẫn là lựa chọn hàng đầu cho doanh nghiệp.",content:`
## Java - Ngôn ngữ của Enterprise và Android

Java là ngôn ngữ lập trình hướng đối tượng được phát triển bởi Sun Microsystems (nay thuộc Oracle) vào năm 1995 bởi James Gosling. Sau gần 30 năm, Java vẫn là một trong 3 ngôn ngữ phổ biến nhất thế giới với hơn 9 triệu developers và 3 tỷ thiết bị chạy Java.

### Tại sao Java vẫn "hot" đến tận bây giờ?

1. Hệ sinh thái khổng lồ 🌐
- Hàng triệu thư viện mã nguồn mở trên Maven Central
- Framework enterprise mạnh mẽ: Spring Boot, Hibernate, Jakarta EE
- Cộng đồng support khổng lồ trên Stack Overflow, GitHub
- Được sử dụng bởi 90% công ty Fortune 500

2. Performance xuất sắc ⚡
- JVM được tối ưu hóa liên tục qua 25+ năm
- Just-In-Time (JIT) compilation tăng tốc runtime
- Modern GC (G1GC, ZGC, Shenandoah) với latency cực thấp
- Nhanh hơn Python/JavaScript 10-100 lần trong nhiều trường hợp

3. Write Once, Run Anywhere 🚀
- Java bytecode chạy trên mọi platform có JVM
- Windows, Linux, macOS - không cần compile lại
- Docker containers, Cloud native
- Embedded systems, IoT devices

### Đặc điểm nổi bật

1. Strongly Typed & Type Safety

\`\`\`java
// Java kiểm tra type nghiêm ngặt lúc compile
int age = 25;
// age = "twenty five";  // ❌ Compile error!

// Generics giúp type-safe
List<String> names = new ArrayList<>();
names.add("Hải Đăng");
// names.add(123);  // ❌ Error - chỉ nhận String

String name = names.get(0);  // Không cần cast
\`\`\`

2. Object-Oriented Programming (OOP)

Java là ngôn ngữ OOP thuần túy với 4 tính chất:

\`\`\`java
// Encapsulation - Đóng gói dữ liệu
public class BankAccount {
    private double balance;  // Private - bảo vệ dữ liệu
    
    public void deposit(double amount) {
        if (amount > 0) {
            this.balance += amount;
        }
    }
    
    public double getBalance() {
        return this.balance;
    }
}

// Inheritance - Kế thừa
public class SavingsAccount extends BankAccount {
    private double interestRate = 0.05;
    
    public void addInterest() {
        double interest = getBalance() * interestRate;
        deposit(interest);  // Sử dụng method của parent class
    }
}

// Polymorphism - Đa hình
public interface Payment {
    void processPayment(double amount);
}

public class CreditCard implements Payment {
    @Override
    public void processPayment(double amount) {
        System.out.println("Thanh toán thẻ: " + amount + " VNĐ");
    }
}

public class MoMo implements Payment {
    @Override
    public void processPayment(double amount) {
        System.out.println("Thanh toán MoMo: " + amount + " VNĐ");
    }
}

// Abstraction - Trừu tượng hóa
public abstract class Vehicle {
    abstract void start();
    abstract void stop();
    
    public void honk() {
        System.out.println("Beep beep!");
    }
}
\`\`\`

3. Automatic Memory Management

\`\`\`java
public void processData() {
    // Tạo objects - JVM tự động cấp phát memory
    List<User> users = new ArrayList<>();
    for (int i = 0; i < 1000000; i++) {
        users.add(new User("User" + i));
    }
    
    // Process users...
    
    // Khi method kết thúc:
    // - Objects không còn được tham chiếu
    // - Garbage Collector tự động thu hồi memory
    // - Developer không cần lo về memory leak như C/C++
}

// Modern Garbage Collectors
// - G1GC (default Java 11+): Low latency, high throughput
// - ZGC (Java 15+): Pause time < 10ms với heap size TB
// - Shenandoah: Concurrent GC, pause time đồng đều
\`\`\`

4. Multithreading Built-in

\`\`\`java
// Thread cơ bản
Thread thread = new Thread(() -> {
    for (int i = 0; i < 5; i++) {
        System.out.println("Count: " + i);
        Thread.sleep(1000);
    }
});
thread.start();

// ExecutorService - Thread Pool
ExecutorService executor = Executors.newFixedThreadPool(4);
executor.submit(() -> {
    // Task chạy trong thread pool
    return processHeavyTask();
});

// CompletableFuture - Async Programming
CompletableFuture.supplyAsync(() -> fetchFromAPI())
    .thenApply(data -> processData(data))
    .thenAccept(result -> saveToDatabase(result))
    .exceptionally(error -> {
        System.err.println("Error: " + error);
        return null;
    });

// Virtual Threads (Java 21+) - Siêu nhẹ
try (var executor = Executors.newVirtualThreadPerTaskExecutor()) {
    for (int i = 0; i < 1_000_000; i++) {
        executor.submit(() -> handleRequest());  // 1 triệu threads!
    }
}
\`\`\`

### Ứng dụng thực tế của Java

1. Enterprise Applications 🏢
- Ngân hàng: VietcomBank, Techcombank, BIDV
- E-commerce: Shopee, Tiki (backend services)
- ERP/CRM: SAP, Oracle Applications
- Logistics: Grab, Gojek platform

\`\`\`java
// Spring Boot REST API
@RestController
@RequestMapping("/api/products")
public class ProductController {
    
    @Autowired
    private ProductService productService;
    
    @GetMapping
    public ResponseEntity<List<Product>> getAllProducts() {
        return ResponseEntity.ok(productService.findAll());
    }
    
    @PostMapping
    public ResponseEntity<Product> createProduct(@RequestBody Product product) {
        Product created = productService.save(product);
        return ResponseEntity.status(HttpStatus.CREATED).body(created);
    }
    
    @GetMapping("/{id}")
    public ResponseEntity<Product> getProduct(@PathVariable Long id) {
        return productService.findById(id)
            .map(ResponseEntity::ok)
            .orElse(ResponseEntity.notFound().build());
    }
}
\`\`\`

2. Android Development 📱
- 85% market share smartphone toàn cầu
- 2.5 tỷ thiết bị Android active
- Kotlin (chạy trên JVM) là ngôn ngữ chính thức
- Google Play Services viết bằng Java

3. Big Data & Analytics 📊
- Apache Hadoop: Xử lý petabytes data
- Apache Spark: Real-time processing
- Apache Kafka: Event streaming platform
- Elasticsearch: Search & analytics engine

4. Cloud & Microservices ☁️
- Spring Cloud: Netflix OSS, service discovery
- Quarkus: Siêu nhanh, cloud-native
- Micronaut: GraalVM native image
- Jakarta EE: Enterprise services

5. Game Development 🎮
- Minecraft - bestselling game mọi thời đại
- LibGDX framework - cross-platform
- jMonkeyEngine - 3D game engine

### Modern Java Features

Records (Java 14+) - Data Class
\`\`\`java
// Trước Java 14 - phải viết nhiều code
public class User {
    private final String name;
    private final int age;
    
    public User(String name, int age) {
        this.name = name;
        this.age = age;
    }
    
    public String getName() { return name; }
    public int getAge() { return age; }
    
    @Override
    public boolean equals(Object o) { /* ... */ }
    @Override
    public int hashCode() { /* ... */ }
    @Override
    public String toString() { /* ... */ }
}

// Java 14+ Records - chỉ 1 dòng!
public record User(String name, int age) {
    // Tự động generate: constructor, getters, equals, hashCode, toString
}

User user = new User("Hải Đăng", 25);
System.out.println(user.name());  // Getter
System.out.println(user);  // User[name=Hải Đăng, age=25]
\`\`\`

Pattern Matching (Java 16+)
\`\`\`java
// Trước Java 16
if (obj instanceof String) {
    String s = (String) obj;  // Phải cast
    System.out.println(s.toUpperCase());
}

// Java 16+ - không cần cast
if (obj instanceof String s) {
    System.out.println(s.toUpperCase());  // Dùng luôn!
}

// Pattern matching trong switch (Java 21+)
String result = switch (obj) {
    case String s -> "String có độ dài: " + s.length();
    case Integer i -> "Số nguyên: " + i;
    case null -> "Null value";
    default -> "Unknown type";
};
\`\`\`

Text Blocks (Java 15+)
\`\`\`java
// Trước Java 15 - khó đọc
String json = "{
" +
    "  "name": "Hải Đăng",
" +
    "  "role": "Backend Developer"
" +
    "}";

// Java 15+ Text Blocks - dễ đọc
String json = """
    {
      "name": "Hải Đăng",
      "role": "Backend Developer",
      "skills": ["Java", "Spring Boot", "PostgreSQL"]
    }
    """;
\`\`\`

Sealed Classes (Java 17+)
\`\`\`java
// Kiểm soát inheritance
public sealed interface Payment permits CreditCard, DebitCard, MoMo {
    void pay(double amount);
}

public final class CreditCard implements Payment {
    public void pay(double amount) { /* ... */ }
}

public final class DebitCard implements Payment {
    public void pay(double amount) { /* ... */ }
}

public final class MoMo implements Payment {
    public void pay(double amount) { /* ... */ }
}

// Không thể tạo class khác implement Payment!
\`\`\`

### Learning Path - Lộ trình học Java

Level 1: Core Java (2-3 tháng)
✅ Syntax, Variables, Data Types
✅ Control Flow: if/else, loops
✅ OOP: Class, Object, Inheritance
✅ Collections: List, Set, Map
✅ Exception Handling

Level 2: Advanced Java (3-4 tháng)
✅ Generics & Lambda Expressions
✅ Stream API & Functional Programming
✅ Multithreading & Concurrency
✅ File I/O & Networking
✅ JDBC & Database

Level 3: Enterprise (4-6 tháng)
✅ Spring Framework & Spring Boot
✅ RESTful API Development
✅ Spring Data JPA / Hibernate
✅ Spring Security
✅ Microservices Architecture
✅ Docker & Kubernetes

### Java Ecosystem - Công cụ cần biết

Build Tools:
- Maven: Dependency management, chuẩn enterprise
- Gradle: Modern, nhanh hơn Maven

Testing:
- JUnit 5: Unit testing
- Mockito: Mocking framework
- TestContainers: Integration test với Docker

Frameworks:
- Spring Boot: #1 framework Java
- Hibernate: ORM phổ biến nhất
- Quarkus: Cloud-native, siêu nhanh
- Micronaut: Low memory footprint

### Mức lương Java Developer (2025)

Fresher (0-1 năm): 8-15 triệu VNĐ/tháng
Junior (1-2 năm): 15-25 triệu VNĐ/tháng
Middle (2-4 năm): 25-40 triệu VNĐ/tháng
Senior (4+ năm): 40-80 triệu VNĐ/tháng
Tech Lead/Architect: 80-150 triệu VNĐ/tháng

### Kết luận

Java không chỉ là ngôn ngữ lập trình, mà là cả một hệ sinh thái hoàn chỉnh:

✅ Ổn định: 30 năm proven track record
✅ Performance: Ngang C++, vượt xa Python/JS
✅ Cộng đồng: 9M developers worldwide
✅ Jobs: Nhiều công việc, lương cao
✅ Tương lai: Java 21+ với features hiện đại

Đầu tư học Java = Đầu tư cho sự nghiệp!
    `,category:"Java",date:"2025-10-20",readTime:"15 phút đọc",author:"Lê Hải Đăng",featured:!0},{id:2,title:"Spring Boot: Framework Java hiện đại cho Microservices",excerpt:"Tìm hiểu về Spring Boot - framework mạnh mẽ giúp xây dựng ứng dụng Java nhanh chóng và hiệu quả. Khám phá các tính năng auto-configuration và dependency injection.",content:`
## Spring Boot - Framework #1 cho Java Backend 🚀

Spring Boot đã cách mạng hóa cách chúng ta xây dựng ứng dụng Java. Từ việc phải config hàng trăm dòng XML, giờ chỉ cần một vài annotations là có ngay một ứng dụng production-ready!

Fun fact: Spring Boot được hơn 60% Java developers sử dụng, với hơn 50 triệu downloads/tháng trên Maven Central.

### Tại sao Spring Boot lại "hot" đến vậy?

1. Convention over Configuration
- Không cần config XML dài dòng
- Auto-configuration thông minh
- Opinionated defaults giúp bắt đầu nhanh
- Override dễ dàng khi cần customize

2. Production-Ready Features
- Embedded servers (Tomcat, Jetty, Undertow)
- Health checks & metrics out-of-the-box
- Application monitoring sẵn có
- Security được tích hợp sẵn

3. Microservices-Friendly
- Spring Cloud ecosystem
- Service discovery & load balancing
- Distributed configuration
- Circuit breakers & resilience

4. Developer Experience
- Spring Initializr: Tạo project trong 30s
- Spring Boot DevTools: Hot reload
- Excellent documentation
- Huge community support

### Hello World - Siêu đơn giản!

\`\`\`java
// Chỉ cần 1 file duy nhất!
@SpringBootApplication
@RestController
public class HelloWorldApp {
    
    @GetMapping("/")
    public String hello() {
        return "Hello, Spring Boot!";
    }
    
    public static void main(String[] args) {
        SpringApplication.run(HelloWorldApp.class, args);
    }
}
\`\`\`

Chạy:
\`\`\`bash
./mvnw spring-boot:run
# hoặc
java -jar app.jar

# Server khởi động tại http://localhost:8080
# Truy cập "/" → "Hello, Spring Boot!"
\`\`\`

So với Java thuần:
- Không cần setup Tomcat server
- Không cần web.xml, servlet config
- Không cần XML configuration
- Tất cả đã được auto-configure!

### Dependency Injection - Trái tim của Spring

1. @Autowired - Inject dependencies tự động

\`\`\`java
// Service Layer
@Service
public class UserService {
    
    @Autowired
    private UserRepository userRepository;
    
    public User findById(Long id) {
        return userRepository.findById(id)
            .orElseThrow(() -> new NotFoundException("User not found"));
    }
    
    public User save(User user) {
        return userRepository.save(user);
    }
}

// Repository Layer
@Repository
public interface UserRepository extends JpaRepository<User, Long> {
    List<User> findByName(String name);
    Optional<User> findByEmail(String email);
}

// Controller Layer
@RestController
@RequestMapping("/api/users")
public class UserController {
    
    @Autowired  // Spring tự động inject UserService
    private UserService userService;
    
    @GetMapping("/{id}")
    public ResponseEntity<User> getUser(@PathVariable Long id) {
        User user = userService.findById(id);
        return ResponseEntity.ok(user);
    }
}
\`\`\`

2. Constructor Injection - Recommended way

\`\`\`java
@RestController
@RequestMapping("/api/products")
public class ProductController {
    
    private final ProductService productService;
    private final CategoryService categoryService;
    
    // Constructor injection - Spring tự động inject
    public ProductController(
        ProductService productService,
        CategoryService categoryService
    ) {
        this.productService = productService;
        this.categoryService = categoryService;
    }
    
    @GetMapping
    public List<Product> getAllProducts() {
        return productService.findAll();
    }
}
\`\`\`

### REST API trong 5 phút!

\`\`\`java
// Entity
@Entity
@Table(name = "products")
public class Product {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    private String name;
    private Double price;
    private Integer stock;
    
    // Getters, Setters, Constructors
}

// Repository - Chỉ cần interface!
@Repository
public interface ProductRepository extends JpaRepository<Product, Long> {
    // Spring tự generate implementation!
    List<Product> findByNameContaining(String name);
    List<Product> findByPriceBetween(Double min, Double max);
}

// Service
@Service
public class ProductService {
    
    @Autowired
    private ProductRepository repository;
    
    public List<Product> getAllProducts() {
        return repository.findAll();
    }
    
    public Product getProduct(Long id) {
        return repository.findById(id)
            .orElseThrow(() -> new NotFoundException("Product not found"));
    }
    
    public Product createProduct(Product product) {
        return repository.save(product);
    }
    
    public Product updateProduct(Long id, Product updated) {
        Product product = getProduct(id);
        product.setName(updated.getName());
        product.setPrice(updated.getPrice());
        product.setStock(updated.getStock());
        return repository.save(product);
    }
    
    public void deleteProduct(Long id) {
        repository.deleteById(id);
    }
}

// Controller - RESTful API
@RestController
@RequestMapping("/api/products")
@CrossOrigin(origins = "*")
public class ProductController {
    
    @Autowired
    private ProductService service;
    
    // GET /api/products
    @GetMapping
    public ResponseEntity<List<Product>> getAllProducts() {
        return ResponseEntity.ok(service.getAllProducts());
    }
    
    // GET /api/products/1
    @GetMapping("/{id}")
    public ResponseEntity<Product> getProduct(@PathVariable Long id) {
        return ResponseEntity.ok(service.getProduct(id));
    }
    
    // POST /api/products
    @PostMapping
    public ResponseEntity<Product> createProduct(@RequestBody Product product) {
        Product created = service.createProduct(product);
        return ResponseEntity.status(HttpStatus.CREATED).body(created);
    }
    
    // PUT /api/products/1
    @PutMapping("/{id}")
    public ResponseEntity<Product> updateProduct(
        @PathVariable Long id, 
        @RequestBody Product product
    ) {
        return ResponseEntity.ok(service.updateProduct(id, product));
    }
    
    // DELETE /api/products/1
    @DeleteMapping("/{id}")
    public ResponseEntity<Void> deleteProduct(@PathVariable Long id) {
        service.deleteProduct(id);
        return ResponseEntity.noContent().build();
    }
}
\`\`\`

application.yml - Configuration
\`\`\`yaml
spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/mydb
    username: admin
    password: secret
    
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    
server:
  port: 8080
\`\`\`

Chạy app → API sẵn sàng:
- GET http://localhost:8080/api/products
- POST http://localhost:8080/api/products
- PUT http://localhost:8080/api/products/1
- DELETE http://localhost:8080/api/products/1

### Spring Boot Data JPA - SQL mà không cần SQL!

\`\`\`java
@Repository
public interface OrderRepository extends JpaRepository<Order, Long> {
    
    // Method names → SQL queries tự động!
    
    List<Order> findByCustomerId(Long customerId);
    // SELECT * FROM orders WHERE customer_id = ?
    
    List<Order> findByStatusAndTotalGreaterThan(String status, Double total);
    // SELECT * FROM orders WHERE status = ? AND total > ?
    
    @Query("SELECT o FROM Order o WHERE o.createdAt BETWEEN :start AND :end")
    List<Order> findOrdersInDateRange(
        @Param("start") LocalDate start, 
        @Param("end") LocalDate end
    );
    
    @Query(value = "SELECT * FROM orders WHERE EXTRACT(YEAR FROM created_at) = :year", 
           nativeQuery = true)
    List<Order> findOrdersByYear(@Param("year") int year);
}
\`\`\`

### Exception Handling - Xử lý lỗi chuyên nghiệp

\`\`\`java
// Custom Exception
public class NotFoundException extends RuntimeException {
    public NotFoundException(String message) {
        super(message);
    }
}

// Global Exception Handler
@RestControllerAdvice
public class GlobalExceptionHandler {
    
    @ExceptionHandler(NotFoundException.class)
    public ResponseEntity<ErrorResponse> handleNotFound(NotFoundException ex) {
        ErrorResponse error = new ErrorResponse(
            HttpStatus.NOT_FOUND.value(),
            ex.getMessage(),
            LocalDateTime.now()
        );
        return ResponseEntity.status(HttpStatus.NOT_FOUND).body(error);
    }
    
    @ExceptionHandler(Exception.class)
    public ResponseEntity<ErrorResponse> handleGeneric(Exception ex) {
        ErrorResponse error = new ErrorResponse(
            HttpStatus.INTERNAL_SERVER_ERROR.value(),
            "An error occurred",
            LocalDateTime.now()
        );
        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(error);
    }
}
\`\`\`

### Validation - Kiểm tra dữ liệu tự động

\`\`\`java
@Entity
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    @NotBlank(message = "Name is required")
    @Size(min = 2, max = 50, message = "Name must be 2-50 characters")
    private String name;
    
    @Email(message = "Invalid email format")
    @NotBlank(message = "Email is required")
    private String email;
    
    @Min(value = 18, message = "Age must be at least 18")
    @Max(value = 100, message = "Age must be at most 100")
    private Integer age;
    
    @Pattern(regexp = "^[0-9]{10}$", message = "Phone must be 10 digits")
    private String phone;
}

@RestController
@RequestMapping("/api/users")
public class UserController {
    
    @PostMapping
    public ResponseEntity<User> createUser(@Valid @RequestBody User user) {
        // @Valid tự động validate theo annotations
        // Nếu invalid → throw MethodArgumentNotValidException
        return ResponseEntity.ok(userService.save(user));
    }
}
\`\`\`

### Spring Security - Bảo mật ứng dụng

\`\`\`java
@Configuration
@EnableWebSecurity
public class SecurityConfig {
    
    @Bean
    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
        http
            .csrf().disable()
            .authorizeHttpRequests(auth -> auth
                .requestMatchers("/api/public/").permitAll()
                .requestMatchers("/api/admin/").hasRole("ADMIN")
                .anyRequest().authenticated()
            )
            .httpBasic();
        
        return http.build();
    }
    
    @Bean
    public PasswordEncoder passwordEncoder() {
        return new BCryptPasswordEncoder();
    }
}
\`\`\`

### Testing - Unit & Integration Tests

\`\`\`java
@SpringBootTest
@AutoConfigureMockMvc
class ProductControllerTest {
    
    @Autowired
    private MockMvc mockMvc;
    
    @MockBean
    private ProductService productService;
    
    @Test
    void shouldReturnAllProducts() throws Exception {
        List<Product> products = Arrays.asList(
            new Product(1L, "Laptop", 1000.0),
            new Product(2L, "Phone", 500.0)
        );
        
        when(productService.getAllProducts()).thenReturn(products);
        
        mockMvc.perform(get("/api/products"))
            .andExpect(status().isOk())
            .andExpect(jsonPath("$.length()").value(2))
            .andExpect(jsonPath("$[0].name").value("Laptop"));
    }
}
\`\`\`

### Actuator - Monitoring & Health Checks

\`\`\`yaml
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
  endpoint:
    health:
      show-details: always
\`\`\`

Endpoints tự động:
- /actuator/health → Health status
- /actuator/info → App info
- /actuator/metrics → Metrics
- /actuator/prometheus → Prometheus format

### Kết luận

Spring Boot = Best choice cho Java backend:

✅ Fast Development: Convention over configuration
✅ Production-Ready: Embedded server, monitoring
✅ Rich Ecosystem: Spring Data, Security, Cloud
✅ Industry Standard: 60%+ Java projects
✅ High Demand: Lương cao, job nhiều

Learning Path:
1. Core Java (OOP, Collections)
2. Spring Core (DI, IoC)
3. Spring Boot Basics
4. Spring Data JPA
5. Spring Security
6. Microservices with Spring Cloud

Happy Spring Boot coding! 🚀
    `,category:"Java",date:"2025-10-18",readTime:"20 phút đọc",author:"Lê Hải Đăng",featured:!1},{id:3,title:"Java Collections Framework: ArrayList vs LinkedList",excerpt:"So sánh chi tiết giữa ArrayList và LinkedList trong Java. Khi nào nên dùng cái nào? Phân tích performance và use cases thực tế.",content:`
## ArrayList vs LinkedList - Chọn đúng để code nhanh! ⚡

Đây là câu hỏi phỏng vấn Java kinh điển: "Khi nào dùng ArrayList, khi nào dùng LinkedList?" Nhiều người chỉ biết lý thuyết nhưng không hiểu sâu về performance implications.

Hôm nay mình sẽ phân tích chi tiết để các bạn không bao giờ chọn sai nữa!

### Internal Structure - Cấu trúc bên trong

ArrayList - Dynamic Array

\`\`\`java
// ArrayList lưu trữ elements trong array
public class ArrayList<E> {
    private Object[] elementData;  // Backing array
    private int size;  // Số phần tử hiện tại
    
    // Default capacity = 10
    public ArrayList() {
        this.elementData = new Object[10];
    }
    
    // Add element
    public boolean add(E element) {
        if (size == elementData.length) {
            grow();  // Tăng capacity khi đầy
        }
        elementData[size++] = element;
        return true;
    }
    
    // Get by index - O(1)
    public E get(int index) {
        return (E) elementData[index];  // Direct access!
    }
}
\`\`\`

LinkedList - Doubly Linked List

\`\`\`java
// LinkedList lưu trữ elements trong nodes
public class LinkedList<E> {
    private Node<E> first;  // First node
    private Node<E> last;   // Last node
    private int size;
    
    private static class Node<E> {
        E item;
        Node<E> next;  // Link to next node
        Node<E> prev;  // Link to previous node
        
        Node(Node<E> prev, E element, Node<E> next) {
            this.item = element;
            this.next = next;
            this.prev = prev;
        }
    }
    
    // Add element at end - O(1)
    public boolean add(E element) {
        final Node<E> l = last;
        final Node<E> newNode = new Node<>(l, element, null);
        last = newNode;
        if (l == null)
            first = newNode;
        else
            l.next = newNode;
        size++;
        return true;
    }
    
    // Get by index - O(n)
    public E get(int index) {
        Node<E> x = first;
        for (int i = 0; i < index; i++)
            x = x.next;  // Must traverse!
        return x.item;
    }
}
\`\`\`

### Time Complexity - So sánh hiệu năng

| Operation | ArrayList | LinkedList |
|-----------|-----------|------------|
| get(index) | O(1) ⚡ | O(n) 🐢 |
| add(element) | O(1)* | O(1) ⚡ |
| add(index, element) | O(n) | O(n) |
| remove(index) | O(n) | O(n) |
| contains(element) | O(n) | O(n) |
| iterator.remove() | O(n) | O(1) ⚡ |

*ArrayList add() có thể O(n) khi resize array

### Benchmark - Thực tế nhanh bao nhiêu?

\`\`\`java
public class BenchmarkTest {
    public static void main(String[] args) {
        int size = 100000;
        
        // Test 1: Random Access
        testRandomAccess(new ArrayList<>(), size);
        testRandomAccess(new LinkedList<>(), size);
        
        // Test 2: Add at end
        testAddAtEnd(new ArrayList<>(), size);
        testAddAtEnd(new LinkedList<>(), size);
        
        // Test 3: Add at beginning
        testAddAtBeginning(new ArrayList<>(), size);
        testAddAtBeginning(new LinkedList<>(), size);
    }
    
    static void testRandomAccess(List<Integer> list, int size) {
        // Thêm elements trước
        for (int i = 0; i < size; i++) {
            list.add(i);
        }
        
        long start = System.nanoTime();
        for (int i = 0; i < size; i++) {
            list.get(i);  // Random access
        }
        long end = System.nanoTime();
        
        System.out.println(list.getClass().getSimpleName() + 
            " random access: " + (end - start) / 1_000_000 + "ms");
    }
}
\`\`\`

Kết quả (100,000 elements):
\`\`\`
ArrayList random access: 2ms ⚡
LinkedList random access: 4,850ms 🐢

ArrayList add at end: 5ms
LinkedList add at end: 6ms

ArrayList add at beginning: 2,450ms
LinkedList add at beginning: 5ms ⚡
\`\`\`

### Memory Usage - Sử dụng bộ nhớ

ArrayList:
\`\`\`java
// ArrayList memory = array + metadata
Memory = 24 bytes (object header)
       + 4 bytes (size)
       + 4 bytes (modCount)
       + capacity * 4 bytes (array references)

// Example: 10 elements, capacity 16
= 24 + 4 + 4 + (16 * 4) = 96 bytes
\`\`\`

LinkedList:
\`\`\`java
// LinkedList memory = nodes + metadata
Memory = 24 bytes (object header)
       + 8 bytes (first reference)
       + 8 bytes (last reference)
       + 4 bytes (size)
       + size * 24 bytes (each node)

// Each Node:
= 16 bytes (object header)
+ 4 bytes (item reference)
+ 4 bytes (next reference)
+ 4 bytes (prev reference)
= 28 bytes per node

// Example: 10 elements
= 24 + 8 + 8 + 4 + (10 * 28) = 324 bytes
\`\`\`

Kết luận: ArrayList tiết kiệm bộ nhớ hơn 3-4 lần!

### Use Cases - Khi nào dùng gì?

Dùng ArrayList khi:

✅ Random access nhiều
\`\`\`java
// Accessing by index frequently
List<Product> products = new ArrayList<>();
for (int i = 0; i < products.size(); i++) {
    Product p = products.get(i);  // O(1) - Fast!
    System.out.println(p.getName());
}
\`\`\`

✅ Read nhiều hơn write
\`\`\`java
// Config data - rarely changes
List<Config> configs = loadConfigs();  // ArrayList
Config dbConfig = configs.get(0);  // Fast access
\`\`\`

✅ Thêm elements ở cuối
\`\`\`java
List<LogEntry> logs = new ArrayList<>();
logs.add(new LogEntry("Error occurred"));  // O(1)
\`\`\`

✅ Iterate thông thường
\`\`\`java
for (User user : users) {  // ArrayList faster
    sendEmail(user);
}
\`\`\`

Dùng LinkedList khi:

✅ Insert/Delete ở đầu hoặc giữa
\`\`\`java
LinkedList<Task> queue = new LinkedList<>();
queue.addFirst(urgentTask);  // O(1)
queue.addLast(normalTask);   // O(1)
Task next = queue.removeFirst();  // O(1)
\`\`\`

✅ Implement Queue/Deque
\`\`\`java
Deque<Integer> deque = new LinkedList<>();
deque.offerFirst(1);   // Add to front
deque.offerLast(2);    // Add to end
deque.pollFirst();     // Remove from front
deque.pollLast();      // Remove from end
\`\`\`

✅ Iterator.remove() nhiều
\`\`\`java
Iterator<String> iter = list.iterator();
while (iter.hasNext()) {
    String item = iter.next();
    if (shouldRemove(item)) {
        iter.remove();  // LinkedList: O(1)
    }
}
\`\`\`

### Real-world Examples

Example 1: Shopping Cart (Dùng ArrayList)
\`\`\`java
public class ShoppingCart {
    private List<CartItem> items = new ArrayList<>();
    
    public void addItem(CartItem item) {
        items.add(item);  // Thêm cuối - O(1)
    }
    
    public CartItem getItem(int index) {
        return items.get(index);  // Random access - O(1)
    }
    
    public double getTotalPrice() {
        double total = 0;
        for (CartItem item : items) {  // Iterate - Fast
            total += item.getPrice();
        }
        return total;
    }
    
    public void clear() {
        items.clear();
    }
}
\`\`\`

Example 2: Task Queue (Dùng LinkedList)
\`\`\`java
public class TaskQueue {
    private LinkedList<Task> queue = new LinkedList<>();
    
    public void addHighPriority(Task task) {
        queue.addFirst(task);  // Thêm đầu - O(1)
    }
    
    public void addNormal(Task task) {
        queue.addLast(task);  // Thêm cuối - O(1)
    }
    
    public Task getNext() {
        return queue.pollFirst();  // Lấy đầu - O(1)
    }
    
    public boolean isEmpty() {
        return queue.isEmpty();
    }
}
\`\`\`

Example 3: Browser History (Dùng LinkedList)
\`\`\`java
public class BrowserHistory {
    private LinkedList<String> history = new LinkedList<>();
    private int currentIndex = -1;
    
    public void visit(String url) {
        // Remove all forward history
        while (history.size() > currentIndex + 1) {
            history.removeLast();
        }
        history.addLast(url);
        currentIndex++;
    }
    
    public String back() {
        if (currentIndex > 0) {
            currentIndex--;
            return history.get(currentIndex);
        }
        return null;
    }
    
    public String forward() {
        if (currentIndex < history.size() - 1) {
            currentIndex++;
            return history.get(currentIndex);
        }
        return null;
    }
}
\`\`\`

### Common Mistakes - Sai lầm thường gặp

❌ Mistake 1: Dùng LinkedList vì "insert nhanh"
\`\`\`java
// ❌ WRONG - LinkedList không nhanh hơn!
List<String> names = new LinkedList<>();
for (int i = 0; i < 1000; i++) {
    names.add("Name" + i);  // LinkedList: 6ms
}

// ✅ CORRECT
List<String> names = new ArrayList<>();
for (int i = 0; i < 1000; i++) {
    names.add("Name" + i);  // ArrayList: 2ms
}
\`\`\`

❌ Mistake 2: Random access trong LinkedList
\`\`\`java
// ❌ WRONG - Cực kỳ chậm!
LinkedList<Integer> list = new LinkedList<>();
for (int i = 0; i < list.size(); i++) {
    int value = list.get(i);  // O(n) mỗi lần!
}
// Total: O(n²) - Disaster!

// ✅ CORRECT - Dùng iterator
for (Integer value : list) {  // O(n)
    // Process value
}
\`\`\`

❌ Mistake 3: Không set initial capacity
\`\`\`java
// ❌ WRONG - Resize nhiều lần
List<String> list = new ArrayList<>();  // capacity = 10
for (int i = 0; i < 10000; i++) {
    list.add("Item" + i);  // Resize at 10, 15, 22, 33...
}

// ✅ CORRECT - Set capacity trước
List<String> list = new ArrayList<>(10000);
for (int i = 0; i < 10000; i++) {
    list.add("Item" + i);  // No resize!
}
\`\`\`

### Quick Decision Guide

\`\`\`
Hỏi: Cần access by index?
├─ Có → ArrayList ✅
└─ Không
    └─ Hỏi: Insert/remove ở đầu/cuối?
        ├─ Có → LinkedList ✅
        └─ Không → ArrayList ✅ (default choice)
\`\`\`

Rule of thumb: 
- 90% trường hợp: Dùng ArrayList
- 10% trường hợp: Dùng LinkedList (Queue/Deque)

### Kết luận

| Metric | ArrayList | LinkedList |
|--------|-----------|------------|
| Random Access | ⚡⚡⚡⚡⚡ | ⭐ |
| Add at end | ⚡⚡⚡⚡ | ⚡⚡⚡⚡⚡ |
| Add at beginning | ⭐ | ⚡⚡⚡⚡⚡ |
| Memory Usage | ⚡⚡⚡⚡⚡ | ⭐⭐ |
| Iterator.remove() | ⭐⭐ | ⚡⚡⚡⚡⚡ |

Lời khuyên cuối:
- Mặc định dùng ArrayList
- Chỉ dùng LinkedList khi implement Queue/Deque
- Đo performance thực tế nếu quan trọng
- Initial capacity cho ArrayList để tránh resize

Happy coding with the right List! 🎯
    `,category:"Java",date:"2025-10-15",readTime:"16 phút đọc",author:"Lê Hải Đăng",featured:!1},{id:4,title:"JVM Memory Management và Garbage Collection",excerpt:"Hiểu sâu về cách JVM quản lý bộ nhớ. Tìm hiểu về Heap, Stack, Garbage Collection algorithms và cách tối ưu hóa performance.",content:`
## JVM Memory Management - Không phải lo memory leak! 🧠

Một trong những lợi thế lớn nhất của Java so với C/C++ là Automatic Memory Management. Developer không cần malloc/free, JVM lo hết!

Nhưng để optimize performance và debug memory issues, bạn cần hiểu JVM hoạt động thế nào.

### JVM Memory Structure

\`\`\`
┌─────────────────────────────────────────┐
│          JVM Memory Layout              │
├─────────────────────────────────────────┤
│  Method Area (Metaspace)                │
│  - Class metadata                       │
│  - Static variables                     │
│  - Constant pool                        │
├─────────────────────────────────────────┤
│  Heap Memory                            │
│  ┌───────────────────────────────────┐  │
│  │  Young Generation (1/3)           │  │
│  │  ├─ Eden Space (8/10)             │  │
│  │  ├─ Survivor 0 (1/10)             │  │
│  │  └─ Survivor 1 (1/10)             │  │
│  ├───────────────────────────────────┤  │
│  │  Old Generation (2/3)             │  │
│  │  - Long-lived objects             │  │
│  └───────────────────────────────────┘  │
├─────────────────────────────────────────┤
│  Stack Memory (per thread)              │
│  - Local variables                      │
│  - Method calls                         │
│  - References to objects                │
├─────────────────────────────────────────┤
│  Native Method Stack                    │
│  - JNI calls                            │
├─────────────────────────────────────────┤
│  PC Registers (per thread)              │
│  - Current instruction pointer          │
└─────────────────────────────────────────┘
\`\`\`

Heap vs Stack - Phân biệt rõ ràng:

\`\`\`java
public class MemoryDemo {
    public static void main(String[] args) {
        int age = 25;  // Stack - primitive
        String name = "Đăng";  // "name" ref → Stack
                               // "Đăng" object → Heap
        
        User user = new User("Hải Đăng", 25);
        // "user" reference → Stack
        // User object → Heap (Young Gen - Eden)
    }
}

class User {
    private String name;  // Heap
    private int age;      // Heap (part of User object)
    
    public void greet() {
        String message = "Hello";  // Stack
        // "message" ref → Stack
        // "Hello" object → Heap (String pool)
    }
}
\`\`\`

### Garbage Collection - Thu dọn rác tự động

1. Minor GC - Young Generation

\`\`\`
1. Object được tạo → Eden Space
2. Eden đầy → Minor GC
3. Objects còn sống → Survivor 0
4. Eden đầy lần 2 → Minor GC
5. Survivors → Survivor 1
6. Swap S0 ↔ S1 liên tục
7. Objects sống lâu → Old Generation
\`\`\`

2. Major GC - Old Generation
- Chạy khi Old Gen đầy
- Stop-the-world event (app pause!)
- Chậm hơn Minor GC nhiều

Example Code:
\`\`\`java
public class GCDemo {
    public static void main(String[] args) {
        // Enable GC logging
        // -Xlog:gc*
        
        List<byte[]> list = new ArrayList<>();
        
        // Allocate lots of objects
        for (int i = 0; i < 100; i++) {
            byte[] bytes = new byte[1024 * 1024];  // 1MB
            list.add(bytes);  // Keep reference - won't be GC'd
            
            // Unreferenced object - eligible for GC
            byte[] temp = new byte[1024 * 1024];
        }
        
        // Suggest GC (không đảm bảo chạy ngay!)
        System.gc();
        
        // Clear list - objects eligible for GC
        list.clear();
        list = null;
    }
}
\`\`\`

### Modern GC Algorithms

1. G1GC (Default Java 11+)
- Low latency
- Predictable pause times
- Best for most applications

\`\`\`bash
java -XX:+UseG1GC -Xms2g -Xmx4g -XX:MaxGCPauseMillis=200 MyApp
\`\`\`

2. ZGC (Java 15+)
- Ultra-low latency (< 10ms pause)
- Handles TB-sized heaps
- Perfect for real-time systems

\`\`\`bash
java -XX:+UseZGC -Xms16g -Xmx16g MyApp
\`\`\`

3. Shenandoah
- Concurrent GC
- Low pause times
- Good for microservices

### Memory Leaks - Vẫn có thể xảy ra!

\`\`\`java
// ❌ Memory Leak - Map giữ references mãi mãi
public class Cache {
    private static Map<String, User> cache = new HashMap<>();
    
    public static void addUser(User user) {
        cache.put(user.getId(), user);  // Leak!
    }
}

// ✅ FIX - Dùng WeakHashMap
public class Cache {
    private static Map<String, User> cache = new WeakHashMap<>();
    
    public static void addUser(User user) {
        cache.put(user.getId(), user);  // GC có thể clean up
    }
}
\`\`\`

### JVM Tuning Parameters

\`\`\`bash
# Heap size
-Xms2g          # Initial heap
-Xmx4g          # Maximum heap

# Young Generation
-XX:NewRatio=2  # Old:Young = 2:1

# GC selection
-XX:+UseG1GC
-XX:+UseZGC
-XX:+UseShenandoahGC

# GC logging
-Xlog:gc*:file=gc.log

# OutOfMemoryError dump
-XX:+HeapDumpOnOutOfMemoryError
-XX:HeapDumpPath=/tmp/heapdump.hprof
\`\`\`

### Performance Optimization Tips

✅ Set initial heap size:
\`\`\`bash
java -Xms4g -Xmx4g  # Same min & max → No resize overhead
\`\`\`

✅ Reuse objects:
\`\`\`java
// ❌ Creates many objects
for (int i = 0; i < 1000000; i++) {
    String str = "Number: " + i;
}

// ✅ Reuse StringBuilder
StringBuilder sb = new StringBuilder();
for (int i = 0; i < 1000000; i++) {
    sb.setLength(0);
    sb.append("Number: ").append(i);
}
\`\`\`

✅ Use primitives when possible:
\`\`\`java
// ❌ Boxing creates objects
List<Integer> nums = new ArrayList<>();

// ✅ Use primitive array
int[] nums = new int[1000];
\`\`\`

### Kết luận

JVM Memory Management = Fire and forget:

✅ Không cần malloc/free
✅ GC tự động clean up
✅ Modern GCs rất nhanh
✅ Tune được performance
✅ Memory safe (no dangling pointers)

Remember: Hiểu JVM = Code Java như pro! 🚀
    `,category:"Java",date:"2025-10-12",readTime:"14 phút đọc",author:"Lê Hải Đăng",featured:!1},{id:5,title:"JavaScript ES6+: Tính năng hiện đại bạn cần biết",excerpt:"Khám phá các tính năng mới trong ES6+ như Arrow Functions, Destructuring, Spread Operator, Promises và Async/Await. Nâng cao kỹ năng JavaScript của bạn.",content:`
## JavaScript ES6+ - Revolution in Web Development 🚀

ECMAScript 2015 (ES6) đã cách mạng hóa JavaScript, biến nó từ một ngôn ngữ đơn giản thành một trong những ngôn ngữ mạnh mẽ nhất. Với 12 tỷ thiết bị chạy JavaScript và tất cả các trình duyệt web hiện đại, ES6+ là must-have skill cho mọi web developer.

### Tại sao ES6+ quan trọng?

1. Modern Syntax - Code đẹp hơn, ngắn gọn hơn
- Arrow functions: Giảm 50% dòng code
- Destructuring: Trích xuất data siêu nhanh
- Template literals: String interpolation dễ đọc
- Spread operator: Clone & merge objects/arrays dễ dàng

2. Better Async Handling
- Promises: Tạm biệt callback hell
- Async/Await: Code bất đồng bộ như đồng bộ
- Fetch API: HTTP requests hiện đại

3. Module System
- Import/Export: Code modular, reusable
- Tree shaking: Bundle size nhỏ hơn
- Dynamic imports: Load code on demand

### 1. Arrow Functions - Cú pháp ngắn gọn

Arrow functions không chỉ ngắn gọn mà còn giải quyết vấn đề \`this\` binding:

\`\`\`javascript
// ❌ ES5 - Dài dòng
function add(a, b) {
    return a + b;
}

var numbers = [1, 2, 3];
var doubled = numbers.map(function(n) {
    return n * 2;
});

// ✅ ES6 - Ngắn gọn
const add = (a, b) => a + b;

const numbers = [1, 2, 3];
const doubled = numbers.map(n => n * 2);

// Lexical this binding - Giải quyết this trong callbacks
class Counter {
    constructor() {
        this.count = 0;
    }
    
    // ❌ ES5 - this bị undefined
    startES5() {
        setInterval(function() {
            this.count++;  // Error! this = window
            console.log(this.count);
        }, 1000);
    }
    
    // ✅ ES6 - this binding đúng
    startES6() {
        setInterval(() => {
            this.count++;  // OK! this = Counter instance
            console.log(this.count);
        }, 1000);
    }
}

// Implicit return - Return tự động với single expression
const multiply = (a, b) => a * b;  // Không cần return
const square = x => x * x;  // Không cần () nếu 1 param

// Multi-line với explicit return
const complexCalculation = (a, b) => {
    const sum = a + b;
    const product = a * b;
    return { sum, product };
};
\`\`\`

### 2. Destructuring - Trích xuất data siêu nhanh

\`\`\`javascript
// Object Destructuring
const user = {
    name: 'Hải Đăng',
    age: 25,
    role: 'Backend Developer',
    skills: ['Java', 'JavaScript', 'PostgreSQL']
};

// ❌ ES5
var name = user.name;
var age = user.age;
var role = user.role;

// ✅ ES6
const { name, age, role } = user;

// Rename variables
const { name: userName, age: userAge } = user;

// Default values
const { city = 'TP.HCM', country = 'Vietnam' } = user;

// Nested destructuring
const { skills: [firstSkill, ...otherSkills] } = user;

// Function parameters
function printUser({ name, role }) {
    console.log(\`\${name} - \${role}\`);
}
printUser(user);  // Hải Đăng - Backend Developer

// Array Destructuring
const colors = ['red', 'green', 'blue', 'yellow'];

const [primary, secondary, ...others] = colors;
// primary = 'red'
// secondary = 'green'
// others = ['blue', 'yellow']

// Skip elements
const [first, , third] = colors;  // first='red', third='blue'

// Swap variables without temp
let a = 1, b = 2;
[a, b] = [b, a];  // a=2, b=1

// React useState pattern
const [count, setCount] = useState(0);
const [user, setUser] = useState(null);
\`\`\`

### 3. Template Literals - String Interpolation

\`\`\`javascript
const name = 'Hải Đăng';
const role = 'Backend Developer';
const experience = 3;

// ❌ ES5 - Concat strings
var message = 'Hello, my name is ' + name + 
    '. I am a ' + role + 
    ' with ' + experience + ' years of experience.';

// ✅ ES6 - Template literals
const message = \`Hello, my name is \${name}.
I am a \${role} with \${experience} years of experience.\`;

// Expressions inside \${}
const price = 100;
const tax = 0.1;
console.log(\`Total: \${price * (1 + tax)} VNĐ\`);

// Multi-line strings
const html = \`
    <div class="user-card">
        <h2>\${name}</h2>
        <p>\${role}</p>
        <ul>
            \${skills.map(s => \`<li>\${s}</li>\`).join('')}
        </ul>
    </div>
\`;

// Tagged templates - Advanced
function highlight(strings, ...values) {
    return strings.reduce((result, str, i) => {
        const value = values[i] || '';
        return result + str + \`<mark>\${value}</mark>\`;
    }, '');
}

const highlighted = highlight\`Name: \${name}, Role: \${role}\`;
// "Name: <mark>Hải Đăng</mark>, Role: <mark>Backend Developer</mark>"
\`\`\`

### 4. Spread & Rest Operators - ... magic

\`\`\`javascript
// Spread Operator - Expand elements
const arr1 = [1, 2, 3];
const arr2 = [4, 5, 6];

// Combine arrays
const combined = [...arr1, ...arr2];  // [1,2,3,4,5,6]

// Copy array (shallow)
const copy = [...arr1];

// Add elements
const extended = [0, ...arr1, 4];  // [0,1,2,3,4]

// Spread objects
const user = { name: 'Đăng', age: 25 };
const developer = { ...user, role: 'Backend Dev', skills: ['Java'] };

// Override properties
const updated = { ...user, age: 26 };  // age updated

// Combine objects
const obj1 = { a: 1, b: 2 };
const obj2 = { c: 3, d: 4 };
const merged = { ...obj1, ...obj2 };  // {a:1, b:2, c:3, d:4}

// Function arguments
const numbers = [1, 2, 3, 4, 5];
Math.max(...numbers);  // 5 (thay vì Math.max.apply)

// React props spreading
const props = { name: 'Đăng', age: 25 };
<UserCard {...props} />  // Pass all props

// Rest Operator - Collect remaining elements
function sum(...numbers) {
    return numbers.reduce((total, n) => total + n, 0);
}
sum(1, 2, 3, 4, 5);  // 15

// Destructuring with rest
const [first, second, ...rest] = [1, 2, 3, 4, 5];
// first=1, second=2, rest=[3,4,5]

const { name, ...otherProps } = user;
// name='Đăng', otherProps={age:25, role:...}
\`\`\`

### 5. Enhanced Object Literals

\`\`\`javascript
const name = 'Đăng';
const age = 25;

// ❌ ES5
var user = {
    name: name,
    age: age,
    greet: function() {
        console.log('Hello!');
    }
};

// ✅ ES6 - Shorthand properties
const user = {
    name,  // Tự động name: name
    age,
    greet() {  // Shorthand method
        console.log('Hello!');
    }
};

// Computed property names
const field = 'email';
const user = {
    name: 'Đăng',
    [field]: 'dang@example.com',  // Dynamic key
    [\`user_\${Date.now()}\`]: 'unique_id'
};

// Dynamic methods
const operations = {
    add: 'plus',
    subtract: 'minus'
};
const calculator = {
    [operations.add](a, b) { return a + b; },
    [operations.subtract](a, b) { return a - b; }
};
\`\`\`

### 6. Promises - Thoát khỏi Callback Hell

\`\`\`javascript
// ❌ Callback Hell - Code khó đọc
getData(function(data) {
    processData(data, function(result) {
        saveData(result, function(saved) {
            sendNotification(saved, function(sent) {
                console.log('Done!');
            });
        });
    });
});

// ✅ Promises - Code dễ đọc
getData()
    .then(data => processData(data))
    .then(result => saveData(result))
    .then(saved => sendNotification(saved))
    .then(() => console.log('Done!'))
    .catch(error => console.error(error));

// Creating Promises
const fetchUser = (id) => {
    return new Promise((resolve, reject) => {
        setTimeout(() => {
            if (id > 0) {
                resolve({ id, name: 'Đăng' });
            } else {
                reject(new Error('Invalid ID'));
            }
        }, 1000);
    });
};

fetchUser(1)
    .then(user => console.log(user))
    .catch(err => console.error(err));

// Promise.all - Chạy parallel
Promise.all([
    fetch('/api/users'),
    fetch('/api/posts'),
    fetch('/api/comments')
])
.then(([users, posts, comments]) => {
    console.log('All data loaded!');
});

// Promise.race - Lấy kết quả nhanh nhất
Promise.race([
    fetch('/api/server1'),
    fetch('/api/server2')
])
.then(response => console.log('Fastest server responded!'));
\`\`\`

### 7. Async/Await - Promise nhưng đẹp hơn

\`\`\`javascript
// ✅ Async/Await - Code như đồng bộ
async function fetchUserData() {
    try {
        const response = await fetch('/api/user');
        const user = await response.json();
        
        const postsResponse = await fetch(\`/api/users/\${user.id}/posts\`);
        const posts = await postsResponse.json();
        
        return { user, posts };
    } catch (error) {
        console.error('Error:', error);
        throw error;
    }
}

// Usage
fetchUserData()
    .then(data => console.log(data))
    .catch(err => console.error(err));

// Async/Await with Promise.all
async function loadAllData() {
    const [users, posts, comments] = await Promise.all([
        fetch('/api/users').then(r => r.json()),
        fetch('/api/posts').then(r => r.json()),
        fetch('/api/comments').then(r => r.json())
    ]);
    
    return { users, posts, comments };
}

// Error handling
async function safeAPICall() {
    try {
        const data = await riskyOperation();
        return data;
    } catch (error) {
        if (error.status === 404) {
            return null;
        }
        throw error;  // Re-throw nếu không handle được
    } finally {
        console.log('Cleanup');  // Luôn chạy
    }
}
\`\`\`

### 8. Modules - Import/Export

\`\`\`javascript
// math.js - Named exports
export const PI = 3.14159;
export const E = 2.71828;

export function add(a, b) {
    return a + b;
}

export class Calculator {
    multiply(a, b) {
        return a * b;
    }
}

// user.js - Default export
export default class User {
    constructor(name) {
        this.name = name;
    }
}

// app.js - Import
import User from './user.js';  // Default import
import { PI, add, Calculator } from './math.js';  // Named imports
import { PI as pi } from './math.js';  // Rename import
import * as MathUtils from './math.js';  // Import all

// Usage
const user = new User('Đăng');
console.log(add(2, 3));
console.log(MathUtils.PI);

// Dynamic imports - Load on demand
async function loadModule() {
    const module = await import('./heavy-module.js');
    module.doSomething();
}

// React lazy loading
const HeavyComponent = React.lazy(() => import('./HeavyComponent'));
\`\`\`

### 9. Other Modern Features

\`\`\`javascript
// Default Parameters
function greet(name = 'Guest', greeting = 'Hello') {
    return \`\${greeting}, \${name}!\`;
}

// Optional Chaining (?.)
const city = user?.address?.city ?? 'Unknown';

// Nullish Coalescing (??)
const port = process.env.PORT ?? 3000;

// Array methods
const numbers = [1, 2, 3, 4, 5];
numbers.find(n => n > 3);  // 4
numbers.filter(n => n % 2 === 0);  // [2, 4]
numbers.map(n => n * 2);  // [2, 4, 6, 8, 10]
numbers.reduce((sum, n) => sum + n, 0);  // 15

// Object methods
Object.keys(user);  // ['name', 'age']
Object.values(user);  // ['Đăng', 25]
Object.entries(user);  // [['name', 'Đăng'], ['age', 25]]

// String methods
'hello'.includes('ll');  // true
'hello'.startsWith('he');  // true
'hello'.endsWith('lo');  // true
'hello'.repeat(3);  // 'hellohellohello'
\`\`\`

### Real-world Example - Modern API Client

\`\`\`javascript
class APIClient {
    constructor(baseURL) {
        this.baseURL = baseURL;
    }
    
    async request(endpoint, { method = 'GET', body, headers = {} } = {}) {
        const url = \`\${this.baseURL}\${endpoint}\`;
        const config = {
            method,
            headers: {
                'Content-Type': 'application/json',
                ...headers
            },
            ...(body && { body: JSON.stringify(body) })
        };
        
        try {
            const response = await fetch(url, config);
            
            if (!response.ok) {
                throw new Error(\`HTTP \${response.status}\`);
            }
            
            return await response.json();
        } catch (error) {
            console.error('API Error:', error);
            throw error;
        }
    }
    
    get(endpoint, options) {
        return this.request(endpoint, { ...options, method: 'GET' });
    }
    
    post(endpoint, body, options) {
        return this.request(endpoint, { ...options, method: 'POST', body });
    }
}

// Usage
const api = new APIClient('https://api.example.com');

async function loadUserPosts(userId) {
    const [user, posts] = await Promise.all([
        api.get(\`/users/\${userId}\`),
        api.get(\`/users/\${userId}/posts\`)
    ]);
    
    return { ...user, posts };
}
\`\`\`

### Kết luận

ES6+ đã biến JavaScript từ "toy language" thành một trong những ngôn ngữ mạnh nhất:

✅ Modern Syntax: Code ngắn gọn, dễ đọc
✅ Async/Await: Xử lý bất đồng bộ như pro
✅ Modules: Code modular, maintainable
✅ Arrow Functions: Giải quyết this binding
✅ Destructuring: Trích xuất data siêu nhanh

Master ES6+ = Master Modern Web Development! 🎯
    `,category:"JavaScript",date:"2025-10-10",readTime:"18 phút đọc",author:"Lê Hải Đăng",featured:!0},{id:6,title:"React Hooks: useState và useEffect cho người mới bắt đầu",excerpt:"Hướng dẫn chi tiết về React Hooks. Cách sử dụng useState để quản lý state và useEffect để xử lý side effects trong functional components.",content:`
## React Hooks - Game Changer for React! ⚛️

React Hooks (giới thiệu React 16.8) đã thay đổi hoàn toàn cách viết React components. Không còn class components phức tạp, giờ chỉ cần functional components + Hooks!

### useState - Quản lý State

\`\`\`javascript
import { useState } from 'react';

function Counter() {
    // Khai báo state
    const [count, setCount] = useState(0);
    //     ↑       ↑           ↑
    //   value  setter   initial value
    
    return (
        <div>
            <p>Count: {count}</p>
            <button onClick={() => setCount(count + 1)}>
                Increment
            </button>
            <button onClick={() => setCount(count - 1)}>
                Decrement
            </button>
            <button onClick={() => setCount(0)}>
                Reset
            </button>
        </div>
    );
}

// Multiple states
function UserForm() {
    const [name, setName] = useState('');
    const [email, setEmail] = useState('');
    const [age, setAge] = useState(0);
    
    const handleSubmit = (e) => {
        e.preventDefault();
        console.log({ name, email, age });
    };
    
    return (
        <form onSubmit={handleSubmit}>
            <input 
                value={name}
                onChange={(e) => setName(e.target.value)}
                placeholder="Name"
            />
            <input 
                value={email}
                onChange={(e) => setEmail(e.target.value)}
                placeholder="Email"
            />
            <input 
                type="number"
                value={age}
                onChange={(e) => setAge(Number(e.target.value))}
                placeholder="Age"
            />
            <button type="submit">Submit</button>
        </form>
    );
}

// Object state
function Profile() {
    const [user, setUser] = useState({
        name: 'Đăng',
        age: 25,
        role: 'Developer'
    });
    
    const updateName = (newName) => {
        setUser({
            ...user,  // Spread existing properties
            name: newName  // Override name
        });
    };
    
    return <div>{user.name}</div>;
}
\`\`\`

### useEffect - Side Effects

\`\`\`javascript
import { useState, useEffect } from 'react';

// 1. Run after every render
useEffect(() => {
    console.log('Component rendered!');
});

// 2. Run once on mount (empty dependency array)
useEffect(() => {
    console.log('Component mounted!');
    
    // Fetch data
    fetchUserData();
}, []);  // ← Empty array = run once

// 3. Run when dependency changes
function UserProfile({ userId }) {
    const [user, setUser] = useState(null);
    
    useEffect(() => {
        // Fetch user when userId changes
        fetch(\`/api/users/\${userId}\`)
            .then(res => res.json())
            .then(data => setUser(data));
    }, [userId]);  // ← Re-run khi userId thay đổi
    
    return <div>{user?.name}</div>;
}

// 4. Cleanup function
useEffect(() => {
    const timer = setInterval(() => {
        console.log('Tick');
    }, 1000);
    
    // Cleanup khi component unmount
    return () => {
        clearInterval(timer);
        console.log('Timer cleared!');
    };
}, []);

// 5. Real-world example - WebSocket
function Chat({ roomId }) {
    const [messages, setMessages] = useState([]);
    
    useEffect(() => {
        const ws = new WebSocket(\`ws://localhost:3000/\${roomId}\`);
        
        ws.onmessage = (event) => {
            setMessages(prev => [...prev, event.data]);
        };
        
        // Cleanup - close connection
        return () => {
            ws.close();
        };
    }, [roomId]);  // Reconnect khi roomId thay đổi
    
    return (
        <ul>
            {messages.map((msg, i) => <li key={i}>{msg}</li>)}
        </ul>
    );
}
\`\`\`

### Common Patterns

\`\`\`javascript
// Loading state
function UserList() {
    const [users, setUsers] = useState([]);
    const [loading, setLoading] = useState(true);
    const [error, setError] = useState(null);
    
    useEffect(() => {
        fetch('/api/users')
            .then(res => res.json())
            .then(data => {
                setUsers(data);
                setLoading(false);
            })
            .catch(err => {
                setError(err.message);
                setLoading(false);
            });
    }, []);
    
    if (loading) return <div>Loading...</div>;
    if (error) return <div>Error: {error}</div>;
    
    return (
        <ul>
            {users.map(user => <li key={user.id}>{user.name}</li>)}
        </ul>
    );
}

// Toggle state
function Dropdown() {
    const [isOpen, setIsOpen] = useState(false);
    
    const toggle = () => setIsOpen(!isOpen);
    
    return (
        <div>
            <button onClick={toggle}>
                {isOpen ? 'Close' : 'Open'}
            </button>
            {isOpen && <div>Dropdown content</div>}
        </div>
    );
}
\`\`\`

### Rules of Hooks

✅ Chỉ gọi ở top level (không trong loops/conditions)
✅ Chỉ gọi trong React functions (components/custom hooks)

\`\`\`javascript
// ❌ WRONG
function Bad() {
    if (condition) {
        const [count, setCount] = useState(0);  // Error!
    }
}

// ✅ CORRECT
function Good() {
    const [count, setCount] = useState(0);
    
    if (condition) {
        // Use count here
    }
}
\`\`\`

Happy Hooking! 🎣
    `,category:"JavaScript",date:"2025-10-08",readTime:"12 phút đọc",author:"Lê Hải Đăng",featured:!1},{id:7,title:"Node.js Event Loop: Cách hoạt động của bất đồng bộ",excerpt:"Giải thích chi tiết về Event Loop trong Node.js. Hiểu rõ Call Stack, Callback Queue, và cách Node.js xử lý I/O operations.",content:`
## Node.js Event Loop - Single-threaded nhưng không block! 🔄

Node.js chạy JavaScript trên server với một đặc điểm độc đáo: Single-threaded nhưng vẫn handle hàng nghìn connections cùng lúc!

Bí mật nằm ở Event Loop - cơ chế non-blocking I/O siêu mạnh.

### Event Loop Visualization

\`\`\`
   ┌───────────────────────────┐
┌─>│           timers          │  setTimeout, setInterval
│  └─────────────┬─────────────┘
│  ┌─────────────┴─────────────┐
│  │     pending callbacks     │  I/O callbacks
│  └─────────────┬─────────────┘
│  ┌─────────────┴─────────────┐
│  │       idle, prepare       │  Internal use
│  └─────────────┬─────────────┘
│  ┌─────────────┴─────────────┐
│  │           poll            │  Retrieve new I/O events
│  └─────────────┬─────────────┘
│  ┌─────────────┴─────────────┐
│  │           check           │  setImmediate
│  └─────────────┬─────────────┘
│  ┌─────────────┴─────────────┐
└──│      close callbacks      │  socket.on('close', ...)
   └───────────────────────────┘
\`\`\`

### The Stack, Queue, and Loop

\`\`\`javascript
console.log('1. Start');

setTimeout(() => {
    console.log('2. Timeout');
}, 0);

Promise.resolve().then(() => {
    console.log('3. Promise');
});

console.log('4. End');

// Output:
// 1. Start
// 4. End
// 3. Promise  (Microtask queue - higher priority!)
// 2. Timeout  (Macrotask queue)
\`\`\`

Giải thích:
1. Synchronous code chạy trước (1, 4)
2. Microtasks (Promises) chạy sau
3. Macrotasks (setTimeout) chạy cuối

### Non-blocking I/O

\`\`\`javascript
const fs = require('fs');

// ❌ Blocking - Chặn toàn bộ app!
const data = fs.readFileSync('large-file.txt');
console.log(data);
console.log('Done');  // Phải đợi file đọc xong

// ✅ Non-blocking - App vẫn chạy!
fs.readFile('large-file.txt', (err, data) => {
    if (err) throw err;
    console.log(data);
});
console.log('Done');  // Chạy ngay lập tức!
// Output: Done → file content
\`\`\`

### Callback Hell → Promises → Async/Await

\`\`\`javascript
// 😱 Callback Hell
getUser(userId, (err, user) => {
    if (err) return handleError(err);
    getPosts(user.id, (err, posts) => {
        if (err) return handleError(err);
        getComments(posts[0].id, (err, comments) => {
            if (err) return handleError(err);
            console.log(comments);
        });
    });
});

// 😊 Promises
getUser(userId)
    .then(user => getPosts(user.id))
    .then(posts => getComments(posts[0].id))
    .then(comments => console.log(comments))
    .catch(handleError);

// 🚀 Async/Await (Best!)
async function loadData() {
    try {
        const user = await getUser(userId);
        const posts = await getPosts(user.id);
        const comments = await getComments(posts[0].id);
        console.log(comments);
    } catch (err) {
        handleError(err);
    }
}
\`\`\`

### Event Emitters

\`\`\`javascript
const EventEmitter = require('events');

class Server extends EventEmitter {
    start() {
        this.emit('started', { port: 3000 });
    }
    
    stop() {
        this.emit('stopped');
    }
}

const server = new Server();

server.on('started', (info) => {
    console.log(\`Server started on port \${info.port}\`);
});

server.on('stopped', () => {
    console.log('Server stopped');
});

server.start();  // "Server started on port 3000"
\`\`\`

### Worker Threads - True Parallelism

\`\`\`javascript
const { Worker } = require('worker_threads');

// CPU-intensive task in separate thread
const worker = new Worker('./heavy-task.js');

worker.on('message', (result) => {
    console.log('Result:', result);
});

worker.postMessage({ data: 'process this' });
\`\`\`

### Performance Tips

✅ Avoid blocking operations
✅ Use async/await for clarity
✅ Worker threads for CPU tasks
✅ Cluster for multi-core CPUs

Event Loop = Node.js Superpower! ⚡
    `,category:"JavaScript",date:"2025-10-05",readTime:"10 phút đọc",author:"Lê Hải Đăng",featured:!1},{id:8,title:"TypeScript: Tại sao bạn nên sử dụng trong dự án JavaScript",excerpt:"Khám phá lợi ích của TypeScript - JavaScript với type safety. Cải thiện code quality và developer experience với static typing.",content:`
## TypeScript - JavaScript on Steroids 💪

TypeScript = JavaScript + Types. Nghe đơn giản nhưng impact cực lớn! Microsoft tạo ra TypeScript để giải quyết pain points của JavaScript trong large-scale applications.

Fact: Hơn 60% JavaScript projects mới bắt đầu với TypeScript!

### Why TypeScript?

1. Type Safety - Bắt lỗi sớm
\`\`\`typescript
// ❌ JavaScript - Lỗi runtime
function add(a, b) {
    return a + b;
}
add(5, "10");  // "510" - Bug!

// ✅ TypeScript - Lỗi compile time
function add(a: number, b: number): number {
    return a + b;
}
add(5, "10");  // ❌ Error: string not assignable to number
\`\`\`

2. IntelliSense - Autocomplete tuyệt vời
\`\`\`typescript
interface User {
    id: number;
    name: string;
    email: string;
    role: 'admin' | 'user';
}

const user: User = {
    id: 1,
    name: 'Đăng',
    email: 'dang@example.com',
    role: 'admin'
};

// IDE tự động suggest: user.id, user.name, user.email, user.role
console.log(user.  // ← Autocomplete!
\`\`\`

3. Refactoring an toàn
- Đổi tên variable/function → tự động update tất cả
- Compiler báo lỗi nếu có chỗ nào bị miss

### Basic Types

\`\`\`typescript
// Primitives
let age: number = 25;
let name: string = "Đăng";
let isDeveloper: boolean = true;

// Arrays
let numbers: number[] = [1, 2, 3];
let names: Array<string> = ["Đăng", "Nam"];

// Objects
let user: {
    name: string;
    age: number;
} = {
    name: "Đăng",
    age: 25
};

// Functions
function greet(name: string): string {
    return \`Hello, \${name}\`;
}

// Optional parameters
function log(message: string, userId?: number) {
    console.log(message, userId);
}

// Union types
let id: string | number = "123";
id = 456;  // OK!

// Literal types
let role: 'admin' | 'user' | 'guest' = 'admin';
role = 'moderator';  // ❌ Error!
\`\`\`

### Interfaces

\`\`\`typescript
interface Product {
    id: number;
    name: string;
    price: number;
    category?: string;  // Optional
    readonly createdAt: Date;  // Readonly
}

const product: Product = {
    id: 1,
    name: "Laptop",
    price: 1000,
    createdAt: new Date()
};

// product.createdAt = new Date();  // ❌ Error: readonly
\`\`\`

### Type Aliases

\`\`\`typescript
type ID = string | number;
type User = {
    id: ID;
    name: string;
    email: string;
};

type Response<T> = {
    data: T;
    error?: string;
    status: number;
};

const userResponse: Response<User> = {
    data: { id: 1, name: "Đăng", email: "test@test.com" },
    status: 200
};
\`\`\`

### Generics

\`\`\`typescript
// Generic function
function identity<T>(value: T): T {
    return value;
}

identity<string>("hello");  // string
identity<number>(42);  // number

// Generic interface
interface ApiResponse<T> {
    data: T;
    status: number;
}

const userResponse: ApiResponse<User> = {
    data: { id: 1, name: "Đăng", email: "test@test.com" },
    status: 200
};

// Generic class
class DataStore<T> {
    private items: T[] = [];
    
    add(item: T): void {
        this.items.push(item);
    }
    
    get(index: number): T {
        return this.items[index];
    }
}

const numberStore = new DataStore<number>();
numberStore.add(42);
\`\`\`

### React with TypeScript

\`\`\`typescript
import React from 'react';

interface Props {
    name: string;
    age: number;
    onSubmit: (data: FormData) => void;
}

const UserCard: React.FC<Props> = ({ name, age, onSubmit }) => {
    const [count, setCount] = React.useState<number>(0);
    
    return (
        <div>
            <h2>{name}</h2>
            <p>Age: {age}</p>
            <p>Count: {count}</p>
            <button onClick={() => setCount(count + 1)}>
                Increment
            </button>
        </div>
    );
};
\`\`\`

### Utility Types

\`\`\`typescript
interface User {
    id: number;
    name: string;
    email: string;
    password: string;
}

// Pick - Chọn một số properties
type PublicUser = Pick<User, 'id' | 'name' | 'email'>;

// Omit - Loại bỏ properties
type UserWithoutPassword = Omit<User, 'password'>;

// Partial - Tất cả properties optional
type PartialUser = Partial<User>;

// Required - Tất cả properties required
type RequiredUser = Required<User>;

// Readonly - Tất cả properties readonly
type ReadonlyUser = Readonly<User>;
\`\`\`

### Khi nào dùng TypeScript?

✅ Large projects (>10k LOC)
✅ Team projects (multiple developers)
✅ Long-term maintenance
✅ Complex business logic
✅ Library/Framework development

❌ Prototypes (quá nặng)
❌ Simple scripts (overkill)
❌ Learning JavaScript (học JS trước)

### Migration từ JavaScript

\`\`\`bash
# 1. Rename .js → .ts
mv app.js app.ts

# 2. Install TypeScript
npm install -D typescript @types/node @types/react

# 3. Create tsconfig.json
npx tsc --init

# 4. Gradually add types
// Start with 'any', then improve
\`\`\`

TypeScript = Better JavaScript for serious projects! 🎯
    `,category:"JavaScript",date:"2025-10-02",readTime:"14 phút đọc",author:"Lê Hải Đăng",featured:!1},{id:9,title:"Java vs JavaScript: So sánh chi tiết và khi nào nên dùng",excerpt:"Phân tích sâu sắc sự khác biệt giữa Java và JavaScript. Từ syntax, ecosystem đến use cases. Giúp bạn chọn ngôn ngữ phù hợp cho dự án.",content:`
## Java vs JavaScript: Battle of the Giants 🥊

Nhiều người nhầm lẫn rằng Java và JavaScript có liên quan với nhau vì tên giống nhau. Sự thật là: Chúng khác biệt hoàn toàn! Giống như Car và Carpet chỉ giống nhau ở chữ "Car" vậy.

Hãy phân tích chi tiết sự khác biệt và khi nào nên dùng ngôn ngữ nào.

### Lịch sử và Nguồn gốc

Java (1995 - Sun Microsystems/Oracle)
- Tạo bởi James Gosling tại Sun Microsystems
- Ban đầu tên "Oak", sau đổi thành Java (đảo ở Indonesia)
- Mục tiêu: "Write Once, Run Anywhere" - độc lập nền tảng
- Ngôn ngữ OOP thuần túy cho enterprise
- Slogan: ☕ "Java: The power of simplicity"

JavaScript (1995 - Netscape)
- Tạo bởi Brendan Eich chỉ trong 10 ngày!
- Ban đầu tên "Mocha" → "LiveScript" → "JavaScript" (marketing!)
- Đặt tên "JavaScript" để lợi dụng sự nổi tiếng của Java
- Ngôn ngữ scripting cho trình duyệt web
- Slogan: 🚀 "JavaScript: The language of the web"

### 1. Type System - Sự khác biệt cốt lõi

Java - Strongly Typed & Static Typing

\`\`\`java
// Phải khai báo type rõ ràng
String name = "Hải Đăng";
int age = 25;
double salary = 50000.50;

// ❌ Compile Error - Type mismatch
// age = "hai lăm";  // ERROR!
// salary = "năm mươi nghìn";  // ERROR!

// Type checking lúc compile time
public int calculateAge(Date birthDate) {
    // Compiler biết return type là int
    return 25;
}

// Generics - Type safe collections
List<String> names = new ArrayList<>();
names.add("Đăng");
// names.add(123);  // ❌ Compile error!

String first = names.get(0);  // Không cần cast
\`\`\`

JavaScript - Weakly Typed & Dynamic Typing

\`\`\`javascript
// Không cần khai báo type
let name = "Hải Đăng";
let age = 25;
let salary = 50000.50;

// ✅ OK - Type có thể thay đổi runtime
age = "hai lăm";  // OK!
salary = "năm mươi nghìn";  // OK!

// Type checking lúc runtime
function calculateAge(birthDate) {
    // Có thể return bất kỳ type nào
    return 25;  // number
    // return "25";  // OK - string
    // return { age: 25 };  // OK - object
}

// Coercion - Tự động convert type (đôi khi weird!)
console.log("5" + 3);  // "53" (string concat)
console.log("5" - 3);  // 2 (number subtraction) 
console.log(true + 1);  // 2 (true = 1)
console.log([] + {});  // "[object Object]" 🤯
\`\`\`

So sánh:
| Khía cạnh | Java | JavaScript |
|-----------|------|------------|
| Type checking | Compile time | Runtime |
| Lỗi type | Phát hiện sớm | Phát hiện khi chạy |
| Type safety | Cao | Thấp (TypeScript giải quyết) |
| Flexibility | Thấp | Cao |

### 2. Paradigm - Mô hình lập trình

Java - Pure Object-Oriented Programming

\`\`\`java
// Mọi thứ phải trong class
public class User {
    // Properties
    private String name;
    private int age;
    
    // Constructor
    public User(String name, int age) {
        this.name = name;
        this.age = age;
    }
    
    // Methods
    public void greet() {
        System.out.println("Hello, " + name);
    }
    
    // Getters/Setters
    public String getName() { return name; }
    public void setName(String name) { this.name = name; }
}

// Class-based inheritance
public class Developer extends User {
    private String language;
    
    public Developer(String name, int age, String language) {
        super(name, age);
        this.language = language;
    }
}

// Interface implementation
public interface Programmable {
    void code();
    void debug();
}

// Không thể có function độc lập - phải trong class!
\`\`\`

JavaScript - Multi-Paradigm (OOP + Functional + Procedural)

\`\`\`javascript
// 1. Procedural - Functions độc lập
function greet(name) {
    console.log("Hello, " + name);
}

// 2. OOP - Prototype-based
function User(name, age) {
    this.name = name;
    this.age = age;
}

User.prototype.greet = function() {
    console.log("Hello, " + this.name);
};

// ES6 Classes (syntactic sugar over prototypes)
class Developer extends User {
    constructor(name, age, language) {
        super(name, age);
        this.language = language;
    }
    
    code() {
        console.log(\`Coding in \${this.language}\`);
    }
}

// 3. Functional Programming
const numbers = [1, 2, 3, 4, 5];

// Higher-order functions
const doubled = numbers.map(n => n * 2);
const evens = numbers.filter(n => n % 2 === 0);
const sum = numbers.reduce((acc, n) => acc + n, 0);

// Pure functions
const add = (a, b) => a + b;  // No side effects

// Closures
function counter() {
    let count = 0;
    return {
        increment: () => ++count,
        get: () => count
    };
}

// First-class functions
const operation = (a, b, fn) => fn(a, b);
operation(5, 3, add);  // 8
operation(5, 3, (x, y) => x * y);  // 15
\`\`\`

### 3. Compilation vs Interpretation

Java - Compiled Language

\`\`\`
Source Code (.java)
    ↓
Compiler (javac)
    ↓
Bytecode (.class)
    ↓
JVM (Just-In-Time Compiler)
    ↓
Machine Code
    ↓
Execution
\`\`\`

Ưu điểm:
✅ Phát hiện lỗi sớm (compile time)
✅ Performance tốt (JIT optimization)
✅ Type safety
✅ Refactoring dễ dàng

Nhược điểm:
❌ Compile step làm chậm development
❌ Code dài dòng hơn
❌ Khó debug bytecode

JavaScript - Interpreted/JIT Compiled

\`\`\`
Source Code (.js)
    ↓
Parser
    ↓
Abstract Syntax Tree (AST)
    ↓
JIT Compiler (V8, SpiderMonkey)
    ↓
Execution
\`\`\`

Ưu điểm:
✅ Rapid development (không cần compile)
✅ Dynamic typing - linh hoạt
✅ Easy debugging trong browser
✅ Hot reloading

Nhược điểm:
❌ Lỗi phát hiện lúc runtime
❌ Performance thấp hơn Java (nhưng V8 rất nhanh)
❌ Khó maintain dự án lớn (TypeScript giải quyết)

### 4. Concurrency Model - Xử lý đồng thời

Java - Multi-threading & Shared Memory

\`\`\`java
// Traditional Threads
public class Counter {
    private int count = 0;
    
    // Synchronized - prevent race conditions
    public synchronized void increment() {
        count++;
    }
    
    public static void main(String[] args) {
        Counter counter = new Counter();
        
        // Create 10 threads
        Thread[] threads = new Thread[10];
        for (int i = 0; i < 10; i++) {
            threads[i] = new Thread(() -> {
                for (int j = 0; j < 1000; j++) {
                    counter.increment();
                }
            });
            threads[i].start();
        }
        
        // Wait for all threads
        for (Thread t : threads) {
            t.join();
        }
        
        System.out.println("Count: " + counter.count);  // 10000
    }
}

// ExecutorService - Thread Pool
ExecutorService executor = Executors.newFixedThreadPool(4);

for (int i = 0; i < 10; i++) {
    executor.submit(() -> {
        // Heavy task
        processData();
    });
}

executor.shutdown();

// CompletableFuture - Async programming
CompletableFuture.supplyAsync(() -> fetchFromAPI())
    .thenApply(data -> processData(data))
    .thenAccept(result -> saveToDatabase(result));

// Virtual Threads (Java 21+) - Lightweight
try (var executor = Executors.newVirtualThreadPerTaskExecutor()) {
    for (int i = 0; i < 1_000_000; i++) {
        executor.submit(() -> handleRequest());  // 1M threads!
    }
}
\`\`\`

JavaScript - Single-threaded & Event Loop

\`\`\`javascript
// Event Loop - Non-blocking I/O
console.log("1. Start");

setTimeout(() => {
    console.log("2. Timeout");
}, 0);

Promise.resolve().then(() => {
    console.log("3. Promise");
});

console.log("4. End");

// Output: 1. Start → 4. End → 3. Promise → 2. Timeout

// Async/Await - Non-blocking
async function fetchUserData() {
    console.log("Start fetching...");
    
    const user = await fetch('/api/user');  // Non-blocking!
    const posts = await fetch(\`/api/users/\${user.id}/posts\`);
    
    return { user, posts };
}

// Promise.all - Parallel execution
const [users, posts, comments] = await Promise.all([
    fetch('/api/users'),
    fetch('/api/posts'),
    fetch('/api/comments')
]);

// Worker Threads (Node.js) - True parallelism
const { Worker } = require('worker_threads');

const worker = new Worker('./heavy-task.js');
worker.on('message', (result) => {
    console.log('Result:', result);
});

// Web Workers (Browser)
const worker = new Worker('worker.js');
worker.postMessage({ data: 'Process this' });
worker.onmessage = (e) => {
    console.log('Result:', e.data);
};
\`\`\`

So sánh Concurrency:
| Java | JavaScript |
|------|------------|
| Multi-threaded | Single-threaded |
| Shared memory | Event loop |
| Threads, Locks | Callbacks, Promises |
| CPU-bound tasks | I/O-bound tasks |
| Complex để handle race conditions | Đơn giản hơn (no shared state) |

### 5. Performance Comparison

Benchmark - Fibonacci(40)

\`\`\`java
// Java
public static int fib(int n) {
    if (n <= 1) return n;
    return fib(n - 1) + fib(n - 2);
}
// Time: ~0.5s
\`\`\`

\`\`\`javascript
// JavaScript (Node.js)
function fib(n) {
    if (n <= 1) return n;
    return fib(n - 1) + fib(n - 2);
}
// Time: ~1.2s
\`\`\`

Kết quả:
- CPU-intensive tasks: Java nhanh hơn 2-3x
- I/O operations: JavaScript nhanh hơn (non-blocking)
- Startup time: JavaScript nhanh hơn (no JVM warmup)
- Memory: Java tốt hơn cho large datasets

### 6. Ecosystem & Frameworks

Java Ecosystem

\`\`\`
Build Tools:
- Maven (dependency management)
- Gradle (modern, fast)

Frameworks:
- Spring Boot (microservices, REST API)
- Hibernate (ORM)
- Jakarta EE (enterprise)
- Quarkus (cloud-native)

Testing:
- JUnit 5
- Mockito
- TestContainers

Deployment:
- Docker
- Kubernetes
- Tomcat, Jetty
\`\`\`

JavaScript Ecosystem

\`\`\`
Package Managers:
- npm (largest package registry)
- yarn (faster, reliable)
- pnpm (disk efficient)

Frontend Frameworks:
- React (most popular)
- Vue (easiest to learn)
- Angular (full-featured)
- Svelte (no virtual DOM)

Backend Frameworks:
- Express (minimalist)
- NestJS (TypeScript, Angular-like)
- Fastify (fastest)
- Koa (modern)

Testing:
- Jest
- Mocha + Chai
- Cypress (E2E)

Build Tools:
- Webpack
- Vite (super fast)
- Rollup
\`\`\`

### 7. Use Cases - Khi nào dùng gì?

Java - Best for:

✅ Enterprise Applications
\`\`\`java
@SpringBootApplication
public class BankingApplication {
    // Xây dựng hệ thống ngân hàng với:
    // - High security
    // - Transaction management
    // - Data consistency
    // - Scalability
}
\`\`\`

✅ Android Development
- 2.5 tỷ thiết bị Android
- Kotlin (chạy trên JVM) - official language
- Native performance

✅ Big Data
- Hadoop: Distributed storage & processing
- Spark: Real-time analytics
- Kafka: Event streaming

✅ Trading Systems
- Low latency
- High throughput
- Reliability

JavaScript - Best for:

✅ Web Development (Frontend)
\`\`\`javascript
// React Component
function ProductCard({ product }) {
    return (
        <div className="card">
            <h3>{product.name}</h3>
            <p>\${product.price}</p>
            <button onClick={() => addToCart(product)}>
                Add to Cart
            </button>
        </div>
    );
}
\`\`\`

✅ Backend (Node.js)
- RESTful APIs
- Real-time apps (Socket.io)
- Microservices
- Server-side rendering

✅ Full-stack Development
- MERN Stack (MongoDB, Express, React, Node)
- Next.js (React framework)
- Một ngôn ngữ cho cả frontend + backend

✅ Real-time Applications
- Chat applications
- Live dashboards
- Online gaming
- Collaboration tools

### 8. Learning Curve

Java:
- 📚 Cao hơn: Phải học OOP concepts, type system, JVM
- ⏰ Thời gian: 6-12 tháng để thành thạo
- 🎯 Suitable for: Người muốn hiểu sâu computer science
- 💼 Job market: Enterprise, big companies

JavaScript:
- 📚 Thấp hơn: Syntax đơn giản, flexible
- ⏰ Thời gian: 3-6 tháng để bắt đầu làm việc
- 🎯 Suitable for: Rapid prototyping, web dev
- 💼 Job market: Startups, web agencies, full-stack

### 9. Salary Comparison (Vietnam - 2025)

Java Developer:
- Fresher: 8-15 triệu VNĐ
- Junior (1-2 năm): 15-25 triệu
- Middle (2-4 năm): 25-40 triệu
- Senior (4+ năm): 40-80 triệu

JavaScript Developer:
- Fresher: 8-12 triệu VNĐ
- Junior (1-2 năm): 12-20 triệu
- Middle (2-4 năm): 20-35 triệu
- Senior (4+ năm): 35-70 triệu

Full-stack (Java + JavaScript):
- Middle: 30-45 triệu
- Senior: 50-100 triệu 💰

### Bảng so sánh tổng hợp

| Tiêu chí | Java ☕ | JavaScript 🚀 |
|----------|---------|---------------|
| Type System | Static, Strong | Dynamic, Weak |
| Paradigm | OOP | Multi-paradigm |
| Platform | JVM (cross-platform) | Browser + Node.js |
| Concurrency | Multi-threading | Event loop |
| Performance | Cao (CPU tasks) | Cao (I/O tasks) |
| Startup Time | Chậm (JVM warmup) | Nhanh |
| Learning Curve | Cao | Trung bình |
| Ecosystem | Mature, stable | Fast-paced |
| Mobile | Android native | React Native |
| Best For | Enterprise, Backend | Web, Full-stack |
| Salary | Cao hơn | Trung bình |
| Job Openings | Nhiều (enterprise) | Rất nhiều (web) |

### Kết luận: Nên học ngôn ngữ nào?

Chọn Java nếu bạn:
✅ Muốn làm việc cho công ty lớn, ngân hàng
✅ Thích code có structure rõ ràng
✅ Quan tâm đến type safety
✅ Làm Android development
✅ Muốn hiểu sâu OOP và computer science

Chọn JavaScript nếu bạn:
✅ Muốn trở thành web developer
✅ Thích rapid development
✅ Làm freelance hoặc startup
✅ Muốn làm full-stack với 1 ngôn ngữ
✅ Quan tâm đến frontend + UI/UX

Lời khuyên của mình:

💡 Học CẢ HAI!

1. Bắt đầu với JavaScript:
   - Dễ học hơn
   - Thấy kết quả nhanh (UI trên browser)
   - Job openings nhiều

2. Sau đó học Java:
   - Hiểu sâu OOP principles
   - Type system giúp code quality tốt hơn
   - Mở ra cơ hội enterprise

3. Kết hợp cả hai:
   - Backend: Java Spring Boot
   - Frontend: React/Vue
   - Become Full-stack Engineer!

Quan trọng nhất: Không có ngôn ngữ nào "tốt nhất". Mỗi ngôn ngữ có điểm mạnh riêng. Master fundamentals (algorithms, data structures, design patterns) quan trọng hơn ngôn ngữ cụ thể!

Happy coding! 🚀☕
    `,category:"Comparison",date:"2025-10-01",readTime:"20 phút đọc",author:"Lê Hải Đăng",featured:!0}],uW=()=>_.jsxs("footer",{className:"w-full bg-gradient-to-b from-gray-50 to-white border-t-2 border-blue-100 mt-20",children:[_.jsxs("div",{className:"max-w-7xl mx-auto px-8 py-12",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[_.jsxs("div",{className:"space-y-4",children:[_.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"Lê Hải Đăng"}),_.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Backend Developer đam mê công nghệ, luôn học hỏi và sáng tạo để xây dựng những sản phẩm chất lượng."})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Liên Kết Nhanh"}),_.jsxs("nav",{className:"flex flex-col space-y-2",children:[_.jsx(iu,{to:"/",className:"text-gray-600 hover:text-blue-600 transition-colors duration-300 text-sm",children:"🏠 Trang Chủ"}),_.jsx(iu,{to:"/about",className:"text-gray-600 hover:text-blue-600 transition-colors duration-300 text-sm",children:"👤 Về Tôi"}),_.jsx(iu,{to:"/projects",className:"text-gray-600 hover:text-blue-600 transition-colors duration-300 text-sm",children:"💼 Dự Án"}),_.jsx(iu,{to:"/contact",className:"text-gray-600 hover:text-blue-600 transition-colors duration-300 text-sm",children:"📧 Liên Hệ"})]})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Kết Nối Với Tôi"}),_.jsx("div",{className:"flex gap-4 flex-wrap",children:cW.map(n=>_.jsxs(iu,{to:n.link,target:"_blank",rel:"noopener noreferrer",className:"group relative",children:[_.jsx("div",{className:"w-12 h-12 rounded-full bg-white shadow-md hover:shadow-xl transition-all duration-300 flex items-center justify-center group-hover:scale-110 group-hover:-translate-y-1 border-2 border-gray-100 group-hover:border-blue-400",children:n.iconUrl?_.jsx("img",{src:n.iconUrl,alt:n.name,className:"w-6 h-6 object-contain"}):_.jsx("span",{className:"text-xs font-semibold text-gray-700",children:n.name})}),_.jsx("span",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap",children:n.name})]},n.name))})]})]}),_.jsx("div",{className:"border-t border-gray-200 my-8"}),_.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[_.jsx("p",{className:"text-gray-600 text-sm text-center md:text-left",children:"© 2025"}),_.jsx("p",{className:"text-gray-500 text-xs text-center md:text-right",children:"From HaiDang with ❤️"})]})]}),_.jsx("div",{className:"w-full h-1 bg-gradient-to-r from-blue-500 via-cyan-500 to-blue-500"})]}),hW=({currentStage:n})=>null,yp=({children:n})=>_.jsx(aL.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:[.43,.13,.23,.96]},children:n}),_3=[{name:"Vùng An Toàn",path:"/Portfolio/music/Vùng-an-toàn.mp3",artist:"BRay (ft. V#)"},{name:"Nuna",path:"/Portfolio/music/Nuna.mp3",artist:"YoungCaptain"},{name:"Exit Sign",path:"/Portfolio/music/HIEUTHUHAI-Exit-Sign-_prod.-by-Kewtiie_-ft.-marzuz-_Official-Lyric-Video_.mp3",artist:"HIEUTHUHAI"},{name:"Anh Chỉ Muốn",path:"/Portfolio/music/Anh-chỉ-muốn-_-Ronboogz.mp3",artist:"RonBoogz"},{name:"Last Night",path:"/Portfolio/music/Last-Night-_-Animated-Video-Lyrics.mp3",artist:"Hazel"},{name:"Giá Như Anh Ở Đây",path:"/Portfolio/music/willistic-giá-như-anh-ở-đây-_feat.-Cầm_-_-Official-Lyric-Video.mp3",artist:"Willistic & Cầm"},{name:"No Love No Life",path:"/Portfolio/music/HIEUTHUHAI-NOLOVENOLIFE-_prod.-by-Kewtiie_-_Official-Lyric-Video_.mp3",artist:"HIEUTHUHAI"},{name:"Tình Yêu Bị Làm Sao Vậy",path:"/Portfolio/music/Vietsub_-Tình-yêu-bị-làm-sao-vậy-_爱怎么了_-Trần-Thôn-Trưởng-_Giang-Thủ_-陈村长-_江守_-Hot-Douyin.mp3",artist:"Trần Thôn Trưởng"},{name:"Nơi Đâu Cũng Thấy Em",path:"/Portfolio/music/哪里都是你-队长-_-Nơi-Đâu-Cũng-Thấy-Em-_-Pinyin-_-Đội-Trưởng-Lyrics-Nhạc-China-_『-Sunflower-_-™-』.mp3",artist:"YoungCaptain"},{name:"Hẹn Em Dưới Ánh Trăng",path:"/Portfolio/music/HURRYKNG, HIEUTHUHAI, MANBO _ Hẹn Gặp Em Dưới Ánh Trăng _ Official Video.mp3",artist:"HIEUTHUHAI, HURRYKNG, MANBO"},{name:"Chúng Ta Của Tương Lai",path:"/Portfolio/music/SƠN-TÙNG-M-TP-_-CHÚNG-TA-CỦA-TƯƠNG-LAI-_-OFFICIAL-MUSIC-VIDEO_4.mp3",artist:"Sơn Tùng M-TP"},{name:"Thành Phố Của Những Người Cô Đơn",path:"/Portfolio/music/thành phố chứa những người dưng cô đơn _ iMAZE x ngtrinh (Official Music Video).mp3",artist:"iMAZE x ngtrinh"},{name:"Đợi",path:"/Portfolio/music/ĐỢI - 52Hz (prod. RIO) _ Official Lyric Video.mp3",artist:"52Hz"},{name:"Haru Haru",path:"/Portfolio/music/BIGBANG-HARU-HARU_하루하루_-M_V.mp3",artist:"BIGBANG"},{name:"One Last Time x 珊瑚海",path:"/Portfolio/music/One Last Time x 珊瑚海.mp3",artist:"TikTok ver"},{name:"Ngắm Sao Mà Chẳng Có Nhau",path:"/Portfolio/music/ngắm sao mà chẳng có nhau _ iMAZE x qt. x thảo choách (Official Music Video).mp3",artist:"iMAZE, qt, thảo choách"}],fW=()=>{const[n,e]=Y.useState(0),[t,i]=Y.useState(!1),[a,r]=Y.useState(0),[l,u]=Y.useState(0),[m,g]=Y.useState(.5),[v,d]=Y.useState(!1),p=Y.useRef(null),b=_3[n];Y.useEffect(()=>{if(p.current){const P=p.current;if(P.src=b.path,P.load(),r(0),t){const U=P.play();U!==void 0&&U.catch(F=>console.log("Auto-play prevented:",F))}}},[n]),Y.useEffect(()=>{p.current&&(p.current.volume=m)},[m]),Y.useEffect(()=>{const P=p.current;if(!P)return;const U=()=>{w()};return P.addEventListener("ended",U),()=>P.removeEventListener("ended",U)},[n]);const C=()=>{p.current&&(t?(p.current.pause(),i(!1)):p.current.play().then(()=>i(!0)).catch(P=>console.log("Playback failed:",P)))},w=()=>{const P=n>=_3.length-1?0:n+1;e(P)},E=()=>{const P=n<=0?_3.length-1:n-1;e(P)},M=()=>{p.current&&r(p.current.currentTime)},I=()=>{p.current&&!isNaN(p.current.duration)&&u(p.current.duration)},B=P=>{const U=parseFloat(P.target.value);p.current&&(p.current.currentTime=U,r(U))},N=P=>{const U=Math.floor(P/60),F=Math.floor(P%60);return`${U}:${F.toString().padStart(2,"0")}`};return _.jsxs("div",{className:"fixed bottom-3 right-3 sm:bottom-6 sm:right-6 z-50 group/player",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[_.jsxs("div",{className:`relative backdrop-blur-lg rounded-full shadow-xl transition-all duration-700 ease-out flex items-center ${v?"bg-gradient-to-br from-black/90 to-gray-900/90 border border-white/20 px-3 sm:px-6 py-1.5 shadow-2xl shadow-blue-500/30 scale-105":"p-0 hover:scale-110"}`,children:[!v&&_.jsx("div",{className:"absolute inset-0 rounded-full bg-white/90 shadow-2xl"}),t&&!v&&_.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-blue-400/30 to-purple-400/30 animate-pulse"}),t&&!v&&_.jsx("div",{className:"absolute -inset-2 rounded-full border-4 border-blue-400/40 animate-ping"}),_.jsx("button",{onClick:C,className:`relative rounded-full flex items-center justify-center active:scale-95 transition-all duration-300 shrink-0 ${v?"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-blue-500 to-purple-600 hover:scale-110 shadow-lg hover:shadow-blue-500/50":"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 shadow-2xl shadow-blue-500/50 m-2"}`,children:t?_.jsx("svg",{className:`text-white drop-shadow-lg ${v?"w-4 h-4 sm:w-5 sm:h-5":"w-5 h-5 animate-pulse"}`,fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):_.jsx("svg",{className:`text-white ml-0.5 drop-shadow-lg ${v?"w-4 h-4 sm:w-5 sm:h-5":"w-5 h-5"}`,fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M8 5v14l11-7z"})})}),_.jsxs("div",{className:`flex flex-col transition-all duration-700 ease-out ${v?"max-w-[240px] sm:max-w-[400px] opacity-100 translate-x-0 ml-2 sm:ml-4":"max-w-0 opacity-0 translate-x-4"} overflow-hidden`,children:[_.jsxs("div",{className:"flex items-center mb-2 sm:mb-3",children:[_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsxs("div",{className:"text-white text-xs sm:text-sm font-semibold truncate",children:["🎵 ",b.name]}),_.jsx("div",{className:"text-white/60 text-[10px] sm:text-xs truncate",children:b.artist})]}),_.jsxs("div",{className:"hidden sm:flex items-center shrink-0 ml-2",children:[_.jsx("svg",{className:"w-4 h-4 text-white/50 shrink-0 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z"})}),_.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:m,onChange:P=>g(parseFloat(P.target.value)),className:"w-16 h-1.5 bg-white/10 rounded-full appearance-none cursor-pointer transition-all duration-200",style:{background:`linear-gradient(to right, #3b82f6 ${m*100}%, rgba(255,255,255,0.1) ${m*100}%)`}})]})]}),_.jsxs("div",{className:"flex items-center",children:[_.jsxs("div",{className:"flex items-center shrink-0",children:[_.jsx("button",{onClick:E,className:"text-white/50 hover:text-white hover:scale-110 active:scale-95 transition-all duration-200 p-1 hover:bg-white/10 rounded-full mr-0.5 sm:mr-1",title:"Bài trước",children:_.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M6 6h2v12H6V6zm3.5 6l8.5 6V6l-8.5 6z"})})}),_.jsx("button",{onClick:w,className:"text-white/50 hover:text-white hover:scale-110 active:scale-95 transition-all duration-200 p-1 hover:bg-white/10 rounded-full",title:"Bài tiếp",children:_.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"})})})]}),_.jsxs("div",{className:"flex items-center ml-2 sm:ml-3 flex-1 min-w-0",children:[_.jsx("span",{className:"text-white/70 text-[9px] sm:text-[10px] font-mono shrink-0 tabular-nums mr-1 sm:mr-2",children:N(a)}),_.jsx("div",{className:"relative flex-1",children:_.jsx("input",{type:"range",min:"0",max:l||0,value:a,onChange:B,className:"w-full h-1 sm:h-1.5 bg-white/10 rounded-full appearance-none cursor-pointer transition-all duration-200",style:{background:`linear-gradient(to right, #3b82f6 ${a/l*100||0}%, rgba(255,255,255,0.1) ${a/l*100||0}%)`}})}),_.jsx("span",{className:"text-white/70 text-[9px] sm:text-[10px] font-mono shrink-0 tabular-nums ml-1 sm:ml-2",children:N(l)})]})]})]})]}),_.jsx("audio",{ref:p,onTimeUpdate:M,onLoadedMetadata:I,preload:"metadata"})]})};var cS=wg(),Mn=n=>Tg(n,cS),uS=wg();Mn.write=n=>Tg(n,uS);var ex=wg();Mn.onStart=n=>Tg(n,ex);var hS=wg();Mn.onFrame=n=>Tg(n,hS);var fS=wg();Mn.onFinish=n=>Tg(n,fS);var qd=[];Mn.setTimeout=(n,e)=>{const t=Mn.now()+e,i=()=>{const r=qd.findIndex(l=>l.cancel==i);~r&&qd.splice(r,1),ou-=~r?1:0},a={time:t,handler:n,cancel:i};return qd.splice(BI(t),0,a),ou+=1,DI(),a};var BI=n=>~(~qd.findIndex(e=>e.time>n)||~qd.length);Mn.cancel=n=>{ex.delete(n),hS.delete(n),fS.delete(n),cS.delete(n),uS.delete(n)};Mn.sync=n=>{xb=!0,Mn.batchedUpdates(n),xb=!1};Mn.throttle=n=>{let e;function t(){try{n(...e)}finally{e=null}}function i(...a){e=a,Mn.onStart(t)}return i.handler=n,i.cancel=()=>{ex.delete(t),e=null},i};var dS=typeof window<"u"?window.requestAnimationFrame:(()=>{});Mn.use=n=>dS=n;Mn.now=typeof performance<"u"?()=>performance.now():Date.now;Mn.batchedUpdates=n=>n();Mn.catch=console.error;Mn.frameLoop="always";Mn.advance=()=>{Mn.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):LI()};var ru=-1,ou=0,xb=!1;function Tg(n,e){xb?(e.delete(n),n(0)):(e.add(n),DI())}function DI(){ru<0&&(ru=0,Mn.frameLoop!=="demand"&&dS(NI))}function dW(){ru=-1}function NI(){~ru&&(dS(NI),Mn.batchedUpdates(LI))}function LI(){const n=ru;ru=Mn.now();const e=BI(ru);if(e&&(OI(qd.splice(0,e),t=>t.handler()),ou-=e),!ou){dW();return}ex.flush(),cS.flush(n?Math.min(64,ru-n):16.667),hS.flush(),uS.flush(),fS.flush()}function wg(){let n=new Set,e=n;return{add(t){ou+=e==n&&!n.has(t)?1:0,n.add(t)},delete(t){return ou-=e==n&&n.has(t)?1:0,n.delete(t)},flush(t){e.size&&(n=new Set,ou-=e.size,OI(e,i=>i(t)&&n.add(i)),ou+=n.size,e=n)}}}function OI(n,e){n.forEach(t=>{try{e(t)}catch(i){Mn.catch(i)}})}var mW=Object.defineProperty,pW=(n,e)=>{for(var t in e)mW(n,t,{get:e[t],enumerable:!0})},m0={};pW(m0,{assign:()=>xW,colors:()=>cu,createStringInterpolator:()=>pS,skipAnimation:()=>UI,to:()=>PI,willAdvance:()=>gS});function gW(){}var yW=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),Si={arr:Array.isArray,obj:n=>!!n&&n.constructor.name==="Object",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",und:n=>n===void 0};function vW(n,e){if(Si.arr(n)){if(!Si.arr(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return n===e}var Ql=(n,e)=>n.forEach(e);function _b(n,e,t){if(Si.arr(n)){for(let i=0;i<n.length;i++)e.call(t,n[i],`${i}`);return}for(const i in n)n.hasOwnProperty(i)&&e.call(t,n[i],i)}var Yy=n=>Si.und(n)?[]:Si.arr(n)?n:[n],mS=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),pS,PI,cu=null,UI=!1,gS=gW,xW=n=>{n.to&&(PI=n.to),n.now&&(Mn.now=n.now),n.colors!==void 0&&(cu=n.colors),n.skipAnimation!=null&&(UI=n.skipAnimation),n.createStringInterpolator&&(pS=n.createStringInterpolator),n.requestAnimationFrame&&Mn.use(n.requestAnimationFrame),n.batchedUpdates&&(Mn.batchedUpdates=n.batchedUpdates),n.willAdvance&&(gS=n.willAdvance),n.frameLoop&&(Mn.frameLoop=n.frameLoop)},Pp=new Set,Mr=[],b3=[],lv=0,yS={get idle(){return!Pp.size&&!Mr.length},start(n){lv>n.priority?(Pp.add(n),Mn.onStart(_W)):(HI(n),Mn(bb))},advance:bb,sort(n){if(lv)Mn.onFrame(()=>yS.sort(n));else{const e=Mr.indexOf(n);~e&&(Mr.splice(e,1),jI(n))}},clear(){Mr=[],Pp.clear()}};function _W(){Pp.forEach(HI),Pp.clear(),Mn(bb)}function HI(n){Mr.includes(n)||jI(n)}function jI(n){Mr.splice(bW(Mr,e=>e.priority>n.priority),0,n)}function bb(n){const e=b3;for(let t=0;t<Mr.length;t++){const i=Mr[t];lv=i.priority,i.idle||(gS(i),i.advance(n),i.idle||e.push(i))}return lv=0,b3=Mr,b3.length=0,Mr=e,Mr.length>0}function bW(n,e){const t=n.findIndex(e);return t<0?n.length:t}var AW={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},lo="[-+]?\\d*\\.?\\d+",cv=lo+"%";function tx(...n){return"\\(\\s*("+n.join(")\\s*,\\s*(")+")\\s*\\)"}var SW=new RegExp("rgb"+tx(lo,lo,lo)),MW=new RegExp("rgba"+tx(lo,lo,lo,lo)),CW=new RegExp("hsl"+tx(lo,cv,cv)),EW=new RegExp("hsla"+tx(lo,cv,cv,lo)),TW=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,wW=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,RW=/^#([0-9a-fA-F]{6})$/,IW=/^#([0-9a-fA-F]{8})$/;function BW(n){let e;return typeof n=="number"?n>>>0===n&&n>=0&&n<=4294967295?n:null:(e=RW.exec(n))?parseInt(e[1]+"ff",16)>>>0:cu&&cu[n]!==void 0?cu[n]:(e=SW.exec(n))?(Hd(e[1])<<24|Hd(e[2])<<16|Hd(e[3])<<8|255)>>>0:(e=MW.exec(n))?(Hd(e[1])<<24|Hd(e[2])<<16|Hd(e[3])<<8|qT(e[4]))>>>0:(e=TW.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=IW.exec(n))?parseInt(e[1],16)>>>0:(e=wW.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=CW.exec(n))?(YT(KT(e[1]),Ky(e[2]),Ky(e[3]))|255)>>>0:(e=EW.exec(n))?(YT(KT(e[1]),Ky(e[2]),Ky(e[3]))|qT(e[4]))>>>0:null}function A3(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function YT(n,e,t){const i=t<.5?t*(1+e):t+e-t*e,a=2*t-i,r=A3(a,i,n+1/3),l=A3(a,i,n),u=A3(a,i,n-1/3);return Math.round(r*255)<<24|Math.round(l*255)<<16|Math.round(u*255)<<8}function Hd(n){const e=parseInt(n,10);return e<0?0:e>255?255:e}function KT(n){return(parseFloat(n)%360+360)%360/360}function qT(n){const e=parseFloat(n);return e<0?0:e>1?255:Math.round(e*255)}function Ky(n){const e=parseFloat(n);return e<0?0:e>100?1:e/100}function QT(n){let e=BW(n);if(e===null)return n;e=e||0;const t=(e&4278190080)>>>24,i=(e&16711680)>>>16,a=(e&65280)>>>8,r=(e&255)/255;return`rgba(${t}, ${i}, ${a}, ${r})`}var ng=(n,e,t)=>{if(Si.fun(n))return n;if(Si.arr(n))return ng({range:n,output:e,extrapolate:t});if(Si.str(n.output[0]))return pS(n);const i=n,a=i.output,r=i.range||[0,1],l=i.extrapolateLeft||i.extrapolate||"extend",u=i.extrapolateRight||i.extrapolate||"extend",m=i.easing||(g=>g);return g=>{const v=NW(g,r);return DW(g,r[v],r[v+1],a[v],a[v+1],m,l,u,i.map)}};function DW(n,e,t,i,a,r,l,u,m){let g=m?m(n):n;if(g<e){if(l==="identity")return g;l==="clamp"&&(g=e)}if(g>t){if(u==="identity")return g;u==="clamp"&&(g=t)}return i===a?i:e===t?n<=e?i:a:(e===-1/0?g=-g:t===1/0?g=g-e:g=(g-e)/(t-e),g=r(g),i===-1/0?g=-g:a===1/0?g=g+i:g=g*(a-i)+i,g)}function NW(n,e){for(var t=1;t<e.length-1&&!(e[t]>=n);++t);return t-1}var ig=Symbol.for("FluidValue.get"),ag=Symbol.for("FluidValue.observers"),uv=n=>!!(n&&n[ig]),hv=n=>n&&n[ig]?n[ig]():n;function LW(n,e){n.eventObserved?n.eventObserved(e):n(e)}function Ab(n,e){const t=n[ag];t&&t.forEach(i=>{LW(i,e)})}var OW=class{constructor(n){if(!n&&!(n=this.get))throw Error("Unknown getter");PW(this,n)}},PW=(n,e)=>GI(n,ig,e);function FI(n,e){if(n[ig]){let t=n[ag];t||GI(n,ag,t=new Set),t.has(e)||(t.add(e),n.observerAdded&&n.observerAdded(t.size,e))}return e}function Sb(n,e){const t=n[ag];if(t&&t.has(e)){const i=t.size-1;i?t.delete(e):n[ag]=null,n.observerRemoved&&n.observerRemoved(i,e)}}var GI=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),l2=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,UW=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,$T=new RegExp(`(${l2.source})(%|[a-z]+)`,"i"),HW=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,nx=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,zI=n=>{const[e,t]=jW(n);if(!e||mS())return n;const i=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(i)return i.trim();if(t&&t.startsWith("--")){const a=window.getComputedStyle(document.documentElement).getPropertyValue(t);return a||n}else{if(t&&nx.test(t))return zI(t);if(t)return t}return n},jW=n=>{const e=nx.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]},S3,FW=(n,e,t,i,a)=>`rgba(${Math.round(e)}, ${Math.round(t)}, ${Math.round(i)}, ${a})`,VI=n=>{S3||(S3=cu?new RegExp(`(${Object.keys(cu).join("|")})(?!\\w)`,"g"):/^\b$/);const e=n.output.map(r=>hv(r).replace(nx,zI).replace(UW,QT).replace(S3,QT)),t=e.map(r=>r.match(l2).map(Number)),a=t[0].map((r,l)=>t.map(u=>{if(!(l in u))throw Error('The arity of each "output" value must be equal');return u[l]})).map(r=>ng({...n,output:r}));return r=>{const l=!$T.test(e[0])&&e.find(m=>$T.test(m))?.replace(l2,"");let u=0;return e[0].replace(l2,()=>`${a[u++](r)}${l||""}`).replace(HW,FW)}},kI="react-spring: ",WI=n=>{const e=n;let t=!1;if(typeof e!="function")throw new TypeError(`${kI}once requires a function parameter`);return(...i)=>{t||(e(...i),t=!0)}},GW=WI(console.warn);function zW(){GW(`${kI}The "interpolate" function is deprecated in v9 (use "to" instead)`)}WI(console.warn);function ZI(n){return Si.str(n)&&(n[0]=="#"||/\d/.test(n)||!mS()&&nx.test(n)||n in(cu||{}))}var XI=mS()?Y.useEffect:Y.useLayoutEffect,VW=()=>{const n=Y.useRef(!1);return XI(()=>(n.current=!0,()=>{n.current=!1}),[]),n};function kW(){const n=Y.useState()[1],e=VW();return()=>{e.current&&n(Math.random())}}var WW=n=>Y.useEffect(n,ZW),ZW=[],sg=Symbol.for("Animated:node"),XW=n=>!!n&&n[sg]===n,vS=n=>n&&n[sg],JI=(n,e)=>yW(n,sg,e),xS=n=>n&&n[sg]&&n[sg].getPayload(),YI=class{constructor(){JI(this,this)}getPayload(){return this.payload||[]}},_S=class KI extends YI{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,Si.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new KI(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return Si.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,Si.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},qI=class QI extends _S{constructor(e){super(0),this._string=null,this._toString=ng({output:[e,e]})}static create(e){return new QI(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(Si.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=ng({output:[this.getValue(),e]})),this._value=0,super.reset()}},fv={dependencies:null},bS=class extends YI{constructor(n){super(),this.source=n,this.setValue(n)}getValue(n){const e={};return _b(this.source,(t,i)=>{XW(t)?e[i]=t.getValue(n):uv(t)?e[i]=hv(t):n||(e[i]=t)}),e}setValue(n){this.source=n,this.payload=this._makePayload(n)}reset(){this.payload&&Ql(this.payload,n=>n.reset())}_makePayload(n){if(n){const e=new Set;return _b(n,this._addToPayload,e),Array.from(e)}}_addToPayload(n){fv.dependencies&&uv(n)&&fv.dependencies.add(n);const e=xS(n);e&&Ql(e,t=>this.add(t))}},JW=class $I extends bS{constructor(e){super(e)}static create(e){return new $I(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((i,a)=>i.setValue(e[a])).some(Boolean):(super.setValue(e.map(YW)),!0)}};function YW(n){return(ZI(n)?qI:_S).create(n)}function KW(n){const e=vS(n);return e?e.constructor:Si.arr(n)?JW:ZI(n)?qI:_S}var e4=(n,e)=>{const t=!Si.fun(n)||n.prototype&&n.prototype.isReactComponent;return Y.forwardRef((i,a)=>{const r=Y.useRef(null),l=t&&Y.useCallback(C=>{r.current=$W(a,C)},[a]),[u,m]=QW(i,e),g=kW(),v=()=>{const C=r.current;if(t&&!C)return;(C?e.applyAnimatedValues(C,u.getValue(!0)):!1)===!1&&g()},d=new qW(v,m),p=Y.useRef(void 0);XI(()=>(p.current=d,Ql(m,C=>FI(C,d)),()=>{p.current&&(Ql(p.current.deps,C=>Sb(C,p.current)),Mn.cancel(p.current.update))})),Y.useEffect(v,[]),WW(()=>()=>{const C=p.current;Ql(C.deps,w=>Sb(w,C))});const b=e.getComponentProps(u.getValue());return Y.createElement(n,{...b,ref:l})})},qW=class{constructor(n,e){this.update=n,this.deps=e}eventObserved(n){n.type=="change"&&Mn.write(this.update)}};function QW(n,e){const t=new Set;return fv.dependencies=t,n.style&&(n={...n,style:e.createAnimatedStyle(n.style)}),n=new bS(n),fv.dependencies=null,[n,t]}function $W(n,e){return n&&(Si.fun(n)?n(e):n.current=e),e}var t4=Symbol.for("AnimatedComponent"),eZ=(n,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:t=a=>new bS(a),getComponentProps:i=a=>a}={})=>{const a={applyAnimatedValues:e,createAnimatedStyle:t,getComponentProps:i},r=l=>{const u=n4(l)||"Anonymous";return Si.str(l)?l=r[l]||(r[l]=e4(l,a)):l=l[t4]||(l[t4]=e4(l,a)),l.displayName=`Animated(${u})`,l};return _b(n,(l,u)=>{Si.arr(n)&&(u=n4(l)),r[u]=r(l)}),{animated:r}},n4=n=>Si.str(n)?n:n&&Si.str(n.displayName)?n.displayName:Si.fun(n)&&n.name||null,i4=n=>n instanceof e9,tZ=1,e9=class extends OW{constructor(){super(...arguments),this.id=tZ++,this._priority=0}get priority(){return this._priority}set priority(n){this._priority!=n&&(this._priority=n,this._onPriorityChange(n))}get(){const n=vS(this);return n&&n.getValue()}to(...n){return m0.to(this,n)}interpolate(...n){return zW(),m0.to(this,n)}toJSON(){return this.get()}observerAdded(n){n==1&&this._attach()}observerRemoved(n){n==0&&this._detach()}_attach(){}_detach(){}_onChange(n,e=!1){Ab(this,{type:"change",parent:this,value:n,idle:e})}_onPriorityChange(n){this.idle||yS.sort(this),Ab(this,{type:"priority",parent:this,priority:n})}};Y.createContext({pause:!1,immediate:!1});var nZ=class extends e9{constructor(n,e){super(),this.source=n,this.idle=!0,this._active=new Set,this.calc=ng(...e);const t=this._get(),i=KW(t);JI(this,i.create(t))}advance(n){const e=this._get(),t=this.get();vW(e,t)||(vS(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&a4(this._active)&&M3(this)}_get(){const n=Si.arr(this.source)?this.source.map(hv):Yy(hv(this.source));return this.calc(...n)}_start(){this.idle&&!a4(this._active)&&(this.idle=!1,Ql(xS(this),n=>{n.done=!1}),m0.skipAnimation?(Mn.batchedUpdates(()=>this.advance()),M3(this)):yS.start(this))}_attach(){let n=1;Ql(Yy(this.source),e=>{uv(e)&&FI(e,this),i4(e)&&(e.idle||this._active.add(e),n=Math.max(n,e.priority+1))}),this.priority=n,this._start()}_detach(){Ql(Yy(this.source),n=>{uv(n)&&Sb(n,this)}),this._active.clear(),M3(this)}eventObserved(n){n.type=="change"?n.idle?this.advance():(this._active.add(n.parent),this._start()):n.type=="idle"?this._active.delete(n.parent):n.type=="priority"&&(this.priority=Yy(this.source).reduce((e,t)=>Math.max(e,(i4(t)?t.priority:0)+1),0))}};function iZ(n){return n.idle!==!1}function a4(n){return!n.size||Array.from(n).every(iZ)}function M3(n){n.idle||(n.idle=!0,Ql(xS(n),e=>{e.done=!0}),Ab(n,{type:"idle",parent:n}))}m0.assign({createStringInterpolator:VI,to:(n,e)=>new nZ(n,e)});var aZ=["primitive"].concat(Object.keys(qR).filter(n=>/^[A-Z]/.test(n)).map(n=>n[0].toLowerCase()+n.slice(1)));m0.assign({createStringInterpolator:VI,colors:AW,frameLoop:"demand"});wV(()=>{Mn.advance()});var sZ=eZ(aZ,{applyAnimatedValues:Zl}),rZ=sZ.animated;const oZ="/Portfolio/assets/island-7dAKY3KW.glb";function lZ({isRotating:n,setIsRotating:e,setCurrentStage:t,currentFocusPoint:i,...a}){const r=Y.useRef(),l=Y.useRef(!1),u=Y.useRef(null),m=Y.useRef(!1),{gl:g,viewport:v}=hI(),{nodes:d,materials:p}=bu(oZ),b=Y.useRef(0),C=Y.useRef(0),w=.98,E=j=>{j.stopPropagation(),j.preventDefault(),m.current=!1,u.current=setTimeout(()=>{m.current||(l.current=!0,e(!0))},500);const O=j.touches?j.touches[0].clientX:j.clientX;b.current=O},M=j=>{j.stopPropagation(),j.preventDefault(),e(!1),l.current=!1,m.current=!1,u.current&&clearTimeout(u.current)},I=j=>{if(j.stopPropagation(),j.preventDefault(),j.buttons===1){const O=j.touches?j.touches[0].clientX:j.clientX,H=(O-b.current)/v.width;Math.abs(H)>.001&&(m.current=!0,u.current&&(clearTimeout(u.current),l.current=!1),n||e(!0),r.current.rotation.y+=H*.02*Math.PI,b.current=O,C.current=H*.02*Math.PI)}},B=j=>{j.key==="ArrowLeft"?(n||e(!0),r.current.rotation.y+=.005*Math.PI,C.current=.007):j.key==="ArrowRight"&&(n||e(!0),r.current.rotation.y-=.005*Math.PI,C.current=-.007)},N=j=>{(j.key==="ArrowLeft"||j.key==="ArrowRight")&&e(!1)},P=j=>{j.stopPropagation(),j.preventDefault(),m.current=!1,u.current=setTimeout(()=>{m.current||(l.current=!0,e(!0))},500);const O=j.touches?j.touches[0].clientX:j.clientX;b.current=O},U=j=>{j.stopPropagation(),j.preventDefault(),e(!1),l.current=!1,m.current=!1,u.current&&clearTimeout(u.current)},F=j=>{j.stopPropagation(),j.preventDefault();const O=j.touches?j.touches[0].clientX:j.clientX,H=(O-b.current)/v.width;Math.abs(H)>.001&&(m.current=!0,u.current&&(clearTimeout(u.current),l.current=!1),n||e(!0),r.current.rotation.y+=H*.02*Math.PI,b.current=O,C.current=H*.02*Math.PI)};return Y.useEffect(()=>{const j=g.domElement;return j.addEventListener("pointerdown",E),j.addEventListener("pointerup",M),j.addEventListener("pointermove",I),window.addEventListener("keydown",B),window.addEventListener("keyup",N),j.addEventListener("touchstart",P),j.addEventListener("touchend",U),j.addEventListener("touchmove",F),()=>{j.removeEventListener("pointerdown",E),j.removeEventListener("pointerup",M),j.removeEventListener("pointermove",I),window.removeEventListener("keydown",B),window.removeEventListener("keyup",N),j.removeEventListener("touchstart",P),j.removeEventListener("touchend",U),j.removeEventListener("touchmove",F)}},[g,E,M,I]),Mg(()=>{if(l.current&&(r.current.rotation.y+=.005),!n)C.current*=w,Math.abs(C.current)<.001&&(C.current=0),r.current.rotation.y+=C.current;else{const O=(r.current.rotation.y%(2*Math.PI)+2*Math.PI)%(2*Math.PI);switch(!0){case(O>=5.45&&O<=5.85):t(4);break;case(O>=.85&&O<=1.3):t(3);break;case(O>=2.4&&O<=2.6):t(2);break;case(O>=4.25&&O<=4.75):t(1);break;default:t(null)}}}),_.jsxs(rZ.group,{ref:r,...a,children:[_.jsx("directionalLight",{intensity:5,decay:2,position:[13.066,23.855,21.355]}),_.jsx("mesh",{geometry:d.polySurface944_tree_body_0.geometry,material:p.PaletteMaterial001}),_.jsx("mesh",{geometry:d.polySurface945_tree1_0.geometry,material:p.PaletteMaterial001}),_.jsx("mesh",{geometry:d.polySurface946_tree2_0.geometry,material:p.PaletteMaterial001}),_.jsx("mesh",{geometry:d.polySurface947_tree1_0.geometry,material:p.PaletteMaterial001}),_.jsx("mesh",{geometry:d.polySurface948_tree_body_0.geometry,material:p.PaletteMaterial001}),_.jsx("mesh",{geometry:d.polySurface949_tree_body_0.geometry,material:p.PaletteMaterial001}),_.jsx("mesh",{geometry:d.pCube11_rocks1_0.geometry,material:p.PaletteMaterial001}),_.jsxs("group",{rotation:[-Math.PI/2,0,0],children:[_.jsxs("group",{position:[.241,-7.502,6.846],rotation:[0,0,.151],scale:.597,children:[_.jsx("primitive",{object:d.GolemArmature_rootJoint}),_.jsx("skinnedMesh",{geometry:d.Golem_0.geometry,material:p["Material.012"],skeleton:d.Golem_0.skeleton})]}),_.jsxs("group",{position:[1.427,18.337,7.438],rotation:[.026,.126,-.04],scale:.478,children:[_.jsx("mesh",{geometry:d.Cylinder000_0.geometry,material:p["well_material.001"]}),_.jsx("mesh",{geometry:d.Cylinder000_1.geometry,material:p["pulley_mat.001"]})]}),_.jsxs("group",{position:[-10.943,-4.278,12.269],scale:.3,children:[_.jsx("mesh",{geometry:d["window-stone001_0"].geometry,material:p["Material.007"]}),_.jsx("mesh",{geometry:d["window-stone001_1"].geometry,material:p["Texture-base-gloss-jpg.001"]})]}),_.jsxs("group",{position:[-10.045,-4.278,12.269],scale:.3,children:[_.jsx("mesh",{geometry:d["window-stone002_0"].geometry,material:p["Material.007"]}),_.jsx("mesh",{geometry:d["window-stone002_1"].geometry,material:p["Texture-base-gloss-jpg.001"]})]}),_.jsxs("group",{position:[-9.133,-.455,13.056],rotation:[0,0,-2.638],scale:.3,children:[_.jsx("mesh",{geometry:d["Castle-window-ver3001_0"].geometry,material:p["Material.007"]}),_.jsx("mesh",{geometry:d["Castle-window-ver3001_1"].geometry,material:p.WATER})]}),_.jsxs("group",{position:[-8.709,-.399,12.485],rotation:[0,0,2.729],scale:.3,children:[_.jsx("mesh",{geometry:d["Castle-window-ver3002_0"].geometry,material:p["Material.007"]}),_.jsx("mesh",{geometry:d["Castle-window-ver3002_1"].geometry,material:p.WATER})]}),_.jsxs("group",{position:[-8.448,-.62,11.841],rotation:[0,0,1.813],scale:.3,children:[_.jsx("mesh",{geometry:d["Castle-window-ver3003_0"].geometry,material:p["Material.007"]}),_.jsx("mesh",{geometry:d["Castle-window-ver3003_1"].geometry,material:p.WATER})]}),_.jsxs("group",{position:[-11.668,-.62,11.841],rotation:[0,0,1.813],scale:.3,children:[_.jsx("mesh",{geometry:d["Castle-window-ver3004_0"].geometry,material:p["Material.007"]}),_.jsx("mesh",{geometry:d["Castle-window-ver3004_1"].geometry,material:p.WATER})]}),_.jsxs("group",{position:[-11.93,-.399,12.485],rotation:[0,0,2.729],scale:.3,children:[_.jsx("mesh",{geometry:d["Castle-window-ver3005_0"].geometry,material:p["Material.007"]}),_.jsx("mesh",{geometry:d["Castle-window-ver3005_1"].geometry,material:p.WATER})]}),_.jsxs("group",{position:[-12.354,-.455,13.056],rotation:[0,0,-2.638],scale:.3,children:[_.jsx("mesh",{geometry:d["Castle-window-ver3006_0"].geometry,material:p["Material.007"]}),_.jsx("mesh",{geometry:d["Castle-window-ver3006_1"].geometry,material:p.WATER})]}),_.jsxs("group",{position:[-8.891,-1.991,12.269],rotation:[0,0,Math.PI/2],scale:.3,children:[_.jsx("mesh",{geometry:d["window-stone003_0"].geometry,material:p["Material.007"]}),_.jsx("mesh",{geometry:d["window-stone003_1"].geometry,material:p["Texture-base-gloss-jpg.001"]})]}),_.jsxs("group",{position:[-8.891,-2.888,12.269],rotation:[0,0,Math.PI/2],scale:.3,children:[_.jsx("mesh",{geometry:d["window-stone004_0"].geometry,material:p["Material.007"]}),_.jsx("mesh",{geometry:d["window-stone004_1"].geometry,material:p["Texture-base-gloss-jpg.001"]})]}),_.jsxs("group",{position:[-12.029,-1.991,12.269],rotation:[0,0,-Math.PI/2],scale:.3,children:[_.jsx("mesh",{geometry:d["window-stone005_0"].geometry,material:p["Material.007"]}),_.jsx("mesh",{geometry:d["window-stone005_1"].geometry,material:p["Texture-base-gloss-jpg.001"]})]}),_.jsxs("group",{position:[-12.029,-2.888,12.269],rotation:[0,0,-Math.PI/2],scale:.3,children:[_.jsx("mesh",{geometry:d["window-stone006_0"].geometry,material:p["Material.007"]}),_.jsx("mesh",{geometry:d["window-stone006_1"].geometry,material:p["Texture-base-gloss-jpg.001"]})]}),_.jsxs("group",{position:[8.29,9.589,5.242],rotation:[-Math.PI/2,.421,-Math.PI],scale:[.27,.037,.27],children:[_.jsx("mesh",{geometry:d.CageMix_0.geometry,material:p.StoneWall}),_.jsx("mesh",{geometry:d.CageMix_1.geometry,material:p["Material.007"]})]}),_.jsx("mesh",{geometry:d.Plane_0.geometry,material:p.Wizard,position:[8.306,9.523,4.53],rotation:[0,0,-1.925],scale:.233}),_.jsx("mesh",{geometry:d.Hide003_0.geometry,material:p.Objects,position:[-4.292,20.285,-.072],rotation:[.385,-.209,1.404],scale:.22}),_.jsx("mesh",{geometry:d["Sheep-ver1017_0"].geometry,material:p["Material.007"],position:[-3.617,13.851,7.605],rotation:[.481,.218,-2.444],scale:.248}),_.jsx("mesh",{geometry:d["Sheep-ver1016_0"].geometry,material:p["Material.007"],position:[-3.613,13.779,7.574],rotation:[.546,-.161,-2.232],scale:.333}),_.jsx("mesh",{geometry:d["Sheep-ver1015_0"].geometry,material:p["Material.007"],position:[-.271,16.657,7.574],rotation:[.03,.118,-2.341],scale:.363}),_.jsx("mesh",{geometry:d["Sheep-ver1014_0"].geometry,material:p["Material.007"],position:[-1.976,17.843,7.977],rotation:[.102,.144,2.002],scale:.203}),_.jsx("mesh",{geometry:d["Sheep-ver1001_0"].geometry,material:p["Material.007"],position:[-7.233,15.548,8.59],rotation:[.281,.246,1.343],scale:.231}),_.jsx("mesh",{geometry:d["Sheep-ver1002_0"].geometry,material:p["Material.007"],position:[-6.421,15.332,8.341],rotation:[.108,.247,-1.704],scale:.263}),_.jsx("mesh",{geometry:d["Sheep-ver1003_0"].geometry,material:p["Material.007"],position:[-6.716,15.698,8.502],rotation:[.327,.201,.719],scale:.309}),_.jsx("mesh",{geometry:d["Sheep-ver1004_0"].geometry,material:p["Material.007"],position:[-7.014,15.153,8.452],rotation:[.133,.204,2.179],scale:.377}),_.jsx("mesh",{geometry:d["Sheep-ver1009_0"].geometry,material:p["Material.007"],position:[-2.133,17.063,7.956],rotation:[.059,.258,-2.435],scale:.222}),_.jsx("mesh",{geometry:d["Sheep-ver1008_0"].geometry,material:p["Material.007"],position:[-.359,16.331,7.512],rotation:[.142,.264,-2.474],scale:.309}),_.jsx("mesh",{geometry:d["Sheep-ver1007_0"].geometry,material:p["Material.007"],position:[-2.693,16.867,8.039],rotation:[.181,.062,2.845],scale:.26}),_.jsx("mesh",{geometry:d["Sheep-ver1006_0"].geometry,material:p["Material.007"],position:[-2.479,17.118,8.034],rotation:[.073,.163,-2.943],scale:.388}),_.jsx("mesh",{geometry:d["Sheep-ver1005_0"].geometry,material:p["Material.007"],position:[-1.046,16.038,7.544],rotation:[.305,.137,-.016],scale:.309}),_.jsx("mesh",{geometry:d["Sheep-ver1018_0"].geometry,material:p["Material.007"],position:[-1.464,15.825,7.55],rotation:[.307,.149,1.092],scale:.242}),_.jsx("mesh",{geometry:d["Sheep-ver1019_0"].geometry,material:p["Material.007"],position:[-3.941,15.428,7.835],rotation:[.33,.165,-2.199],scale:.333}),_.jsx("mesh",{geometry:d["Sheep-ver1020_0"].geometry,material:p["Material.007"],position:[-2.484,17.657,8.072],rotation:[-.126,.015,2.447],scale:.338}),_.jsx("mesh",{geometry:d["Sheep-ver1021_0"].geometry,material:p["Material.007"],position:[-4.533,15.599,7.972],rotation:[.183,.071,2.435],scale:.248}),_.jsx("mesh",{geometry:d.mff_island_large_0.geometry,material:p.medievalfantasyforest_unwrap,position:[3.015,4.355,0]}),_.jsx("mesh",{geometry:d.mff_island_small_0.geometry,material:p.medievalfantasyforest_unwrap,position:[19.374,3.504,0]}),_.jsx("mesh",{geometry:d.House_4_AO001_0.geometry,material:p.House_4_AO_tex,position:[19.241,6.775,1.864],rotation:[1.465,-1.219,.1],scale:.3}),_.jsx("mesh",{geometry:d.House_3_AO001_0.geometry,material:p.House_3_AO_tex,position:[17.098,5.466,1.931],rotation:[1.517,-.582,-.015],scale:.3}),_.jsx("mesh",{geometry:d.House_1_AO001_0.geometry,material:p.House_1_AO_tex,position:[21.555,6.483,1.595],rotation:[1.797,1.057,-.368],scale:.3}),_.jsx("mesh",{geometry:d.House_2_AO001_0.geometry,material:p.House_2_AO_tex,position:[-2.393,-6.781,8.166],rotation:[Math.PI/2,-1.096,0],scale:.3}),_.jsx("mesh",{geometry:d.Tower_1_AO001_0.geometry,material:p.Tower_tex_1,position:[15.799,-4.508,1.189],rotation:[-Math.PI/2,-1.414,-Math.PI],scale:.3}),_.jsx("mesh",{geometry:d.HouseBase_8_AO003_0.geometry,material:p.StoneWall,position:[15.799,-4.508,-.25],rotation:[Math.PI/2,0,0],scale:.5}),_.jsx("mesh",{geometry:d.HouseBase_7_AO003_0.geometry,material:p.StoneWall,position:[11.492,.75,1.422],rotation:[Math.PI/2,-1.235,0],scale:.5}),_.jsx("mesh",{geometry:d.HouseBase_7_AO004_0.geometry,material:p.StoneWall,position:[12.098,4.217,1.422],rotation:[Math.PI/2,.743,0],scale:.5}),_.jsx("mesh",{geometry:d.Tower_2_AO001_0.geometry,material:p.Tower_tex_2,position:[11.47,.774,2.765],rotation:[Math.PI/2,-1.253,0],scale:.3}),_.jsx("mesh",{geometry:d.Tower_2_AO002_0.geometry,material:p.Tower_tex_2,position:[12.075,4.243,2.765],rotation:[Math.PI/2,-.628,0],scale:.3}),_.jsx("mesh",{geometry:d.House_2_AO002_0.geometry,material:p.House_2_AO_tex,position:[2.893,-5.57,8.193],rotation:[1.767,.423,-.098],scale:.3}),_.jsx("mesh",{geometry:d.House_4_AO002_0.geometry,material:p.House_4_AO_tex,position:[17.884,.913,1.8],rotation:[1.819,1.037,-.13],scale:.3}),_.jsx("mesh",{geometry:d.House_3_AO002_0.geometry,material:p.House_3_AO_tex,position:[23.14,4.23,1.383],rotation:[-1.58,-.117,-2.817],scale:.3}),_.jsx("mesh",{geometry:d.Shed_AO001_0.geometry,material:p.Material,position:[-1.944,17.388,7.85],rotation:[1.407,-.456,-.194],scale:.358}),_.jsx("mesh",{geometry:d["Mill-wind001_0"].geometry,material:p["Material.007"],position:[4.334,19.228,7.221],rotation:[0,0,.093],scale:.3}),_.jsx("mesh",{geometry:d.HouseBase_8_AO004_0.geometry,material:p.StoneWall,position:[4.329,19.04,5.859],rotation:[-Math.PI/2,.998,-Math.PI],scale:[.662,.5,.662]}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO001_0.geometry,material:p["Material.001"],position:[-1.946,17.309,7.923],rotation:[1.287,-.468,-.188],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO002_0.geometry,material:p["Material.001"],position:[-3.548,12.835,7.756],rotation:[-1.413,-.567,-2.719],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Green_2_AO001_0.geometry,material:p["Material.003"],position:[-.261,17.326,7.524],rotation:[1.389,-.33,-.271],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Green_2_AO002_0.geometry,material:p["Material.003"],position:[-3.051,13.222,7.591],rotation:[-1.356,-.599,-2.772],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Green_2_AO003_0.geometry,material:p["Material.003"],position:[-2.566,13.629,7.42],rotation:[-1.445,-.605,-2.709],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Green_2_AO004_0.geometry,material:p["Material.001"],position:[-2.012,14.028,7.179],rotation:[-1.284,-.673,-2.87],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Green_2_AO005_0.geometry,material:p["Material.003"],position:[-1.477,14.466,7.147],rotation:[-1.396,-.33,-3.013],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Green_2_AO006_0.geometry,material:p["Material.001"],position:[-.878,14.672,7.09],rotation:[-1.394,-.026,-2.89],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Green_2_AO007_0.geometry,material:p["Material.001"],position:[-.184,14.741,6.989],rotation:[-1.305,-.482,-2.976],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Green_2_AO008_0.geometry,material:p["Material.003"],position:[.341,15.094,7.051],rotation:[-.315,-1.418,-2.122],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Green_2_AO009_0.geometry,material:p["Material.003"],position:[.346,15.718,7.225],rotation:[1.33,-1.08,-.513],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Green_2_AO010_0.geometry,material:p["Material.003"],position:[.191,16.866,7.471],rotation:[1.509,-.815,-.108],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_8_AO001_0.geometry,material:p["Material.001"],position:[.098,16.292,7.452],rotation:[2.303,1.234,-.691],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_5_AO001_0.geometry,material:p["Material.003"],position:[.227,16.866,7.742],rotation:[1.555,-.701,-1.67],scale:.17}),_.jsx("mesh",{geometry:d.Shed_AO002_0.geometry,material:p.Material,position:[-3.417,14.152,7.444],rotation:[-1.609,-.217,-2.899],scale:.358}),_.jsx("mesh",{geometry:d.House_1_AO002_0.geometry,material:p.House_1_AO_tex,position:[-.805,13.237,6.937],rotation:[.274,-1.301,-1.316],scale:.3}),_.jsx("mesh",{geometry:d.mff_stone_path_0001_0.geometry,material:p.medievalfantasyforest_unwrap,position:[19.388,5.966,1.904],rotation:[.04,-.012,-.003],scale:.3}),_.jsx("mesh",{geometry:d.mff_stone_path_1001_0.geometry,material:p.medievalfantasyforest_unwrap,position:[20.405,5.954,1.795],rotation:[.064,.198,.014],scale:.2}),_.jsx("mesh",{geometry:d.mff_stone_path_0002_0.geometry,material:p.medievalfantasyforest_unwrap,position:[17.724,4.328,1.93],rotation:[-.095,.046,.478],scale:.238}),_.jsx("mesh",{geometry:d.mff_stone_path_1002_0.geometry,material:p.medievalfantasyforest_unwrap,position:[20.92,5.831,1.68],rotation:[.023,.204,1.966],scale:[.399,.396,.215]}),_.jsx("mesh",{geometry:d.Paving_1_AO001_0.geometry,material:p["Material.009"],position:[21.781,4.124,1.7],rotation:[-1.746,-.933,2.982],scale:.17}),_.jsx("mesh",{geometry:d.Paving_3_AO001_0.geometry,material:p["Material.009"],position:[18.089,4.75,1.894],rotation:[1.576,.347,-.086],scale:.248}),_.jsx("mesh",{geometry:d.Paving_4_AO001_0.geometry,material:p["Material.009"],position:[18.311,1.709,1.823],rotation:[1.702,-.024,-.069],scale:.241}),_.jsx("mesh",{geometry:d.Paving_4_AO002_0.geometry,material:p["Material.009"],position:[21.504,5.057,1.629],rotation:[1.468,.518,.16],scale:.241}),_.jsx("mesh",{geometry:d.Paving_1_AO002_0.geometry,material:p["Material.009"],position:[16.356,2.48,2.034],rotation:[2.052,-1.435,.495],scale:.17}),_.jsx("mesh",{geometry:d.Paving_1_AO003_0.geometry,material:p["Material.009"],position:[17.853,2.404,1.941],rotation:[-1.388,-.592,-3.054],scale:[.197,.279,.206]}),_.jsx("mesh",{geometry:d.Paving_1_AO004_0.geometry,material:p["Material.009"],position:[18.692,2.266,1.864],rotation:[1.724,.643,-.106],scale:[.153,.226,.155]}),_.jsx("mesh",{geometry:d.Paving_3_AO002_0.geometry,material:p["Material.009"],position:[16.997,2.722,2.048],rotation:[-1.513,.04,-3.077],scale:.248}),_.jsx("mesh",{geometry:d.Paving_1_AO005_0.geometry,material:p["Material.009"],position:[17.451,3.174,2.024],rotation:[1.692,.751,-.204],scale:[.104,.177,.103]}),_.jsx("mesh",{geometry:d.mff_stone_path_1003_0.geometry,material:p.medievalfantasyforest_unwrap,position:[16.592,3.022,2.05],rotation:[-.01,-.065,-.716],scale:.248}),_.jsx("mesh",{geometry:d.Paving_4_AO003_0.geometry,material:p["Material.009"],position:[17.441,3.774,1.992],rotation:[1.476,-.426,-.021],scale:.201}),_.jsx("mesh",{geometry:d.Paving_4_AO004_0.geometry,material:p["Material.009"],position:[18.644,5.506,1.891],rotation:[1.584,-.728,-.012],scale:.298}),_.jsx("mesh",{geometry:d.Paving_1_AO006_0.geometry,material:p["Material.009"],position:[19.922,6.128,1.87],rotation:[1.825,.929,-.253],scale:[.135,.23,.134]}),_.jsx("mesh",{geometry:d.Paving_4_AO005_0.geometry,material:p["Material.009"],position:[21.672,5.345,1.602],rotation:[1.463,.663,.126],scale:.363}),_.jsx("mesh",{geometry:d.mff_tree_pine_2001_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-.771,-8.75,4.042],rotation:[.2,.129,-.692],scale:[.85,.832,1.145]}),_.jsx("mesh",{geometry:d.mff_tree_pine_2002_0.geometry,material:p.medievalfantasyforest_unwrap,position:[7.817,-2.131,2.252],rotation:[-.132,-.046,.204],scale:[.85,.832,1.145]}),_.jsx("mesh",{geometry:d.mff_tree_pine_2003_0.geometry,material:p.medievalfantasyforest_unwrap,position:[6.202,-4.93,3.012],rotation:[-.073,.076,2.047],scale:[1.574,1.582,2.328]}),_.jsx("mesh",{geometry:d.mff_tree_pine_0001_0.geometry,material:p.medievalfantasyforest_unwrap,position:[8.765,-6.2,2.966],rotation:[.049,.148,1.15],scale:[1,1,1.53]}),_.jsx("mesh",{geometry:d.mff_tree_pine_1001_0.geometry,material:p.medievalfantasyforest_unwrap,position:[4.49,-7.101,3.337]}),_.jsx("mesh",{geometry:d.mff_tree_pine_1002_0.geometry,material:p.medievalfantasyforest_unwrap,position:[13.236,6.843,3.242],rotation:[.045,.108,-1.454]}),_.jsx("mesh",{geometry:d.mff_tree_maple001_0.geometry,material:p.medievalfantasyforest_unwrap,position:[4.98,-8.246,3.354],rotation:[.113,0,.862],scale:.622}),_.jsx("mesh",{geometry:d.mff_tree_maple002_0.geometry,material:p.medievalfantasyforest_unwrap,position:[2.252,-8.728,3.623],rotation:[-.026,.039,-.816],scale:[.587,.587,.366]}),_.jsx("mesh",{geometry:d.mff_tree_maple003_0.geometry,material:p.medievalfantasyforest_unwrap,position:[10.722,-2.01,2.231],rotation:[.043,-.019,2.885],scale:[.587,.589,.762]}),_.jsx("mesh",{geometry:d.mff_tree_maple004_0.geometry,material:p.medievalfantasyforest_unwrap,position:[8.083,1.935,2.884],rotation:[.016,-.044,2.064],scale:[.35,.351,.349]}),_.jsx("mesh",{geometry:d.mff_tree_pine_0002_0.geometry,material:p.medievalfantasyforest_unwrap,position:[6.642,-.479,2.372],rotation:[.14,.069,.356],scale:[.581,.579,.46]}),_.jsx("mesh",{geometry:d.mff_tree_pine_1003_0.geometry,material:p.medievalfantasyforest_unwrap,position:[5.925,-2.697,2.477],rotation:[-.045,.157,1.612],scale:.5}),_.jsx("mesh",{geometry:d.mff_tree_pine_1004_0.geometry,material:p.medievalfantasyforest_unwrap,position:[10.715,-4.349,2.315],rotation:[-.126,-.104,-2.693],scale:.78}),_.jsx("mesh",{geometry:d.mff_tree_pine_0003_0.geometry,material:p.medievalfantasyforest_unwrap,position:[8.233,-4.201,2.616],rotation:[-.145,-.059,-2.854],scale:.581}),_.jsx("mesh",{geometry:d.mff_tree_pine_2004_0.geometry,material:p.medievalfantasyforest_unwrap,position:[9.43,-2.849,2.447],rotation:[.096,-.102,2.2],scale:[1.022,1.005,1.659]}),_.jsx("mesh",{geometry:d["Sheep-ver1010_0"].geometry,material:p["Material.007"],position:[-6.322,16.384,8.623],rotation:[.321,.223,-2.778],scale:.377}),_.jsx("mesh",{geometry:d["Sheep-ver1011_0"].geometry,material:p["Material.007"],position:[-5.658,16.343,8.456],rotation:[.363,.256,-2.541],scale:.309}),_.jsx("mesh",{geometry:d["Sheep-ver1012_0"].geometry,material:p["Material.007"],position:[-5.827,16.142,8.416],rotation:[.251,.297,-2.874],scale:.263}),_.jsx("mesh",{geometry:d["Sheep-ver1013_0"].geometry,material:p["Material.007"],position:[-6.072,16.421,8.576],rotation:[.342,.209,-2.682],scale:.231}),_.jsx("mesh",{geometry:d.TreeTrunk001_0.geometry,material:p["Material.012"],position:[10.92,-3.038,2.268],rotation:[-.105,.161,.539],scale:.251}),_.jsx("mesh",{geometry:d.TreeTrunk002_0.geometry,material:p["Material.012"],position:[8.082,-.38,2.103],rotation:[.179,.07,-1.244],scale:.178}),_.jsx("mesh",{geometry:d.Stones_1_AO001_0.geometry,material:p["Material.013"],position:[17.932,-5.771,.28],rotation:[Math.PI/2,.815,0],scale:1.294}),_.jsx("mesh",{geometry:d.Stones_1_AO002_0.geometry,material:p["Material.013"],position:[13.992,-6.534,-.01],rotation:[-Math.PI/2,1.053,-Math.PI],scale:[.63,.935,.63]}),_.jsx("mesh",{geometry:d.mff_stone_mossy_0001_0.geometry,material:p.medievalfantasyforest_unwrap,position:[9.821,-15.099,0],rotation:[0,0,-.899],scale:[3.815,3.815,6.281]}),_.jsx("mesh",{geometry:d.mff_stone_mossy_0002_0.geometry,material:p.medievalfantasyforest_unwrap,position:[11.265,-14.92,0],rotation:[0,0,-1.86],scale:[5.002,5.002,3.193]}),_.jsx("mesh",{geometry:d.Stones_4_AO001_0.geometry,material:p["Material.013"],position:[23.672,6.539,.141],rotation:[1.375,-.939,-.165]}),_.jsx("mesh",{geometry:d.Stones_4_AO002_0.geometry,material:p["Material.013"],position:[10.461,21.498,.193],rotation:[-Math.PI/2,1.172,-Math.PI],scale:[5.009,3.662,5.009]}),_.jsx("mesh",{geometry:d.Stones_4_AO003_0.geometry,material:p["Material.013"],position:[18.538,15.29,-.003],rotation:[-Math.PI/2,1.169,-Math.PI],scale:[1.874,1.265,1.874]}),_.jsx("mesh",{geometry:d.Stones_3_AO001_0.geometry,material:p["Material.013"],position:[17.106,-.562,-.538],rotation:[Math.PI/2,-1.445,0],scale:3.02}),_.jsx("mesh",{geometry:d.Stones_3_AO002_0.geometry,material:p["Material.013"],position:[24.546,.96,.09],rotation:[-1.949,1.149,-2.718],scale:[1.315,1.483,1.33]}),_.jsx("mesh",{geometry:d.Stones_1_AO003_0.geometry,material:p["Material.013"],position:[24.458,3.295,.101],rotation:[-2.64,1.337,-2.026],scale:[1.351,1.848,1.291]}),_.jsx("mesh",{geometry:d.Stones_1_AO004_0.geometry,material:p["Material.013"],position:[3.247,-7.88,3.529],rotation:[-2.714,1.343,-2.056],scale:[.597,.817,.57]}),_.jsx("mesh",{geometry:d.Stones_1_AO005_0.geometry,material:p["Material.013"],position:[-6.505,-8.808,9.027],rotation:[-2.719,.719,-.83],scale:[1.379,1.034,1.522]}),_.jsx("mesh",{geometry:d.Stones_4_AO004_0.geometry,material:p["Material.013"],position:[-3.453,-3.795,8.614],rotation:[.626,-1.225,-.839],scale:1.294}),_.jsx("mesh",{geometry:d.Cube000_0.geometry,material:p.Wizard,position:[-1.797,-8.088,8.169],scale:.06}),_.jsx("mesh",{geometry:d.Paving_3_AO003_0.geometry,material:p["Material.009"],position:[-9.669,-9.584,5.151],rotation:[-2.991,0,0],scale:1.345}),_.jsx("mesh",{geometry:d.Paving_1_AO007_0.geometry,material:p["Material.009"],position:[4.501,-2.007,4.612],rotation:[1.676,.099,-1.601],scale:.749}),_.jsx("mesh",{geometry:d.Stones_1_AO006_0.geometry,material:p["Material.013"],position:[9.648,16.35,6.061],rotation:[Math.PI/2,0,0],scale:1.435}),_.jsx("mesh",{geometry:d.Stones_4_AO005_0.geometry,material:p["Material.013"],position:[-7.773,14.415,8.616],rotation:[.929,.124,-.243],scale:1.196}),_.jsx("mesh",{geometry:d.Stones_4_AO006_0.geometry,material:p["Material.013"],position:[1.393,2.379,6.969],rotation:[-Math.PI/2,-1.399,-Math.PI],scale:1.207}),_.jsx("mesh",{geometry:d.Stones_1_AO007_0.geometry,material:p["Material.013"],position:[.903,.561,7.36],rotation:[-2.635,1.522,-2.287],scale:1.941}),_.jsx("mesh",{geometry:d.Stones_3_AO003_0.geometry,material:p["Material.013"],position:[-3.318,-4.282,8.678],rotation:[1.35,.019,-.284],scale:2.529}),_.jsx("mesh",{geometry:d.mff_stone_mossy_0003_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-5.18,-7.64,-.383],rotation:[0,0,-2.545],scale:11.151}),_.jsx("mesh",{geometry:d.Stones_1_AO008_0.geometry,material:p["Material.013"],position:[-4.891,-8.537,5.873],rotation:[Math.PI/2,1.209,0]}),_.jsx("mesh",{geometry:d.mff_stone_0001_0.geometry,material:p.medievalfantasyforest_unwrap,position:[6.659,-8.175,.342],rotation:[0,0,2.45],scale:.816}),_.jsx("mesh",{geometry:d.mff_stone_0002_0.geometry,material:p.medievalfantasyforest_unwrap,position:[4.135,-9.064,.259],rotation:[0,0,-.583],scale:1.483}),_.jsx("mesh",{geometry:d.Stones_4_AO007_0.geometry,material:p["Material.013"],position:[17.763,-1.025,1.123],rotation:[-Math.PI/2,-.85,Math.PI],scale:1.257}),_.jsx("mesh",{geometry:d.mff_tree_pine_2005_0.geometry,material:p.medievalfantasyforest_unwrap,position:[19.251,-.798,1.186],rotation:[0,0,-2.916],scale:[1.764,1.764,3.498]}),_.jsx("mesh",{geometry:d.mff_tree_pine_1005_0.geometry,material:p.medievalfantasyforest_unwrap,position:[19.914,-3.785,.488],rotation:[0,0,1.232],scale:[1.287,1.287,1]}),_.jsx("mesh",{geometry:d.tree9001_0.geometry,material:p["Material.017"],position:[1.301,-.968,7.813],rotation:[.04,-.026,1.123],scale:.006}),_.jsx("mesh",{geometry:d.tree9002_0.geometry,material:p["Material.017"],position:[5.529,-1.624,2.968],rotation:[.13,.017,-2.985],scale:[.005,.006,.006]}),_.jsx("mesh",{geometry:d.tree9003_0.geometry,material:p["Material.017"],position:[-3.777,16.19,7.932],rotation:[-.014,-.13,1.498],scale:.007}),_.jsx("mesh",{geometry:d.mff_tree_pine_0004_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-.327,15.45,7.243],rotation:[.025,.154,1.312],scale:[.387,.39,.488]}),_.jsx("mesh",{geometry:d.Stones_4_AO008_0.geometry,material:p["Material.013"],position:[.391,9.854,6.687],rotation:[-1.608,1.043,3.063],scale:1.19}),_.jsx("mesh",{geometry:d.mff_stone_0003_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-.872,11.487,6.397],rotation:[0,0,-2.922],scale:.65}),_.jsx("mesh",{geometry:d.mff_stone_0004_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-1.328,11.767,6.903],rotation:[-1.29,.461,.228],scale:.494}),_.jsx("mesh",{geometry:d.mff_stone_0005_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-10.553,15.555,9.471],rotation:[-1.226,.587,-.154],scale:.598}),_.jsx("mesh",{geometry:d.mff_stone_0006_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-10.557,16.327,1.009],rotation:[.101,-.583,-1.398],scale:1.63}),_.jsx("mesh",{geometry:d.mff_stone_0007_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-13.423,14.824,1.171],rotation:[-1.455,-.437,.3],scale:2.588}),_.jsx("mesh",{geometry:d.Rock_1_AO001_0.geometry,material:p["Material.008"],position:[1.477,-12.079,.94],rotation:[Math.PI/2,1.554,0],scale:.171}),_.jsx("mesh",{geometry:d.Stones_4_AO009_0.geometry,material:p["Material.013"],position:[1.808,-9.162,2.231],rotation:[-1.267,1.001,-3.066],scale:1.229}),_.jsx("mesh",{geometry:d.mff_stone_0008_0.geometry,material:p.medievalfantasyforest_unwrap,position:[2.458,-9.824,2.185],rotation:[0,0,-.216],scale:.552}),_.jsx("mesh",{geometry:d.mff_stone_mossy_0004_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-1.216,-9.567,2.405],rotation:[.606,.137,.181],scale:2.367}),_.jsx("mesh",{geometry:d.mff_stone_0009_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-1.25,-9.295,3.139],rotation:[0,0,2.215],scale:.599}),_.jsx("mesh",{geometry:d.Stones_1_AO009_0.geometry,material:p["Material.013"],position:[-1.99,-9.25,3.903],rotation:[-1.1,.931,-3.001],scale:.628}),_.jsx("mesh",{geometry:d.Stones_3_AO004_0.geometry,material:p["Material.013"],position:[-2.437,-11.329,-.106],rotation:[Math.PI/2,-.136,0],scale:1.765}),_.jsx("mesh",{geometry:d.Stones_3_AO005_0.geometry,material:p["Material.013"],position:[10.547,-16.679,-.14],rotation:[Math.PI/2,-.812,0],scale:2.74}),_.jsx("mesh",{geometry:d.mff_stone_0010_0.geometry,material:p.medievalfantasyforest_unwrap,position:[21.486,7.874,.3],rotation:[1.412,.054,-1.409],scale:.846}),_.jsx("mesh",{geometry:d.mff_stone_0011_0.geometry,material:p.medievalfantasyforest_unwrap,position:[19.813,8.347,.086],rotation:[1.595,-.561,-.244],scale:.522}),_.jsx("mesh",{geometry:d.mff_stone_0012_0.geometry,material:p.medievalfantasyforest_unwrap,position:[24.296,4.635,.303],rotation:[-3.14,.169,3.035],scale:[.626,.638,.217]}),_.jsx("mesh",{geometry:d.mff_stone_0013_0.geometry,material:p.medievalfantasyforest_unwrap,position:[23.574,6.963,-.226],rotation:[-3.129,-.168,-.02],scale:[1.364,1.39,.472]}),_.jsx("mesh",{geometry:d.mff_tree_pine_1006_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-5.691,-10.351,4.683],rotation:[.265,-.035,.053],scale:.815}),_.jsx("mesh",{geometry:d.TreeTrunk003_0.geometry,material:p["Material.012"],position:[9.681,-.942,2.103],rotation:[.064,-.146,2.783],scale:.2}),_.jsx("mesh",{geometry:d.TreeTrunk004_0.geometry,material:p["Material.012"],position:[9.182,-.02,2.062],rotation:[-.075,-.041,2.721],scale:.111}),_.jsx("mesh",{geometry:d["Deer-ver3001_0"].geometry,material:p["Material.007"],position:[8.255,-1.486,2.175],rotation:[-.107,.038,-1.604],scale:.239}),_.jsx("mesh",{geometry:d.Keel000_0.geometry,material:p.Objects,position:[27.642,-5.374,.147],rotation:[0,0,.911],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects000_0.geometry,material:p.Objects,position:[1.637,-10.814,2.496],rotation:[-1.459,1.067,3.068],scale:.748}),_.jsx("mesh",{geometry:d.VikingShipObjects001_0.geometry,material:p.Objects,position:[4.332,-12.674,.348],rotation:[Math.PI/2,0,0],scale:.601}),_.jsx("mesh",{geometry:d.VikingShipObjects006_0.geometry,material:p.Objects,position:[-.581,-10.893,2.394],rotation:[2.103,-.889,.11],scale:.511}),_.jsx("mesh",{geometry:d.VikingShipObjects007_0.geometry,material:p.Objects,position:[11.022,-15.684,1.412],rotation:[-1.44,.368,-2.902],scale:.469}),_.jsx("mesh",{geometry:d.VikingShipObjects008_0.geometry,material:p.Objects,position:[1.127,-14.224,-.412],rotation:[-Math.PI/2,.877,-Math.PI],scale:.748}),_.jsx("mesh",{geometry:d.VikingShipObjects009_0.geometry,material:p.Objects,position:[-.324,-13.778,-.501],rotation:[-2.657,.603,-1.145],scale:1.039}),_.jsx("mesh",{geometry:d.VikingShipObjects010_0.geometry,material:p.Objects,position:[.005,-14.814,-.288],rotation:[-.057,-.162,-.081],scale:1.297}),_.jsx("mesh",{geometry:d.VikingShipObjects011_0.geometry,material:p.Objects,position:[11.845,-16.682,.145],rotation:[Math.PI/2,-.292,0],scale:.748}),_.jsx("mesh",{geometry:d.VikingShipObjects012_0.geometry,material:p.Objects,position:[4.57,1.872,4.671],rotation:[.495,-.688,-.346],scale:.843}),_.jsx("mesh",{geometry:d.VikingShipObjects013_0.geometry,material:p.Objects,position:[4.189,.716,4.484],rotation:[1.178,-.845,-.903],scale:.717}),_.jsx("mesh",{geometry:d.VikingShipObjects014_0.geometry,material:p.Objects,position:[4.843,-3.429,6.063],rotation:[1.199,-.674,-1.237],scale:.588}),_.jsx("mesh",{geometry:d.VikingShipObjects015_0.geometry,material:p.Objects,position:[4.51,-5.048,6.856],rotation:[-1.997,-.305,-.942],scale:.37}),_.jsx("mesh",{geometry:d.mff_stone_0014_0.geometry,material:p.medievalfantasyforest_unwrap,position:[4.33,-.004,6.081],rotation:[.124,.2,.136],scale:.424}),_.jsx("mesh",{geometry:d.mff_stone_0015_0.geometry,material:p.medievalfantasyforest_unwrap,position:[2.988,-6.489,6.47],rotation:[.288,.183,-.519],scale:.684}),_.jsx("mesh",{geometry:d.VikingShipObjects016_0.geometry,material:p.Objects,position:[2.679,-7.094,5.977],rotation:[.449,-.321,-2.127],scale:.676}),_.jsx("mesh",{geometry:d.VikingShipObjects017_0.geometry,material:p.Objects,position:[4.468,-5.42,3.141],rotation:[.449,-.321,-2.127],scale:.764}),_.jsx("mesh",{geometry:d.VikingShipObjects018_0.geometry,material:p.Objects,position:[3.426,-9.096,2.34],rotation:[.449,-.321,-2.127],scale:.407}),_.jsx("mesh",{geometry:d.VikingShipObjects019_0.geometry,material:p.Objects,position:[6.158,-9.506,-.058],rotation:[-.334,.439,.708],scale:.6}),_.jsx("mesh",{geometry:d.VikingShipObjects020_0.geometry,material:p.Objects,position:[5.225,-11.151,-.714],rotation:[-.971,.407,.527],scale:1.22}),_.jsx("mesh",{geometry:d.Stones_1_AO010_0.geometry,material:p["Material.013"],position:[3.893,-10.971,.291],rotation:[Math.PI/2,0,0],scale:.938}),_.jsx("mesh",{geometry:d.Stones_1_AO011_0.geometry,material:p["Material.013"],position:[-19.111,-.941,-.112],rotation:[Math.PI/2,-1.109,0],scale:5.502}),_.jsx("mesh",{geometry:d.Stones_1_AO012_0.geometry,material:p["Material.013"],position:[-12.175,19.59,.171],rotation:[-Math.PI/2,.419,-Math.PI],scale:2.078}),_.jsx("mesh",{geometry:d.VikingShipObjects021_0.geometry,material:p.Objects,position:[-8.687,-8.232,.442],rotation:[1.669,-.034,-.049],scale:2.105}),_.jsx("mesh",{geometry:d.VikingShipObjects022_0.geometry,material:p.Objects,position:[-17.018,8.137,5.638],rotation:[2.076,.522,2.068],scale:2.23}),_.jsx("mesh",{geometry:d.VikingShipObjects023_0.geometry,material:p.Objects,position:[-17.022,5.992,1.587],rotation:[-2.03,.357,1.934],scale:1.652}),_.jsx("mesh",{geometry:d.mff_stone_0016_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-8.133,-8.966,2.14],rotation:[.049,1.41,.631],scale:.804}),_.jsx("mesh",{geometry:d.Stones_3_AO006_0.geometry,material:p["Material.013"],position:[-17.84,10.25,.085],rotation:[-Math.PI/2,-1.348,-Math.PI],scale:6}),_.jsx("mesh",{geometry:d.VikingShipObjects024_0.geometry,material:p.Objects,position:[-6.574,-23.434,.031],rotation:[-.384,-1.476,-1.932],scale:.972}),_.jsx("mesh",{geometry:d.VikingShipObjects025_0.geometry,material:p.Objects,position:[-5.451,-22.036,1.555],rotation:[1.536,1.463,.224],scale:.964}),_.jsx("mesh",{geometry:d.Stones_3_AO007_0.geometry,material:p["Material.013"],position:[-7.031,-21.808,-.334],rotation:[-1.45,-1.01,-2.974],scale:3.561}),_.jsx("mesh",{geometry:d.mff_stone_mossy_0005_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-4.577,-22.129,-.363],rotation:[-.021,.089,3.11],scale:[6.5,6.5,4.149]}),_.jsx("mesh",{geometry:d.mff_stone_mossy_0006_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-5.278,-20.373,-.338],rotation:[-.021,.089,-2.212],scale:[4.95,4.952,5.285]}),_.jsx("mesh",{geometry:d.mff_stone_mossy_0007_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-3.321,-20.593,-1.099],rotation:[-.037,.084,-2.996],scale:[10.74,10.759,4.886]}),_.jsx("mesh",{geometry:d.mff_tree_maple005_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-2.223,-19.989,1.305],rotation:[-.163,.032,1.319],scale:.571}),_.jsx("mesh",{geometry:d.tree9004_0.geometry,material:p["Material.017"],position:[-1.834,-22.683,1.16],rotation:[-.019,.182,-.045],scale:.006}),_.jsx("mesh",{geometry:d.mff_tree_pine_2006_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-4.815,-20.317,2.529],rotation:[-.171,.001,1.711],scale:[.774,.774,1.051]}),_.jsx("mesh",{geometry:d.Stones_4_AO010_0.geometry,material:p["Material.013"],position:[-4.202,-16.492,-.075],rotation:[Math.PI/2,1.353,0],scale:1.469}),_.jsx("mesh",{geometry:d.mff_stone_0017_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-15.183,-6.622,.175],rotation:[.101,-.583,-1.398],scale:1.63}),_.jsx("mesh",{geometry:d.mff_stone_0018_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-4.714,-7.765,8.582],rotation:[.603,.694,-1.004],scale:.356}),_.jsx("mesh",{geometry:d.mff_stone_0019_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-4.733,-7.72,7.381],rotation:[1.239,1.094,-2.418],scale:.521}),_.jsx("mesh",{geometry:d.mff_stone_0020_0.geometry,material:p.medievalfantasyforest_unwrap,position:[23.253,-.833,.111],rotation:[.049,1.41,.631],scale:.804}),_.jsx("mesh",{geometry:d.Stones_4_AO011_0.geometry,material:p["Material.013"],position:[14.529,6.514,-.003],rotation:[Math.PI/2,1.18,0],scale:[1.271,.858,1.271]}),_.jsx("mesh",{geometry:d.mff_stone_0021_0.geometry,material:p.medievalfantasyforest_unwrap,position:[12.614,-.415,.398],rotation:[.128,-.469,.109],scale:.804}),_.jsx("mesh",{geometry:d.mff_stone_0022_0.geometry,material:p.medievalfantasyforest_unwrap,position:[9.323,-6.667,.089],rotation:[-.011,.193,2.343],scale:1.167}),_.jsx("mesh",{geometry:d.mff_stone_0023_0.geometry,material:p.medievalfantasyforest_unwrap,position:[1.477,7.488,4.773],rotation:[-1.94,.319,.162],scale:.819}),_.jsx("mesh",{geometry:d.Stones_4_AO012_0.geometry,material:p["Material.013"],position:[4.98,11.132,5.272],rotation:[1.295,-1.097,-.491],scale:[1.874,1.265,1.874]}),_.jsx("mesh",{geometry:d.mff_stone_0024_0.geometry,material:p.medievalfantasyforest_unwrap,position:[5.405,8.664,4.097],rotation:[-1.935,.719,-.082],scale:[.72,.56,.722]}),_.jsx("mesh",{geometry:d.Stones_3_AO008_0.geometry,material:p["Material.013"],position:[4.882,4.044,4.104],rotation:[1.384,-.072,-.252],scale:1.768}),_.jsx("mesh",{geometry:d.Stones_3_AO009_0.geometry,material:p["Material.013"],position:[4.25,5.07,3.982],rotation:[-1.726,-.149,-2.844],scale:1.134}),_.jsx("mesh",{geometry:d.mff_stone_0025_0.geometry,material:p.medievalfantasyforest_unwrap,position:[1.516,3.364,7.541],rotation:[2.687,.84,.341],scale:[.533,.414,.535]}),_.jsx("mesh",{geometry:d.mff_stone_0026_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-4.529,-.971,8.513],rotation:[2.687,.84,.341],scale:[.644,.501,.646]}),_.jsx("mesh",{geometry:d.mff_stone_0027_0.geometry,material:p.medievalfantasyforest_unwrap,position:[3.556,-5.731,8.106],rotation:[2.687,.84,.341],scale:[.205,.159,.205]}),_.jsx("mesh",{geometry:d.mff_stone_0028_0.geometry,material:p.medievalfantasyforest_unwrap,position:[3.471,-5.439,8.142],rotation:[-2.406,-.629,-2.387],scale:[.097,.075,.097]}),_.jsx("mesh",{geometry:d.Stones_1_AO013_0.geometry,material:p["Material.013"],position:[2.499,-6.227,8.032],rotation:[-1.422,.863,-3.104],scale:[.597,.51,.563]}),_.jsx("mesh",{geometry:d.Stones_3_AO010_0.geometry,material:p["Material.013"],position:[-2.604,-7.53,8.262],rotation:[1.658,.057,-.069],scale:.61}),_.jsx("mesh",{geometry:d.mff_stone_0029_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-3.148,-6.868,8.349],rotation:[-.319,.281,.784],scale:.22}),_.jsx("mesh",{geometry:d.Stone_Circle001_0.geometry,material:p.Stone_Circle_Mat,position:[19.857,3.871,1.855],rotation:[0,0,-2.029],scale:.335}),_.jsx("mesh",{geometry:d.HouseBase_7_AO019_0.geometry,material:p.StoneWall,position:[19.857,3.871,.463],rotation:[Math.PI/2,1.177,0],scale:.5}),_.jsx("mesh",{geometry:d.Well_AO001_0.geometry,material:p["Material.020"],position:[19.857,3.871,1.816],rotation:[Math.PI/2,-.507,0],scale:.3}),_.jsx("mesh",{geometry:d.Stones_3_AO011_0.geometry,material:p["Material.013"],position:[16.346,4.075,1.985],rotation:[Math.PI/2,.571,0],scale:1.13}),_.jsx("mesh",{geometry:d.mff_stone_0030_0.geometry,material:p.medievalfantasyforest_unwrap,position:[18.268,8.054,.254],rotation:[-2.994,-.085,1.233],scale:.857}),_.jsx("mesh",{geometry:d.mff_stone_0031_0.geometry,material:p.medievalfantasyforest_unwrap,position:[23.97,.252,.636],rotation:[-1.763,.759,-3.127],scale:.351}),_.jsx("mesh",{geometry:d.mff_stone_0032_0.geometry,material:p.medievalfantasyforest_unwrap,position:[19.432,9.013,-.034],rotation:[-1.32,.948,2.326],scale:.425}),_.jsx("mesh",{geometry:d.Tower_3_AO001_0.geometry,material:p.Tower_tex_3,position:[-4.523,-22.225,1.941],rotation:[Math.PI/2,-1.44,0],scale:.3}),_.jsx("mesh",{geometry:d.VikingShipObjects026_0.geometry,material:p.Objects,position:[-1.77,17.423,.186],rotation:[-Math.PI/2,.632,-Math.PI],scale:1.823}),_.jsx("mesh",{geometry:d.VikingShipObjects027_0.geometry,material:p.Objects,position:[-6.06,15.74,1.085],rotation:[-.499,.725,1.302],scale:2.532}),_.jsx("mesh",{geometry:d.Stones_4_AO013_0.geometry,material:p["Material.013"],position:[-.046,20.664,-.271],rotation:[-Math.PI/2,.025,-Math.PI],scale:2.427}),_.jsx("mesh",{geometry:d.Stones_1_AO014_0.geometry,material:p["Material.013"],position:[5.411,21.51,-.349],rotation:[-Math.PI/2,-.627,-Math.PI],scale:2.842}),_.jsx("mesh",{geometry:d.Stones_4_AO014_0.geometry,material:p["Material.013"],position:[-17.799,23.815,-.271],rotation:[-Math.PI/2,1.442,Math.PI],scale:[4.28,2.427,4.28]}),_.jsx("mesh",{geometry:d["Castle-stairs001_0"].geometry,material:p["Material.007"],position:[-11.439,-.474,10.474],scale:[.576,.576,.3]}),_.jsx("mesh",{geometry:d["Castle-tower-middle-large001_0"].geometry,material:p["Material.007"],position:[-6.114,-7.634,12.379],scale:[.454,.454,.545]}),_.jsx("mesh",{geometry:d["Castle-tower-top-ver1001_0"].geometry,material:p["Material.007"],position:[-6.114,-7.634,13.849],scale:.301}),_.jsx("mesh",{geometry:d.HouseBase_3_AO001_0.geometry,material:p.StoneWall,position:[-10.493,-2.551,10.461],rotation:[Math.PI/2,Math.PI/2,0]}),_.jsx("mesh",{geometry:d["Castle-tower-small-ver2003_0"].geometry,material:p["Material.007"],position:[-8.864,-.856,12],scale:.6}),_.jsx("mesh",{geometry:d["Castle-tower-small-ver2004_0"].geometry,material:p["Material.007"],position:[-12.064,-.856,12],scale:.6}),_.jsx("mesh",{geometry:d["Castle-tower-small-ver2005_0"].geometry,material:p["Material.007"],position:[-12.064,-4.156,12],scale:.6}),_.jsx("mesh",{geometry:d["Castle-tower-small-ver2006_0"].geometry,material:p["Material.007"],position:[-8.864,-4.156,12],scale:.6}),_.jsx("mesh",{geometry:d["castle-wall-top-half003_0"].geometry,material:p["Material.007"],position:[-10.458,-1.223,13.121],rotation:[0,0,-Math.PI],scale:[.4,.3,.3]}),_.jsx("mesh",{geometry:d["castle-wall-top-half004_0"].geometry,material:p["Material.007"],position:[-11.621,-2.489,13.121],rotation:[0,0,-Math.PI/2],scale:[.4,.3,.3]}),_.jsx("mesh",{geometry:d["castle-wall-top-half005_0"].geometry,material:p["Material.007"],position:[-10.478,-3.786,13.121],scale:[.4,.3,.3]}),_.jsx("mesh",{geometry:d["castle-wall-top-half006_0"].geometry,material:p["Material.007"],position:[-9.164,-2.501,13.121],rotation:[0,0,Math.PI/2],scale:[.422,.3,.3]}),_.jsx("mesh",{geometry:d["castle-wall-roof001_0"].geometry,material:p["Material.007"],position:[-10.876,-2.526,13.513],rotation:[0,0,-Math.PI/2],scale:[.246,.3,.3]}),_.jsx("mesh",{geometry:d["Castle-gate-closed001_0"].geometry,material:p["Material.007"],position:[-9.874,-.751,11.811],rotation:[0,0,-Math.PI],scale:.3}),_.jsx("mesh",{geometry:d["castle-wall-roof002_0"].geometry,material:p["Material.007"],position:[-10.111,-2.526,13.513],rotation:[0,0,Math.PI/2],scale:[.246,.3,.3]}),_.jsx("mesh",{geometry:d.Paving_3_AO004_0.geometry,material:p["Material.009"],position:[-8.964,-2.521,11.418],rotation:[1.349,0,-1.585],scale:[.278,.329,.329]}),_.jsx("mesh",{geometry:d.Stones_1_AO015_0.geometry,material:p["Material.013"],position:[-11.541,-4.433,10.804],rotation:[-Math.PI/2,-.613,-Math.PI],scale:.684}),_.jsx("mesh",{geometry:d.Stones_1_AO016_0.geometry,material:p["Material.013"],position:[-9.667,-4.433,10.712],rotation:[Math.PI/2,-.033,0],scale:.809}),_.jsx("mesh",{geometry:d.mff_stone_0033_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-15.713,-6.781,10.082],rotation:[2.474,.907,-2.839],scale:.745}),_.jsx("mesh",{geometry:d.Stones_3_AO012_0.geometry,material:p["Material.013"],position:[-8.911,-1.387,10.738],rotation:[Math.PI/2,0,0]}),_.jsx("mesh",{geometry:d.Stones_3_AO013_0.geometry,material:p["Material.013"],position:[-9.145,-.399,10.393],rotation:[-Math.PI/2,.868,-Math.PI],scale:1.692}),_.jsx("mesh",{geometry:d.Stones_1_AO017_0.geometry,material:p["Material.013"],position:[-11.964,-2.874,10.474],rotation:[-1.779,1.365,3.137],scale:1.254}),_.jsx("mesh",{geometry:d.Stones_4_AO015_0.geometry,material:p["Material.013"],position:[-8.475,-4.206,11.139],rotation:[2.125,-1.109,.677],scale:.613}),_.jsx("mesh",{geometry:d.VikingShipObjects028_0.geometry,material:p.Objects,position:[-12.538,6.213,10.934],scale:.22}),_.jsx("mesh",{geometry:d["Castle-wall003_0"].geometry,material:p["Material.007"],position:[-10.425,5.329,12.24],scale:.3}),_.jsx("mesh",{geometry:d["Castle-wall005_0"].geometry,material:p["Material.007"],position:[-14.1,5.329,12.24],scale:.3}),_.jsx("mesh",{geometry:d["Castle-wall006_0"].geometry,material:p["Material.007"],position:[-8.313,4.608,11.931],rotation:[0,0,-.359],scale:.3}),_.jsx("mesh",{geometry:d["Castle-wall007_0"].geometry,material:p["Material.007"],position:[-6.593,3.962,11.931],rotation:[0,0,-.359],scale:.3}),_.jsx("mesh",{geometry:d["Castle-wall008_0"].geometry,material:p["Material.007"],position:[-4.579,-3.841,11.981],rotation:[0,0,-1.204],scale:.3}),_.jsx("mesh",{geometry:d["Castle-wall009_0"].geometry,material:p["Material.007"],position:[-5.238,-2.126,11.981],rotation:[0,0,-1.204],scale:.3}),_.jsx("mesh",{geometry:d["Castle-wall010_0"].geometry,material:p["Material.007"],position:[-5.374,-5.723,12.432],rotation:[0,0,-2.028],scale:.3}),_.jsx("mesh",{geometry:d["Castle-wall011_0"].geometry,material:p["Material.007"],position:[-6.186,-7.371,12.432],rotation:[0,0,-2.028],scale:.3}),_.jsx("mesh",{geometry:d["Castle-wall012_0"].geometry,material:p["Material.007"],position:[-11.859,-8.064,12.474],rotation:[0,0,-3.041],scale:.3}),_.jsx("mesh",{geometry:d["Castle-wall013_0"].geometry,material:p["Material.007"],position:[-10.03,-7.879,12.474],rotation:[0,0,-3.041],scale:.3}),_.jsx("mesh",{geometry:d["Castle-wall014_0"].geometry,material:p["Material.007"],position:[-8.202,-7.694,12.474],rotation:[0,0,-3.041],scale:.3}),_.jsx("mesh",{geometry:d["Castle-wall015_0"].geometry,material:p["Material.007"],position:[-13.875,-7.158,12.415],rotation:[0,0,2.697],scale:.3}),_.jsx("mesh",{geometry:d["Castle-wall016_0"].geometry,material:p["Material.007"],position:[-15.534,-6.368,12.415],rotation:[0,0,2.697],scale:.3}),_.jsx("mesh",{geometry:d["Castle-wall017_0"].geometry,material:p["Material.007"],position:[-16.058,-4.287,12.238],rotation:[0,0,1.759],scale:.3}),_.jsx("mesh",{geometry:d["Castle-wall018_0"].geometry,material:p["Material.007"],position:[-16.058,-4.287,12.238],rotation:[0,0,1.759],scale:.3}),_.jsx("mesh",{geometry:d["Castle-wall019_0"].geometry,material:p["Material.007"],position:[-16.435,-2.198,11.932],rotation:[0,0,1.544],scale:.3}),_.jsx("mesh",{geometry:d["Castle-wall020_0"].geometry,material:p["Material.007"],position:[-16.386,-.361,11.932],rotation:[0,0,1.544],scale:.3}),_.jsx("mesh",{geometry:d["Castle-wall021_0"].geometry,material:p["Material.007"],position:[-16.288,3.313,11.932],rotation:[0,0,1.544],scale:.3}),_.jsx("mesh",{geometry:d["Castle-wall022_0"].geometry,material:p["Material.007"],position:[-16.337,1.476,11.932],rotation:[0,0,1.544],scale:.3}),_.jsx("mesh",{geometry:d["Castle-wall023_0"].geometry,material:p["Material.007"],position:[-6.278,1.939,11.828],rotation:[0,0,-1.438],scale:.3}),_.jsx("mesh",{geometry:d["Castle-wall024_0"].geometry,material:p["Material.007"],position:[-6.035,.118,11.828],rotation:[0,0,-1.438],scale:.3}),_.jsx("mesh",{geometry:d.mff_stone_0034_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-5.696,-8.369,10.634],rotation:[-1.12,1.466,-3.061],scale:.396}),_.jsx("mesh",{geometry:d["Castle-tower-top-ver1002_0"].geometry,material:p["Material.007"],position:[-12.011,-8.306,13.944],scale:.301}),_.jsx("mesh",{geometry:d["Castle-tower-middle-large002_0"].geometry,material:p["Material.007"],position:[-12.011,-8.306,12.499],scale:[.454,.454,.569]}),_.jsx("mesh",{geometry:d["Castle-tower-middle-large003_0"].geometry,material:p["Material.007"],position:[-15.891,-6.32,12.17],scale:[.454,.454,.569]}),_.jsx("mesh",{geometry:d["Castle-tower-top-ver1003_0"].geometry,material:p["Material.007"],position:[-15.891,-6.32,13.681],scale:.301}),_.jsx("mesh",{geometry:d["Castle-tower-top-ver1004_0"].geometry,material:p["Material.007"],position:[-16.624,-2.348,13.442],scale:.301}),_.jsx("mesh",{geometry:d["Castle-tower-middle-large004_0"].geometry,material:p["Material.007"],position:[-16.624,-2.348,11.87],scale:[.454,.454,.569]}),_.jsx("mesh",{geometry:d["Castle-tower-middle-large005_0"].geometry,material:p["Material.007"],position:[-16.519,5.735,12.019],scale:[.454,.454,.591]}),_.jsx("mesh",{geometry:d["Castle-tower-top-ver1005_0"].geometry,material:p["Material.007"],position:[-16.519,5.735,13.607],scale:.301}),_.jsx("mesh",{geometry:d["Castle-tower-top-ver1006_0"].geometry,material:p["Material.007"],position:[-4.342,-3.998,13.831],scale:.301}),_.jsx("mesh",{geometry:d["Castle-tower-middle-large006_0"].geometry,material:p["Material.007"],position:[-4.342,-3.998,12.318],scale:[.454,.454,.584]}),_.jsx("mesh",{geometry:d["Castle-tower-middle-large007_0"].geometry,material:p["Material.007"],position:[-5.613,-.026,11.823],scale:[.454,.454,.545]}),_.jsx("mesh",{geometry:d["Castle-tower-top-ver1007_0"].geometry,material:p["Material.007"],position:[-5.613,-.026,13.289],scale:.301}),_.jsx("mesh",{geometry:d["Castle-tower-top-ver1008_0"].geometry,material:p["Material.007"],position:[-6.224,4.038,13.249],scale:.301}),_.jsx("mesh",{geometry:d["Castle-tower-middle-large008_0"].geometry,material:p["Material.007"],position:[-6.224,4.038,11.689],scale:[.454,.454,.589]}),_.jsx("mesh",{geometry:d["Castle-tower-top-ver1009_0"].geometry,material:p["Material.007"],position:[-10.239,5.735,13.673],scale:.301}),_.jsx("mesh",{geometry:d["Castle-tower-middle-large009_0"].geometry,material:p["Material.007"],position:[-10.239,5.735,12.104],scale:[.454,.454,.591]}),_.jsx("mesh",{geometry:d["castle-wall-top-half008_0"].geometry,material:p["Material.007"],position:[-12.263,5.329,12.24],rotation:[0,0,-Math.PI],scale:[.3,.22,.3]}),_.jsx("mesh",{geometry:d["Castle-gate003_0"].geometry,material:p["Material.007"],position:[-12.263,5.329,12.24],scale:.3}),_.jsx("mesh",{geometry:d["Castle-lattice-small001_0"].geometry,material:p["Material.007"],position:[-13.148,5.741,11.449],scale:.3}),_.jsx("mesh",{geometry:d["Castle-gate-closed002_0"].geometry,material:p["Material.007"],position:[-15.953,-2.11,11.099],rotation:[0,0,1.909],scale:.194}),_.jsx("mesh",{geometry:d["Castle-stairs002_0"].geometry,material:p["Material.007"],position:[-16.116,4.282,11.127],rotation:[0,0,1.558],scale:[.3,.331,.3]}),_.jsx("mesh",{geometry:d["Castle-gate-closed003_0"].geometry,material:p["Material.007"],position:[-16.246,5.06,12.274],rotation:[0,0,.343],scale:.194}),_.jsx("mesh",{geometry:d["Castle-gate-closed004_0"].geometry,material:p["Material.007"],position:[-9.97,5.064,12.241],rotation:[0,0,.325],scale:.194}),_.jsx("mesh",{geometry:d["Castle-stairs003_0"].geometry,material:p["Material.007"],position:[-8.901,4.453,11.121],rotation:[0,0,2.773],scale:[.422,.605,.3]}),_.jsx("mesh",{geometry:d["Shelter-half001_0"].geometry,material:p["Material.007"],position:[-15.97,.385,11.16],rotation:[0,0,3.13],scale:[.389,.3,.3]}),_.jsx("mesh",{geometry:d["Shelter-half002_0"].geometry,material:p["Material.007"],position:[-16.019,-.782,11.16],rotation:[0,0,3.13],scale:[.389,.3,.3]}),_.jsx("mesh",{geometry:d["Shelter-half003_0"].geometry,material:p["Material.007"],position:[-15.323,4.946,11.049],rotation:[0,0,1.578],scale:[.429,.3,.3]}),_.jsx("mesh",{geometry:d.Cube001_0.geometry,material:p["Material.021"],position:[-10.767,9.753,10.784],rotation:[.013,.048,1.206],scale:[.334,.199,.006]}),_.jsx("mesh",{geometry:d.House_1_AO003_0.geometry,material:p.House_1_AO_tex,position:[-15.73,10.443,10.593],rotation:[-Math.PI/2,.299,-Math.PI],scale:.3}),_.jsx("mesh",{geometry:d.House_2_AO003_0.geometry,material:p.House_2_AO_tex,position:[-14.964,12.312,10.631],rotation:[-1.661,-1.098,3.06],scale:.3}),_.jsx("mesh",{geometry:d.House_4_AO003_0.geometry,material:p.House_4_AO_tex,position:[-16.18,8.471,10.601],rotation:[Math.PI/2,-.109,0],scale:.3}),_.jsx("mesh",{geometry:d.House_2_AO004_0.geometry,material:p.House_2_AO_tex,position:[-13.733,13.622,10.606],rotation:[-1.622,-.634,3.11],scale:.3}),_.jsx("mesh",{geometry:d.Tower_3_AO002_0.geometry,material:p.Tower_tex_3,position:[-11.789,14.272,10.597],rotation:[-Math.PI/2,-.331,-Math.PI],scale:.3}),_.jsx("mesh",{geometry:d.House_3_AO003_0.geometry,material:p.House_3_AO_tex,position:[-9.715,14.616,10.539],rotation:[-1.236,-1.398,-2.787],scale:.3}),_.jsx("mesh",{geometry:d.House_4_AO004_0.geometry,material:p.House_4_AO_tex,position:[-1.926,10.299,10.138],rotation:[-1.664,-.69,3.086],scale:.3}),_.jsx("mesh",{geometry:d.House_2_AO005_0.geometry,material:p.House_2_AO_tex,position:[-.153,6.682,10.291],rotation:[-1.713,1.277,-3.006],scale:.3}),_.jsx("mesh",{geometry:d.House_1_AO004_0.geometry,material:p.House_1_AO_tex,position:[-.889,8.562,10.294],rotation:[Math.PI/2,.463,0],scale:.3}),_.jsx("mesh",{geometry:d.House_1_AO005_0.geometry,material:p.House_1_AO_tex,position:[-4.829,12.586,10.192],rotation:[Math.PI/2,1.038,0],scale:.3}),_.jsx("mesh",{geometry:d.House_2_AO006_0.geometry,material:p.House_2_AO_tex,position:[-3.132,11.412,10.116],rotation:[-1.62,.589,-3.115],scale:.3}),_.jsx("mesh",{geometry:d.House_1_AO006_0.geometry,material:p.House_1_AO_tex,position:[-7.103,13.679,10.352],rotation:[1.733,1.172,-.161],scale:.3}),_.jsx("mesh",{geometry:d.House_2_AO007_0.geometry,material:p.House_2_AO_tex,position:[-4.259,9.456,10.235],rotation:[1.499,-.756,-.046],scale:.3}),_.jsx("mesh",{geometry:d.House_1_AO007_0.geometry,material:p.House_1_AO_tex,position:[-2.395,6.198,10.274],rotation:[-Math.PI/2,-.268,-Math.PI],scale:.3}),_.jsx("mesh",{geometry:d.House_2_AO008_0.geometry,material:p.House_2_AO_tex,position:[-3.689,5.469,10.276],rotation:[-1.619,1.331,-3.09],scale:.3}),_.jsx("mesh",{geometry:d.House_4_AO005_0.geometry,material:p.House_4_AO_tex,position:[-3.141,8.128,10.293],rotation:[1.531,.454,.051],scale:.3}),_.jsx("mesh",{geometry:d.House_1_AO008_0.geometry,material:p.House_1_AO_tex,position:[-4.421,7.318,10.325],rotation:[1.587,.465,-.027],scale:.3}),_.jsx("mesh",{geometry:d.House_1_AO009_0.geometry,material:p.House_1_AO_tex,position:[-6.042,9.267,10.419],rotation:[1.598,.85,-.09],scale:.3}),_.jsx("mesh",{geometry:d.Tower_3_AO003_0.geometry,material:p.Tower_tex_3,position:[-7.5,10.925,10.393],rotation:[Math.PI/2,1.075,0],scale:.3}),_.jsx("mesh",{geometry:d.House_4_AO006_0.geometry,material:p.House_4_AO_tex,position:[-5.423,10.536,10.262],rotation:[1.569,.916,-.042],scale:.3}),_.jsx("mesh",{geometry:d.Well_AO002_0.geometry,material:p["Material.020"],position:[-10.628,11.692,10.667],rotation:[-Math.PI/2,-.64,Math.PI],scale:.3}),_.jsx("mesh",{geometry:d.HouseBase_7_AO001_0.geometry,material:p.StoneWall,position:[-10.628,11.692,9.248],rotation:[Math.PI/2,1.177,0],scale:.5}),_.jsx("mesh",{geometry:d.Stone_Circle002_0.geometry,material:p.Stone_Circle_Mat,position:[-10.628,11.692,10.64],rotation:[0,0,-2.029],scale:.335}),_.jsx("mesh",{geometry:d.WodenSet_1_AO001_0.geometry,material:p["Material.014"],position:[-11.507,4.962,10.691],rotation:[Math.PI/2,0,0],scale:.3}),_.jsx("mesh",{geometry:d.HouseBase_5_AO001_0.geometry,material:p.StoneWall,position:[-11.01,4.894,9.489],rotation:[Math.PI/2,Math.PI/2,0],scale:.5}),_.jsx("mesh",{geometry:d["Bridge-wooden-dark001_0"].geometry,material:p["Material.007"],position:[14.484,2.814,2.514],rotation:[0,0,-3.125],scale:.451}),_.jsx("mesh",{geometry:d.Stones_3_AO014_0.geometry,material:p["Material.013"],position:[-5.301,2.467,9.712],rotation:[-1.52,1.139,-2.947],scale:1.653}),_.jsx("mesh",{geometry:d.mff_stone_0035_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-5.362,.268,9.563],rotation:[1.417,.289,.722],scale:[.852,.663,.855]}),_.jsx("mesh",{geometry:d.Stones_4_AO016_0.geometry,material:p["Material.013"],position:[-12.063,-8.769,10.975],rotation:[-1.031,-.022,3.065],scale:.797}),_.jsx("mesh",{geometry:d.mff_tree_pine_2007_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-9.798,-9.008,10.922],rotation:[.178,-.023,.469],scale:[.571,.571,.776]}),_.jsx("mesh",{geometry:d.mff_tree_pine_2008_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-8.35,-9.04,10.836],rotation:[.175,-.002,2.759],scale:[.41,.41,.556]}),_.jsx("mesh",{geometry:d["Castle-bridge001_0"].geometry,material:p["Material.007"],position:[3.698,5.888,6.398],rotation:[0,0,-1.748],scale:[.448,.397,.395]}),_.jsx("mesh",{geometry:d["Castle-wall002_0"].geometry,material:p["Material.007"],position:[3.694,5.883,4.769],rotation:[0,0,-.156],scale:[.117,.188,.394]}),_.jsx("mesh",{geometry:d["Castle-bridge003_0"].geometry,material:p["Material.007"],position:[3.688,7.724,6.358],rotation:[0,0,-1.419],scale:[.487,.396,.395]}),_.jsx("mesh",{geometry:d["Castle-wall025_0"].geometry,material:p["Material.007"],position:[3.686,7.717,4.729],rotation:[0,0,.173],scale:[.117,.188,.394]}),_.jsx("mesh",{geometry:d.mff_stone_0036_0.geometry,material:p.medievalfantasyforest_unwrap,position:[1.072,3.01,8.935],rotation:[2.279,-.268,.365],scale:[.584,.454,.586]}),_.jsx("mesh",{geometry:d.mff_stone_0037_0.geometry,material:p.medievalfantasyforest_unwrap,position:[1.126,4.206,9.741],rotation:[-.971,-.109,1.039],scale:[.38,.295,.381]}),_.jsx("mesh",{geometry:d.Tower_1_AO002_0.geometry,material:p.Tower_tex_1,position:[4.793,10.147,6.717],rotation:[Math.PI/2,-1.39,0],scale:.3}),_.jsx("mesh",{geometry:d.Tower_2_AO003_0.geometry,material:p.Tower_tex_2,position:[3.858,-3.989,8.172],rotation:[1.291,-1.126,-.346],scale:.3}),_.jsx("mesh",{geometry:d.mff_tree_pine_0005_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-3.659,-7.586,8.354],rotation:[.081,.091,-2.86],scale:[.406,.407,.616]}),_.jsx("mesh",{geometry:d.mff_tree_pine_0006_0.geometry,material:p.medievalfantasyforest_unwrap,position:[23.383,.935,1.057],rotation:[.061,.127,.328],scale:[.725,.734,.892]}),_.jsx("mesh",{geometry:d.mff_tree_maple006_0.geometry,material:p.medievalfantasyforest_unwrap,position:[18.376,3.413,1.89],rotation:[-.028,-.037,1.075],scale:[.502,.504,.574]}),_.jsx("mesh",{geometry:d["Shelter-half004_0"].geometry,material:p["Material.007"],position:[-14.23,5.052,11.151],rotation:[0,0,1.578],scale:[.312,.3,.3]}),_.jsx("mesh",{geometry:d["Shelter-half005_0"].geometry,material:p["Material.007"],position:[-15.989,1.582,11.16],rotation:[0,0,3.13],scale:[.389,.3,.3]}),_.jsx("mesh",{geometry:d.Tower_1_AO003_0.geometry,material:p.Tower_tex_1,position:[-2.075,1.73,9.953],rotation:[-Math.PI/2,-1.423,Math.PI],scale:.3}),_.jsx("mesh",{geometry:d.Shelter001_0.geometry,material:p["Material.007"],position:[-5.755,-5.519,11.834],rotation:[.063,.097,1.113],scale:.3}),_.jsx("mesh",{geometry:d.Shelter002_0.geometry,material:p["Material.007"],position:[-11.452,4.723,11.397],scale:[.389,.389,.412]}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO003_0.geometry,material:p["Material.001"],position:[-17.18,6.585,10.454],rotation:[-Math.PI/2,1.248,-Math.PI],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO004_0.geometry,material:p["Material.001"],position:[-17.321,7.215,10.454],rotation:[-.33,1.531,1.921],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO005_0.geometry,material:p["Material.001"],position:[-17.38,7.852,10.454],rotation:[-2.933,1.482,-1.752],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO006_0.geometry,material:p["Material.001"],position:[-17.01,9.737,10.454],rotation:[1.087,1.254,.46],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO007_0.geometry,material:p["Material.001"],position:[-17.177,9.125,10.454],rotation:[1.37,1.312,.192],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO008_0.geometry,material:p["Material.001"],position:[-17.32,8.503,10.454],rotation:[1.849,1.401,-.268],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO009_0.geometry,material:p["Material.001"],position:[-16.832,10.369,10.454],rotation:[1.326,1.278,.233],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO010_0.geometry,material:p["Material.001"],position:[-16.621,10.971,10.454],rotation:[1.741,1.211,-.163],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO011_0.geometry,material:p["Material.001"],position:[-16.387,11.562,10.454],rotation:[1.203,1.151,.352],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO012_0.geometry,material:p["Material.001"],position:[-15.559,13.297,10.454],rotation:[1.413,1.044,.139],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO013_0.geometry,material:p["Material.001"],position:[-15.856,12.737,10.454],rotation:[1.598,1.104,-.025],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO014_0.geometry,material:p["Material.001"],position:[-16.133,12.162,10.454],rotation:[1.39,1.147,.16],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO015_0.geometry,material:p["Material.001"],position:[-15.141,13.783,10.454],rotation:[1.478,.634,.05],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO016_0.geometry,material:p["Material.001"],position:[-14.613,14.142,10.478],rotation:[1.391,.527,.094],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO017_0.geometry,material:p["Material.001"],position:[-14.075,14.478,10.49],rotation:[1.522,.542,.021],scale:.4}),_.jsx("mesh",{geometry:d.Paving_4_AO006_0.geometry,material:p["Material.009"],position:[11.735,16.881,4.822],rotation:[1.758,.753,-1.526],scale:.754}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO019_0.geometry,material:p["Material.001"],position:[-12.898,14.995,10.507],rotation:[1.6,.328,-.011],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO020_0.geometry,material:p["Material.001"],position:[-13.5,14.784,10.49],rotation:[Math.PI/2,.397,0],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO021_0.geometry,material:p["Material.001"],position:[-11.663,15.329,10.513],rotation:[1.52,.111,.006],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO022_0.geometry,material:p["Material.001"],position:[-11.027,15.381,10.513],rotation:[1.441,-.017,.012],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO023_0.geometry,material:p["Material.001"],position:[-10.393,15.339,10.513],rotation:[1.547,-.218,.003],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO024_0.geometry,material:p["Material.001"],position:[-9.758,15.219,10.524],rotation:[1.637,-.161,-.01],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO025_0.geometry,material:p["Material.001"],position:[-9.141,15.056,10.524],rotation:[1.497,-.325,.009],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO026_0.geometry,material:p["Material.001"],position:[-8.535,14.87,10.524],rotation:[1.625,-.282,.01],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO027_0.geometry,material:p["Material.001"],position:[-6.714,14.233,10.553],rotation:[1.468,-.387,-.046],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO028_0.geometry,material:p["Material.001"],position:[-7.306,14.463,10.553],rotation:[1.616,-.337,.009],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO029_0.geometry,material:p["Material.001"],position:[-7.91,14.67,10.553],rotation:[1.468,-.357,-.022],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO030_0.geometry,material:p["Material.001"],position:[-6.118,13.992,10.553],rotation:[1.471,-.411,-.045],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO031_0.geometry,material:p["Material.001"],position:[-5.532,13.74,10.485],rotation:[1.46,-.443,-.05],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO032_0.geometry,material:p["Material.001"],position:[-4.966,13.447,10.392],rotation:[1.541,-.527,-.013],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO033_0.geometry,material:p["Material.001"],position:[-4.416,13.132,10.328],rotation:[1.609,-.508,.02],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO034_0.geometry,material:p["Material.001"],position:[-3.867,12.817,10.235],rotation:[1.478,-.555,-.051],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO035_0.geometry,material:p["Material.001"],position:[-3.317,12.502,10.141],rotation:[1.646,-.493,.039],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO036_0.geometry,material:p["Material.001"],position:[-2.767,12.187,10.053],rotation:[1.477,-.556,-.052],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO037_0.geometry,material:p["Material.001"],position:[-2.217,11.872,9.955],rotation:[1.417,-.585,-.107],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO038_0.geometry,material:p["Material.001"],position:[-1.717,11.477,10.005],rotation:[1.473,-.819,-.066],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO039_0.geometry,material:p["Material.001"],position:[-1.291,10.989,10.074],rotation:[Math.PI/2,-.92,0],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO040_0.geometry,material:p["Material.001"],position:[-.933,10.445,10.139],rotation:[1.741,-.99,.134],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO041_0.geometry,material:p["Material.001"],position:[-.599,9.895,10.179],rotation:[1.295,-1.063,-.226],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO042_0.geometry,material:p["Material.001"],position:[-.265,9.346,10.213],rotation:[1.383,-1.056,-.153],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO043_0.geometry,material:p["Material.001"],position:[.068,8.796,10.238],rotation:[Math.PI/2,-1.03,0],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO044_0.geometry,material:p["Material.001"],position:[.402,8.246,10.268],rotation:[1.461,-1.047,-.089],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO045_0.geometry,material:p["Material.001"],position:[.69,7.668,10.268],rotation:[1.631,-1.165,.042],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO046_0.geometry,material:p["Material.001"],position:[.904,7.058,10.258],rotation:[1.258,-1.303,-.319],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO047_0.geometry,material:p["Material.001"],position:[1.003,6.415,10.146],rotation:[2.221,-1.475,.648],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO048_0.geometry,material:p["Material.001"],position:[1.04,5.761,9.956],rotation:[.698,-1.503,-.871],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO049_0.geometry,material:p["Material.001"],position:[1.077,5.106,9.746],rotation:[.462,-1.517,-1.102],scale:.4}),_.jsx("mesh",{geometry:d.pCube13000_0.geometry,material:p["Ravens.001"],position:[.325,-9.095,9.052],rotation:[1.452,.677,.061],scale:.244}),_.jsx("mesh",{geometry:d.pCube13001_0.geometry,material:p["Ravens.001"],position:[.936,-9.219,10.431],rotation:[1.458,.654,.303],scale:.244}),_.jsx("mesh",{geometry:d.pCube13002_0.geometry,material:p["Ravens.001"],position:[-.697,-10.074,9.537],rotation:[.665,-1.239,-1.148],scale:.244}),_.jsx("mesh",{geometry:d.pCube13005_0.geometry,material:p["Ravens.001"],position:[-.917,-7.814,10.875],rotation:[-1.463,.599,-2.968],scale:.244}),_.jsx("mesh",{geometry:d.mff_tree_pine_2009_0.geometry,material:p.medievalfantasyforest_unwrap,position:[.711,10.655,6.598],rotation:[-.1,.124,2.082],scale:[.754,.762,1.668]}),_.jsx("mesh",{geometry:d.mff_tree_pine_2010_0.geometry,material:p.medievalfantasyforest_unwrap,position:[7.083,4.352,3.587],rotation:[-.073,.076,2.047],scale:[1.147,1.154,1.697]}),_.jsx("mesh",{geometry:d.mff_tree_pine_1007_0.geometry,material:p.medievalfantasyforest_unwrap,position:[1.574,11.943,6.487],rotation:[-.125,.021,-2.606],scale:[.651,.65,.489]}),_.jsx("mesh",{geometry:d.mff_tree_pine_2011_0.geometry,material:p.medievalfantasyforest_unwrap,position:[5.504,.05,3.123],rotation:[.148,.238,2.077],scale:[.862,.867,1.379]}),_.jsx("mesh",{geometry:d.mff_tree_pine_1008_0.geometry,material:p.medievalfantasyforest_unwrap,position:[6.905,-7.404,3.252],rotation:[.135,.009,-2.487],scale:1.254}),_.jsx("mesh",{geometry:d.mff_tree_pine_0007_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-4.381,-10.026,4.96],rotation:[.235,.186,-2.797],scale:[.584,.606,.94]}),_.jsx("mesh",{geometry:d.mff_tree_maple007_0.geometry,material:p.medievalfantasyforest_unwrap,position:[-13.093,1.622,10.727],rotation:[.024,-.04,2.275],scale:[.921,.922,.575]}),_.jsx("mesh",{geometry:d.mff_tree_maple008_0.geometry,material:p.medievalfantasyforest_unwrap,position:[1.893,10.853,6.518],rotation:[.033,.095,2.188],scale:[.303,.304,.302]}),_.jsx("mesh",{geometry:d.mff_tree_pine_0008_0.geometry,material:p.medievalfantasyforest_unwrap,position:[4.73,3.077,6.857],rotation:[-.269,.167,2.62],scale:.581}),_.jsx("mesh",{geometry:d.mff_tree_pine_0009_0.geometry,material:p.medievalfantasyforest_unwrap,position:[8.717,17.887,6.554],rotation:[-.145,-.059,-2.854],scale:.533}),_.jsx("mesh",{geometry:d.mff_tree_pine_1009_0.geometry,material:p.medievalfantasyforest_unwrap,position:[4.688,1.884,6.958],rotation:[-.044,.157,1.612],scale:.578}),_.jsx("mesh",{geometry:d.mff_tree_maple009_0.geometry,material:p.medievalfantasyforest_unwrap,position:[4.257,-5.179,7.962],rotation:[.102,-.073,.698],scale:[.35,.351,.349]}),_.jsx("mesh",{geometry:d.HouseBase_7_AO002_0.geometry,material:p.StoneWall,position:[-2.149,1.683,8.582],rotation:[-Math.PI/2,-1.09,Math.PI],scale:.5}),_.jsx("mesh",{geometry:d.VikingShipObjects035_0.geometry,material:p.Objects,position:[-11.756,.56,10.913],rotation:[0,0,-.709],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects037_0.geometry,material:p.Objects,position:[-11.967,1.21,10.878],rotation:[0,0,-1.26],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects038_0.geometry,material:p.Objects,position:[-10.706,3.932,10.683],rotation:[-.145,-.033,-2.56],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects039_0.geometry,material:p.Objects,position:[-10.735,1.63,10.647],rotation:[.147,.043,1.822],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects041_0.geometry,material:p.Objects,position:[-12.592,3.507,10.75],rotation:[.053,-.029,-.472],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects042_0.geometry,material:p.Objects,position:[-11.653,2.102,10.864],rotation:[-.507,.04,-2.711],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects043_0.geometry,material:p.Objects,position:[-10.201,-.122,11.577],rotation:[.121,-.204,.45],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects044_0.geometry,material:p.Objects,position:[-11.158,2.047,10.841],rotation:[0,0,2.223],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects045_0.geometry,material:p.Objects,position:[-12.01,1.703,10.924],rotation:[.177,-.015,-2.121],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects047_0.geometry,material:p.Objects,position:[-8.074,4.128,10.801],rotation:[-.051,-.127,-1.989],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects048_0.geometry,material:p.Objects,position:[-13.319,1.963,11.636],rotation:[0,0,.944],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects050_0.geometry,material:p.Objects,position:[-13.265,2.662,11.855],rotation:[0,0,2.31],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects134_0.geometry,material:p.Objects,position:[-11.551,1.378,10.685],rotation:[.108,.2,2.795],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects135_0.geometry,material:p.Objects,position:[-10.541,.391,11.439],rotation:[-.493,.032,-.567],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects136_0.geometry,material:p.Objects,position:[-11.177,1.371,10.611],rotation:[.147,.16,.612],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects138_0.geometry,material:p.Objects,position:[-11.118,1.154,10.426],scale:.239}),_.jsx("mesh",{geometry:d.VikingShipObjects139_0.geometry,material:p.Objects,position:[-11.206,1.135,10.434],rotation:[.046,.109,-.04],scale:.239}),_.jsx("mesh",{geometry:d.VikingShipObjects140_0.geometry,material:p.Objects,position:[-10.443,.262,11.679],rotation:[-.226,.109,-.04],scale:.239}),_.jsx("mesh",{geometry:d.VikingShipObjects141_0.geometry,material:p.Objects,position:[-10.516,.108,11.679],rotation:[-1.491,.223,-.696],scale:.239}),_.jsx("mesh",{geometry:d.VikingShipObjects142_0.geometry,material:p.Objects,position:[-10.336,.103,11.622],rotation:[-.776,.895,-.527],scale:.239}),_.jsx("mesh",{geometry:d.VikingShipObjects143_0.geometry,material:p.Objects,position:[-10.562,.335,11.58],rotation:[-2.205,.833,-1.675],scale:.239}),_.jsx("mesh",{geometry:d.VikingShipObjects144_0.geometry,material:p.Objects,position:[-11.11,1.52,10.618],rotation:[-.309,.638,-.061],scale:.239}),_.jsx("mesh",{geometry:d.VikingShipObjects145_0.geometry,material:p.Objects,position:[-11.573,1.111,10.499],rotation:[.134,.21,-1.489],scale:.239}),_.jsx("mesh",{geometry:d.VikingShipObjects146_0.geometry,material:p.Objects,position:[-11.331,1.212,10.467],rotation:[.016,.241,-1.425],scale:.239}),_.jsx("mesh",{geometry:d.VikingShipObjects147_0.geometry,material:p.Objects,position:[-11.436,.8,10.49],rotation:[.016,.241,-1.425],scale:.239}),_.jsx("mesh",{geometry:d.VikingShipObjects148_0.geometry,material:p.Objects,position:[-12.782,1.415,11.191],rotation:[-2.469,-.809,-1.667],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects149_0.geometry,material:p.Objects,position:[-8.184,3.836,10.785],rotation:[2.465,-.126,-2.903],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects150_0.geometry,material:p.Objects,position:[-12.291,5.152,11.024],rotation:[-.254,.112,-.007],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects151_0.geometry,material:p.Objects,position:[-10.345,1.243,10.695],rotation:[-3.01,-.204,2.514],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects152_0.geometry,material:p.Objects,position:[-10.692,1.566,10.495],rotation:[-.526,.186,-2.006],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects153_0.geometry,material:p.Objects,position:[24.765,-4.497,.624],rotation:[1.276,.097,1.418],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects154_0.geometry,material:p.Objects,position:[-10.443,3.877,10.626],rotation:[-1.282,.41,-.31],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects155_0.geometry,material:p.Objects,position:[-11.07,2.036,10.751],rotation:[-1.322,.827,1.585],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects156_0.geometry,material:p.Objects,position:[-12.836,1.646,10.866],rotation:[-.141,-.565,-1.997],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects157_0.geometry,material:p.Objects,position:[-9.233,3.867,10.618],rotation:[-1.337,-.891,-.58],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects158_0.geometry,material:p.Objects,position:[-10.245,1.357,10.69],rotation:[2.983,.13,-.161],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects159_0.geometry,material:p.Objects,position:[-12.993,1.562,11.051],rotation:[-2.955,.599,-.827],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects160_0.geometry,material:p.Objects,position:[-12.051,3.99,11.05],rotation:[-.734,.435,-.171],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects161_0.geometry,material:p.Objects,position:[-11.461,4.102,10.714],rotation:[1.895,-.145,-.297],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects162_0.geometry,material:p.Objects,position:[-11.152,3.93,10.63],rotation:[-1.111,-.478,-.044],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects163_0.geometry,material:p.Objects,position:[25.252,-4.754,.59],rotation:[-.402,-.576,-2.473],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects164_0.geometry,material:p.Objects,position:[-11.523,4.619,10.833],rotation:[-.37,-.079,-3.072],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects165_0.geometry,material:p.Objects,position:[-12.61,6.308,10.808],rotation:[.135,.008,.167],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects166_0.geometry,material:p.Objects,position:[-8.718,3.945,10.685],rotation:[-.265,.101,2.726],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects167_0.geometry,material:p.Objects,position:[-10.161,1.309,10.541],rotation:[-.343,-.353,.632],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects168_0.geometry,material:p.Objects,position:[-12.393,5.265,10.833],rotation:[-.409,-.08,.04],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects169_0.geometry,material:p.Objects,position:[-10.379,3.917,10.662],rotation:[-.358,-.955,-2.153],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects170_0.geometry,material:p.Objects,position:[-9.141,4.097,10.714],rotation:[-.218,.101,2.544],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects171_0.geometry,material:p.Objects,position:[-10.025,4.439,10.805],rotation:[-.389,.159,-.377],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects172_0.geometry,material:p.Objects,position:[-13.003,1.426,10.907],rotation:[-.486,-.001,-.128],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects173_0.geometry,material:p.Objects,position:[-8.951,3.976,10.677],rotation:[-.407,-.003,-3.097],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects174_0.geometry,material:p.Objects,position:[-13.132,1.931,11.032],rotation:[.287,.043,.093],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects175_0.geometry,material:p.Objects,position:[-12.14,4.04,10.767],rotation:[-.605,-.042,3.019],scale:.22}),_.jsx("mesh",{geometry:d.pCube119001_0.geometry,material:p["Material.035"],position:[23.369,-3.407,-.505],rotation:[-Math.PI/2,.702,-Math.PI]}),_.jsx("mesh",{geometry:d.pCube119002_0.geometry,material:p["Material.035"],position:[25.854,-5.502,-.505],rotation:[Math.PI/2,-.7,0]}),_.jsx("mesh",{geometry:d.bench001_0.geometry,material:p.bench_mat,position:[-11.708,12.703,10.605],rotation:[-.018,.025,-.812],scale:.608}),_.jsx("mesh",{geometry:d.bench002_0.geometry,material:p.bench_mat,position:[-9.116,11.744,10.456],rotation:[0,0,-.026],scale:.608}),_.jsx("mesh",{geometry:d.bench003_0.geometry,material:p.bench_mat,position:[-9.555,12.831,10.483],rotation:[0,0,.738],scale:.608}),_.jsx("mesh",{geometry:d.bench004_0.geometry,material:p.bench_mat,position:[4.895,11.552,6.649],rotation:[-.088,-.128,.244],scale:.557}),_.jsx("mesh",{geometry:d.bench005_0.geometry,material:p.bench_mat,position:[2.008,18.89,7.316],rotation:[-.142,.109,1.574],scale:.608}),_.jsx("mesh",{geometry:d.bench006_0.geometry,material:p.bench_mat,position:[.61,18.158,7.529],rotation:[.049,.09,-.635],scale:.608}),_.jsx("mesh",{geometry:d.bench007_0.geometry,material:p.bench_mat,position:[.972,13.323,6.625],rotation:[.016,.141,.293],scale:.608}),_.jsx("mesh",{geometry:d.bench008_0.geometry,material:p.bench_mat,position:[-2.951,-20.071,1.581],rotation:[-.146,.043,-1.32],scale:.608}),_.jsx("mesh",{geometry:d.bench009_0.geometry,material:p.bench_mat,position:[18.737,4.569,1.861],rotation:[.025,.063,-.477],scale:.608}),_.jsx("mesh",{geometry:d.bench010_0.geometry,material:p.bench_mat,position:[19.635,5.265,1.831],rotation:[.107,.077,-1.401],scale:.608}),_.jsx("mesh",{geometry:d.bench011_0.geometry,material:p.bench_mat,position:[20.762,4.997,1.656],rotation:[.089,.184,-2.231],scale:.608}),_.jsx("mesh",{geometry:d.archer_m_easy001_0.geometry,material:p["Material.033"],position:[19.695,4.604,1.859],rotation:[-Math.PI/2,.053,-Math.PI],scale:.267}),_.jsx("mesh",{geometry:d.Guest_m_3001_0.geometry,material:p["Material.026"],position:[19.829,4.996,1.792],rotation:[Math.PI/2,-.44,0],scale:.267}),_.jsx("mesh",{geometry:d.Guest_m_4001_0.geometry,material:p["Material.025"],position:[19.326,4.845,1.825],rotation:[Math.PI/2,1.217,0],scale:.267}),_.jsx("mesh",{geometry:d.Fireplace001_0.geometry,material:p["Material.037"],position:[-9.279,2.582,10.571],rotation:[-.024,.024,-1.538],scale:.35}),_.jsx("mesh",{geometry:d.VikingShipObjects176_0.geometry,material:p.Objects,position:[-9.236,1.772,10.893],scale:.22}),_.jsx("mesh",{geometry:d.stall2001_0.geometry,material:p["Material.038"],position:[-11.884,10.127,10.847],rotation:[0,0,1.224],scale:[.331,.197,.006]}),_.jsx("mesh",{geometry:d.Throne_king001_0.geometry,material:p["Material.039"],position:[-9.163,3.505,10.803],rotation:[Math.PI/2,.3,0],scale:.259}),_.jsx("mesh",{geometry:d.Throne_princess001_0.geometry,material:p["Material.039"],position:[-8.452,2.383,10.695],rotation:[-.347,-.765,-1.983],scale:.259}),_.jsx("mesh",{geometry:d.Throne_queen001_0.geometry,material:p["Material.039"],position:[-8.506,3.034,10.752],rotation:[Math.PI/2,-.958,0],scale:.259}),_.jsx("mesh",{geometry:d.VikingShipObjects177_0.geometry,material:p.Objects,position:[-8.429,2.386,10.829],rotation:[-.552,-.245,1.239],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects178_0.geometry,material:p.Objects,position:[-10.993,.872,10.611],rotation:[-.026,-.763,-2.407],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects179_0.geometry,material:p.Objects,position:[-13.977,2.268,11.127],rotation:[.03,.173,-2.099],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects180_0.geometry,material:p.Objects,position:[-8.606,2.11,10.867],scale:.22}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO018_0.geometry,material:p["Material.001"],position:[-12.291,15.182,10.507],rotation:[1.482,.244,.009],scale:.4}),_.jsx("mesh",{geometry:d.cup004002_0.geometry,material:p["Material.036"],position:[-13.971,2.067,11.097],rotation:[1.852,-.006,-.613],scale:.392}),_.jsx("mesh",{geometry:d.SFMC_geo12432_Main_grp001_0.geometry,material:p["Material.034"],position:[-12.287,4.43,10.701],rotation:[-Math.PI/2,-.872,-Math.PI],scale:.564}),_.jsx("mesh",{geometry:d.SFMC_geo12384_Main_grp001_0.geometry,material:p["Material.034"],position:[24.995,-4.518,.472],rotation:[1.475,1.058,.088],scale:.252}),_.jsx("mesh",{geometry:d.SFMC_geo12434_Main_grp001_0.geometry,material:p["Material.034"],position:[-9.871,2.407,10.574],rotation:[Math.PI/2,.092,0],scale:.296}),_.jsx("mesh",{geometry:d.SFMC_geo12434_Main_grp002_0.geometry,material:p["Material.034"],position:[-9.998,2.553,10.558],rotation:[-Math.PI/2,.53,Math.PI],scale:.331}),_.jsx("mesh",{geometry:d.cup004003_0.geometry,material:p["Material.036"],position:[-9.197,1.697,10.926],rotation:[1.636,.401,-.089],scale:.392}),_.jsx("mesh",{geometry:d.cup004004_0.geometry,material:p["Material.036"],position:[-10.944,3.918,10.586],rotation:[1.636,.401,-.089],scale:.392}),_.jsx("mesh",{geometry:d.cup004005_0.geometry,material:p["Material.036"],position:[-12.199,1.504,10.962],rotation:[1.697,.419,-.032],scale:.392}),_.jsx("mesh",{geometry:d.cup004006_0.geometry,material:p["Material.036"],position:[-11.176,-.192,10.819],rotation:[Math.PI/2,.934,0],scale:.392}),_.jsx("mesh",{geometry:d.cup004007_0.geometry,material:p["Material.036"],position:[-11.266,-.255,10.819],rotation:[Math.PI/2,.02,0],scale:.392}),_.jsx("mesh",{geometry:d.cup004008_0.geometry,material:p["Material.036"],position:[-10.965,-.277,10.932],rotation:[1.553,-.036,.084],scale:.392}),_.jsx("mesh",{geometry:d.cup004009_0.geometry,material:p["Material.036"],position:[-8.034,4.328,10.742],rotation:[1.16,.207,-1.463],scale:.392}),_.jsx("mesh",{geometry:d.cup004010_0.geometry,material:p["Material.036"],position:[-12.528,4.05,10.703],rotation:[1.539,.407,.023],scale:.392}),_.jsx("mesh",{geometry:d.cup004011_0.geometry,material:p["Material.036"],position:[-11.177,1.915,10.696],rotation:[1.73,.356,-.037],scale:.392}),_.jsx("mesh",{geometry:d.VikingShipObjects181_0.geometry,material:p.Objects,position:[-9.088,3.293,10.811],rotation:[0,0,-2.692],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects182_0.geometry,material:p.Objects,position:[-8.554,3.015,10.795],rotation:[.562,-.209,2.244],scale:.22}),_.jsx("mesh",{geometry:d.Guest_f_1001_0.geometry,material:p["Material.032"],position:[-8.844,3.459,10.557],rotation:[Math.PI/2,.231,0],scale:.267}),_.jsx("mesh",{geometry:d.queen_posed001_0.geometry,material:p["Material.024"],position:[-10.458,-.873,13.037],rotation:[-Math.PI/2,.053,-Math.PI],scale:.267}),_.jsx("mesh",{geometry:d.Guest_m_1001_0.geometry,material:p["Material.028"],position:[8.572,10.238,4.539],rotation:[Math.PI/2,-.241,0],scale:.267}),_.jsx("mesh",{geometry:d.Guest_f_2001_0.geometry,material:p["Material.031"],position:[1.615,18.034,7.441],rotation:[1.717,1.14,-.109],scale:.267}),_.jsx("mesh",{geometry:d.Guest_f_4001_0.geometry,material:p["Material.029"],position:[5.142,10.94,6.752],rotation:[-Math.PI/2,1.384,-Math.PI],scale:.267}),_.jsx("mesh",{geometry:d.Guest_m_4002_0.geometry,material:p["Material.025"],position:[5.125,11.09,6.732],rotation:[-Math.PI/2,1.422,-Math.PI],scale:.267}),_.jsx("mesh",{geometry:d.House_4_AO007_0.geometry,material:p.House_4_AO_tex,position:[6.144,2.499,3.998],rotation:[1.337,-.039,-.169],scale:.3}),_.jsx("mesh",{geometry:d.Stones_3_AO015_0.geometry,material:p["Material.013"],position:[5.398,10.204,6.63],rotation:[.579,-.542,-1.113],scale:.985}),_.jsx("mesh",{geometry:d.Stones_3_AO016_0.geometry,material:p["Material.013"],position:[5.038,10.53,6.747],rotation:[1.571,-1.021,.084],scale:.612}),_.jsx("mesh",{geometry:d.mff_stone_0038_0.geometry,material:p.medievalfantasyforest_unwrap,position:[5.15,9.366,6.645],rotation:[2.794,-.661,1.865],scale:[.362,.282,.363]}),_.jsx("mesh",{geometry:d.mff_stone_0039_0.geometry,material:p.medievalfantasyforest_unwrap,position:[4.852,12.582,6.075],rotation:[1.219,-1.064,-2.947],scale:[.466,.363,.468]}),_.jsx("mesh",{geometry:d.House_3_AO004_0.geometry,material:p.House_3_AO_tex,position:[12.3,14.232,5.875],rotation:[-Math.PI/2,-.662,Math.PI],scale:.3}),_.jsx("mesh",{geometry:d.HouseBase_5_AO002_0.geometry,material:p.StoneWall,position:[12.047,13.977,4.932],rotation:[Math.PI/2,.654,0],scale:.388}),_.jsx("mesh",{geometry:d["Deer-ver1001_0"].geometry,material:p["Material.007"],position:[8.983,-5.359,3.219],rotation:[-.086,.082,-.901],scale:.3}),_.jsx("mesh",{geometry:d["Deer-ver2001_0"].geometry,material:p["Material.007"],position:[5.691,-6.97,3.716],rotation:[.004,-.069,1.896],scale:.3}),_.jsx("mesh",{geometry:d["Sheep-ver3001_0"].geometry,material:p["Material.007"],position:[-2.323,16.052,7.883],rotation:[.274,.133,-.112],scale:.3}),_.jsx("mesh",{geometry:d["Sheep-ver3002_0"].geometry,material:p["Material.007"],position:[-1.414,17.452,7.963],rotation:[.048,.12,-.113],scale:.3}),_.jsx("mesh",{geometry:d["Sheep-ver3003_0"].geometry,material:p["Material.007"],position:[-1.248,17.377,7.897],rotation:[.024,.127,.079],scale:.238}),_.jsx("mesh",{geometry:d["Sheep-ver3004_0"].geometry,material:p["Material.007"],position:[-2.721,18.29,3.249],rotation:[-2.419,-.086,1.968],scale:.238}),_.jsx("mesh",{geometry:d["Sheep-ver3005_0"].geometry,material:p["Material.007"],position:[-1.989,18.67,1.667],rotation:[3.034,-.273,.669],scale:.238}),_.jsx("mesh",{geometry:d["Sheep-ver3006_0"].geometry,material:p["Material.007"],position:[-1.883,18.381,1.691],rotation:[2.938,.983,-2.858],scale:.238}),_.jsx("mesh",{geometry:d.SFMC_geo12435_Main_grp001_0.geometry,material:p["Material.034"],position:[20.169,4.133,1.879],rotation:[Math.PI/2,1.535,0],scale:.296}),_.jsx("mesh",{geometry:d.SFMC_geo12435_Main_grp002_0.geometry,material:p["Material.034"],position:[1.727,17.997,7.445],rotation:[-Math.PI/2,1.533,-Math.PI],scale:.296}),_.jsx("mesh",{geometry:d.SFMC_geo12435_Main_grp003_0.geometry,material:p["Material.034"],position:[-10.217,12.197,10.656],rotation:[Math.PI/2,1.535,0],scale:.296}),_.jsx("mesh",{geometry:d.archer_m_easy002_0.geometry,material:p["Material.033"],position:[3.639,7.468,6.87],rotation:[-Math.PI/2,-.144,-Math.PI],scale:.267}),_.jsx("mesh",{geometry:d.Guest_m_3002_0.geometry,material:p["Material.026"],position:[.627,-20.636,1.461],rotation:[-Math.PI/2,1.112,Math.PI],scale:.267}),_.jsx("mesh",{geometry:d.Plane003_0.geometry,material:p["color.003"],position:[.381,-20.485,1.364],rotation:[.1,-.437,.424],scale:.296}),_.jsx("mesh",{geometry:d["Bull-ver2001_0"].geometry,material:p["Material.007"],position:[6.531,6.455,3.947],rotation:[.066,-.046,2.343],scale:.3}),_.jsx("mesh",{geometry:d["Bull-ver2002_0"].geometry,material:p["Material.007"],position:[5.249,6.824,3.77],rotation:[-.157,.059,.742],scale:.3}),_.jsx("mesh",{geometry:d.Shed_AO003_0.geometry,material:p.Material,position:[-1.729,-21.08,1.44],rotation:[-Math.PI/2,-1.501,-Math.PI],scale:.3}),_.jsx("mesh",{geometry:d["Bull-ver1001_0"].geometry,material:p["Material.007"],position:[5.921,5.494,3.903],rotation:[.028,.037,-1.242],scale:.3}),_.jsx("mesh",{geometry:d["Bull-ver3001_0"].geometry,material:p["Material.007"],position:[4.555,6.737,3.965],rotation:[.064,.07,1.863],scale:.3}),_.jsx("mesh",{geometry:d.pCube13006_0.geometry,material:p["Ravens.001"],position:[-2.188,-7.258,11.052],rotation:[1.462,-.549,-.07],scale:.244}),_.jsx("mesh",{geometry:d.pCube13007_0.geometry,material:p["Ravens.001"],position:[-11.454,4.137,12.201],rotation:[-1.439,-.796,-3.061],scale:.244}),_.jsx("mesh",{geometry:d.Paving_2_AO001_0.geometry,material:p["Material.009"],position:[12.461,2.482,2.251],rotation:[-.556,-1.219,-2.198],scale:.165}),_.jsx("mesh",{geometry:d.Paving_3_AO005_0.geometry,material:p["Material.009"],position:[11.489,2.611,2.365],rotation:[1.639,1.149,.014],scale:.341}),_.jsx("mesh",{geometry:d.Paving_1_AO008_0.geometry,material:p["Material.009"],position:[10.859,2.091,2.317],rotation:[1.644,.055,.03],scale:.162}),_.jsx("mesh",{geometry:d.Paving_2_AO002_0.geometry,material:p["Material.009"],position:[10.583,3.413,2.531],rotation:[-1.232,-.383,-2.828],scale:.165}),_.jsx("mesh",{geometry:d.Paving_1_AO009_0.geometry,material:p["Material.009"],position:[19.592,2.365,1.764],rotation:[1.694,.636,-.161],scale:[.219,.321,.22]}),_.jsx("mesh",{geometry:d.Paving_4_AO007_0.geometry,material:p["Material.009"],position:[21.321,3.179,1.633],rotation:[1.657,-.667,.128],scale:.363}),_.jsx("mesh",{geometry:d.mff_stone_path_1004_0.geometry,material:p.medievalfantasyforest_unwrap,position:[20.593,2.516,1.618],rotation:[.023,.203,1.966],scale:[.504,.5,.271]}),_.jsx("mesh",{geometry:d.Shed_AO004_0.geometry,material:p.Material,position:[5.784,5.222,3.683],rotation:[-1.573,-.544,-3.053],scale:.364}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_8_AO002_0.geometry,material:p["Material.001"],position:[6.491,5.315,3.666],rotation:[Math.PI/2,1.381,0],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO050_0.geometry,material:p["Material.001"],position:[6.831,6.048,3.611],rotation:[2.447,1.479,-.865],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO051_0.geometry,material:p["Material.001"],position:[6.887,6.674,3.705],rotation:[.969,1.397,.586],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO052_0.geometry,material:p["Material.001"],position:[6.949,7.303,3.798],rotation:[2.684,1.446,-1.095],scale:.4}),_.jsx("mesh",{geometry:d.Stones_1_AO018_0.geometry,material:p["Material.013"],position:[4.852,8.877,4.428],rotation:[-2.621,1.346,-1.645],scale:1.215}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_8_AO003_0.geometry,material:p["Material.001"],position:[6.979,7.688,3.912],rotation:[-1.466,.848,-3.083],scale:.4}),_.jsx("mesh",{geometry:d.cup004001_0.geometry,material:p["Material.036"],position:[-8.351,2.456,11.033],rotation:[1.5,.199,-.908],scale:.392}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO053_0.geometry,material:p["Material.001"],position:[6.513,8.352,4.091],rotation:[-1.637,.583,-2.949],scale:.4}),_.jsx("mesh",{geometry:d.Fencing_Wood_Clean_3_AO054_0.geometry,material:p["Material.001"],position:[5.973,8.719,4.425],rotation:[-1.666,.598,-2.675],scale:.4}),_.jsx("mesh",{geometry:d.mff_tree_maple010_0.geometry,material:p.medievalfantasyforest_unwrap,position:[13.151,12.197,4.618],rotation:[.182,.039,2.106],scale:[.505,.507,.503]}),_.jsx("mesh",{geometry:d.mff_tree_pine_0010_0.geometry,material:p.medievalfantasyforest_unwrap,position:[6.723,10.627,4.997],rotation:[.14,.069,.356],scale:[.581,.579,.46]}),_.jsx("mesh",{geometry:d.mff_tree_pine_1010_0.geometry,material:p.medievalfantasyforest_unwrap,position:[6.708,9.255,4.454],rotation:[.252,.086,1.958],scale:[.67,.65,.659]}),_.jsx("mesh",{geometry:d.Paving_2_AO003_0.geometry,material:p["Material.009"],position:[10.216,4.642,3.024],rotation:[1.965,.129,-.341],scale:.271}),_.jsx("mesh",{geometry:d.Paving_2_AO004_0.geometry,material:p["Material.009"],position:[10.131,6.356,3.697],rotation:[1.969,.121,-.283],scale:.32}),_.jsx("mesh",{geometry:d.Paving_4_AO008_0.geometry,material:p["Material.009"],position:[9.706,7.939,4.132],rotation:[-1.465,-.025,3.139],scale:.466}),_.jsx("mesh",{geometry:d.Paving_4_AO009_0.geometry,material:p["Material.009"],position:[9.532,9.48,4.324],rotation:[1.725,.397,-.055],scale:.582}),_.jsx("mesh",{geometry:d.Paving_2_AO005_0.geometry,material:p["Material.009"],position:[9.039,11.369,4.972],rotation:[1.908,.116,-.199],scale:[.321,.365,.326]}),_.jsx("mesh",{geometry:d.House_4_AO008_0.geometry,material:p.House_4_AO_tex,position:[7.102,12.298,5.338],rotation:[1.769,.265,-.021],scale:.3}),_.jsx("mesh",{geometry:d.Tower_3_AO004_0.geometry,material:p.Tower_tex_3,position:[6.295,13.917,5.686],rotation:[1.699,-.62,-.139],scale:.3}),_.jsx("mesh",{geometry:d.House_2_AO009_0.geometry,material:p.House_2_AO_tex,position:[5.353,14.696,6.038],rotation:[1.604,-.622,-.206],scale:.3}),_.jsx("mesh",{geometry:d.Paving_4_AO010_0.geometry,material:p["Material.009"],position:[8.223,13.487,5.535],rotation:[1.781,.465,.013],scale:.466}),_.jsx("mesh",{geometry:d.Paving_3_AO006_0.geometry,material:p["Material.009"],position:[8.929,12.618,5.391],rotation:[2.111,1.107,-.294],scale:.199}),_.jsx("mesh",{geometry:d.Paving_2_AO006_0.geometry,material:p["Material.009"],position:[7.124,15.083,5.933],rotation:[1.838,.485,.051],scale:[.321,.365,.326]}),_.jsx("mesh",{geometry:d.Paving_2_AO007_0.geometry,material:p["Material.009"],position:[2.648,13.801,6.474],rotation:[-1.499,.335,-2.976],scale:[.321,.365,.326]}),_.jsx("mesh",{geometry:d.Paving_2_AO008_0.geometry,material:p["Material.009"],position:[3.833,15.453,6.69],rotation:[-1.542,1.029,-2.88],scale:[.321,.365,.326]}),_.jsx("mesh",{geometry:d.Stones_1_AO000_0.geometry,material:p["Material.013"],position:[-4.031,19.704,.228],rotation:[-Math.PI/2,-.754,-Math.PI],scale:.505}),_.jsx("mesh",{geometry:d.VikingShipObjects002_0.geometry,material:p.Objects,position:[24.599,-4.679,.749],rotation:[0,0,.641],scale:.22}),_.jsx("mesh",{geometry:d.VikingShipObjects003_0.geometry,material:p.Objects,position:[24.788,-4.418,.6],rotation:[.329,-.09,1.141],scale:.22}),_.jsx("mesh",{geometry:d.SFMC_geo12384_Main_grp000_0.geometry,material:p["Material.034"],position:[25.183,-4.625,.462],rotation:[1.605,.564,-.031],scale:.252}),_.jsx("mesh",{geometry:d.SFMC_geo12384_Main_grp002_0.geometry,material:p["Material.034"],position:[25.099,-4.573,.634],rotation:[1.618,-.638,-.043],scale:.252}),_.jsx("mesh",{geometry:d.Paving_3_AO000_0.geometry,material:p["Material.009"],position:[2.791,12.312,6.431],rotation:[1.529,.051,-.027],scale:.341}),_.jsx("mesh",{geometry:d.Paving_3_AO007_0.geometry,material:p["Material.009"],position:[2.965,11.253,6.475],rotation:[-1.662,-.012,3.094],scale:.341}),_.jsx("mesh",{geometry:d.Paving_1_AO000_0.geometry,material:p["Material.009"],position:[3.262,10.136,6.676],rotation:[1.431,.017,.073],scale:.263}),_.jsx("mesh",{geometry:d.Paving_4_AO000_0.geometry,material:p["Material.009"],position:[3.423,9.206,6.747],rotation:[-1.611,-1.429,3.114],scale:.394}),_.jsx("mesh",{geometry:d.mff_stone_path_0000_0.geometry,material:p.medievalfantasyforest_unwrap,position:[5.679,16.259,6.328],rotation:[.245,.319,.051],scale:.54}),_.jsx("mesh",{geometry:d.pCube13003_0.geometry,material:p["Ravens.001"],position:[-3.558,18.207,2.369],rotation:[1.463,-.546,-.07],scale:.244}),_.jsx("mesh",{geometry:d.pCube13004_0.geometry,material:p["Ravens.001"],position:[-2.761,21.594,11.391],rotation:[.955,1.416,.845],scale:.333}),_.jsx("mesh",{geometry:d.pCube13008_0.geometry,material:p["Ravens.001"],position:[-5.366,19.919,9.566],rotation:[-1.241,-.657,3.078],scale:.333}),_.jsx("mesh",{geometry:d.pCube13009_0.geometry,material:p["Ravens.001"],position:[-3.31,18.471,10.786],rotation:[1.472,-.437,.193],scale:.333}),_.jsx("mesh",{geometry:d.stall2000_0.geometry,material:p["Material.038"],position:[-11.161,8.563,10.807],rotation:[0,0,-1.822],scale:[.331,.197,.006]}),_.jsx("mesh",{geometry:d.Cube002_0.geometry,material:p["Material.021"],position:[-12.308,8.829,10.928],rotation:[-.027,-.045,-1.832],scale:[.334,.199,.006]}),_.jsx("mesh",{geometry:d.bench000_0.geometry,material:p.bench_mat,position:[-10.682,13.15,10.57],rotation:[0,.031,-1.429],scale:.608}),_.jsx("mesh",{geometry:d.stall2002_0.geometry,material:p["Material.038"],position:[-13.641,9.238,10.941],rotation:[0,0,-1.822],scale:[.331,.197,.006]}),_.jsx("mesh",{geometry:d.Cube003_0.geometry,material:p["Material.021"],position:[-13.247,10.428,10.936],rotation:[.001,.05,1.207],scale:[.334,.199,.006]}),_.jsx("mesh",{geometry:d.pCube13010_0.geometry,material:p["Ravens.001"],position:[2.119,10.787,8.063],rotation:[.996,-1.409,-.638],scale:.244}),_.jsx("mesh",{geometry:d.Stones_4_AO000_0.geometry,material:p["Material.013"],position:[1.591,-22.783,.229],rotation:[Math.PI/2,-.67,0],scale:1.772})]})]})}bu.preload("/scene.glb");const cZ="/Portfolio/assets/sky-yyMHz6Lw.glb";function uZ({isRotating:n}){const e=bu(cZ),t=Y.useRef();return Mg((i,a)=>{n&&(t.current.rotation.y+=.25*a)}),_.jsxs("mesh",{ref:t,children:["// use the primitive element when you want to directly embed a complex 3D model or scene",_.jsx("primitive",{object:e.scene})]})}const hZ="/Portfolio/assets/phoenix_bird-BTBjDVev.glb",fZ=({isRotating:n})=>{const e=Y.useRef(),{scene:t,animations:i}=bu(hZ),{actions:a}=EI(i,e);return Y.useEffect(()=>{a["Take 001"]&&(n?a["Take 001"].play():a["Take 001"].stop())},[n,a]),Mg(({clock:r,camera:l})=>{n&&(e.current.position.y=Math.sin(r.elapsedTime)*.2+2,e.current.position.x>l.position.x+10?e.current.rotation.y=Math.PI:e.current.position.x<l.position.x-10&&(e.current.rotation.y=0),e.current.rotation.y===0?(e.current.position.x+=.01,e.current.position.z-=.01):(e.current.position.x-=.01,e.current.position.z+=.01))}),_.jsx("mesh",{ref:e,position:[0,2,1],scale:[.3,.3,.3],children:_.jsx("primitive",{object:t})})},dZ="/Portfolio/assets/plane-Du1t7N0B.glb";function mZ({isRotating:n,...e}){const t=Y.useRef(),{scene:i,animations:a}=bu(dZ),{actions:r}=EI(a,t);return Y.useEffect(()=>{n?r["Take 001"].play():r["Take 001"].stop()},[r,n]),_.jsx("mesh",{...e,ref:t,children:_.jsx("primitive",{object:i})})}const pZ=()=>{const[n,e]=Y.useState(!1),[t,i]=Y.useState(1),a=()=>{let v,d;return window.innerWidth<768?(v=[1.5,1.5,1.5],d=[0,-1,5]):(v=[2.5,2.5,2.5],d=[-80,-50,60]),[v,d]},r=()=>{let v,d;return window.innerWidth<768?(v=[.9,.9,.9],d=[0,-6.5,-43.4]):(v=[1,1,1],d=[0,-6.5,-43.4]),[v,d]},[l,u]=a(),[m,g]=r();return _.jsxs("section",{className:"w-full h-screen relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-24 right-8 z-10 max-w-md",children:t&&_.jsx(hW,{currentStage:t})}),_.jsxs("div",{className:"absolute bottom-10 left-1/2 -translate-x-1/2 z-10 animate-bounce",children:[_.jsx("div",{className:"w-10 h-14 border-4 border-white rounded-full flex justify-center items-start p-2 bg-black/20 backdrop-blur-sm shadow-lg shadow-white/20",children:_.jsx("div",{className:"w-2 h-4 bg-white rounded-full animate-pulse"})}),_.jsx("p",{className:"text-white text-base mt-3 text-center font-bold drop-shadow-lg",children:"Kéo để xoay"})]}),_.jsx(PV,{className:`w-full h-screen bg-transparent ${n?"cursor-grabbing":"cursor-grab"}`,camera:{position:[0,0,20],near:.1,far:1e3},children:_.jsxs(Y.Suspense,{fallback:_.jsx(Bk,{}),children:[_.jsx("directionalLight",{position:[5,5,5],intensity:.4}),_.jsx("ambientLight",{intensity:.3}),_.jsx("pointLight",{position:[10,5,10],intensity:.2}),_.jsx("spotLight",{position:[0,50,10],angle:.15,penumbra:1,intensity:.2}),_.jsx("hemisphereLight",{skyColor:"#b1e1ff",groundColor:"#000000",intensity:.4}),_.jsx(fZ,{isRotating:n}),_.jsx(uZ,{isRotating:n}),_.jsx(lZ,{position:g,rotation:[.1,4.7077,0],scale:m,isRotating:n,setIsRotating:e,setCurrentStage:i}),_.jsx(mZ,{isRotating:n,position:u,rotation:[0,20.1,0],scale:l})]})})]})},Yi=(n={})=>{const e=Y.useRef(null),[t,i]=Y.useState(!1);return Y.useEffect(()=>{const a=e.current;if(!a)return;const r=new IntersectionObserver(([l])=>{l.isIntersecting?(i(!0),n.once!==!1&&r.unobserve(a)):n.once===!1&&i(!1)},{threshold:n.threshold||.1,rootMargin:n.rootMargin||"0px"});return r.observe(a),()=>{a&&r.unobserve(a)}},[n.threshold,n.rootMargin,n.once]),[e,t]},gZ=()=>{const[n,e]=Yi({threshold:.2}),[t,i]=Yi({threshold:.1}),[a,r]=Yi({threshold:.2}),[l,u]=Yi({threshold:.1}),[m,g]=Yi({threshold:.1}),[v,d]=Yi({threshold:.1}),[p,b]=Yi({threshold:.1});return _.jsxs("section",{className:"max-container",children:[_.jsxs("div",{ref:n,className:`flex flex-col md:flex-row items-center gap-6 sm:gap-8 mb-8 sm:mb-12 transition-all duration-1000 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[_.jsxs("div",{className:"relative group",children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full blur-xl opacity-50 group-hover:opacity-75 transition-opacity duration-300"}),_.jsx("img",{src:Nk,alt:"Lê Hải Đăng",className:"relative w-32 h-32 sm:w-48 sm:h-48 md:w-64 md:h-64 rounded-full object-cover border-4 border-white shadow-2xl group-hover:scale-105 transition-transform duration-300"})]}),_.jsxs("div",{className:"flex-1 text-center md:text-left",children:[_.jsxs("h1",{className:"head-text",children:["Tôi là"," ",_.jsx("span",{className:"blue-gradient_text font-semibold drop-shadow",children:"Lê Hải Đăng"})]}),_.jsxs("div",{className:"mt-4 sm:mt-6 bg-gradient-to-r from-blue-50 to-purple-50 p-4 sm:p-6 rounded-2xl shadow-xl border-l-4 border-blue-500",children:[_.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600 mb-3 sm:mb-4 italic",children:'" Hãy theo đuổi sự ưu tú, thành công sẽ theo đuổi bạn "'}),_.jsx("p",{className:"text-gray-700 leading-relaxed text-sm sm:text-base md:text-lg",children:"Tôi tin rằng học tập là hành trình không ngừng nghỉ. Mỗi dòng code, mỗi dự án, mỗi thử thách đều là cơ hội để chúng ta trở nên tốt hơn. Đừng sợ thất bại, hãy sợ việc không dám thử!"}),_.jsx("p",{className:"text-gray-700 leading-relaxed text-sm sm:text-base md:text-lg mt-3",children:"Với tôi, lập trình không chỉ là công việc mà là đam mê. Tôi muốn truyền cảm hứng để mọi người cùng theo đuổi ước mơ công nghệ, không ngừng học hỏi và phát triển bản thân mỗi ngày!"})]})]})]}),_.jsxs("div",{ref:t,className:`py-6 sm:py-10 flex flex-col transition-all duration-1000 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[_.jsxs("h3",{className:"subhead-text flex items-center gap-2 sm:gap-3",children:[_.jsx("span",{className:"text-3xl sm:text-4xl",children:"⚡"}),"Kỹ Năng"]})," ",_.jsx("div",{className:"mt-8 sm:mt-16 flex flex-wrap justify-center gap-6 sm:gap-8",children:aW.map((C,w)=>_.jsxs("div",{className:`group relative w-20 h-20 sm:w-28 sm:h-28 transition-all duration-1000 ${i?"opacity-100 translate-x-0":w%2===0?"opacity-0 -translate-x-20":"opacity-0 translate-x-20"}`,style:{transitionDelay:`${w*100}ms`},children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400 to-purple-600 rounded-full blur-md opacity-0 group-hover:opacity-70 transition-opacity duration-300"}),_.jsx("div",{className:"relative w-full h-full bg-white rounded-full shadow-lg hover:shadow-2xl transition-all duration-300 flex justify-center items-center border-2 sm:border-4 border-blue-100 hover:border-blue-400 group-hover:scale-110",children:_.jsx("img",{src:C.imageUrl,alt:C.name,className:"w-12 h-12 sm:w-16 sm:h-16 object-contain group-hover:scale-125 transition-transform duration-300"})}),_.jsx("div",{className:"absolute -bottom-6 sm:-bottom-8 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:_.jsx("span",{className:"bg-blue-600 text-white px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-[10px] sm:text-xs font-semibold whitespace-nowrap shadow-lg",children:C.name})})]},C.name))})]}),_.jsxs("div",{ref:a,className:`py-8 sm:py-16 transition-all duration-1000 ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[_.jsxs("h3",{className:"subhead-text flex items-center gap-3",children:[_.jsx("span",{className:"text-4xl",children:"🎓"}),"Học Vấn"]}),_.jsx("div",{className:"mt-8 bg-gradient-to-br from-white to-blue-50 p-8 rounded-2xl shadow-xl border-l-4 border-blue-500 hover:shadow-2xl transition-all duration-300",children:_.jsxs("div",{className:"flex items-start gap-6",children:[_.jsx("div",{className:"flex-shrink-0",children:_.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-4xl font-bold shadow-lg hover:scale-110 transition-transform duration-300",children:"🏛️"})}),_.jsxs("div",{className:"flex-grow",children:[_.jsx("h4",{className:"text-2xl font-bold text-black mb-3 flex items-center gap-2",children:Jy.school}),_.jsx("p",{className:"text-gray-700 font-semibold mb-2 text-lg",children:Jy.degree}),_.jsx("p",{className:"text-gray-600 mb-3",children:Jy.description}),_.jsx("span",{className:"inline-block bg-blue-500 text-white px-4 py-2 rounded-full text-sm font-bold shadow-md",children:Jy.period})]})]})})]}),_.jsxs("div",{ref:l,className:`py-10 transition-all duration-1000 ${u?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[_.jsxs("h3",{className:"subhead-text flex items-center gap-3",children:[_.jsx("span",{className:"text-4xl",children:"🏆"}),"Chứng Chỉ"]}),_.jsx("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:sW.map((C,w)=>_.jsxs("div",{className:`bg-white rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-1000 group cursor-pointer hover:-translate-y-2 border-2 border-gray-100 hover:border-blue-400 ${u?"opacity-100 translate-x-0":w%3===0?"opacity-0 -translate-x-20":w%3===2?"opacity-0 translate-x-20":"opacity-0"}`,style:{transitionDelay:`${w*150}ms`},children:[_.jsxs("div",{className:"relative overflow-hidden h-80 bg-gradient-to-br from-blue-50 to-purple-50",children:[_.jsx("img",{src:C.image,alt:C.title,className:"w-full h-full object-contain p-4 group-hover:scale-110 transition-transform duration-500"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-6",children:_.jsx("p",{className:"text-white text-sm leading-relaxed",children:C.description})})]}),_.jsxs("div",{className:"p-6 bg-gradient-to-br from-white to-blue-50",children:[_.jsx("h4",{className:"text-lg font-bold text-black mb-3 flex items-center gap-2",children:C.title}),_.jsx("p",{className:"text-blue-600 text-sm font-semibold mb-2 flex items-center gap-2",children:C.issuer}),_.jsx("p",{className:"text-gray-500 text-sm flex items-center gap-2",children:C.date})]})]},C.id))})]}),_.jsxs("div",{ref:m,className:`py-16 transition-all duration-1000 ${g?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[_.jsxs("h3",{className:"subhead-text flex items-center gap-3",children:[_.jsx("span",{className:"text-4xl",children:"🚀"}),"Hành Trình Học Tập"]}),_.jsx("p",{className:"mt-4 text-slate-500 text-lg",children:"Từ những dòng code đầu tiên năm 2022 đến hiện tại, đây là hành trình phát triển kỹ năng của tôi"}),_.jsx("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-2 gap-8",children:rW.map((C,w)=>_.jsx("div",{className:`group bg-gradient-to-br from-white to-blue-50 p-8 rounded-2xl shadow-xl border-t-4 border-blue-500 hover:shadow-2xl transition-all duration-1000 hover:-translate-y-1 ${g?"opacity-100 translate-x-0":w%2===0?"opacity-0 -translate-x-20":"opacity-0 translate-x-20"}`,style:{transitionDelay:`${w*200}ms`},children:_.jsxs("div",{className:"flex items-start gap-6",children:[_.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-5xl shadow-lg group-hover:scale-110 group-hover:rotate-12 transition-all duration-300",children:C.icon}),_.jsxs("div",{className:"flex-1",children:[_.jsx("div",{className:"flex items-center gap-3 mb-3",children:_.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-2 rounded-full text-sm font-bold shadow-md",children:C.year})}),_.jsx("h4",{className:"text-xl font-bold text-black mb-3 flex items-center gap-2",children:C.title}),_.jsx("p",{className:"text-gray-600 leading-relaxed",children:C.description})]})]})},w))})]}),_.jsxs("div",{ref:v,className:`py-10 transition-all duration-1000 ${d?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[_.jsxs("h3",{className:"subhead-text flex items-center gap-3",children:[_.jsx("span",{className:"text-4xl",children:"🎮"}),"Sở Thích & Đam Mê"]}),_.jsx("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-8",children:oW.map((C,w)=>_.jsx("div",{className:`group bg-gradient-to-br from-blue-50 to-purple-50 p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-1000 border-l-4 border-blue-500 hover:-translate-y-1 ${d?"opacity-100 translate-x-0":w%2===0?"opacity-0 -translate-x-20":"opacity-0 translate-x-20"}`,style:{transitionDelay:`${w*200}ms`},children:_.jsxs("div",{className:"flex items-start gap-6",children:[_.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center text-5xl shadow-lg group-hover:scale-125 group-hover:rotate-12 transition-all duration-300",children:C.icon}),_.jsxs("div",{className:"flex-1",children:[_.jsx("h4",{className:"text-2xl font-bold text-black mb-4 flex items-center gap-2",children:C.title}),_.jsx("p",{className:"text-gray-700 leading-relaxed mb-5",children:C.description}),_.jsx("div",{className:"flex flex-wrap gap-3",children:C.examples.map((E,M)=>_.jsx("span",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-full text-sm font-semibold shadow-md hover:scale-110 transition-transform duration-300 cursor-pointer",children:E},M))})]})]})},w))})]}),_.jsxs("div",{ref:p,className:`py-16 transition-all duration-1000 ${b?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[_.jsxs("h3",{className:"subhead-text flex items-center gap-3",children:[_.jsx("span",{className:"text-4xl",children:"🎯"}),"Mục Tiêu & Định Hướng"]}),_.jsx("p",{className:"mt-4 text-slate-500 text-lg",children:"Kế hoạch phát triển bản thân và sự nghiệp trong lĩnh vực công nghệ"}),_.jsx("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-8",children:lW.map((C,w)=>_.jsxs("div",{className:`group bg-gradient-to-br from-white to-blue-50 p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-1000 border-2 border-blue-200 hover:border-blue-400 hover:-translate-y-1 ${b?"opacity-100 translate-x-0":w%2===0?"opacity-0 -translate-x-20":"opacity-0 translate-x-20"}`,style:{transitionDelay:`${w*200}ms`},children:[_.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[_.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-500 to-blue-600 rounded-full flex items-center justify-center text-5xl shadow-lg group-hover:scale-110 group-hover:rotate-12 transition-all duration-300",children:C.icon}),_.jsx("h4",{className:"text-2xl font-bold text-black flex items-center gap-2",children:C.title})]}),_.jsx("ul",{className:"space-y-4",children:C.items.map((E,M)=>_.jsxs("li",{className:"flex items-start gap-4 text-gray-700 bg-white p-4 rounded-xl shadow-md hover:shadow-lg transition-all duration-300 hover:translate-x-2",children:[_.jsx("span",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-bold flex-shrink-0 shadow-md",children:"✓"}),_.jsx("span",{className:"leading-relaxed font-medium",children:E})]},M))})]},w))})]}),_.jsx("div",{className:"py-10 flex justify-center",children:_.jsxs("a",{href:"/Portfolio/cv/LeHaiDang_CV.pdf",download:"LeHaiDang_CV.pdf",className:"inline-flex items-center gap-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white px-8 py-4 rounded-full font-bold text-lg shadow-xl hover:shadow-2xl hover:scale-110 transition-all duration-300 group",children:[_.jsx("svg",{className:"w-6 h-6 group-hover:animate-bounce",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"})}),_.jsx("span",{children:"📄 Tải CV của tôi (PDF)"})]})})]})},yZ=()=>{const[n,e]=Y.useState("All"),[t,i]=Y.useState(null),[a,r]=Yi({threshold:.2}),[l,u]=Yi({threshold:.2}),[m,g]=Yi({threshold:.1}),[v,d]=Yi({threshold:.2}),[p,b]=Yi({threshold:.2}),C=[{name:"All",icon:"🎯",count:Rh.length},{name:"Full-stack Web",icon:"🌐",count:Rh.filter(E=>E.category==="Full-stack Web").length},{name:"Frontend",icon:"🎨",count:Rh.filter(E=>E.category==="Frontend").length},{name:"Game",icon:"🎮",count:Rh.filter(E=>E.category==="Game").length}],w=n==="All"?Rh:Rh.filter(E=>E.category===n);return _.jsxs("section",{className:"max-container",children:[_.jsxs("div",{ref:a,className:`relative transition-all duration-1000 ${r?"opacity-100":"opacity-0"}`,children:[_.jsxs("h1",{className:"head-text",children:["Dự Án Của Tôi"," ",_.jsx("span",{className:"blue-gradient_text font-semibold drop-shadow animate-pulse",children:"💼"})]}),_.jsx("div",{className:"absolute -top-6 sm:-top-10 right-0 text-5xl sm:text-8xl opacity-5 pointer-events-none",children:"🚀"})]}),_.jsx("div",{className:`mt-4 sm:mt-5 flex flex-col gap-2 sm:gap-3 text-slate-500 transition-all duration-1000 ${r?"opacity-100":"opacity-0"}`,children:_.jsx("p",{className:"text-sm sm:text-base md:text-lg",children:"Đây là tổng hợp các dự án mà tôi đã thực hiện, từ các ứng dụng full-stack đến các website frontend hiện đại. Mỗi dự án đều được xây dựng với sự tận tâm và áp dụng các công nghệ mới nhất."})}),_.jsx("div",{ref:l,className:`mt-8 sm:mt-12 flex flex-wrap gap-2 sm:gap-4 justify-center transition-all duration-1000 ${u?"opacity-100":"opacity-0"}`,children:C.map(E=>_.jsxs("button",{onClick:()=>e(E.name),className:`group relative px-3 sm:px-6 py-2 sm:py-3 rounded-xl sm:rounded-2xl text-sm sm:text-base font-semibold transition-all duration-300 transform ${n===E.name?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-xl scale-105 sm:scale-110":"bg-white text-gray-700 hover:bg-gray-50 shadow-md hover:shadow-lg hover:scale-105"} border-2 ${n===E.name?"border-transparent":"border-gray-200 hover:border-blue-300"}`,children:[_.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[_.jsx("span",{className:"text-base sm:text-xl",children:E.icon}),_.jsx("span",{className:"whitespace-nowrap",children:E.name}),_.jsx("span",{className:`ml-0.5 sm:ml-1 px-1.5 sm:px-2 py-0.5 rounded-full text-[10px] sm:text-xs font-bold ${n===E.name?"bg-white/20 text-white":"bg-blue-100 text-blue-600 group-hover:bg-blue-200"}`,children:E.count})]}),n===E.name&&_.jsx("div",{className:"absolute inset-0 rounded-xl sm:rounded-2xl bg-gradient-to-r from-blue-400 to-purple-400 opacity-20 blur-xl"})]},E.name))}),_.jsx("div",{className:"mt-6 sm:mt-8 text-center",children:_.jsxs("div",{className:"inline-flex items-center gap-1 sm:gap-2 px-4 sm:px-6 py-2 sm:py-3 bg-gradient-to-r from-blue-50 to-purple-50 rounded-full border-2 border-blue-200",children:[_.jsx("span",{className:"text-lg sm:text-2xl",children:"📊"}),_.jsxs("span",{className:"text-gray-700 font-medium text-xs sm:text-base",children:["Hiển thị"," ",_.jsx("span",{className:"text-blue-600 font-bold",children:w.length})," ","dự án",n!=="All"&&_.jsxs("span",{className:"text-gray-500",children:[" ","trong danh mục"," ",_.jsx("span",{className:"text-purple-600 font-semibold",children:n})]})]})]})}),_.jsx("div",{ref:m,className:"mt-8 sm:mt-12 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:w.map((E,M)=>_.jsxs("div",{onMouseEnter:()=>i(M),onMouseLeave:()=>i(null),className:`group relative bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-1000 overflow-hidden border-2 border-gray-100 hover:border-blue-300 transform hover:-translate-y-2 ${g?"opacity-100 translate-x-0":M%2===0?"opacity-0 -translate-x-20":"opacity-0 translate-x-20"}`,style:{transitionDelay:`${M*150}ms`},children:[_.jsxs("div",{className:`${E.theme} p-6 relative overflow-hidden transition-all duration-500`,children:[_.jsxs("div",{className:"absolute inset-0 opacity-10",children:[_.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white rounded-full -translate-y-16 translate-x-16"}),_.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white rounded-full translate-y-12 -translate-x-12"})]}),_.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 opacity-20 group-hover:opacity-30 transition-opacity duration-500 group-hover:scale-110 transform",children:_.jsx("img",{src:E.iconUrl,alt:"icon",className:"w-full h-full object-contain"})}),_.jsxs("div",{className:"relative z-10",children:[_.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-white to-gray-50 rounded-xl shadow-md flex items-center justify-center mb-4 group-hover:scale-110 group-hover:rotate-6 transition-all duration-500 p-2",children:_.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500/10 to-purple-500/10 rounded-lg flex items-center justify-center",children:_.jsx("img",{src:E.iconUrl,alt:E.name,className:"w-8 h-8 object-contain drop-shadow-md",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"}})})}),_.jsx("h3",{className:"text-white text-xl font-bold drop-shadow-lg group-hover:translate-x-1 transition-transform duration-300",children:E.name}),_.jsxs("span",{className:"inline-block mt-2 px-3 py-1 bg-white/20 backdrop-blur-sm text-white text-xs rounded-full border border-white/30",children:[E.category==="Full-stack Web",E.category==="Frontend",E.category==="Game",E.category]})]}),t===M&&_.jsx("div",{className:"absolute top-4 right-4 bg-white/30 backdrop-blur-sm rounded-full p-2 animate-bounce",children:_.jsx("span",{className:"text-white text-xl",children:"✨"})})]}),_.jsxs("div",{className:"p-4 sm:p-6 space-y-3 sm:space-y-4",children:[_.jsx("p",{className:"text-gray-700 text-xs sm:text-sm leading-relaxed line-clamp-3 group-hover:text-gray-900 transition-colors",children:E.description}),_.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:E.technologies.map((I,B)=>_.jsx("span",{className:"px-2 sm:px-3 py-0.5 sm:py-1 bg-blue-50 text-blue-700 text-[10px] sm:text-xs font-medium rounded-full border border-blue-200 hover:bg-blue-100 hover:scale-105 transition-all duration-300 cursor-default",children:I},B))}),_.jsxs(iu,{to:E.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 sm:gap-2 text-blue-600 text-sm sm:text-base font-semibold hover:text-blue-800 transition-all duration-300 group/link mt-3 sm:mt-4 hover:gap-3",children:[_.jsxs("span",{className:"relative",children:["Xem dự án",_.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-blue-600 group-hover/link:w-full transition-all duration-300"})]}),_.jsx("img",{src:nW,alt:"arrow",className:"w-3 h-3 sm:w-4 sm:h-4 object-contain group-hover/link:translate-x-1 transition-transform duration-300"})]})]}),_.jsx("div",{className:"absolute inset-0 border-2 border-transparent group-hover:border-blue-400 rounded-2xl transition-all duration-500 pointer-events-none opacity-0 group-hover:opacity-100"})]},`project-${M}`))}),w.length===0&&_.jsxs("div",{className:"mt-12 sm:mt-20 text-center py-12 sm:py-20",children:[_.jsx("div",{className:"text-6xl sm:text-8xl mb-3 sm:mb-4",children:"😕"}),_.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-700 mb-2",children:"Không tìm thấy dự án"}),_.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:"Hiện tại chưa có dự án nào trong danh mục này."})]}),_.jsxs("div",{ref:v,className:`mt-12 sm:mt-20 grid grid-cols-2 md:grid-cols-4 gap-4 sm:gap-6 transition-all duration-1000 ${d?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[_.jsxs("div",{className:"relative group bg-gradient-to-br from-blue-50 to-cyan-50 p-4 sm:p-6 rounded-2xl text-center border-2 border-blue-100 hover:border-blue-300 transition-all duration-300 hover:shadow-xl cursor-pointer overflow-hidden",children:[_.jsx("div",{className:"absolute -top-6 sm:-top-8 -right-6 sm:-right-8 text-6xl sm:text-8xl opacity-5 group-hover:opacity-10 transition-opacity",children:"📁"}),_.jsxs("div",{className:"relative z-10",children:[_.jsx("div",{className:"text-3xl sm:text-5xl font-bold text-blue-600 mb-1 sm:mb-2 group-hover:scale-110 transition-transform",children:Rh.length}),_.jsxs("div",{className:"text-[10px] sm:text-sm text-gray-600 font-medium flex items-center justify-center gap-0.5 sm:gap-1",children:[_.jsx("span",{children:"📁"}),_.jsx("span",{children:"Dự án hoàn thành"})]})]})]}),_.jsxs("div",{className:"relative group bg-gradient-to-br from-green-50 to-emerald-50 p-4 sm:p-6 rounded-2xl text-center border-2 border-green-100 hover:border-green-300 transition-all duration-300 hover:shadow-xl cursor-pointer overflow-hidden",children:[_.jsx("div",{className:"absolute -top-6 sm:-top-8 -right-6 sm:-right-8 text-6xl sm:text-8xl opacity-5 group-hover:opacity-10 transition-opacity",children:"⚡"}),_.jsxs("div",{className:"relative z-10",children:[_.jsx("div",{className:"text-3xl sm:text-5xl font-bold text-green-600 mb-1 sm:mb-2 group-hover:scale-110 transition-transform",children:"9"}),_.jsxs("div",{className:"text-[10px] sm:text-sm text-gray-600 font-medium flex items-center justify-center gap-0.5 sm:gap-1",children:[_.jsx("span",{children:"⚡"}),_.jsx("span",{children:"Công nghệ sử dụng"})]})]})]}),_.jsxs("div",{className:"relative group bg-gradient-to-br from-purple-50 to-pink-50 p-4 sm:p-6 rounded-2xl text-center border-2 border-purple-100 hover:border-purple-300 transition-all duration-300 hover:shadow-xl cursor-pointer overflow-hidden",children:[_.jsx("div",{className:"absolute -top-6 sm:-top-8 -right-6 sm:-right-8 text-6xl sm:text-8xl opacity-5 group-hover:opacity-10 transition-opacity",children:"🎯"}),_.jsxs("div",{className:"relative z-10",children:[_.jsx("div",{className:"text-3xl sm:text-5xl font-bold text-purple-600 mb-1 sm:mb-2 group-hover:scale-110 transition-transform",children:"3"}),_.jsxs("div",{className:"text-[10px] sm:text-sm text-gray-600 font-medium flex items-center justify-center gap-0.5 sm:gap-1",children:[_.jsx("span",{children:"🎯"}),_.jsx("span",{children:"Loại dự án"})]})]})]}),_.jsxs("div",{className:"relative group bg-gradient-to-br from-orange-50 to-yellow-50 p-4 sm:p-6 rounded-2xl text-center border-2 border-orange-100 hover:border-orange-300 transition-all duration-300 hover:shadow-xl cursor-pointer overflow-hidden",children:[_.jsx("div",{className:"absolute -top-6 sm:-top-8 -right-6 sm:-right-8 text-6xl sm:text-8xl opacity-5 group-hover:opacity-10 transition-opacity",children:"🔥"}),_.jsxs("div",{className:"relative z-10",children:[_.jsx("div",{className:"text-3xl sm:text-5xl font-bold text-orange-600 mb-1 sm:mb-2 group-hover:scale-110 transition-transform",children:"∞"}),_.jsxs("div",{className:"text-[10px] sm:text-sm text-gray-600 font-medium flex items-center justify-center gap-0.5 sm:gap-1",children:[_.jsx("span",{children:"🔥"}),_.jsx("span",{children:"Đam mê học hỏi"})]})]})]})]}),_.jsxs("div",{ref:p,className:`mt-12 sm:mt-20 bg-gradient-to-r from-blue-50 via-purple-50 to-pink-50 rounded-2xl sm:rounded-3xl p-6 sm:p-8 border-2 border-blue-200 transition-all duration-1000 ${b?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[_.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[_.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2 flex items-center justify-center gap-2 sm:gap-3",children:[_.jsx("span",{children:"🛠️"}),_.jsx("span",{children:"Tech Stack"}),_.jsx("span",{children:"🚀"})]}),_.jsx("p",{className:"text-gray-600 text-xs sm:text-base",children:"Các công nghệ tôi sử dụng trong các dự án"})]}),_.jsx("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-4",children:[{name:"React",icon:"⚛️",color:"blue"},{name:"Node.js",icon:"💚",color:"green"},{name:"PostgreSQL",icon:"🐘",color:"indigo"},{name:"Java",icon:"☕",color:"red"},{name:"Tailwind CSS",icon:"🎨",color:"cyan"},{name:"Unity",icon:"🎮",color:"gray"},{name:"C#",icon:"🔷",color:"purple"},{name:"Git",icon:"🔀",color:"orange"},{name:"Three.js",icon:"🎲",color:"yellow"}].map((E,M)=>_.jsx("div",{className:`group px-3 sm:px-5 py-2 sm:py-3 bg-white rounded-full shadow-md hover:shadow-xl transition-all duration-300 border-2 border-${E.color}-200 hover:border-${E.color}-400 hover:scale-110 cursor-pointer`,children:_.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[_.jsx("span",{className:"text-base sm:text-xl group-hover:scale-125 transition-transform",children:E.icon}),_.jsx("span",{className:"font-semibold text-gray-700 group-hover:text-gray-900 text-xs sm:text-base",children:E.name})]})},M))})]})]})},vZ=()=>{const[n,e]=Y.useState({show:!1,text:"",type:"danger"});return{alert:n,showAlert:({text:a,type:r="danger"})=>e({show:!0,text:a,type:r}),hideAlert:()=>e({show:!1,text:"",type:"danger"})}},xZ=()=>{const{alert:n,showAlert:e}=vZ(),[t,i]=Y.useState({name:"",email:"",message:""}),[a,r]=Y.useState(!1),[l,u]=Yi({threshold:.2}),[m,g]=Yi({threshold:.2}),[v,d]=Yi({threshold:.2}),p=C=>{const{name:w,value:E}=C.target;i({...t,[w]:E})},b=async C=>{if(C.preventDefault(),r(!0),!t.name||!t.email||!t.message){e({show:!0,text:"Vui lòng điền đầy đủ thông tin!",type:"danger"}),r(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)){e({show:!0,text:"Email không hợp lệ!",type:"danger"}),r(!1);return}setTimeout(()=>{r(!1),e({show:!0,text:"Cảm ơn bạn đã liên hệ! Tôi sẽ phản hồi sớm nhất có thể. 🎉",type:"success"}),i({name:"",email:"",message:""})},2e3)};return _.jsxs("section",{className:"max-container relative",children:[n.show&&_.jsx(sL,{...n}),_.jsxs("div",{ref:l,className:`transition-all duration-1000 ${u?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[_.jsxs("h1",{className:"head-text",children:["Liên Hệ"," ",_.jsx("span",{className:"blue-gradient_text font-semibold drop-shadow",children:"📬"})]}),_.jsx("div",{className:"mt-4 sm:mt-5 flex flex-col gap-2 sm:gap-3 text-slate-500",children:_.jsx("p",{className:"text-sm sm:text-base md:text-lg",children:"Bạn có dự án muốn thảo luận? Hay đơn giản chỉ muốn chat về công nghệ? Hãy gửi tin nhắn cho tôi nhé!"})})]}),_.jsxs("div",{className:"mt-8 sm:mt-12 grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-12",children:[_.jsxs("div",{ref:m,className:`bg-white rounded-2xl shadow-xl p-6 sm:p-8 border-2 border-gray-100 transition-all duration-1000 ${g?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[_.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4 sm:mb-6 flex items-center gap-2",children:[_.jsx("span",{children:"✉️"})," Gửi Tin Nhắn"]}),_.jsxs("form",{onSubmit:b,className:"flex flex-col gap-4 sm:gap-6",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"name",className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:"Tên của bạn:"}),_.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:p,placeholder:"Nguyễn Văn A",className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors duration-300",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"email",className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:"Email:"}),_.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:p,placeholder:"example@email.com",className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors duration-300",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"message",className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:"Tin nhắn:"}),_.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:p,placeholder:"Xin chào, tôi muốn...",rows:5,className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors duration-300 resize-none",required:!0})]}),_.jsx("button",{type:"submit",disabled:a,className:`w-full py-3 sm:py-4 rounded-lg font-semibold text-white text-sm sm:text-base transition-all duration-300 ${a?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"}`,children:a?_.jsxs("span",{className:"flex items-center justify-center gap-2",children:[_.jsx("span",{className:"animate-spin",children:"⌛"})," Đang gửi..."]}):_.jsx("span",{className:"flex items-center justify-center gap-2",children:"Gửi Tin Nhắn"})})]})]}),_.jsxs("div",{ref:v,className:`space-y-4 sm:space-y-6 transition-all duration-1000 delay-200 ${d?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[_.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 sm:p-8 border-2 border-blue-100",children:[_.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4 sm:mb-6 flex items-center gap-2",children:[_.jsx("span",{children:"📞"})," Thông Tin Liên Hệ"]}),_.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[_.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[_.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:_.jsx("span",{className:"text-white text-base sm:text-xl",children:"✉️"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-semibold text-gray-900 mb-1 text-sm sm:text-base",children:"Email"}),_.jsx("a",{href:"mailto:dangwork.dev@gmail.com",className:"text-blue-600 hover:text-blue-800 transition-colors text-xs sm:text-base break-all",children:"ledang3916@gmail.com"})]})]}),_.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[_.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:_.jsx("span",{className:"text-white text-base sm:text-xl",children:"📍"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-semibold text-gray-900 mb-1 text-sm sm:text-base",children:"Địa chỉ"}),_.jsx("p",{className:"text-gray-600 text-xs sm:text-base",children:"Thủ Đức, Thành phố Hồ Chí Minh, Việt Nam"})]})]})]})]}),_.jsxs("div",{className:"bg-white rounded-2xl p-6 sm:p-8 border-2 border-gray-100 shadow-lg",children:[_.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-6 flex items-center gap-2",children:[_.jsx("span",{children:"🌐"})," Mạng Xã Hội"]}),_.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[_.jsxs("a",{href:"https://github.com/yourusername",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 sm:gap-3 p-3 sm:p-4 rounded-xl bg-gray-50 hover:bg-gray-100 transition-all duration-300 border-2 border-transparent hover:border-gray-300 group",children:[_.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gray-900 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:_.jsx("svg",{className:"w-4 h-4 sm:w-6 sm:h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})}),_.jsx("span",{className:"font-semibold text-gray-700 group-hover:text-gray-900 text-xs sm:text-base",children:"GitHub"})]}),_.jsxs("a",{href:"https://linkedin.com/in/yourprofile",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 sm:gap-3 p-3 sm:p-4 rounded-xl bg-blue-50 hover:bg-blue-100 transition-all duration-300 border-2 border-transparent hover:border-blue-300 group",children:[_.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:_.jsx("span",{className:"text-white text-sm sm:text-xl font-bold",children:"in"})}),_.jsx("span",{className:"font-semibold text-blue-700 group-hover:text-blue-900 text-xs sm:text-base",children:"LinkedIn"})]}),_.jsxs("a",{href:"https://facebook.com/yourprofile",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 sm:gap-3 p-3 sm:p-4 rounded-xl bg-blue-50 hover:bg-blue-100 transition-all duration-300 border-2 border-transparent hover:border-blue-300 group",children:[_.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-500 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:_.jsx("span",{className:"text-white text-sm sm:text-xl font-bold",children:"f"})}),_.jsx("span",{className:"font-semibold text-blue-700 group-hover:text-blue-900 text-xs sm:text-base",children:"Facebook"})]}),_.jsxs("a",{href:"https://discord.com/users/yourid",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 sm:gap-3 p-3 sm:p-4 rounded-xl bg-indigo-50 hover:bg-indigo-100 transition-all duration-300 border-2 border-transparent hover:border-indigo-300 group",children:[_.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-indigo-600 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:_.jsx("svg",{className:"w-4 h-4 sm:w-6 sm:h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"})})}),_.jsx("span",{className:"font-semibold text-indigo-700 group-hover:text-indigo-900 text-xs sm:text-base",children:"Discord"})]})]})]})]})]})]})},_Z=()=>{const[n,e]=Y.useState("All"),[t,i]=Y.useState(null),[a,r]=Yi({threshold:.2}),[l,u]=Yi({threshold:.2}),[m,g]=Yi({threshold:.1}),[v,d]=Yi({threshold:.1}),p=[{name:"All",icon:"📚",color:"blue"},{name:"Java",icon:"☕",color:"red"},{name:"JavaScript",icon:"⚡",color:"yellow"},{name:"Comparison",icon:"⚖️",color:"purple"}],b=n==="All"?Ih:Ih.filter(w=>w.category===n),C=Ih.filter(w=>w.featured);return t?_.jsxs("section",{className:"max-container",children:[_.jsxs("button",{onClick:()=>i(null),className:"mb-8 flex items-center gap-2 px-4 py-2 text-blue-600 hover:text-white bg-blue-50 hover:bg-blue-600 rounded-lg transition-all duration-300 font-medium",children:[_.jsx("span",{className:"text-xl",children:"←"}),_.jsx("span",{children:"Quay lại danh sách"})]}),_.jsxs("article",{className:"bg-white rounded-2xl shadow-xl p-8 md:p-12 border-2 border-gray-100",children:[_.jsxs("div",{className:"border-b-2 border-gray-200 pb-6 mb-8",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[_.jsxs("span",{className:"text-2xl",children:[t.category==="Java"&&"☕",t.category==="JavaScript"&&"⚡",t.category==="Comparison"&&"⚖️"]}),_.jsx("span",{className:"inline-block px-4 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:t.category}),t.featured&&_.jsx("span",{className:"inline-block px-4 py-1 bg-yellow-100 text-yellow-700 rounded-full text-sm font-medium",children:"⭐ Nổi bật"})]}),_.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:t.title}),_.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 bg-gray-50 p-4 rounded-lg",children:[_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx("span",{className:"text-lg",children:"👤"}),_.jsx("span",{children:t.author})]}),_.jsx("span",{children:"•"}),_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx("span",{className:"text-lg",children:"📅"}),_.jsx("span",{children:t.date})]})]})]}),_.jsx("div",{className:"prose prose-lg max-w-none",children:_.jsx("div",{className:"text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:t.content.split(`
`).map(w=>w.startsWith("### ")?`<h3 class="text-2xl font-bold text-gray-900 mt-8 mb-4">${w.replace("### ","")}</h3>`:w.startsWith("## ")?`<h2 class="text-3xl font-bold text-gray-900 mt-10 mb-6">${w.replace("## ","")}</h2>`:w.startsWith("**")&&w.endsWith("**")?`<p class="font-bold text-gray-900 mt-6 mb-3">${w.replace(/\*\*/g,"")}</p>`:w.match(/^\d+\./)?`<li class="ml-6 my-2">${w.replace(/^\d+\.\s*/,"")}</li>`:w.startsWith("- ")?`<li class="ml-6 my-2">${w.replace("- ","")}</li>`:w.startsWith("```")?w.includes("java")?'<pre class="bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto my-4"><code>':w.includes("javascript")?'<pre class="bg-gray-900 text-yellow-300 p-4 rounded-lg overflow-x-auto my-4"><code>':w==="```"?"</code></pre>":"":w.trim()&&!w.startsWith("|")?`<p class="my-4 leading-relaxed">${w}</p>`:w).join("")}})}),_.jsxs("div",{className:"mt-12 pt-8 border-t-2 border-gray-200",children:[_.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[_.jsx("span",{children:"📢"})," Chia sẻ bài viết"]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"📘 Facebook"}),_.jsx("button",{className:"px-4 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition-colors",children:"🐦 Twitter"}),_.jsx("button",{className:"px-4 py-2 bg-blue-700 text-white rounded-lg hover:bg-blue-800 transition-colors",children:"💼 LinkedIn"})]})]})]})]}):_.jsxs("section",{className:"max-container",children:[_.jsxs("div",{ref:a,className:`relative transition-all duration-1000 ${r?"opacity-100":"opacity-0"}`,children:[_.jsxs("h1",{className:"head-text",children:["Blog Công Nghệ"," ",_.jsx("span",{className:"blue-gradient_text font-semibold drop-shadow animate-pulse",children:"📝"})]}),_.jsx("div",{className:"absolute -top-10 right-0 text-8xl opacity-5 pointer-events-none",children:"💡"})]}),_.jsx("div",{className:`mt-5 flex flex-col gap-3 text-slate-500 transition-all duration-1000 ${r?"opacity-100":"opacity-0"}`,children:_.jsx("p",{className:"text-lg",children:"Chia sẻ kiến thức về lập trình, công nghệ và kinh nghiệm học tập. Từ Java, JavaScript và C# đến các so sánh chuyên sâu giữa các công nghệ."})}),_.jsx("div",{ref:l,className:`mt-12 flex flex-wrap gap-4 justify-center transition-all duration-1000 ${u?"opacity-100":"opacity-0"}`,children:p.map(w=>_.jsx("button",{onClick:()=>e(w.name),className:`group relative px-6 py-3 rounded-2xl font-semibold transition-all duration-300 ease-out ${n===w.name?`bg-gradient-to-r from-${w.color}-600 to-${w.color}-500 text-white shadow-xl scale-105`:"bg-white text-gray-700 hover:bg-gray-50 shadow-md hover:shadow-lg hover:scale-105"} border-2 ${n===w.name?"border-transparent":`border-gray-200 hover:border-${w.color}-300`}`,children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-xl",children:w.icon}),_.jsx("span",{children:w.name}),w.name!=="All"&&_.jsx("span",{className:`ml-1 px-2 py-0.5 rounded-full text-xs font-bold ${n===w.name?"bg-white/20 text-white":`bg-${w.color}-100 text-${w.color}-600 group-hover:bg-${w.color}-200`}`,children:Ih.filter(E=>E.category===w.name).length})]})},w.name))}),_.jsx("div",{className:"mt-8 text-center",children:_.jsxs("div",{className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-50 to-purple-50 rounded-full border-2 border-blue-200",children:[_.jsx("span",{className:"text-2xl",children:"📖"}),_.jsxs("span",{className:"text-gray-700 font-medium",children:["Hiển thị"," ",_.jsx("span",{className:"text-blue-600 font-bold",children:b.length})," ","bài viết",n!=="All"&&_.jsxs("span",{className:"text-gray-500",children:[" ","về"," ",_.jsx("span",{className:"text-purple-600 font-semibold",children:n})]})]})]})}),n==="All"&&_.jsxs("div",{ref:m,className:"mt-16",children:[_.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-8 flex items-center gap-3",children:[_.jsx("span",{className:"text-4xl",children:"⭐"}),_.jsx("span",{children:"Bài Viết Nổi Bật"})]}),_.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:C.map((w,E)=>_.jsxs("div",{onClick:()=>i(w),className:`group cursor-pointer bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl border-2 border-blue-200 hover:border-blue-400 hover:-translate-y-2 transition-all duration-300 ease-out ${g?"opacity-100 translate-x-0":E%2===0?"opacity-0 -translate-x-20":"opacity-0 translate-x-20"}`,style:{transitionDelay:g?`${E*150}ms`:"0ms",transitionDuration:g?"800ms":"300ms"},children:[_.jsxs("div",{className:"absolute top-4 right-4 z-10 bg-yellow-400 text-yellow-900 px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1 shadow-lg",children:[_.jsx("span",{children:"⭐"}),_.jsx("span",{children:"Featured"})]}),_.jsxs("div",{className:"p-6 relative",children:[_.jsxs("div",{className:"absolute top-0 right-0 text-8xl opacity-5",children:[w.category==="Java",w.category==="JavaScript",w.category==="Comparison"]}),_.jsxs("div",{className:"relative z-10",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[_.jsxs("span",{className:"text-2xl",children:[w.category==="Java",w.category==="JavaScript",w.category==="Comparison"]}),_.jsx("span",{className:"inline-block px-3 py-1 bg-blue-600 text-white rounded-full text-xs font-semibold",children:w.category})]}),_.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 group-hover:text-blue-600 transition-colors duration-200",children:w.title}),_.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:w.excerpt}),_.jsx("div",{className:"flex items-center text-xs text-gray-500 pt-4 border-t border-blue-200",children:_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx("span",{children:"📅"})," ",w.date]})})]})]})]},w.id))})]}),_.jsxs("div",{ref:v,className:"mt-16",children:[_.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-8 flex items-center gap-3",children:[_.jsx("span",{className:"text-4xl",children:"📚"}),_.jsx("span",{children:n==="All"?"Tất Cả Bài Viết":`Bài Viết ${n}`})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map((w,E)=>_.jsxs("div",{onClick:()=>i(w),className:`group cursor-pointer bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl border-2 hover:border-blue-300 hover:-translate-y-1 transition-all duration-300 ease-out ${w.category==="Java"?"border-red-200":w.category==="JavaScript"?"border-yellow-200":"border-purple-200"} ${d?"opacity-100 translate-x-0":E%2===0?"opacity-0 -translate-x-20":"opacity-0 translate-x-20"}`,style:{transitionDelay:d?`${E*100}ms`:"0ms",transitionDuration:d?"800ms":"300ms"},children:[_.jsx("div",{className:`h-2 ${w.category==="Java"?"bg-gradient-to-r from-red-500 to-orange-500":w.category==="JavaScript"?"bg-gradient-to-r from-yellow-400 to-orange-400":"bg-gradient-to-r from-purple-500 to-pink-500"}`}),_.jsxs("div",{className:"p-6 relative",children:[_.jsxs("div",{className:"absolute top-0 right-0 text-6xl opacity-5 group-hover:opacity-10 transition-opacity",children:[w.category==="Java",w.category==="JavaScript",w.category==="Comparison"]}),_.jsxs("div",{className:"relative z-10",children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("span",{className:"text-xl",children:[w.category==="Java",w.category==="JavaScript",w.category==="Comparison"]}),_.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold transition-colors duration-200 ${w.category==="Java"?"bg-red-100 text-red-700":w.category==="JavaScript"?"bg-yellow-100 text-yellow-700":"bg-purple-100 text-purple-700"}`,children:w.category})]}),w.featured&&_.jsx("span",{className:"text-xl",children:"⭐"})]}),_.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3 group-hover:text-blue-600 transition-colors duration-200 line-clamp-2",children:w.title}),_.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:w.excerpt}),_.jsx("div",{className:"flex items-center text-xs text-gray-500 pt-4 border-t border-gray-100",children:_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx("span",{children:"📅"})," ",w.date]})})]})]})]},w.id))})]}),_.jsxs("div",{className:"mt-20",children:[_.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center flex items-center justify-center gap-2",children:[_.jsx("span",{className:"text-3xl",children:"📊"}),_.jsx("span",{children:"Thống Kê Blog"})]}),_.jsxs("div",{className:"flex flex-wrap justify-center gap-8",children:[_.jsxs("div",{className:"relative group bg-gradient-to-br from-red-50 to-orange-50 w-52 h-52 rounded-full text-center border-4 border-red-100 hover:border-red-300 transition-all duration-300 ease-out hover:shadow-2xl cursor-pointer overflow-hidden flex items-center justify-center hover:scale-105",children:[_.jsx("div",{className:"absolute inset-0 opacity-5 group-hover:opacity-10 transition-opacity duration-300 flex items-center justify-center"}),_.jsxs("div",{className:"relative z-10",children:[_.jsx("div",{className:"text-6xl font-bold text-red-600 mb-1 group-hover:scale-105 transition-transform duration-300",children:Ih.filter(w=>w.category==="Java").length}),_.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:"Bài viết Java"})]})]}),_.jsxs("div",{className:"relative group bg-gradient-to-br from-yellow-50 to-orange-50 w-52 h-52 rounded-full text-center border-4 border-yellow-100 hover:border-yellow-300 transition-all duration-300 ease-out hover:shadow-2xl cursor-pointer overflow-hidden flex items-center justify-center hover:scale-105",children:[_.jsx("div",{className:"absolute inset-0 opacity-5 group-hover:opacity-10 transition-opacity duration-300 flex items-center justify-center"}),_.jsxs("div",{className:"relative z-10",children:[_.jsx("div",{className:"text-6xl font-bold text-yellow-600 mb-1 group-hover:scale-105 transition-transform duration-300",children:Ih.filter(w=>w.category==="JavaScript").length}),_.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:"Bài viết JavaScript"})]})]}),_.jsxs("div",{className:"relative group bg-gradient-to-br from-purple-50 to-pink-50 w-52 h-52 rounded-full text-center border-4 border-purple-100 hover:border-purple-300 transition-all duration-300 ease-out hover:shadow-2xl cursor-pointer overflow-hidden flex items-center justify-center hover:scale-105",children:[_.jsx("div",{className:"absolute inset-0 opacity-5 group-hover:opacity-10 transition-opacity duration-300 flex items-center justify-center"}),_.jsxs("div",{className:"relative z-10",children:[_.jsx("div",{className:"text-6xl font-bold text-purple-600 mb-1 group-hover:scale-105 transition-transform duration-300",children:Ih.filter(w=>w.category==="Comparison").length}),_.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:"Bài so sánh"})]})]}),_.jsxs("div",{className:"relative group bg-gradient-to-br from-blue-50 to-cyan-50 w-52 h-52 rounded-full text-center border-4 border-blue-100 hover:border-blue-300 transition-all duration-300 ease-out hover:shadow-2xl cursor-pointer overflow-hidden flex items-center justify-center hover:scale-105",children:[_.jsx("div",{className:"absolute inset-0 opacity-5 group-hover:opacity-10 transition-opacity duration-300 flex items-center justify-center"}),_.jsxs("div",{className:"relative z-10",children:[_.jsx("div",{className:"text-6xl font-bold text-blue-600 mb-1 group-hover:scale-105 transition-transform duration-300",children:C.length}),_.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:"Bài nổi bật"})]})]})]})]})]})};function bZ(){const n=sc(),e=n.pathname==="/home";return _.jsxs(_.Fragment,{children:[_.jsx(CD,{mode:"wait",children:_.jsxs(W6,{location:n,children:[_.jsx(Bh,{path:"/",element:_.jsx(V6,{to:"/home",replace:!0})}),_.jsx(Bh,{path:"/home",element:_.jsx(yp,{children:_.jsx(pZ,{})})}),_.jsx(Bh,{path:"/about",element:_.jsx(yp,{children:_.jsx(gZ,{})})}),_.jsx(Bh,{path:"/projects",element:_.jsx(yp,{children:_.jsx(yZ,{})})}),_.jsx(Bh,{path:"/blog",element:_.jsx(yp,{children:_.jsx(_Z,{})})}),_.jsx(Bh,{path:"/contact",element:_.jsx(yp,{children:_.jsx(xZ,{})})})]},n.pathname)}),!e&&_.jsx(uW,{})]})}const AZ=()=>_.jsxs("main",{className:"bg-slate-300/20 min-h-screen",children:[_.jsx(Vk,{}),_.jsx(bZ,{}),_.jsx(fW,{})]});s4.createRoot(document.getElementById("root")).render(_.jsx(Y.StrictMode,{children:_.jsx(mB,{children:_.jsx(AZ,{})})}));
